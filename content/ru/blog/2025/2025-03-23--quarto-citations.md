---
title: "Quarto. Цитирование"
author: ["Dmitry S. Kulyabov"]
date: 2025-03-23T20:29:00+03:00
lastmod: 2025-03-28T21:35:00+03:00
draft: false
slug: "quarto-citations"
---

Quarto. Цитирование.

<!--more-->

{{< toc >}}


## <span class="section-num">1</span> Общая информация {#общая-информация}

-   Quarto использует pandoc для автоматического создания цитат и библиографии.
-   При использовании `format: typst` по умолчанию обработка цитирования выполняется typst.
-   Необходимо предоставить:
    -   документ quarto с цитированием;
    -   источник библиографических данных, например файлы BibLaTeX (`.bib`) или BibTeX (`.bibtex`);
    -   опционально файл `CSL`, определяющий оформление цитат (если не используется `natbib` или `biblatex` для создания библиографии).


## <span class="section-num">2</span> Библиографические файлы {#библиографические-файлы}

-   Quarto поддерживает файлы библиографии в самых разных форматах, включая BibLaTeX и CSL.
-   Добавьте библиографию в свой документ с помощью поля `bibliography`:
    ```yaml
    ---
    title: "My Document"
    bibliography: references.bib
    ---
    ```

-   При желании можно предоставить более одного файла библиографии, задав `bibliography` как массив.


## <span class="section-num">3</span> Синтаксис цитирования {#синтаксис-цитирования}

-   Quarto использует стандартное представление pandoc markdown для цитат (например, `[@citation]`).
-   Цитаты заключаются в квадратные скобки и разделяются точкой с запятой.
-   Каждая цитата должна иметь ключ, состоящий из `@` + идентификатор цитаты из базы данных, и может опционально иметь префикс, локатор и суффикс.
-   Ключ цитаты должен начинаться с буквы, цифры или `_`, и может содержать буквенно-цифровые символы, `_`, и внутренние знаки пунктуации ( `:.#$%&-+?<>~/` ).


## <span class="section-num">4</span> Стиль цитирования {#стиль-цитирования}

-   Quarto использует Pandoc для форматирования цитат и библиографий.
-   Чтобы предоставить пользовательскую таблицу стилей цитат, укажите путь к файлу CSL с помощью поля `csl` метаданных:
    ```yaml
    ---
    title: "My Document"
    bibliography: references.bib
    csl: nature.csl
    ---
    ```
-   Использование стиля `CSL` возможно только тогда, когда `cite-method` является `citeproc` (значение по умолчанию).
-   Если вы используете другой `cite-method` , вы можете управлять форматированием ссылок, используя механизм, предоставляемый этим методом.


## <span class="section-num">5</span> Генерация библиографии {#генерация-библиографии}

-   По умолчанию Pandoc автоматически сгенерирует список цитируемых работ и поместит его в документ, если стиль требует этого.
-   Он будет помещён в `div` с идентификатором `refs` (если таковой существует):
    ```markdown
    ### References

    ::: {#refs}
    :::
    ```

-   Если такой `div` не найден, список цитируемых работ будет помещён в конец документа.
-   Можно отключить создание библиографии, включив опцию `suppress-bibliography: true` в метаданных документа.


## <span class="section-num">6</span> Включение нецитированных элементов {#включение-нецитированных-элементов}

-   Для включения в библиографию источников без ссылки на них в основном тексте, можно определить фиктивный элемент `nocite` в поле метаданных и поместите туда цитаты:
    ```markdown
    ---
    nocite: |
      @item1, @item2
    ---

    @item3
    ```

-   В этом примере документ будет содержать ссылку только на `item3`, но библиография будет содержать записи для `item1`, `item2`, и `item3`.
-   Можно создать библиографию со всеми цитатами, независимо от того, встречаются они в документе или нет:
    ```markdown
    ---
    nocite: |
      @*
    ---
    ```


## <span class="section-num">7</span> LaTeX: использование BibLaTeX или natbib {#latex-использование-biblatex-или-natbib}

-   Бэкенд можно задать с помощью `cite-method`:
    ```yaml
    format:
      pdf:
        cite-method: biblatex
    ```

-   По умолчанию используется `citeproc`.


### <span class="section-num">7.1</span> Параметры {#параметры}

-   При использовании natbib или biblatex вы можете указать следующие дополнительные параметры, влияющие на способ отображения библиографий:

| Вариант           | Описание                  |
|-------------------|---------------------------|
| `biblatexoptions` | Список опций для biblatex |
| `natbiboptions`   | Список опций для natbib   |
| `biblio-title`    | Название библиографии     |
| `biblio-style`    | Стиль для библиографии    |


## <span class="section-num">8</span> Typst {#typst}

-   Typst поставляется с собственной системой обработки цитирований для библиографий.
-   По умолчанию используется `format: typst`.
-   Чтобы указать стиль библиографии с помощью системы typst, используйте `bibliographystyle=option`:
    ```yaml
    bibliography: refs.bib
    bibliographystyle: apa
    ```
-   Или укажите путь к локальному файлу csl:
    ```yaml
    bibliography: refs.bib
    bibliographystyle: my-csl-style.csl
    ```
-   Если вы предпочитаете использовать обработку цитирования pandoc, установите `citeproc: true` явно:
    ```yaml
    citeproc: true
    bibliography: refs.bib
    csl: https://www.zotero.org/styles/apa-with-abstract
    ```
