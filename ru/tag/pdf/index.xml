<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Pdf | Д. С. Кулябов</title><link>https://yamadharma.github.io/ru/tag/pdf/</link><atom:link href="https://yamadharma.github.io/ru/tag/pdf/index.xml" rel="self" type="application/rss+xml"/><description>Pdf</description><generator>Hugo Blox Builder (https://hugoblox.com)</generator><language>ru-ru</language><copyright>© 2024 Dmitry S. Kulyabov</copyright><lastBuildDate>Fri, 21 Jun 2024 20:36:00 +0300</lastBuildDate><image><url>https://yamadharma.github.io/media/icon_hu0a661dd90139895e92e2f18ae9404407_611148_512x512_fill_lanczos_center_3.png</url><title>Pdf</title><link>https://yamadharma.github.io/ru/tag/pdf/</link></image><item><title>Pdf. Оглавление. pdf.tocgen</title><link>https://yamadharma.github.io/ru/post/2024/06/21/pdf-toc-pdf-tocgen/</link><pubDate>Fri, 21 Jun 2024 20:36:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/06/21/pdf-toc-pdf-tocgen/</guid><description>&lt;p>Pdf. Оглавление. pdf.tocgen.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#установка">&lt;span class="section-num">2&lt;/span> Установка&lt;/a>&lt;/li>
&lt;li>&lt;a href="#рабочий-процесс">&lt;span class="section-num">3&lt;/span> Рабочий процесс&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/Krasjet/pdf.tocgen" target="_blank" rel="noopener">https://github.com/Krasjet/pdf.tocgen&lt;/a>&lt;/li>
&lt;li>Сайт: &lt;a href="https://krasjet.com/voice/pdf.tocgen/" target="_blank" rel="noopener">https://krasjet.com/voice/pdf.tocgen/&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="установка">&lt;span class="section-num">2&lt;/span> Установка&lt;/h2>
&lt;ul>
&lt;li>Устанавливается как python-пакет:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">pip install -U --user pdf.tocgen
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="рабочий-процесс">&lt;span class="section-num">3&lt;/span> Рабочий процесс&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>Пакет pdf.tocgen состоит из 3 отдельных программ:&lt;/p>
&lt;ul>
&lt;li>&lt;code>pdfxmeta&lt;/code> : извлечь метаданные (атрибуты шрифта, позиции) заголовков в создать файл рецепта;&lt;/li>
&lt;li>&lt;code>pdftocgen&lt;/code> : создать оглавление из рецепта;&lt;/li>
&lt;li>&lt;code>pdftocio&lt;/code> : импортировать оглавление в документ PDF.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Используем &lt;code>pdfxmeta&lt;/code> для поиска метаданных заголовков и генерации фильтры заголовков с использованием автоматической настройки:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">pdfxmeta -p &amp;lt;page&amp;gt; -a &lt;span class="m">1&lt;/span> in.pdf &lt;span class="s2">&amp;#34;Section&amp;#34;&lt;/span> &amp;gt;&amp;gt; recipe.toml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pdfxmeta -p &amp;lt;page&amp;gt; -a &lt;span class="m">2&lt;/span> in.pdf &lt;span class="s2">&amp;#34;Subsection&amp;#34;&lt;/span> &amp;gt;&amp;gt; recipe.toml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Здесь &lt;code>&amp;lt;page&amp;gt;&lt;/code> есть номер страницы в файле.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Файл &lt;code>recipe.toml&lt;/code> будет содержать несколько фильтров заголовков.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Пример файла рецепта будет выглядеть так:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[[&lt;/span>&lt;span class="nx">heading&lt;/span>&lt;span class="p">]]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">level&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">greedy&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">font&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;Times-Bold&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">font&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">size&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mf">19.92530059814453&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[[&lt;/span>&lt;span class="nx">heading&lt;/span>&lt;span class="p">]]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">level&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">greedy&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">font&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;Times-Bold&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">font&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">size&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mf">11.9552001953125&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Передадим рецепт программе &lt;code>pdftocgen&lt;/code> для создания оглавления:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">pdftocgen in.pdf &amp;lt; recipe.toml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>В результате получим текст оглавления следующего вида:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;#34;Preface&amp;#34; 5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;Bottom-up Design&amp;#34; 5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;Plan of the Book&amp;#34; 7
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;Examples&amp;#34; 9
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;Acknowledgements&amp;#34; 9
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34;Contents&amp;#34; 11
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34;The Extensible Language&amp;#34; 14
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;1.1 Design by Evolution&amp;#34; 14
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;1.2 Programming Bottom-Up&amp;#34; 16
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;1.3 Extensible Software&amp;#34; 18
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;1.4 Extending Lisp&amp;#34; 19
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;1.5 Why Lisp (or When)&amp;#34; 21
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34;Functions&amp;#34; 22
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;2.1 Functions as Data&amp;#34; 22
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;2.2 Defining Functions&amp;#34; 23
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;2.3 Functional Arguments&amp;#34; 26
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;2.4 Functions as Properties&amp;#34; 28
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;2.5 Scope&amp;#34; 29
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;2.6 Closures&amp;#34; 30
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;2.7 Local Functions&amp;#34; 34
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;2.8 Tail-Recursion&amp;#34; 35
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;2.9 Compilation&amp;#34; 37
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;2.10 Functions from Lists&amp;#34; 40
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34;Functional Programming&amp;#34; 41
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;3.1 Functional Design&amp;#34; 41
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;3.2 Imperative Outside-In&amp;#34; 46
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;3.3 Functional Interfaces&amp;#34; 48
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;3.4 Interactive Programming&amp;#34; 50
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Его можно сразу импортировать в файл PDF с помощью &lt;code>pdftocio&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ pdftocgen in.pdf &amp;lt; recipe.toml &lt;span class="p">|&lt;/span> pdftocio -o out.pdf in.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Можно отредактировать оглавление перед его импортом:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">pdftocgen in.pdf &amp;lt; recipe.toml &amp;gt; toc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pdftocio in.pdf &amp;lt; toc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Pdf. Оглавление. pdf-toc</title><link>https://yamadharma.github.io/ru/post/2024/06/21/pdf-toc-pdf-toc/</link><pubDate>Fri, 21 Jun 2024 20:20:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/06/21/pdf-toc-pdf-toc/</guid><description>&lt;p>Pdf. Оглавление. pdf-toc.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#форматы-файлов-оглавления">&lt;span class="section-num">2&lt;/span> Форматы файлов оглавления&lt;/a>&lt;/li>
&lt;li>&lt;a href="#установка">&lt;span class="section-num">3&lt;/span> Установка&lt;/a>&lt;/li>
&lt;li>&lt;a href="#примеры-применения">&lt;span class="section-num">4&lt;/span> Примеры применения&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/HareInWeed/pdf-toc" target="_blank" rel="noopener">https://github.com/HareInWeed/pdf-toc&lt;/a>&lt;/li>
&lt;li>Позволяет считывать отравление из pdf-файла и записывать оглавление в pdf-файл.&lt;/li>
&lt;/ul>
&lt;h2 id="форматы-файлов-оглавления">&lt;span class="section-num">2&lt;/span> Форматы файлов оглавления&lt;/h2>
&lt;ul>
&lt;li>Поддерживаются два типа файлов toc.&lt;/li>
&lt;li>Формат json, который в основном соответствует спецификации PyMuPDF.&lt;/li>
&lt;li>Локально определённый формат на основе markdown.&lt;/li>
&lt;/ul>
&lt;h2 id="установка">&lt;span class="section-num">3&lt;/span> Установка&lt;/h2>
&lt;ul>
&lt;li>Устанавливается как приложение python:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">pip --user install pdf-toc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="примеры-применения">&lt;span class="section-num">4&lt;/span> Примеры применения&lt;/h2>
&lt;ul>
&lt;li>Показать содержание файла pdf в формате toc:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">pdf-toc --show-toc toc file.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Создайте новый pdf-файл на основе файла &lt;code>file.pdf&lt;/code> и оглавления toc из toc.txt:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">pdf-toc -t toc.txt -d new-file.pdf file.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Заменить оглавление файла &lt;code>file.pdf&lt;/code> на содержание из toc.txt:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">pdf-toc -m -t toc.txt file.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Распознавание pdf. OCRmyPDF</title><link>https://yamadharma.github.io/ru/post/2024/06/07/pdf-ocr-ocrmypdf/</link><pubDate>Fri, 07 Jun 2024 21:07:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/06/07/pdf-ocr-ocrmypdf/</guid><description>&lt;p>Распознавание pdf. OCRmyPDF&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#примеры-использования">&lt;span class="section-num">2&lt;/span> Примеры использования&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/ocrmypdf/OCRmyPDF" target="_blank" rel="noopener">https://github.com/ocrmypdf/OCRmyPDF&lt;/a>&lt;/li>
&lt;li>Сайт: &lt;a href="https://ocrmypdf.readthedocs.io/" target="_blank" rel="noopener">https://ocrmypdf.readthedocs.io/&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="примеры-использования">&lt;span class="section-num">2&lt;/span> Примеры использования&lt;/h2>
&lt;ul>
&lt;li>Список языков для распознавания:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">tesseract --list-langs
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Преобразовать сканированный файл в файл PDF/A с распознаванием русского и английского языков:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">ocrmypdf -l rus+eng input.pdf output.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Заменить отсканированный PDF-файл PDF/A-файлом:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">ocrmypdf input.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Пропустить страницы входного PDF-файла смешанного формата, которые уже содержат текст:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">ocrmypdf --skip-text input.pdf output.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Очистите, исправьте перекос и поверните плохо отсканированные страницы:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">ocrmypdf --clean --deskew --rotate-pages input.pdf output.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Задать метаданные PDF-файла:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">ocrmypdf --title &lt;span class="s2">&amp;#34;{{title}}&amp;#34;&lt;/span> --author &lt;span class="s2">&amp;#34;{{author}}&amp;#34;&lt;/span> --subject &lt;span class="s2">&amp;#34;{{subject}}&amp;#34;&lt;/span> --keywords &lt;span class="s2">&amp;#34;{{keyword; key phrase; ...}}&amp;#34;&lt;/span> input_file.pdf output.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Примеры команд для обработки pdf</title><link>https://yamadharma.github.io/ru/post/2024/04/28/examples-pdf-processing-commands/</link><pubDate>Sun, 28 Apr 2024 18:02:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/04/28/examples-pdf-processing-commands/</guid><description>&lt;p>Примеры команд для обработки pdf.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#создание-pdf-файла-из-изображений">&lt;span class="section-num">1&lt;/span> Создание PDF-файла из изображений&lt;/a>&lt;/li>
&lt;li>&lt;a href="#объединение-pdf-файлов">&lt;span class="section-num">2&lt;/span> Объединение PDF-файлов&lt;/a>&lt;/li>
&lt;li>&lt;a href="#извлечь-текст-из-pdf">&lt;span class="section-num">3&lt;/span> Извлечь текст из PDF&lt;/a>&lt;/li>
&lt;li>&lt;a href="#зашифровать-pdf-файл">&lt;span class="section-num">4&lt;/span> Зашифровать PDF-файл&lt;/a>&lt;/li>
&lt;li>&lt;a href="#извлечение-изображений-из-pdf-файла">&lt;span class="section-num">5&lt;/span> Извлечение изображений из PDF-файла&lt;/a>&lt;/li>
&lt;li>&lt;a href="#извлечение-диапазона-страниц-из-pdf-разделение-многостраничного-pdf-документа">&lt;span class="section-num">6&lt;/span> Извлечение диапазона страниц из PDF, разделение многостраничного PDF-документа&lt;/a>&lt;/li>
&lt;li>&lt;a href="#наложить-pdf--nup">&lt;span class="section-num">7&lt;/span> Наложить PDF (nup)&lt;/a>&lt;/li>
&lt;li>&lt;a href="#проверка-метаданных">&lt;span class="section-num">8&lt;/span> Проверка метаданных&lt;/a>&lt;/li>
&lt;li>&lt;a href="#уменьшить-размер-pdf-файла--сжатие">&lt;span class="section-num">9&lt;/span> Уменьшить размер pdf-файла (сжатие)&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#ghostscript">&lt;span class="section-num">9.1&lt;/span> Ghostscript&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#уменьшить-размер-pdf-файла--оптимизация">&lt;span class="section-num">10&lt;/span> Уменьшить размер pdf-файла (оптимизация)&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#qpdf">&lt;span class="section-num">10.1&lt;/span> qpdf&lt;/a>&lt;/li>
&lt;li>&lt;a href="#exiftool">&lt;span class="section-num">10.2&lt;/span> exiftool&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#растеризовать-pdf-файл">&lt;span class="section-num">11&lt;/span> Растеризовать PDF-файл&lt;/a>&lt;/li>
&lt;li>&lt;a href="#добавить-цифровую-подпись-в-pdf">&lt;span class="section-num">12&lt;/span> Добавить цифровую подпись в PDF&lt;/a>&lt;/li>
&lt;li>&lt;a href="#аннотации">&lt;span class="section-num">13&lt;/span> Аннотации&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#удаление-аннотаций-из-pdf-файла">&lt;span class="section-num">13.1&lt;/span> Удаление аннотаций из PDF-файла&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#pdftk">&lt;span class="section-num">13.1.1&lt;/span> pdftk&lt;/a>&lt;/li>
&lt;li>&lt;a href="#perl-cam-pdf">&lt;span class="section-num">13.1.2&lt;/span> perl-cam-pdf&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#добавьте-номера-страниц">&lt;span class="section-num">14&lt;/span> Добавьте номера страниц&lt;/a>&lt;/li>
&lt;li>&lt;a href="#добавить-метки-страниц">&lt;span class="section-num">15&lt;/span> Добавить метки страниц&lt;/a>&lt;/li>
&lt;li>&lt;a href="#закладки">&lt;span class="section-num">16&lt;/span> Закладки&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#извлечь-закладки">&lt;span class="section-num">16.1&lt;/span> Извлечь закладки&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#pdftk">&lt;span class="section-num">16.1.1&lt;/span> pdftk&lt;/a>&lt;/li>
&lt;li>&lt;a href="#qpdf">&lt;span class="section-num">16.1.2&lt;/span> qpdf&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#добавить-закладки">&lt;span class="section-num">16.2&lt;/span> Добавить закладки&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#шрифты">&lt;span class="section-num">17&lt;/span> Шрифты&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#шрифты-используемые-в-pdf-файле">&lt;span class="section-num">17.1&lt;/span> Шрифты, используемые в PDF-файле&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#poppler">&lt;span class="section-num">17.1.1&lt;/span> poppler&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#восстановить-повреждённый-pdf-файл">&lt;span class="section-num">18&lt;/span> Восстановить повреждённый PDF-файл&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#ghostscript">&lt;span class="section-num">18.1&lt;/span> ghostscript&lt;/a>&lt;/li>
&lt;li>&lt;a href="#poppler">&lt;span class="section-num">18.2&lt;/span> poppler&lt;/a>&lt;/li>
&lt;li>&lt;a href="#mupdf">&lt;span class="section-num">18.3&lt;/span> mupdf&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#стандарт-pdf-a">&lt;span class="section-num">19&lt;/span> Стандарт PDF/A&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#преобразование-pdf-в-стандарт-pdf-a">&lt;span class="section-num">19.1&lt;/span> Преобразование PDF в стандарт PDF/A&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#ghostscript">&lt;span class="section-num">19.1.1&lt;/span> ghostscript&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#проверка-соответствия-pdf-a">&lt;span class="section-num">19.2&lt;/span> Проверка соответствия PDF/A&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#verapdf">&lt;span class="section-num">19.2.1&lt;/span> verapdf&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="создание-pdf-файла-из-изображений">&lt;span class="section-num">1&lt;/span> Создание PDF-файла из изображений&lt;/h2>
&lt;p>С помощью GraphicsMagick :&lt;/p>
&lt;p>$ GM Convert 1.jpg 2.jpg 3.jpg out.pdf
С помощью ImageMagick :&lt;/p>
&lt;p>$ Magick Convert 1.jpg 2.jpg 3.jpg out.pdf
Обратите внимание, что вывод ImageMagick имеет потери. Для создания PDF-файла без потерь из JPEG используйте img2pdf .&lt;/p>
&lt;h2 id="объединение-pdf-файлов">&lt;span class="section-num">2&lt;/span> Объединение PDF-файлов&lt;/h2>
&lt;p>С помощью Ghostscript:&lt;/p>
&lt;p>$ gs -dNOPAUSE -sDEVICE=pdfwrite -sOUTPUTFILE=out.pdf -dBATCH 1.pdf 2.pdf 3.pdf
С PDFtk:&lt;/p>
&lt;p>$ pdftk 1.pdf 2.pdf 3.pdf вывод кота.pdf
С Попплером:&lt;/p>
&lt;p>$ pdfunite 1.pdf 2.pdf 3.pdf out.pdf
С QPDF:&lt;/p>
&lt;p>$ qpdf &amp;ndash;empty &amp;ndash;pages 1.pdf 2.pdf 3.pdf &amp;ndash; out.pdf&lt;/p>
&lt;h2 id="извлечь-текст-из-pdf">&lt;span class="section-num">3&lt;/span> Извлечь текст из PDF&lt;/h2>
&lt;p>С помощью Poppler и сохранением макета:&lt;/p>
&lt;p>$ pdftotext -макет в.pdf out.txt
См. также pdftotext(1) .&lt;/p>
&lt;p>С калибром :&lt;/p>
&lt;p>$ ebook-convert in.pdf out.txt
Результаты различаются в зависимости от приложения и от PDF-файла.&lt;/p>
&lt;p>Расшифровать PDF-файл
В этом разделе перечислены команды для расшифровки PDF-файла в незашифрованный файл. Обратите внимание, что большинство программ просмотра PDF также поддерживают зашифрованные PDF-файлы.&lt;/p>
&lt;p>С PDFtk:&lt;/p>
&lt;p>$ pdftk in.pdf input_pw вывод пароля out.pdf
С помощью Poppler в PostScript:&lt;/p>
&lt;p>$ pdftops -upw пароль in.pdf out.ps
С QPDF:&lt;/p>
&lt;p>$ qpdf &amp;ndash;decrypt &amp;ndash;password= пароль in.pdf out.pdf
Совет: Забытые пароли можно восстановить с помощью pdfcrack , см. pdfcrack(1) .&lt;/p>
&lt;h2 id="зашифровать-pdf-файл">&lt;span class="section-num">4&lt;/span> Зашифровать PDF-файл&lt;/h2>
&lt;p>Пароль пользователя используется для шифрования, пароль владельца — для ограничения операций после расшифровки документа. Дополнительную информацию см. в Википедии:PDF#Шифрование и подписи .&lt;/p>
&lt;p>С PDFtk:&lt;/p>
&lt;p>$ pdftk in.pdf вывод out.pdf user_pw пароль
С ПоДоФо :&lt;/p>
&lt;p>$ podofoencrypt -u пароль_пользователя -o пароль_владельца in.pdf out.pdf
С QPDF:&lt;/p>
&lt;p>$ qpdf &amp;ndash;encrypt user_password владелец_пароль длина_ключа &amp;ndash; in.pdf out.pdf
где key_lengthможет быть 40, 128 или 256.&lt;/p>
&lt;h2 id="извлечение-изображений-из-pdf-файла">&lt;span class="section-num">5&lt;/span> Извлечение изображений из PDF-файла&lt;/h2>
&lt;p>С помощью poppler сохранение изображений в формате JPEG:&lt;/p>
&lt;p>$ pdfimages infile .pdf -j outfileroot&lt;/p>
&lt;h2 id="извлечение-диапазона-страниц-из-pdf-разделение-многостраничного-pdf-документа">&lt;span class="section-num">6&lt;/span> Извлечение диапазона страниц из PDF, разделение многостраничного PDF-документа&lt;/h2>
&lt;p>С Ghostscript в виде одного файла [6]&lt;/p>
&lt;p>$ gs -sDEVICE=pdfwrite -dNOPAUSE -dBATCH -dSAFER -dFirstPage= первый -dLastPage= последний -sOutputFile= выходной файл .pdf входящий файл .pdf
С PDFtk как одним файлом:&lt;/p>
&lt;p>$ pdftk infile .pdf cat первый — последний выходной файл .pdf
С Poppler в виде отдельных файлов:&lt;/p>
&lt;p>$ pdfseparate -f первый -l последний infile .pdf outfileroot -%d.pdf
Если QPDF представляет собой один файл:&lt;/p>
&lt;p>$ qpdf &amp;ndash;empty &amp;ndash;pages infile .pdf первый - последний &amp;ndash; исходящий файл .pdf
С mutool в виде одного файла:&lt;/p>
&lt;p>$ mutool clean -g infile .pdf исходящий файл .pdf первый - последний&lt;/p>
&lt;h2 id="наложить-pdf--nup">&lt;span class="section-num">7&lt;/span> Наложить PDF (nup)&lt;/h2>
&lt;p>Наложение PDF — это процесс, при котором несколько входных страниц объединяются в одну выходную страницу, расположенную в сетке строк x столбцов .&lt;/p>
&lt;p>Это можно сделать с помощью pdfjam (обратите внимание, что сценарии-оболочки, такие как pdfnup и pdfbook , устарели):&lt;/p>
&lt;p>$ pdfjam &amp;ndash;nup строк x столбцов input.pdf &amp;ndash;outfile output.pdf
или с pdfsak :&lt;/p>
&lt;p>$ pdfsak &amp;ndash;input-file input.pdf &amp;ndash;output output.pdf &amp;ndash;nup rows columns&lt;/p>
&lt;h2 id="проверка-метаданных">&lt;span class="section-num">8&lt;/span> Проверка метаданных&lt;/h2>
&lt;p>С помощью ExifTool :&lt;/p>
&lt;p>$ exiftool -Все файлы.pdf
С Попплером:&lt;/p>
&lt;p>$ pdfinfo файл.pdf
Удалить метаданные
Использование ExifTool
С помощью ExifTool :&lt;/p>
&lt;p>$ exiftool -All= -overwrite_original input.pdf
$ mv input.pdf /tmp/temp.pdf
$ qpdf &amp;ndash;линеаризовать /tmp/temp.pdf input.pdf
Шаг линеаризации необходим для предотвращения восстановления удаленных метаданных. См. этот вопрос SuperUser и соответствующую ветку форума ExifTool .&lt;/p>
&lt;p>Использование pdftk
Многие PDF-файлы хранят метаданные документа, используя как словарь Info (старая школа), так и поток XMP (новая школа). Эта команда pdftk полностью удаляет поток XMP из PDF-файла. Информационный словарь не удаляется.&lt;/p>
&lt;p>Обратите внимание, что объекты внутри PDF-файла могут иметь свои собственные отдельные потоки метаданных XMP, и эта команда не удаляет их. Он удаляет только поток XMP на уровне документа PDF.&lt;/p>
&lt;p>$ pdftk input.pdf drop_xmp вывод output.pdf&lt;/p>
&lt;h2 id="уменьшить-размер-pdf-файла--сжатие">&lt;span class="section-num">9&lt;/span> Уменьшить размер pdf-файла (сжатие)&lt;/h2>
&lt;h3 id="ghostscript">&lt;span class="section-num">9.1&lt;/span> Ghostscript&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Скрипт ps2pdf:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">ps2pdf -dPDFSETTINGS&lt;span class="o">=&lt;/span>/screen in.pdf out.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Команда gs:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">gs -dNOPAUSE -dBATCH -sDEVICE&lt;span class="o">=&lt;/span>pdfwrite -dCompatibilityLevel&lt;span class="o">=&lt;/span>1.4 -dPDFSETTINGS&lt;span class="o">=&lt;/span>/printer -sOutputFile&lt;span class="o">=&lt;/span>out.pdf in.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;code>-sDEVICE=pdfwrite&lt;/code> : указывает используемое устройство вывода (&lt;code>pdfwrite&lt;/code> указывает, что результат будет в формате PDF);&lt;/li>
&lt;li>&lt;code>-dCompatibilityLevel&lt;/code> : устанавливает уровень совместимости для оптимизированного PDF-файла (уровень совместимости &lt;code>1.4&lt;/code> соответствует версии PDF-1.4);&lt;/li>
&lt;li>&lt;code>-dPDFSETTINGS&lt;/code> : определяет параметры качества и сжатия оптимизированного PDF-файла (см. &lt;a href="https://ghostscript.com/docs/9.54.0/Devices.htm" target="_blank" rel="noopener">https://ghostscript.com/docs/9.54.0/Devices.htm&lt;/a>):
&lt;ul>
&lt;li>&lt;code>/screen&lt;/code> : 72 dpi;&lt;/li>
&lt;li>&lt;code>/default&lt;/code> : 72 dpi;&lt;/li>
&lt;li>&lt;code>/ebook&lt;/code> : 150 dpi (для просмотра на устройствах для чтения электронных книг);&lt;/li>
&lt;li>&lt;code>/printer&lt;/code> : 300 dpi (для высококачественной печати);&lt;/li>
&lt;li>&lt;code>/prepress&lt;/code> : 300 dpi;&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>-dNOPAUSE&lt;/code> : предотвращает паузу Ghostscript между страницами;&lt;/li>
&lt;li>&lt;code>-dQUIET&lt;/code> : подавляет информационные сообщения;&lt;/li>
&lt;li>&lt;code>-dBATCH&lt;/code> : предотвращает выход Ghostscript после обработки входного файла;&lt;/li>
&lt;li>&lt;code>-sOutputFile=output.pdf&lt;/code> : указывает имя выходного файла.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="уменьшить-размер-pdf-файла--оптимизация">&lt;span class="section-num">10&lt;/span> Уменьшить размер pdf-файла (оптимизация)&lt;/h2>
&lt;h3 id="qpdf">&lt;span class="section-num">10.1&lt;/span> qpdf&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Команда qpdf:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">qpdf --compress-streams&lt;span class="o">=&lt;/span>y --object-streams&lt;span class="o">=&lt;/span>generate --recompress-flate --optimize-images document.pdf qpdf_compressed.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;code>--compress-streams=y&lt;/code> : указывает &lt;code>qpdf&lt;/code> сжимать потоки контента в файле PDF. Потоки контента содержат фактические данные, такие как текст и изображения, в документе PDF;&lt;/li>
&lt;li>&lt;code>--object-streams=generate&lt;/code> : определяет обработку объектных потоков в файле PDF. Опция генерации указывает qpdf генерировать новые потоки объектов во время процесса оптимизации;&lt;/li>
&lt;li>&lt;code>document.pdf&lt;/code> : входной файл для оптимизации;&lt;/li>
&lt;li>&lt;code>qpdf_compressed.pdf&lt;/code> : выходной или оптимизированный файл.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="exiftool">&lt;span class="section-num">10.2&lt;/span> exiftool&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Файлы PDF могут содержать метаданные, такие как имена авторов, даты создания и другую информацию, которая может влиять на размер файла.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Можно удалить эти метаданные, чтобы уменьшить размер PDF-файла:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">exiftool -all:all&lt;span class="o">=&lt;/span> document.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;code>-all:all=&lt;/code> : указывает имя тега, который нужно изменить.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="растеризовать-pdf-файл">&lt;span class="section-num">11&lt;/span> Растеризовать PDF-файл&lt;/h2>
&lt;p>Эти команды преобразуют ваш PDF-файл в изображения.&lt;/p>
&lt;p>С помощью GraphicsMagick для преобразования определенной страницы в файл изображения:&lt;/p>
&lt;p>$ gm Convert -density dpi входящий файл .pdf[ страница ] исходящий файл .jpg
С помощью ImageMagick для преобразования определенной страницы в файл изображения:&lt;/p>
&lt;p>$ Magick Convert -density dpi входящий файл .pdf[ страница ] исходящий файл .jpg&lt;/p>
&lt;p>С помощью ImageMagick конвертируйте все страницы в другой PDF-файл, состоящий из файла изображения на каждой странице:&lt;/p>
&lt;p>$ Magick Convert -density dpi входящий файл .pdf исходящий файл .pdf
Предупреждение. Это существенно увеличит размер вашего PDF-файла. Используйте его, например, если ваш принтер не может правильно распечатать PDF-файл.
С помощью Poppler для преобразования всех страниц в один файл изображения на странице:&lt;/p>
&lt;p>$ pdftoppm -jpeg -r dpi infile .pdf outfileroot
С помощью Poppler для преобразования определенной страницы в файл изображения:&lt;/p>
&lt;p>$ pdftoppm -jpeg -r dpi -f page -singlefile infile .pdf outfileroot
Разделить страницы PDF
С помощью инструментов mupdf для разделения каждой страницы по вертикали на две страницы:&lt;/p>
&lt;p>$ mutool плакат -y 2 in.pdf out.pdf
Может использоваться для отмены простого наложения .&lt;/p>
&lt;p>Добавить изображение
Можно добавить изображение в любое место PDF-файла.&lt;/p>
&lt;p>с ImageMagick (конвертировать), xv AUR и pdftk . ( скрипт-обертка )
с журналом AUR
с LibreOffice
Подробности об этих и других решениях можно найти на StackExchange .&lt;/p>
&lt;h2 id="добавить-цифровую-подпись-в-pdf">&lt;span class="section-num">12&lt;/span> Добавить цифровую подпись в PDF&lt;/h2>
&lt;p>jsignpdf AUR может подписывать PDF-файлы цифровой подписью с помощью сертификатов X.509 в графическом интерфейсе пользователя и интерфейсе командной строки.&lt;/p>
&lt;p>Такие программы чтения, как Okular и MuPDF, могут подписывать PDF-файлы цифровыми подписями. Для этого требуется сертификат PFX, который можно создать с помощью команды OpenSSL :&lt;/p>
&lt;p>$ openssl req -x509 -days 365 -newkey rsa:2048 -keyout cert.pem -out cert.pem
$ openssl pkcs12 -export -in cert.pem -out cert.pfx
Пользователи MuPDF могут затем подписывать PDF-файлы с cert.pfxпомощью графического интерфейса или инструмента mutool-sign .&lt;/p>
&lt;p>Пользователи Okular должны импортировать сертификаты cert.pfxв хранилище сертификатов, например, в профиль Firefox по умолчанию. [7] [ недействительная ссылка 13 января 2024 г. ⓘ] В Firefox это можно сделать через «Настройки» &amp;gt; «Конфиденциальность и безопасность» &amp;gt; «Просмотр сертификатов» &amp;gt; «Ваши сертификаты» &amp;gt; «Импортировать» и выбрать cert.pfx . После этого Okular предложит использовать этот сертификат при подписании PDF-файлов.&lt;/p>
&lt;p>Libreoffice также может подписывать PDF-файлы. [8]&lt;/p>
&lt;h2 id="аннотации">&lt;span class="section-num">13&lt;/span> Аннотации&lt;/h2>
&lt;h3 id="удаление-аннотаций-из-pdf-файла">&lt;span class="section-num">13.1&lt;/span> Удаление аннотаций из PDF-файла&lt;/h3>
&lt;h4 id="pdftk">&lt;span class="section-num">13.1.1&lt;/span> pdftk&lt;/h4>
&lt;ul>
&lt;li>Удалить все аннотации:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">pdftk in.pdf output - uncompress &lt;span class="p">|&lt;/span> sed &lt;span class="s1">&amp;#39;/^\/Annots/d&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> pdftk - output out.pdf compress
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="perl-cam-pdf">&lt;span class="section-num">13.1.2&lt;/span> perl-cam-pdf&lt;/h4>
&lt;ul>
&lt;li>Удалить все аннотации:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">rewritepdf.pl -C in.pdf out.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="добавьте-номера-страниц">&lt;span class="section-num">14&lt;/span> Добавьте номера страниц&lt;/h2>
&lt;p>С pdfsak :&lt;/p>
&lt;p>$ pdfsak &amp;ndash;input-file input.pdf &amp;ndash;output output.pdf &amp;ndash;text &amp;ldquo;\large \$page/\$pages&amp;rdquo; br 0.99 0.99 &amp;ndash;latex-engine xelatex &amp;ndash;font &amp;ldquo;Noto Regular&amp;rdquo;&lt;/p>
&lt;h2 id="добавить-метки-страниц">&lt;span class="section-num">15&lt;/span> Добавить метки страниц&lt;/h2>
&lt;p>Метки страниц — это логические номера страниц, отображаемые на панели навигации программы чтения PDF-файлов. Они полезны, например, если первые страницы PDF-файла представляют собой индексы, пронумерованные римскими цифрами (I, II и т. д.), а страница с номером «1» соответствует странице PDF-файла с номером больше 1, и вы хотите, чтобы номер страницы отображался на панели навигации соответствует номеру страницы, указанному на физической странице.&lt;/p>
&lt;p>Это не следует путать с добавлением номеров страниц на физическую страницу. См. раздел 12.4.2 справочника по PDF, чтобы лучше понять метки страниц.&lt;/p>
&lt;p>Используя pagelabels-py , предположим, что у нас есть PDF-файл с именем my_document.pdf, содержащий 12 страниц.
Страницы с 1 по 4 должны быть помечены Intro Iкак Intro IV.
Страницы с 5 по 9 должны быть помечены 2как 6.
Страницы с 10 по 12 должны быть помечены Appendix AкакAppendix C
Мы можем выдать следующий список команд:
$ python3 -m метки страниц &amp;ndash;удалить &amp;ldquo;my_document.pdf&amp;rdquo;
$ python3 -m метки страниц &amp;ndash;startpage 1 &amp;ndash;prefix &amp;ldquo;Введение&amp;rdquo; &amp;ndash;type &amp;ldquo;римские заглавные буквы&amp;rdquo; &amp;ldquo;my_document.pdf&amp;rdquo;
$ python3 -m метки страниц &amp;ndash;startpage 5 &amp;ndash;firstpagenum 2 &amp;ldquo;my_document.pdf&amp;rdquo;
$ python3 -m метки страниц &amp;ndash;startpage 10 &amp;ndash;prefix &amp;ldquo;Приложение&amp;rdquo; &amp;ndash;type &amp;ldquo;буквы в верхнем регистре&amp;rdquo; &amp;ldquo;my_document.pdf&amp;rdquo;
Примечание. pagelabels-py преобразует ваш файл в формат PDF 1.3.
Используя pdftk , создайте metadata.txtфайл с метками:
PageLabelBegin
PageLabelNewIndex: 1
PageLabelStart: 1
PageLabelPrefix: Обложка
PageLabelNumStyle: Нонумбер
PageLabelBegin
PageLabelNewIndex: 2
PageLabelStart: 1
PageLabelPrefix: задняя обложка
PageLabelNumStyle: Нонумбер
PageLabelBegin
PageLabelNewIndex: 3
PageLabelStart: 1
PageLabelNumStyle: строчные римские цифры
PageLabelBegin
PageLabelNewIndex: 27
PageLabelStart: 1
PageLabelNumStyle: Десятичные арабские цифры
Где:
PageLabelBegin
сигнализирует о том, что последует новое определение метки страницы
PageLabelNewIndex
— индекс страницы PDF, к которому применяется стиль нумерации, считая с единицы. Стиль нумерации будет сохраняться до следующей метки страницы или, если меток страниц больше нет, до конца документа.
PageLabelStart
это стартовый номер. Например, если здесь указать 5, страницы будут пронумерованы 5, 6, 7,&amp;hellip;
Префикс PageLabelPrefix
текст, который будет помещен перед числом в метках страниц.
PageLabelNumStyle
может быть DecimalArabicNumerals, UppercaseRomanNumerals, LowercaseRomanNumerals, UppercaseLetters, LowercaseLettersили NoNumber.
Затем используйте:
pdftk book.pdf update_info_utf8 Metadata.txt выходная книга-с-метаданными.pdf
Подробнее см . в этом вопросе SuperUser .&lt;/p>
&lt;h2 id="закладки">&lt;span class="section-num">16&lt;/span> Закладки&lt;/h2>
&lt;h3 id="извлечь-закладки">&lt;span class="section-num">16.1&lt;/span> Извлечь закладки&lt;/h3>
&lt;h4 id="pdftk">&lt;span class="section-num">16.1.1&lt;/span> pdftk&lt;/h4>
&lt;ul>
&lt;li>Найти все закладки:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">pdftk file.pdf dump_data_utf8 &lt;span class="p">|&lt;/span> grep &lt;span class="s1">&amp;#39;^Bookmark&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="qpdf">&lt;span class="section-num">16.1.2&lt;/span> qpdf&lt;/h4>
&lt;ul>
&lt;li>Найти все закладки:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">qpdf --json --json-key&lt;span class="o">=&lt;/span>outlines file.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="добавить-закладки">&lt;span class="section-num">16.2&lt;/span> Добавить закладки&lt;/h3>
&lt;p>С pdftk
Создайте текстовый файл bookmark_definitions.txtс определениями закладок в следующем формате:&lt;/p>
&lt;p>ЗакладкаНачать
ЗакладкаНазвание: Глава 1
Уровень закладки: 1
ЗакладкаНомерСтраницы: 1
ЗакладкаНачать
ЗакладкаНазвание: Глава 1.1
Уровень закладки: 2
ЗакладкаНомерСтраницы: 2
ЗакладкаНачать
ЗакладкаНазвание: Глава 1.2
Уровень закладки: 2
ЗакладкаНомерСтраницы: 3
ЗакладкаНачать
ЗакладкаНазвание: Глава 1.3
Уровень закладки: 2
ЗакладкаНомерСтраницы: 4
ЗакладкаНачать
ЗакладкаНазвание: Глава 1.3.1
Уровень закладки: 3
ЗакладкаНомерСтраницы: 5
ЗакладкаНачать
ЗакладкаНазвание: Глава 2
Уровень закладки: 1
ЗакладкаНомерСтраницы: 6
Где&lt;/p>
&lt;p>ЗакладкаНачать
сигнализировать о новом определении закладки
ЗакладкаНазвание
название закладки
Уровень закладки
уровень закладки в иерархии
ЗакладкаНомерСтраницы
номер страницы, на которую перенаправляется закладка
В этом примере приведенный выше файл создаст следующую структуру закладок:&lt;/p>
&lt;p>Глава 1
Глава 1.1
Глава 1.2
Глава 1.3
Глава 1.3.1
Глава 2
Примените закладки с помощью следующей команды:&lt;/p>
&lt;p>$ pdftk input.pdf update_info_utf8 bookmark_definitions.txt вывод output.pdf
Извлечение страниц, содержащихся в закладке
Чтобы извлечь страницы, содержащиеся в закладке, вы можете использовать pdf_extbook-git AUR .&lt;/p>
&lt;p>При этом вам будет подсказано, какую закладку, чьи страницы вы хотите извлечь и куда ее сохранить. Чтобы извлечь все закладки данного иерархического уровня: pdf_extbook file&lt;/p>
&lt;p>$ файл pdf_extbook - уровень выходного_файла_stem
Удалить пустые страницы
Можно использовать следующий скрипт для удаления пустых страниц из PDF-файла (кредит: сообщение SuperUser ):&lt;/p>
&lt;p>#!/бин/ш&lt;/p>
&lt;p>ИН=&amp;quot;\(1&amp;quot;
filename=\)(базовое имя &amp;ldquo;\({IN}&amp;rdquo;)
filename=&amp;quot;\){filename%.*}&amp;quot;
PAGES=$(pdfinfo &amp;ldquo;$IN&amp;rdquo; | grep ^Pages: | tr -dc &amp;lsquo;0-9&amp;rsquo;)&lt;/p>
&lt;p>non_blank() {
для я в $(seq 1 \(PAGES); делать
PERCENT=\)(gs -o - -dFirstPage=\({i} -dLastPage=\){i} -sDEVICE=ink_cov &amp;ldquo;$IN&amp;rdquo; | grep CMYK | nawk &amp;lsquo;BEGIN { sum=0; } {sum += $1 + $2 + $3 + $4;} END { printf &amp;ldquo;%.5f\n&amp;rdquo;, sum } &amp;lsquo;)
if [ $(echo &amp;ldquo;$PERCENT &amp;gt; 0,001&amp;rdquo; | bc) -eq 1 ]; затем
эхо $i
#echo $i 1&amp;gt;&amp;amp;2
быть
эхо -н. 1&amp;gt;&amp;amp;2
сделано | тройник &amp;ldquo;$filename.tmp&amp;rdquo;
эхо 1&amp;gt;&amp;amp;2
}&lt;/p>
&lt;p>установить +х
pdftk &amp;ldquo;${IN}&amp;rdquo; cat \((non_blank) вывод &amp;ldquo;\){filename}_noblanks.pdf&amp;rdquo;
Используйте его как pdf_remove_blank_pages input.pdf.&lt;/p>
&lt;p>Для сценария необходимы pdftk , nawk и Ghostscript .&lt;/p>
&lt;h2 id="шрифты">&lt;span class="section-num">17&lt;/span> Шрифты&lt;/h2>
&lt;h3 id="шрифты-используемые-в-pdf-файле">&lt;span class="section-num">17.1&lt;/span> Шрифты, используемые в PDF-файле&lt;/h3>
&lt;h4 id="poppler">&lt;span class="section-num">17.1.1&lt;/span> poppler&lt;/h4>
&lt;ul>
&lt;li>Используем команду &lt;code>pdffonts&lt;/code> чтобы узнать, какие шрифты используются в PDF-файле и встроены ли они в него или нет:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">pdffonts file.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="восстановить-повреждённый-pdf-файл">&lt;span class="section-num">18&lt;/span> Восстановить повреждённый PDF-файл&lt;/h2>
&lt;h3 id="ghostscript">&lt;span class="section-num">18.1&lt;/span> ghostscript&lt;/h3>
&lt;ul>
&lt;li>Отремонтировать файл:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">gs -o repaired.pdf -sDEVICE&lt;span class="o">=&lt;/span>pdfwrite -dPDFSETTINGS&lt;span class="o">=&lt;/span>/prepress corrupted.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="poppler">&lt;span class="section-num">18.2&lt;/span> poppler&lt;/h3>
&lt;ul>
&lt;li>Отремонтировать файл:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">pdftocairo -pdf corrupted.pdf repaired.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="mupdf">&lt;span class="section-num">18.3&lt;/span> mupdf&lt;/h3>
&lt;ul>
&lt;li>Отремонтировать файл:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">mutool clean corrupted.pdf repaired.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="стандарт-pdf-a">&lt;span class="section-num">19&lt;/span> Стандарт PDF/A&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2021/07/30/pdf-a-standard/">Стандарт PDF/A&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="преобразование-pdf-в-стандарт-pdf-a">&lt;span class="section-num">19.1&lt;/span> Преобразование PDF в стандарт PDF/A&lt;/h3>
&lt;h4 id="ghostscript">&lt;span class="section-num">19.1.1&lt;/span> ghostscript&lt;/h4>
&lt;ul>
&lt;li>Конвертация:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">gs -dPDFA -dBATCH -dNOPAUSE -sColorConversionStrategy&lt;span class="o">=&lt;/span>UseDeviceIndependentColor -sDEVICE&lt;span class="o">=&lt;/span>pdfwrite -dPDFACompatibilityPolicy&lt;span class="o">=&lt;/span>&lt;span class="m">2&lt;/span> -sOutputFile&lt;span class="o">=&lt;/span>document_pdfa.pdf document.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="проверка-соответствия-pdf-a">&lt;span class="section-num">19.2&lt;/span> Проверка соответствия PDF/A&lt;/h3>
&lt;h4 id="verapdf">&lt;span class="section-num">19.2.1&lt;/span> verapdf&lt;/h4>
&lt;ul>
&lt;li>Проверить соответствие PDF различным вариантам стандарта PDF/A:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">verapdf --flavour 1a --format text document.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Оглавление в PDF</title><link>https://yamadharma.github.io/ru/post/2022/06/30/pdf-format/</link><pubDate>Thu, 30 Jun 2022 18:47:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2022/06/30/pdf-format/</guid><description>&lt;p>&lt;a href="https://yamadharma.github.io/ru/post/2024/06/21/pdf-toc-pdf-toc/">Pdf. Оглавление. pdf-toc&lt;/a>
Позволяет копировать оглавление в текстовый файл и обратно загружать в pdf-файл.&lt;/p></description></item><item><title>Формат PDF</title><link>https://yamadharma.github.io/ru/post/2022/06/30/pdf-format/</link><pubDate>Thu, 30 Jun 2022 18:47:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2022/06/30/pdf-format/</guid><description>&lt;p>Формат файлов &lt;em>pdf&lt;/em>.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#версии-формата-pdf">&lt;span class="section-num">1&lt;/span> Версии формата PDF&lt;/a>&lt;/li>
&lt;li>&lt;a href="#стандарты-формата-pdf">&lt;span class="section-num">2&lt;/span> Стандарты формата PDF&lt;/a>&lt;/li>
&lt;li>&lt;a href="#обработка-pdf">&lt;span class="section-num">3&lt;/span> Обработка PDF&lt;/a>&lt;/li>
&lt;li>&lt;a href="#просмотр-pdf">&lt;span class="section-num">4&lt;/span> Просмотр PDF&lt;/a>&lt;/li>
&lt;li>&lt;a href="#оглавление-в-pdf">&lt;span class="section-num">5&lt;/span> Оглавление в PDF&lt;/a>&lt;/li>
&lt;li>&lt;a href="#использование-в-latex">&lt;span class="section-num">6&lt;/span> Использование в LaTeX&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="версии-формата-pdf">&lt;span class="section-num">1&lt;/span> Версии формата PDF&lt;/h2>
&lt;ul>
&lt;li>PDF 1, PDF 1.1
&lt;ul>
&lt;li>1993-1994&lt;/li>
&lt;li>Работа с потоками данных, защита паролем и цветопередача, независимая от устройства.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>PDF 1.2
&lt;ul>
&lt;li>1996&lt;/li>
&lt;li>Интерактивные элементы и возможность обрабатывать действия мыши.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>PDF 1.3
&lt;ul>
&lt;li>1999&lt;/li>
&lt;li>Электронная подпись (ЭП), javaSAFEscript.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>PDF 1.4
&lt;ul>
&lt;li>2001&lt;/li>
&lt;li>Прозрачность, текстовый слой поверх картинки, метаданные ключ-значение.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>PDF 1.5
&lt;ul>
&lt;li>2003&lt;/li>
&lt;li>Мультимедиа, объектные и перекрестные потоки, слои.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>PDF 1.6
&lt;ul>
&lt;li>2005&lt;/li>
&lt;li>XML-формы, AES-шифрование.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>PDF 1.7, PDF 2.0
&lt;ul>
&lt;li>2005-2020&lt;/li>
&lt;li>AES-шифрование 256-битным ключом, архитектура XML-форм XFA 3.0.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="стандарты-формата-pdf">&lt;span class="section-num">2&lt;/span> Стандарты формата PDF&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2021/07/30/pdf-a-standard/">Стандарт PDF/A&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="обработка-pdf">&lt;span class="section-num">3&lt;/span> Обработка PDF&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2023/12/02/pdf-processing-pdfcpu/">Pdf. Обработка. pdfcpu&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="просмотр-pdf">&lt;span class="section-num">4&lt;/span> Просмотр PDF&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2023/09/20/pdf-viewer-zathura/">Pdf. Просмотр. Zathura&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2023/06/27/pdf-grep/">Pdf. Поиск подстроки&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/04/24/pdf-viewer-sioyek/">Pdf. Просмотр. Sioyek&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="оглавление-в-pdf">&lt;span class="section-num">5&lt;/span> Оглавление в PDF&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/06/21/pdf-toc-pdf-toc/">Pdf. Оглавление. pdf-toc&lt;/a>
&lt;ul>
&lt;li>Позволяет копировать оглавление в текстовый файл и обратно загружать в pdf-файл.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/06/21/pdf-toc-pdf-tocgen/">Pdf. Оглавление. pdf.tocgen&lt;/a>
&lt;ul>
&lt;li>Позволяет создавать оглавление на основе шаблона заголовков.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="использование-в-latex">&lt;span class="section-num">6&lt;/span> Использование в LaTeX&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2021/07/30/latex-packages-pdfx/">LaTeX. Пакет pdfx&lt;/a>&lt;/li>
&lt;/ul></description></item></channel></rss>