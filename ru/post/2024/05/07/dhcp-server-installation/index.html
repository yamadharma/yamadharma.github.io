<!doctype html><html lang=ru-ru><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=generator content="Hugo Blox Builder 5.9.7"><script src=https://yamadharma.github.io/js/mathjax-config.js></script><link rel=stylesheet href=https://yamadharma.github.io/css/vendor-bundle.min.26c458e6907dc03073573976b7f4044e.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1.9.4/css/academicons.min.css integrity="sha512-IW0nhlW5MgNydsXJO40En2EoCkTTjZhI3yuODrZIc8cQ4h1XcF53PsqDHa09NqnkXuIe0Oiyyj171BqZFwISBw==" crossorigin=anonymous media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.min.css integrity crossorigin=anonymous media=print onload='this.media="all"'><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js integrity crossorigin=anonymous async></script><link rel=stylesheet href=https://yamadharma.github.io/css/wowchemy.2b2249378eeede48458db926121792b3.css><link rel=stylesheet href=https://yamadharma.github.io/css/libs/chroma/github-light.min.css title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://yamadharma.github.io/css/libs/chroma/dracula.min.css title=hl-dark media=print onload='this.media="all"' disabled><script async src="https://www.googletagmanager.com/gtag/js?id=UA-162854716-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}function trackOutboundLink(e,t){gtag("event","click",{event_category:"outbound",event_label:e,transport_type:"beacon",event_callback:function(){t!=="_blank"&&(document.location=e)}}),console.debug("Outbound link clicked: "+e)}function onClickCallback(e){if(e.target.tagName!=="A"||e.target.host===window.location.host)return;trackOutboundLink(e.target,e.target.getAttribute("target"))}gtag("js",new Date),gtag("config","UA-162854716-1",{anonymize_ip:!0}),gtag("set",{cookie_flags:"SameSite=None;Secure"}),document.addEventListener("click",onClickCallback,!1)</script><meta name=author content="Дмитрий Сергеевич Кулябов"><meta name=description content="Установка сервера DHCP ISC Kea."><link rel=alternate hreflang=ru-ru href=https://yamadharma.github.io/ru/post/2024/05/07/dhcp-server-installation/><link rel=canonical href=https://yamadharma.github.io/ru/post/2024/05/07/dhcp-server-installation/><link rel=manifest href=https://yamadharma.github.io/ru/manifest.webmanifest><link rel=icon type=image/png href=https://yamadharma.github.io/media/icon_hu10409781601724418176.png><link rel=apple-touch-icon type=image/png href=https://yamadharma.github.io/media/icon_hu16056463462840539100.png><meta name=theme-color content="#1565c0"><meta property="twitter:card" content="summary"><meta property="twitter:site" content="@dskulyabov"><meta property="twitter:creator" content="@dskulyabov"><meta property="twitter:image" content="https://yamadharma.github.io/media/icon_hu15752663207405015554.png"><meta property="og:type" content="article"><meta property="og:site_name" content="Д. С. Кулябов"><meta property="og:url" content="https://yamadharma.github.io/ru/post/2024/05/07/dhcp-server-installation/"><meta property="og:title" content="DHCP. Установка сервера DHCP Kea | Д. С. Кулябов"><meta property="og:description" content="Установка сервера DHCP ISC Kea."><meta property="og:image" content="https://yamadharma.github.io/media/icon_hu15752663207405015554.png"><meta property="og:locale" content="ru-ru"><meta property="article:published_time" content="2024-05-07T11:39:00+03:00"><meta property="article:modified_time" content="2024-08-26T15:01:00+03:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://yamadharma.github.io/ru/post/2024/05/07/dhcp-server-installation/"},"headline":"DHCP. Установка сервера DHCP Kea","datePublished":"2024-05-07T11:39:00+03:00","dateModified":"2024-08-26T15:01:00+03:00","author":{"@type":"Person","name":"Дмитрий Сергеевич Кулябов"},"publisher":{"@type":"Organization","name":"Д. С. Кулябов","logo":{"@type":"ImageObject","url":"https://yamadharma.github.io/media/icon_hu11291851504907900003.png"}},"description":"\u003cp\u003eУстановка сервера DHCP ISC Kea.\u003c/p\u003e"}</script><link rel=alternate href=https://yamadharma.github.io/ru/post/2024/05/07/dhcp-server-installation/index.xml type=application/rss+xml title="Д. С. Кулябов"><script src=https://cdn.jsdelivr.net/gh/osano/cookieconsent@3.1.1/build/cookieconsent.min.js integrity="sha512-yXXqOFjdjHNH1GND+1EO0jbvvebABpzGKD66djnUfiKlYME5HGMUJHoCaeE4D5PTG2YsSJf6dwqyUUvQvS0vaA==" crossorigin=anonymous></script><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/osano/cookieconsent@3.1.1/build/cookieconsent.min.css integrity="sha512-LQ97camar/lOliT/MqjcQs5kWgy6Qz/cCRzzRzUCfv0fotsCTC9ZHXaPQmJV8Xu/PVALfJZ7BDezl5lW3/qBxg==" crossorigin=anonymous><script>window.addEventListener("load",function(){window.cookieconsent.initialise({palette:{popup:{background:"#1565c0",text:"rgb(255, 255, 255)"},button:{background:"rgb(255, 255, 255)",text:"#1565c0"}},theme:"classic",content:{message:"Для комфорной навигации на этом сайте используются куки (cookies).",dismiss:"Понял!",link:"Узнать больше",href:"https://www.cookiesandyou.com"}})})</script><title>DHCP. Установка сервера DHCP Kea | Д. С. Кулябов</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=ed17ecbcaf386e49df45fb348db6b2a2><script src=https://yamadharma.github.io/js/wowchemy-init.min.9e4214442a7711d35691acd58f6f6361.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Поиск</h1></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=Close><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder="Поиск ..." autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search class=form-control aria-label="Поиск ..."></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><div class="page-header header--fixed"><header><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=https://yamadharma.github.io/ru/>Д. С. Кулябов</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label="Переключить навигацию">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=https://yamadharma.github.io/ru/>Д. С. Кулябов</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=https://yamadharma.github.io/ru/#about><span>Обо мне</span></a></li><li class=nav-item><a class=nav-link href=https://yamadharma.github.io/ru/#posts><span>Блог</span></a></li><li class=nav-item><a class=nav-link href=https://yamadharma.github.io/ru/#projects><span>Проекты</span></a></li><li class=nav-item><a class=nav-link href=https://yamadharma.github.io/ru/#featured><span>Публикации</span></a></li><li class=nav-item><a class=nav-link href=https://yamadharma.github.io/ru/course/><span>Курсы</span></a></li><li class=nav-item><a class=nav-link href=https://yamadharma.github.io/ru/#contact><span>Контакты</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=Поиск><i class="fas fa-search" aria-hidden=true></i></a></li><li class="nav-item dropdown theme-dropdown"><a href=# class=nav-link data-toggle=dropdown aria-haspopup=true aria-label="Display preferences"><i class="fas fa-moon" aria-hidden=true></i></a><div class=dropdown-menu><a href=# class="dropdown-item js-set-theme-light"><span>Light</span>
</a><a href=# class="dropdown-item js-set-theme-dark"><span>Dark</span>
</a><a href=# class="dropdown-item js-set-theme-auto"><span>Automatic</span></a></div></li></ul></div></nav></header></div><div class=page-body><div class="article-container py-1" style=background:initial><nav class="d-none d-md-flex" aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=https://yamadharma.github.io/ru/>Home</a></li><li class=breadcrumb-item><a href=https://yamadharma.github.io/ru/post/>Posts</a></li><li class="breadcrumb-item active" aria-current=page>DHCP. Установка сервера DHCP Kea</li></ol></nav></div><article class=article><div class="article-container pt-3"><h1>DHCP. Установка сервера DHCP Kea</h1><div class=article-metadata><span class=article-date>Обновлено
2024-08-26
</span><span class=middot-divider></span>
<span class=article-reading-time>10 мин. для прочтения
</span><span class=middot-divider></span>
<span class=article-categories><i class="fas fa-folder mr-1"></i><a href=https://yamadharma.github.io/ru/category/computer-science/>Computer-Science</a></span></div></div><div class=article-container><div class=article-style><p>Установка сервера DHCP ISC Kea.</p><details class="toc-inpage d-print-none" open><summary class=font-weight-bold>Содержание</summary><nav id=TableOfContents><ul><li><ul><li><a href=#общая-информация><span class=section-num>1</span> Общая информация</a><ul><li><a href=#особенности><span class=section-num>1.1</span> Особенности</a></li></ul></li><li><a href=#опции-dhcp><span class=section-num>2</span> Опции DHCP</a></li><li><a href=#установка><span class=section-num>3</span> Установка</a><ul><li><a href=#репозиторий-rockylinux><span class=section-num>3.1</span> Репозиторий RockyLinux</a></li><li><a href=#репозиторий-isc><span class=section-num>3.2</span> Репозиторий ISC</a><ul><li><a href=#kea-2-dot-6><span class=section-num>3.2.1</span> Kea-2.6</a></li><li><a href=#kea-2-dot-4><span class=section-num>3.2.2</span> Kea-2.4</a></li></ul></li><li><a href=#инструментарий-миграции-keama><span class=section-num>3.3</span> Инструментарий миграции keama</a></li></ul></li><li><a href=#подготовка><span class=section-num>4</span> Подготовка</a><ul><li><a href=#брандмауэр><span class=section-num>4.1</span> Брандмауэр</a></li></ul></li><li><a href=#подготовка-базы-данных><span class=section-num>5</span> Подготовка базы данных</a><ul><li><a href=#postgresql><span class=section-num>5.1</span> PostgreSQL</a><ul><li><a href=#создание-базы-данных><span class=section-num>5.1.1</span> Создание базы данных</a></li><li><a href=#заполнение-базы-данных><span class=section-num>5.1.2</span> Заполнение базы данных</a></li><li><a href=#обновление-базы-данных><span class=section-num>5.1.3</span> Обновление базы данных</a></li></ul></li><li><a href=#миграция-с-isc-dhcp-на-isc-kea><span class=section-num>5.2</span> Миграция с ISC DHCP на ISC Kea</a></li><li><a href=#тьюнинг-базы-данных><span class=section-num>5.3</span> Тьюнинг базы данных</a></li><li><a href=#конфигурация-базы-данных-для-kea><span class=section-num>5.4</span> Конфигурация базы данных для Kea</a></li></ul></li><li><a href=#виртуальные-интерфейсы><span class=section-num>6</span> Виртуальные интерфейсы</a><ul><li><a href=#миграция-интерфейсов><span class=section-num>6.1</span> Миграция интерфейсов</a></li><li><a href=#конфигурация-интерфейсов-для-kea><span class=section-num>6.2</span> Конфигурация интерфейсов для Kea</a></li></ul></li><li><a href=#управляющий-агент-kea-ctrl-agent><span class=section-num>7</span> Управляющий агент kea-ctrl-agent</a><ul><li><a href=#по-умолчанию><span class=section-num>7.1</span> По умолчанию</a></li><li><a href=#доступ-по-сети><span class=section-num>7.2</span> Доступ по сети</a><ul><li><a href=#брандмауэр><span class=section-num>7.2.1</span> Брандмауэр</a></li><li><a href=#сертификаты><span class=section-num>7.2.2</span> Сертификаты</a></li><li><a href=#конфигурационный-файл><span class=section-num>7.2.3</span> Конфигурационный файл</a></li><li><a href=#пример-запроса><span class=section-num>7.2.4</span> Пример запроса</a></li></ul></li></ul></li><li><a href=#запуск><span class=section-num>8</span> Запуск</a></li><li><a href=#утилиты><span class=section-num>9</span> Утилиты</a><ul><li><a href=#просмотр-арендованных-адресов><span class=section-num>9.1</span> Просмотр арендованных адресов</a><ul><li><a href=#postgres><span class=section-num>9.1.1</span> Postgres</a></li></ul></li></ul></li><li><a href=#после-установки><span class=section-num>10</span> После установки</a></li></ul></li></ul></nav></details><h2 id=общая-информация><span class=section-num>1</span> Общая информация</h2><ul><li>Сайт: <a href=https://www.isc.org/kea/ target=_blank rel=noopener>https://www.isc.org/kea/</a></li><li>Репозиторий:<ul><li><a href=https://gitlab.isc.org/isc-projects/kea target=_blank rel=noopener>https://gitlab.isc.org/isc-projects/kea</a></li><li><a href=https://github.com/isc-projects/kea target=_blank rel=noopener>https://github.com/isc-projects/kea</a></li></ul></li><li>Документация: <a href=https://kea.readthedocs.io/en/latest/index.html target=_blank rel=noopener>https://kea.readthedocs.io/en/latest/index.html</a></li></ul><h3 id=особенности><span class=section-num>1.1</span> Особенности</h3><ul><li>Модульная конструкция компонентов<ul><li>Расширяется с помощью модулей-хуков.</li><li>Дистрибутив Kea включает отдельные демоны для сервера DHCPv4, сервера DHCPv6 и модуля динамического DNS (DDNS).</li></ul></li><li>Онлайн-реконфигурация с помощью REST API.<ul><li>Kea использует файл конфигурации JSON, который можно изменить удалённо без остановки и перезапуска сервера.</li></ul></li><li>Панель управления через веб-интерфейс.</li><li>Поддерживает базы данных MySQL, PostgreSQL:<ul><li>упрощает интеграцию с другими системами;</li><li>можно использовать один и тот же сервер резервирования хостов для нескольких DHCP-серверов;</li><li>администрирование глобальных параметров из централизованной системы настройки.</li></ul></li></ul><h2 id=опции-dhcp><span class=section-num>2</span> Опции DHCP</h2><div class=table-caption><span class=table-number>&#1058;&#1072;&#1073;&#1083;&#1080;&#1094;&#1072; 1:</span>
Список стандартных опций DHCPv4</div><table><thead><tr><th>Название</th><th>Код</th><th>Type</th><th>Массив</th><th>Returned if not requested?</th></tr></thead><tbody><tr><td>time-offset</td><td>2</td><td>int32</td><td>false</td><td>false</td></tr><tr><td>routers</td><td>3</td><td>ipv4-address</td><td>true</td><td>true</td></tr><tr><td>time-servers</td><td>4</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>name-servers</td><td>5</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>domain-name-servers</td><td>6</td><td>ipv4-address</td><td>true</td><td>true</td></tr><tr><td>log-servers</td><td>7</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>cookie-servers</td><td>8</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>lpr-servers</td><td>9</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>impress-servers</td><td>10</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>resource-location-servers</td><td>11</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>boot-size</td><td>13</td><td>uint16</td><td>false</td><td>false</td></tr><tr><td>merit-dump</td><td>14</td><td>string</td><td>false</td><td>false</td></tr><tr><td>domain-name</td><td>15</td><td>fqdn</td><td>false</td><td>true</td></tr><tr><td>swap-server</td><td>16</td><td>ipv4-address</td><td>false</td><td>false</td></tr><tr><td>root-path</td><td>17</td><td>string</td><td>false</td><td>false</td></tr><tr><td>extensions-path</td><td>18</td><td>string</td><td>false</td><td>false</td></tr><tr><td>ip-forwarding</td><td>19</td><td>boolean</td><td>false</td><td>false</td></tr><tr><td>non-local-source-routing</td><td>20</td><td>boolean</td><td>false</td><td>false</td></tr><tr><td>policy-filter</td><td>21</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>max-dgram-reassembly</td><td>22</td><td>uint16</td><td>false</td><td>false</td></tr><tr><td>default-ip-ttl</td><td>23</td><td>uint8</td><td>false</td><td>false</td></tr><tr><td>path-mtu-aging-timeout</td><td>24</td><td>uint32</td><td>false</td><td>false</td></tr><tr><td>path-mtu-plateau-table</td><td>25</td><td>uint16</td><td>true</td><td>false</td></tr><tr><td>interface-mtu</td><td>26</td><td>uint16</td><td>false</td><td>false</td></tr><tr><td>all-subnets-local</td><td>27</td><td>boolean</td><td>false</td><td>false</td></tr><tr><td>broadcast-address</td><td>28</td><td>ipv4-address</td><td>false</td><td>false</td></tr><tr><td>perform-mask-discovery</td><td>29</td><td>boolean</td><td>false</td><td>false</td></tr><tr><td>mask-supplier</td><td>30</td><td>boolean</td><td>false</td><td>false</td></tr><tr><td>router-discovery</td><td>31</td><td>boolean</td><td>false</td><td>false</td></tr><tr><td>router-solicitation-address</td><td>32</td><td>ipv4-address</td><td>false</td><td>false</td></tr><tr><td>static-routes</td><td>33</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>trailer-encapsulation</td><td>34</td><td>boolean</td><td>false</td><td>false</td></tr><tr><td>arp-cache-timeout</td><td>35</td><td>uint32</td><td>false</td><td>false</td></tr><tr><td>ieee802-3-encapsulation</td><td>36</td><td>boolean</td><td>false</td><td>false</td></tr><tr><td>default-tcp-ttl</td><td>37</td><td>uint8</td><td>false</td><td>false</td></tr><tr><td>tcp-keepalive-interval</td><td>38</td><td>uint32</td><td>false</td><td>false</td></tr><tr><td>tcp-keepalive-garbage</td><td>39</td><td>boolean</td><td>false</td><td>false</td></tr><tr><td>nis-domain</td><td>40</td><td>string</td><td>false</td><td>false</td></tr><tr><td>nis-servers</td><td>41</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>ntp-servers</td><td>42</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>vendor-encapsulated-options</td><td>43</td><td>empty</td><td>false</td><td>false</td></tr><tr><td>netbios-name-servers</td><td>44</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>netbios-dd-server</td><td>45</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>netbios-node-type</td><td>46</td><td>uint8</td><td>false</td><td>false</td></tr><tr><td>netbios-scope</td><td>47</td><td>string</td><td>false</td><td>false</td></tr><tr><td>font-servers</td><td>48</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>x-display-manager</td><td>49</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>dhcp-option-overload</td><td>52</td><td>uint8</td><td>false</td><td>false</td></tr><tr><td>dhcp-server-identifier</td><td>54</td><td>ipv4-address</td><td>false</td><td>true</td></tr><tr><td>dhcp-message</td><td>56</td><td>string</td><td>false</td><td>false</td></tr><tr><td>dhcp-max-message-size</td><td>57</td><td>uint16</td><td>false</td><td>false</td></tr><tr><td>vendor-class-identifier</td><td>60</td><td>hex</td><td>false</td><td>false</td></tr><tr><td>nwip-domain-name</td><td>62</td><td>string</td><td>false</td><td>false</td></tr><tr><td>nwip-suboptions</td><td>63</td><td>hex</td><td>false</td><td>false</td></tr><tr><td>nisplus-domain-name</td><td>64</td><td>string</td><td>false</td><td>false</td></tr><tr><td>nisplus-servers</td><td>65</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>tftp-server-name</td><td>66</td><td>string</td><td>false</td><td>false</td></tr><tr><td>boot-file-name</td><td>67</td><td>string</td><td>false</td><td>false</td></tr><tr><td>mobile-ip-home-agent</td><td>68</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>smtp-server</td><td>69</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>pop-server</td><td>70</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>nntp-server</td><td>71</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>www-server</td><td>72</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>finger-server</td><td>73</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>irc-server</td><td>74</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>streettalk-server</td><td>75</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>streettalk-directory-assistance-server</td><td>76</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>user-class</td><td>77</td><td>hex</td><td>false</td><td>false</td></tr><tr><td>slp-directory-agent</td><td>78</td><td>record (boolean, ipv4-address)</td><td>true</td><td>false</td></tr><tr><td>slp-service-scope</td><td>79</td><td>record (boolean, string)</td><td>false</td><td>false</td></tr><tr><td>nds-server</td><td>85</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>nds-tree-name</td><td>86</td><td>string</td><td>false</td><td>false</td></tr><tr><td>nds-context</td><td>87</td><td>string</td><td>false</td><td>false</td></tr><tr><td>bcms-controller-names</td><td>88</td><td>fqdn</td><td>true</td><td>false</td></tr><tr><td>bcms-controller-address</td><td>89</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>client-system</td><td>93</td><td>uint16</td><td>true</td><td>false</td></tr><tr><td>client-ndi</td><td>94</td><td>record (uint8, uint8, uint8)</td><td>false</td><td>false</td></tr><tr><td>uuid-guid</td><td>97</td><td>record (uint8, hex)</td><td>false</td><td>false</td></tr><tr><td>uap-servers</td><td>98</td><td>string</td><td>false</td><td>false</td></tr><tr><td>geoconf-civic</td><td>99</td><td>hex</td><td>false</td><td>false</td></tr><tr><td>pcode</td><td>100</td><td>string</td><td>false</td><td>false</td></tr><tr><td>tcode</td><td>101</td><td>string</td><td>false</td><td>false</td></tr><tr><td>netinfo-server-address</td><td>112</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>netinfo-server-tag</td><td>113</td><td>string</td><td>false</td><td>false</td></tr><tr><td>default-url</td><td>114</td><td>string</td><td>false</td><td>false</td></tr><tr><td>auto-config</td><td>116</td><td>uint8</td><td>false</td><td>false</td></tr><tr><td>name-service-search</td><td>117</td><td>uint16</td><td>true</td><td>false</td></tr><tr><td>subnet-selection</td><td>118</td><td>ipv4-address</td><td>false</td><td>false</td></tr><tr><td>domain-search</td><td>119</td><td>fqdn</td><td>true</td><td>false</td></tr><tr><td>vivco-suboptions</td><td>124</td><td>hex</td><td>false</td><td>false</td></tr><tr><td>vivso-suboptions</td><td>125</td><td>hex</td><td>false</td><td>false</td></tr><tr><td>pana-agent</td><td>136</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>v4-lost</td><td>137</td><td>fqdn</td><td>false</td><td>false</td></tr><tr><td>capwap-ac-v4</td><td>138</td><td>ipv4-address</td><td>true</td><td>false</td></tr><tr><td>sip-ua-cs-domains</td><td>142</td><td>fqdn</td><td>true</td><td>false</td></tr><tr><td>rdnss-selection</td><td>146</td><td>record (uint8, ipv4-address, ipv4-address, fqdn)</td><td>true</td><td>false</td></tr><tr><td>v4-portparams</td><td>159</td><td>record (uint8, psid)</td><td>false</td><td>false</td></tr><tr><td>v4-captive-portal</td><td>160</td><td>string</td><td>false</td><td>false</td></tr><tr><td>option-6rd</td><td>212</td><td>record (uint8, uint8, ipv6-address, ipv4-address)</td><td>true</td><td>false</td></tr><tr><td>v4-access-domain</td><td>213</td><td>fqdn</td><td>false</td><td>false</td></tr></tbody></table><div class=table-caption><span class=table-number>&#1058;&#1072;&#1073;&#1083;&#1080;&#1094;&#1072; 2:</span>
Список стандартных типов опций DHCP</div><table><thead><tr><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>hex</td><td>An arbitrary string of bytes, specified as a set of hexadecimal digits.</td></tr><tr><td>boolean</td><td>Boolean value with allowed values true or false</td></tr><tr><td>empty</td><td>No value, data is carried in suboptions</td></tr><tr><td>fqdn</td><td>Fully qualified domain name (e.g. <a href=https://www.example.com target=_blank rel=noopener>www.example.com</a>)</td></tr><tr><td>ipv4-address</td><td>IPv4 address in the usual dotted-decimal notation (e.g. 192.0.2.1)</td></tr><tr><td>ipv6-address</td><td>IPv6 address in the usual colon notation (e.g. 2001:db8::1)</td></tr><tr><td>ipv6-prefix</td><td>IPv6 prefix and prefix length specified using CIDR notation, e.g. 2001:db8:1::/64. This data type is used to represent an 8-bit field conveying a prefix length and the variable length prefix value</td></tr><tr><td>psid</td><td>PSID and PSID length separated by a slash</td></tr><tr><td>record</td><td>Structured data that may be comprised of any types (except &ldquo;record&rdquo; and &ldquo;empty&rdquo;). The array flag applies to the last field only.</td></tr><tr><td>string</td><td>Any text</td></tr><tr><td>tuple</td><td>A length encoded as a 8 (16 for DHCPv6) bit unsigned integer followed by a string of this length</td></tr><tr><td>uint8</td><td>8 bit unsigned integer with allowed values 0 to 255</td></tr><tr><td>uint16</td><td>16 bit unsigned integer with allowed values 0 to 65535</td></tr><tr><td>uint32</td><td>32 bit unsigned integer with allowed values 0 to 4294967295</td></tr><tr><td>int8</td><td>8 bit signed integer with allowed values -128 to 127</td></tr><tr><td>int16</td><td>16 bit signed integer with allowed values -32768 to 32767</td></tr><tr><td>int32</td><td>32 bit signed integer with allowed values -2147483648 to 2147483647</td></tr></tbody></table><h2 id=установка><span class=section-num>3</span> Установка</h2><ul><li>Устанавливаем сервер Linux (см. <a href=https://yamadharma.github.io/ru/post/2022/08/12/rockylinux-server-installation/>Rocky Linux. Установка сервера</a>).</li></ul><h3 id=репозиторий-rockylinux><span class=section-num>3.1</span> Репозиторий RockyLinux</h3><ul><li>Текущая версия в репозитории: 2.2.x.</li><li>В версии 2.3.2 изменили систему именования.</li><li>Если в дальнейше планируется обновление, возможно стоит использовать репозитории ISC.</li><li>Подключаем репозиторий <em>EPEL</em>:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a></span><span class=cl>dnf config-manager --set-enabled crb
</span></span><span class=line><span class=ln id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a></span><span class=cl>dnf -y install epel-release
</span></span></code></pre></div></li><li>Устанавливаем сервер <em>Kea</em>:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a></span><span class=cl>dnf -y install kea kea-hooks
</span></span></code></pre></div></li></ul><h3 id=репозиторий-isc><span class=section-num>3.2</span> Репозиторий ISC</h3><ul><li>Текущая стабильная версия в репозитории: 2.6.x.</li></ul><h4 id=kea-2-dot-6><span class=section-num>3.2.1</span> Kea-2.6</h4><ul><li>Подключаем репозиторий:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a></span><span class=cl>curl -1sLf <span class=s1>&#39;https://dl.cloudsmith.io/public/isc/kea-2-6/setup.rpm.sh&#39;</span> <span class=p>|</span> sudo -E bash
</span></span></code></pre></div></li><li>Отключите старые репозитории, если они были установлены:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a></span><span class=cl>dnf config-manager --disable isc-kea-2-4 isc-kea-2-4-noarch isc-kea-2-4-source
</span></span><span class=line><span class=ln id=hl-3-2><a class=lnlinks href=#hl-3-2>2</a></span><span class=cl>dnf clean all
</span></span></code></pre></div></li><li>Проверьте, что репозитории отключены:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a></span><span class=cl>dnf repolist
</span></span></code></pre></div></li><li>Устанавливаем сервер <em>Kea</em>:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a></span><span class=cl>dnf -y install isc-kea isc-kea-hooks
</span></span></code></pre></div></li></ul><h4 id=kea-2-dot-4><span class=section-num>3.2.2</span> Kea-2.4</h4><ul><li>Подключаем репозиторий:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-6-1><a class=lnlinks href=#hl-6-1>1</a></span><span class=cl>curl -1sLf <span class=s1>&#39;https://dl.cloudsmith.io/public/isc/kea-2-4/setup.rpm.sh&#39;</span> <span class=p>|</span> sudo -E bash
</span></span></code></pre></div></li><li>Устанавливаем сервер <em>Kea</em>:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a></span><span class=cl>dnf -y install isc-kea isc-kea-hooks
</span></span></code></pre></div></li></ul><h3 id=инструментарий-миграции-keama><span class=section-num>3.3</span> Инструментарий миграции keama</h3><ul><li>При необходимости миграции с реализации ISC DHCP на ISC KEA можно установить помощник миграции.</li><li>Документация:<ul><li><a href=https://gitlab.isc.org/isc-projects/dhcp/-/wikis/kea-migration-assistant target=_blank rel=noopener>https://gitlab.isc.org/isc-projects/dhcp/-/wikis/kea-migration-assistant</a></li><li><a href=https://kb.isc.org/docs/migrating-from-isc-dhcp-to-kea-dhcp-using-the-migration-assistant target=_blank rel=noopener>https://kb.isc.org/docs/migrating-from-isc-dhcp-to-kea-dhcp-using-the-migration-assistant</a></li></ul></li><li>Репозиторий: <a href=https://gitlab.isc.org/isc-projects/dhcp/-/tree/master/keama target=_blank rel=noopener>https://gitlab.isc.org/isc-projects/dhcp/-/tree/master/keama</a></li><li>Бинарные сборки:<ul><li><a href=https://cloudsmith.io/~isc/repos/keama/packages/ target=_blank rel=noopener>https://cloudsmith.io/~isc/repos/keama/packages/</a></li><li>заблокирован доступ из России</li></ul></li><li>Подключаем репозиторий бинарных файлов:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-8-1><a class=lnlinks href=#hl-8-1>1</a></span><span class=cl>curl -1sLf <span class=s1>&#39;https://dl.cloudsmith.io/public/isc/keama/setup.rpm.sh&#39;</span> <span class=p>|</span> sudo -E bash
</span></span></code></pre></div></li><li>Устанавливаем сервер <em>Kea</em>:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-9-1><a class=lnlinks href=#hl-9-1>1</a></span><span class=cl>dnf -y install isc-dhcp-keama
</span></span></code></pre></div></li></ul><h2 id=подготовка><span class=section-num>4</span> Подготовка</h2><h3 id=брандмауэр><span class=section-num>4.1</span> Брандмауэр</h3><ul><li>Сконфигурируем брандмауэр:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-10-1><a class=lnlinks href=#hl-10-1>1</a></span><span class=cl>firewall-cmd --add-service<span class=o>=</span>dhcp --permanent
</span></span><span class=line><span class=ln id=hl-10-2><a class=lnlinks href=#hl-10-2>2</a></span><span class=cl>firewall-cmd --reload
</span></span></code></pre></div></li></ul><h2 id=подготовка-базы-данных><span class=section-num>5</span> Подготовка базы данных</h2><h3 id=postgresql><span class=section-num>5.1</span> PostgreSQL</h3><ul><li>Установка базы данных:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a></span><span class=cl>dnf install postgresql-server
</span></span></code></pre></div></li><li>Проверьте временную зону сервера:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-12-1><a class=lnlinks href=#hl-12-1>1</a></span><span class=cl>date +%Z
</span></span></code></pre></div></li><li>Рекомендуется использовать временную зону <code>UTC</code>.</li><li>Инициализируйте базу данных:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-13-1><a class=lnlinks href=#hl-13-1>1</a></span><span class=cl>postgresql-setup --initdb
</span></span></code></pre></div></li><li>Запустим базу данных:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-14-1><a class=lnlinks href=#hl-14-1>1</a></span><span class=cl>systemctl <span class=nb>enable</span> --now postgresql.service
</span></span></code></pre></div></li></ul><h4 id=создание-базы-данных><span class=section-num>5.1.1</span> Создание базы данных</h4><ul><li>Подключимся к базе данных:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-15-1><a class=lnlinks href=#hl-15-1>1</a></span><span class=cl>sudo -i -u postgres psql postgres
</span></span></code></pre></div></li><li>Проверим временную зону базы:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-16-1><a class=lnlinks href=#hl-16-1>1</a></span><span class=cl>show timezone<span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-16-2><a class=lnlinks href=#hl-16-2>2</a></span><span class=cl>SELECT * FROM pg_timezone_names WHERE <span class=nv>name</span> <span class=o>=</span> current_setting<span class=o>(</span><span class=s1>&#39;TIMEZONE&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span></code></pre></div></li><li>Настройки временной зоны для postgresql находятся в файле <code>/var/lib/pgsql/data/postgresql.conf</code>:<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln id=hl-17-1><a class=lnlinks href=#hl-17-1>1</a></span><span class=cl>timezone = &#39;Etc/UTC&#39;
</span></span></code></pre></div></li><li>Можно использовать следующие названия:<ul><li><code>database-name</code> : <code>kea</code>;</li><li><code>user-name</code> : <code>kea</code>;</li><li><code>password</code> : сгенерите нужный пароль.</li></ul></li><li>Создадим базу данных:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-18-1><a class=lnlinks href=#hl-18-1>1</a></span><span class=cl>CREATE DATABASE database-name<span class=p>;</span>
</span></span></code></pre></div></li><li>Создадим пользователя и пароль для взаимодействия с базой:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-19-1><a class=lnlinks href=#hl-19-1>1</a></span><span class=cl>CREATE USER user-name WITH PASSWORD <span class=s1>&#39;password&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-19-2><a class=lnlinks href=#hl-19-2>2</a></span><span class=cl>GRANT ALL PRIVILEGES ON DATABASE database-name TO user-name<span class=p>;</span>
</span></span></code></pre></div></li><li>Выйдем из интерфейса базы данных:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-20-1><a class=lnlinks href=#hl-20-1>1</a></span><span class=cl><span class=se>\q</span>
</span></span></code></pre></div></li></ul><h4 id=заполнение-базы-данных><span class=section-num>5.1.2</span> Заполнение базы данных</h4><ul><li>Настроим доступ к базе данных в файле <code>/var/lib/pgsql/data/pg_hba.conf</code>.</li><li>Добавьте эти записи до других записей:<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln id=hl-21-1><a class=lnlinks href=#hl-21-1>1</a></span><span class=cl>local   database-name    user-name                                 password
</span></span><span class=line><span class=ln id=hl-21-2><a class=lnlinks href=#hl-21-2>2</a></span><span class=cl>host    database-name    user-name          127.0.0.1/32           password
</span></span><span class=line><span class=ln id=hl-21-3><a class=lnlinks href=#hl-21-3>3</a></span><span class=cl>host    database-name    user-name          ::1/128                password
</span></span></code></pre></div></li><li>Перезагрузите postgresql:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-22-1><a class=lnlinks href=#hl-22-1>1</a></span><span class=cl>systemctl restart postgresql.service
</span></span></code></pre></div></li></ul><ol><li><p>Загрузка значений вручную</p><ul><li>Загрузим значения в базу данных:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-23-1><a class=lnlinks href=#hl-23-1>1</a></span><span class=cl>psql -d database-name -U user-name -f /usr/share/kea/scripts/pgsql/dhcpdb_create.pgsql
</span></span></code></pre></div></li></ul></li></ol><ol start=2><li><p>Загрузка значений через <code>kea-admin</code></p><ul><li>Загрузим значения в базу данных:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-24-1><a class=lnlinks href=#hl-24-1>1</a></span><span class=cl>kea-admin db-init pgsql -u database-user -p database-password -n database-name
</span></span></code></pre></div></li></ul></li></ol><h4 id=обновление-базы-данных><span class=section-num>5.1.3</span> Обновление базы данных</h4><ul><li>При переходе с предыдущей версии <code>kea</code> надо обновить базу данных.</li><li>Проверьте текущую версию базы данных:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-25-1><a class=lnlinks href=#hl-25-1>1</a></span><span class=cl>kea-admin db-version pgsql -u database-user -p database-password -n database-name
</span></span></code></pre></div></li><li>Обновите базу (при необходимости):<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-26-1><a class=lnlinks href=#hl-26-1>1</a></span><span class=cl>kea-admin db-upgrade pgsql -u database-user -p database-password -n database-name
</span></span></code></pre></div></li></ul><h3 id=миграция-с-isc-dhcp-на-isc-kea><span class=section-num>5.2</span> Миграция с ISC DHCP на ISC Kea</h3><ul><li>Преобразуем конфигурационные файлы:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-27-1><a class=lnlinks href=#hl-27-1>1</a></span><span class=cl>keama -4 -i dhcpd.conf -o kea-dhcp4.conf
</span></span></code></pre></div></li></ul><h3 id=тьюнинг-базы-данных><span class=section-num>5.3</span> Тьюнинг базы данных</h3><ul><li>Отключите синхронные коммиты.</li><li>Можно отключить в базе данных:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-28-1><a class=lnlinks href=#hl-28-1>1</a></span><span class=cl>sudo -i -u postgres psql postgres
</span></span><span class=line><span class=ln id=hl-28-2><a class=lnlinks href=#hl-28-2>2</a></span><span class=cl>ALTER SYSTEM SET <span class=nv>synchronous_commit</span><span class=o>=</span>OFF<span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-28-3><a class=lnlinks href=#hl-28-3>3</a></span><span class=cl><span class=se>\q</span>
</span></span></code></pre></div></li><li>Можно задать в файле конфигурации <code>/var/lib/pgsql/data/postgresql.conf</code>:<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln id=hl-29-1><a class=lnlinks href=#hl-29-1>1</a></span><span class=cl>synchronous_commit = off
</span></span></code></pre></div></li></ul><h3 id=конфигурация-базы-данных-для-kea><span class=section-num>5.4</span> Конфигурация базы данных для Kea</h3><ul><li>Добавим конфигурацию базы данных:<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln id=hl-30-1><a class=lnlinks href=#hl-30-1> 1</a></span><span class=cl>&#34;Dhcp4&#34;: {
</span></span><span class=line><span class=ln id=hl-30-2><a class=lnlinks href=#hl-30-2> 2</a></span><span class=cl>    &#34;lease-database&#34;: {
</span></span><span class=line><span class=ln id=hl-30-3><a class=lnlinks href=#hl-30-3> 3</a></span><span class=cl>        &#34;type&#34;: &#34;postgresql&#34;,
</span></span><span class=line><span class=ln id=hl-30-4><a class=lnlinks href=#hl-30-4> 4</a></span><span class=cl>        &#34;name&#34;: &#34;database_name&#34;,
</span></span><span class=line><span class=ln id=hl-30-5><a class=lnlinks href=#hl-30-5> 5</a></span><span class=cl>        &#34;host&#34; : &#34;localhost&#34;,
</span></span><span class=line><span class=ln id=hl-30-6><a class=lnlinks href=#hl-30-6> 6</a></span><span class=cl>        &#34;user&#34;: &#34;user_name&#34;,
</span></span><span class=line><span class=ln id=hl-30-7><a class=lnlinks href=#hl-30-7> 7</a></span><span class=cl>        &#34;password&#34;: &#34;password&#34;
</span></span><span class=line><span class=ln id=hl-30-8><a class=lnlinks href=#hl-30-8> 8</a></span><span class=cl>    },
</span></span><span class=line><span class=ln id=hl-30-9><a class=lnlinks href=#hl-30-9> 9</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-30-10><a class=lnlinks href=#hl-30-10>10</a></span><span class=cl>    &#34;hosts-database&#34;: {
</span></span><span class=line><span class=ln id=hl-30-11><a class=lnlinks href=#hl-30-11>11</a></span><span class=cl>        &#34;type&#34;: &#34;postgresql&#34;,
</span></span><span class=line><span class=ln id=hl-30-12><a class=lnlinks href=#hl-30-12>12</a></span><span class=cl>        &#34;name&#34;: &#34;database_name&#34;,
</span></span><span class=line><span class=ln id=hl-30-13><a class=lnlinks href=#hl-30-13>13</a></span><span class=cl>        &#34;host&#34; : &#34;localhost&#34;,
</span></span><span class=line><span class=ln id=hl-30-14><a class=lnlinks href=#hl-30-14>14</a></span><span class=cl>        &#34;user&#34;: &#34;user_name&#34;,
</span></span><span class=line><span class=ln id=hl-30-15><a class=lnlinks href=#hl-30-15>15</a></span><span class=cl>        &#34;password&#34;: &#34;password&#34;
</span></span><span class=line><span class=ln id=hl-30-16><a class=lnlinks href=#hl-30-16>16</a></span><span class=cl>    },
</span></span><span class=line><span class=ln id=hl-30-17><a class=lnlinks href=#hl-30-17>17</a></span><span class=cl>}
</span></span></code></pre></div></li></ul><h2 id=виртуальные-интерфейсы><span class=section-num>6</span> Виртуальные интерфейсы</h2><ul><li>Для подключения к сети использовал интерфейсы VLAN (см. <a href=https://yamadharma.github.io/ru/post/2024/05/13/linux-vlan-configuration/>Linux. Настройка vlan</a>)</li></ul><h3 id=миграция-интерфейсов><span class=section-num>6.1</span> Миграция интерфейсов</h3><ul><li><p>Файлы описания интерфейсов на старой системе имеют следующий вид (<code>/etc/sysconfig/network-scripts/ifcfg-eth1.200</code>):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln id=hl-31-1><a class=lnlinks href=#hl-31-1>1</a></span><span class=cl>VLAN=yes
</span></span><span class=line><span class=ln id=hl-31-2><a class=lnlinks href=#hl-31-2>2</a></span><span class=cl>DEVICE=eth1.200
</span></span><span class=line><span class=ln id=hl-31-3><a class=lnlinks href=#hl-31-3>3</a></span><span class=cl>BOOTPROTO=none
</span></span><span class=line><span class=ln id=hl-31-4><a class=lnlinks href=#hl-31-4>4</a></span><span class=cl>ONBOOT=yes
</span></span><span class=line><span class=ln id=hl-31-5><a class=lnlinks href=#hl-31-5>5</a></span><span class=cl>TYPE=Ethernet
</span></span><span class=line><span class=ln id=hl-31-6><a class=lnlinks href=#hl-31-6>6</a></span><span class=cl>IPADDR=10.200.0.2
</span></span><span class=line><span class=ln id=hl-31-7><a class=lnlinks href=#hl-31-7>7</a></span><span class=cl>NETMASK=255.255.0.0
</span></span><span class=line><span class=ln id=hl-31-8><a class=lnlinks href=#hl-31-8>8</a></span><span class=cl>NETWORK=10.200.0.0
</span></span><span class=line><span class=ln id=hl-31-9><a class=lnlinks href=#hl-31-9>9</a></span><span class=cl>BROADCAST=10.200.255.255
</span></span></code></pre></div></li><li><p>Для миграции сделал набор скриптов.</p></li><li><p>Скрипт для извлечения параметров интерфейсов (<code>mk-if-list</code>):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=ln id=hl-32-1><a class=lnlinks href=#hl-32-1> 1</a></span><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=ln id=hl-32-2><a class=lnlinks href=#hl-32-2> 2</a></span><span class=cl><span class=cp></span>
</span></span><span class=line><span class=ln id=hl-32-3><a class=lnlinks href=#hl-32-3> 3</a></span><span class=cl><span class=nv>OUTFILE</span><span class=o>=</span>iflist
</span></span><span class=line><span class=ln id=hl-32-4><a class=lnlinks href=#hl-32-4> 4</a></span><span class=cl><span class=o>[[</span> -f <span class=si>${</span><span class=nv>OUTFILE</span><span class=si>}</span> <span class=o>]]</span> <span class=o>&amp;&amp;</span> rm <span class=si>${</span><span class=nv>OUTFILE</span><span class=si>}</span>
</span></span><span class=line><span class=ln id=hl-32-5><a class=lnlinks href=#hl-32-5> 5</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-32-6><a class=lnlinks href=#hl-32-6> 6</a></span><span class=cl><span class=k>for</span> i in ifcfg-eth*.*
</span></span><span class=line><span class=ln id=hl-32-7><a class=lnlinks href=#hl-32-7> 7</a></span><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=ln id=hl-32-8><a class=lnlinks href=#hl-32-8> 8</a></span><span class=cl>        <span class=nv>vlan_id</span><span class=o>=</span><span class=k>$(</span>grep <span class=nv>DEVICE</span><span class=o>=</span> <span class=si>${</span><span class=nv>i</span><span class=si>}</span> <span class=p>|</span> cut -d <span class=s2>&#34;.&#34;</span> -f 2<span class=k>)</span>
</span></span><span class=line><span class=ln id=hl-32-9><a class=lnlinks href=#hl-32-9> 9</a></span><span class=cl>        <span class=nv>ip</span><span class=o>=</span><span class=k>$(</span>grep <span class=nv>IPADDR</span><span class=o>=</span> <span class=si>${</span><span class=nv>i</span><span class=si>}</span> <span class=p>|</span> cut -d <span class=s2>&#34;=&#34;</span> -f 2<span class=k>)</span>
</span></span><span class=line><span class=ln id=hl-32-10><a class=lnlinks href=#hl-32-10>10</a></span><span class=cl>        <span class=nv>mask</span><span class=o>=</span><span class=k>$(</span>grep <span class=nv>NETMASK</span><span class=o>=</span> <span class=si>${</span><span class=nv>i</span><span class=si>}</span> <span class=p>|</span> cut -d <span class=s2>&#34;=&#34;</span> -f 2<span class=k>)</span>
</span></span><span class=line><span class=ln id=hl-32-11><a class=lnlinks href=#hl-32-11>11</a></span><span class=cl>        <span class=nv>prefix</span><span class=o>=</span><span class=k>$(</span>ipcalc -p 1.1.1.1 <span class=si>${</span><span class=nv>mask</span><span class=si>}</span>  <span class=p>|</span> sed -n <span class=s1>&#39;s:^PREFIX=\(.*\):\1:p&#39;</span><span class=k>)</span>
</span></span><span class=line><span class=ln id=hl-32-12><a class=lnlinks href=#hl-32-12>12</a></span><span class=cl>        <span class=nb>echo</span> <span class=si>${</span><span class=nv>vlan_id</span><span class=si>}</span><span class=s2>&#34; &#34;</span><span class=si>${</span><span class=nv>ip</span><span class=si>}</span><span class=s2>&#34;/&#34;</span><span class=si>${</span><span class=nv>prefix</span><span class=si>}</span> &gt;&gt; <span class=si>${</span><span class=nv>OUTFILE</span><span class=si>}</span>
</span></span><span class=line><span class=ln id=hl-32-13><a class=lnlinks href=#hl-32-13>13</a></span><span class=cl><span class=k>done</span>
</span></span></code></pre></div><ul><li>Для скрипта необходима утилита <code>ipcalc</code>:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-33-1><a class=lnlinks href=#hl-33-1>1</a></span><span class=cl>dnf -y install ipcalc
</span></span></code></pre></div></li></ul></li><li><p>Получившийся файл <code>iflist</code> имеет следующий формат:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln id=hl-34-1><a class=lnlinks href=#hl-34-1>1</a></span><span class=cl>200 10.200.0.2/16
</span></span></code></pre></div></li><li><p>Скрипт <code>mk-if-script</code> для получения команд генерации интерфейсов VLAN:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-awk data-lang=awk><span class=line><span class=ln id=hl-35-1><a class=lnlinks href=#hl-35-1>1</a></span><span class=cl><span class=c1>#!/usr/bin/awk -f</span>
</span></span><span class=line><span class=ln id=hl-35-2><a class=lnlinks href=#hl-35-2>2</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-35-3><a class=lnlinks href=#hl-35-3>3</a></span><span class=cl><span class=nb>BEGIN</span> <span class=p>{</span> <span class=kr>print</span> <span class=s2>&#34;#!/bin/sh\n&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-35-4><a class=lnlinks href=#hl-35-4>4</a></span><span class=cl><span class=p>{</span> <span class=kr>print</span> <span class=s2>&#34;nmcli connection add type vlan con-name vlan&#34;</span><span class=o>$</span><span class=mi>1</span><span class=s2>&#34;-con ifname vlan&#34;</span><span class=o>$</span><span class=mi>1</span><span class=s2>&#34;-if dev eno1 id &#34;</span><span class=o>$</span><span class=mi>1</span><span class=s2>&#34;\n&#34;&#34;nmcli connection modify vlan&#34;</span><span class=o>$</span><span class=mi>1</span><span class=s2>&#34;-con ipv4.addresses &#34;</span><span class=o>$</span><span class=mi>2</span><span class=s2>&#34;\n&#34;&#34;sudo nmcli connection modify vlan&#34;</span><span class=o>$</span><span class=mi>1</span><span class=s2>&#34;-con ipv4.method manual&#34;</span> <span class=p>}</span>
</span></span></code></pre></div></li><li><p>Получим файл с командами интерфейсов:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-36-1><a class=lnlinks href=#hl-36-1>1</a></span><span class=cl>./mk-if-script iflist &gt; iflist-run
</span></span></code></pre></div></li><li><p>Сгенерим новые интерфейсы:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-37-1><a class=lnlinks href=#hl-37-1>1</a></span><span class=cl>chmod +x iflist-run
</span></span><span class=line><span class=ln id=hl-37-2><a class=lnlinks href=#hl-37-2>2</a></span><span class=cl>./iflist-run
</span></span></code></pre></div></li></ul><h3 id=конфигурация-интерфейсов-для-kea><span class=section-num>6.2</span> Конфигурация интерфейсов для Kea</h3><ul><li>Добавим интерфейсы в файл конфигурации <code>/etc/kea/kea-dhcp4.conf</code>:<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln id=hl-38-1><a class=lnlinks href=#hl-38-1> 1</a></span><span class=cl>&#34;Dhcp4&#34;: {
</span></span><span class=line><span class=ln id=hl-38-2><a class=lnlinks href=#hl-38-2> 2</a></span><span class=cl>    &#34;interfaces-config&#34;: {
</span></span><span class=line><span class=ln id=hl-38-3><a class=lnlinks href=#hl-38-3> 3</a></span><span class=cl>        &#34;interfaces&#34;: [
</span></span><span class=line><span class=ln id=hl-38-4><a class=lnlinks href=#hl-38-4> 4</a></span><span class=cl>            &#34;vlan200-if&#34;,
</span></span><span class=line><span class=ln id=hl-38-5><a class=lnlinks href=#hl-38-5> 5</a></span><span class=cl>            &#34;vlan201-if&#34;,
</span></span><span class=line><span class=ln id=hl-38-6><a class=lnlinks href=#hl-38-6> 6</a></span><span class=cl>            &#34;vlan202-if&#34;
</span></span><span class=line><span class=ln id=hl-38-7><a class=lnlinks href=#hl-38-7> 7</a></span><span class=cl>        ],
</span></span><span class=line><span class=ln id=hl-38-8><a class=lnlinks href=#hl-38-8> 8</a></span><span class=cl>        &#34;dhcp-socket-type&#34;: &#34;raw&#34;
</span></span><span class=line><span class=ln id=hl-38-9><a class=lnlinks href=#hl-38-9> 9</a></span><span class=cl>    },
</span></span><span class=line><span class=ln id=hl-38-10><a class=lnlinks href=#hl-38-10>10</a></span><span class=cl>}
</span></span></code></pre></div></li></ul><h2 id=управляющий-агент-kea-ctrl-agent><span class=section-num>7</span> Управляющий агент kea-ctrl-agent</h2><h3 id=по-умолчанию><span class=section-num>7.1</span> По умолчанию</h3><ul><li>По умолчанию агент устанавливает unix-сокеты и доступ по сети для локального хоста.</li><li>Если ничего другого не надо, то дополнительной настройки не требуется.</li></ul><h3 id=доступ-по-сети><span class=section-num>7.2</span> Доступ по сети</h3><ul><li>Для доступа к управляющему агенту из вне необходимо настроить сетевой доступ.</li><li>Например, это может понадобиться для интеграции с Netbox (см. <a href=https://yamadharma.github.io/ru/post/2024/07/22/netbox-plugin-netbox-kea/>NetBox. Плагин netbox-kea</a>).</li></ul><h4 id=брандмауэр><span class=section-num>7.2.1</span> Брандмауэр</h4><ul><li>Сконфигурируем брандмауэр:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-39-1><a class=lnlinks href=#hl-39-1>1</a></span><span class=cl>firewall-cmd --add-port<span class=o>=</span>8000/tcp --permanent
</span></span><span class=line><span class=ln id=hl-39-2><a class=lnlinks href=#hl-39-2>2</a></span><span class=cl>firewall-cmd --reload
</span></span></code></pre></div></li></ul><h4 id=сертификаты><span class=section-num>7.2.2</span> Сертификаты</h4><ul><li>В качестве сертификатов можно использовать сертификаты ACME.</li><li>Если сертификаты не установлены, то используется протокол <code>http</code>.</li></ul><h4 id=конфигурационный-файл><span class=section-num>7.2.3</span> Конфигурационный файл</h4><ul><li>Конфигурация в файле будет будет иметь вид:<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln id=hl-40-1><a class=lnlinks href=#hl-40-1> 1</a></span><span class=cl>{
</span></span><span class=line><span class=ln id=hl-40-2><a class=lnlinks href=#hl-40-2> 2</a></span><span class=cl>    &#34;Control-agent&#34;: {
</span></span><span class=line><span class=ln id=hl-40-3><a class=lnlinks href=#hl-40-3> 3</a></span><span class=cl>        &#34;http-host&#34;: &#34;10.20.30.40&#34;,
</span></span><span class=line><span class=ln id=hl-40-4><a class=lnlinks href=#hl-40-4> 4</a></span><span class=cl>        &#34;http-port&#34;: 8000,
</span></span><span class=line><span class=ln id=hl-40-5><a class=lnlinks href=#hl-40-5> 5</a></span><span class=cl>        &#34;trust-anchor&#34;: &#34;/path/to/the/ca-cert.pem&#34;,
</span></span><span class=line><span class=ln id=hl-40-6><a class=lnlinks href=#hl-40-6> 6</a></span><span class=cl>        &#34;cert-file&#34;: &#34;/path/to/the/agent-cert.pem&#34;,
</span></span><span class=line><span class=ln id=hl-40-7><a class=lnlinks href=#hl-40-7> 7</a></span><span class=cl>        &#34;key-file&#34;: &#34;/path/to/the/agent-key.pem&#34;,
</span></span><span class=line><span class=ln id=hl-40-8><a class=lnlinks href=#hl-40-8> 8</a></span><span class=cl>        &#34;cert-required&#34;: true,
</span></span><span class=line><span class=ln id=hl-40-9><a class=lnlinks href=#hl-40-9> 9</a></span><span class=cl>        &#34;authentication&#34;: {
</span></span><span class=line><span class=ln id=hl-40-10><a class=lnlinks href=#hl-40-10>10</a></span><span class=cl>            &#34;type&#34;: &#34;basic&#34;,
</span></span><span class=line><span class=ln id=hl-40-11><a class=lnlinks href=#hl-40-11>11</a></span><span class=cl>            &#34;realm&#34;: &#34;kea-control-agent&#34;,
</span></span><span class=line><span class=ln id=hl-40-12><a class=lnlinks href=#hl-40-12>12</a></span><span class=cl>            &#34;clients&#34;: [
</span></span><span class=line><span class=ln id=hl-40-13><a class=lnlinks href=#hl-40-13>13</a></span><span class=cl>                {
</span></span><span class=line><span class=ln id=hl-40-14><a class=lnlinks href=#hl-40-14>14</a></span><span class=cl>                    &#34;user&#34;: &#34;admin&#34;,
</span></span><span class=line><span class=ln id=hl-40-15><a class=lnlinks href=#hl-40-15>15</a></span><span class=cl>                    &#34;password&#34;: &#34;1234&#34;
</span></span><span class=line><span class=ln id=hl-40-16><a class=lnlinks href=#hl-40-16>16</a></span><span class=cl>                }
</span></span><span class=line><span class=ln id=hl-40-17><a class=lnlinks href=#hl-40-17>17</a></span><span class=cl>            ]
</span></span><span class=line><span class=ln id=hl-40-18><a class=lnlinks href=#hl-40-18>18</a></span><span class=cl>        },
</span></span><span class=line><span class=ln id=hl-40-19><a class=lnlinks href=#hl-40-19>19</a></span><span class=cl>        ...
</span></span><span class=line><span class=ln id=hl-40-20><a class=lnlinks href=#hl-40-20>20</a></span><span class=cl>    }
</span></span></code></pre></div></li></ul><h4 id=пример-запроса><span class=section-num>7.2.4</span> Пример запроса</h4><ul><li>Пример запроса с использованием RESTful API:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-41-1><a class=lnlinks href=#hl-41-1>1</a></span><span class=cl>curl -u admin:1234 -X POST -H <span class=s2>&#34;Content-Type: application/json&#34;</span> -d <span class=s1>&#39;{ &#34;command&#34;: &#34;config-get&#34;, &#34;service&#34;: [ &#34;dhcp4&#34; ] }&#39;</span> http://10.20.30.40:8000/
</span></span></code></pre></div></li></ul><h2 id=запуск><span class=section-num>8</span> Запуск</h2><ul><li>Запуск управляющего агента:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-42-1><a class=lnlinks href=#hl-42-1>1</a></span><span class=cl>systemctl <span class=nb>enable</span> --now kea-ctrl-agent.service
</span></span></code></pre></div></li><li>Запуск сервера DHCPv4:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-43-1><a class=lnlinks href=#hl-43-1>1</a></span><span class=cl>systemctl <span class=nb>enable</span> --now kea-dhcp4.service
</span></span></code></pre></div></li><li>Запуск сервиса DDNS:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-44-1><a class=lnlinks href=#hl-44-1>1</a></span><span class=cl>systemctl <span class=nb>enable</span> --now kea-dhcp-ddns.service
</span></span></code></pre></div></li></ul><h2 id=утилиты><span class=section-num>9</span> Утилиты</h2><h3 id=просмотр-арендованных-адресов><span class=section-num>9.1</span> Просмотр арендованных адресов</h3><ul><li>Арендованные адреса можно смотреть в базе данных.</li><li>Для разных баз данных существуют конкретные утилиты.</li></ul><h4 id=postgres><span class=section-num>9.1.1</span> Postgres</h4><ol><li><p>kea-list-leases</p><ul><li>Репозиторий: <a href=https://git.sr.ht/~cstrotm/kea-list-leases target=_blank rel=noopener>https://git.sr.ht/~cstrotm/kea-list-leases</a></li><li>В репозитории скрипт и конфигурационный файл.</li></ul><ol><li><p>Пререквизиты</p><ul><li>Нужно установить драйвер PostgreSQL для python : psycopg (<a href=https://www.psycopg.org/ target=_blank rel=noopener>https://www.psycopg.org/</a>):<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln id=hl-45-1><a class=lnlinks href=#hl-45-1>1</a></span><span class=cl>dnf -y install python3-psycopg2
</span></span></code></pre></div></li></ul></li></ol><ol start=2><li><p>Настройка</p><ul><li>Задайте конфигурационный файл <code>kea-list-leases.conf</code> (в том же каталоге, что и скрипт):<div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=ln id=hl-46-1><a class=lnlinks href=#hl-46-1>1</a></span><span class=cl><span class=p>[</span><span class=nx>postgresql</span><span class=p>]</span>
</span></span><span class=line><span class=ln id=hl-46-2><a class=lnlinks href=#hl-46-2>2</a></span><span class=cl><span class=nx>host</span><span class=p>=</span><span class=mf>127.0</span><span class=p>.</span><span class=mf>0.1</span>
</span></span><span class=line><span class=ln id=hl-46-3><a class=lnlinks href=#hl-46-3>3</a></span><span class=cl><span class=nx>database</span><span class=p>=</span><span class=nx>kea_lease_db</span>
</span></span><span class=line><span class=ln id=hl-46-4><a class=lnlinks href=#hl-46-4>4</a></span><span class=cl><span class=nx>user</span><span class=p>=</span><span class=nx>kea</span>
</span></span><span class=line><span class=ln id=hl-46-5><a class=lnlinks href=#hl-46-5>5</a></span><span class=cl><span class=nx>password</span><span class=p>=</span><span class=nx>password</span>
</span></span></code></pre></div></li></ul></li></ol></li></ol><h2 id=после-установки><span class=section-num>10</span> После установки</h2><ul><li>Настройте DDNS (см. <a href=https://yamadharma.github.io/ru/post/2024/06/18/dynamically-updating-bind-dns-kea-dhcp/>Динамическое обновление DNS-сервера BIND при помощи Kea DHCP</a>)</li></ul><hr><div class=bl-section><h4>Links to this note</h4><div class=backlinks><ul><li><a href=https://yamadharma.github.io/ru/post/2024/07/22/netbox-plugin-netbox-kea/>NetBox. Плагин netbox-kea</a></li><li><a href=https://yamadharma.github.io/ru/post/2024/06/18/dhcp-kea-server/>Сервер DHCP Kea</a></li></ul></div></div></div><div class=article-tags><a class="badge badge-light" href=https://yamadharma.github.io/ru/tag/network/>Network</a>
<a class="badge badge-light" href=https://yamadharma.github.io/ru/tag/linux/>Linux</a>
<a class="badge badge-light" href=https://yamadharma.github.io/ru/tag/sysadmin/>Sysadmin</a></div><div class=share-box><ul class=share><li><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fyamadharma.github.io%2Fru%2Fpost%2F2024%2F05%2F07%2Fdhcp-server-installation%2F&amp;text=DHCP.+%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0+%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0+DHCP+Kea" target=_blank rel=noopener class=share-btn-twitter aria-label=twitter><i class="fab fa-twitter"></i></a></li><li><a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fyamadharma.github.io%2Fru%2Fpost%2F2024%2F05%2F07%2Fdhcp-server-installation%2F&amp;t=DHCP.+%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0+%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0+DHCP+Kea" target=_blank rel=noopener class=share-btn-facebook aria-label=facebook><i class="fab fa-facebook"></i></a></li><li><a href="mailto:?subject=DHCP.%20%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0%20DHCP%20Kea&amp;body=https%3A%2F%2Fyamadharma.github.io%2Fru%2Fpost%2F2024%2F05%2F07%2Fdhcp-server-installation%2F" target=_blank rel=noopener class=share-btn-email aria-label=envelope><i class="fas fa-envelope"></i></a></li><li><a href="https://www.linkedin.com/shareArticle?url=https%3A%2F%2Fyamadharma.github.io%2Fru%2Fpost%2F2024%2F05%2F07%2Fdhcp-server-installation%2F&amp;title=DHCP.+%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0+%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0+DHCP+Kea" target=_blank rel=noopener class=share-btn-linkedin aria-label=linkedin-in><i class="fab fa-linkedin-in"></i></a></li><li><a href="whatsapp://send?text=DHCP.+%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0+%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0+DHCP+Kea%20https%3A%2F%2Fyamadharma.github.io%2Fru%2Fpost%2F2024%2F05%2F07%2Fdhcp-server-installation%2F" target=_blank rel=noopener class=share-btn-whatsapp aria-label=whatsapp><i class="fab fa-whatsapp"></i></a></li><li><a href="https://service.weibo.com/share/share.php?url=https%3A%2F%2Fyamadharma.github.io%2Fru%2Fpost%2F2024%2F05%2F07%2Fdhcp-server-installation%2F&amp;title=DHCP.+%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0+%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0+DHCP+Kea" target=_blank rel=noopener class=share-btn-weibo aria-label=weibo><i class="fab fa-weibo"></i></a></li></ul></div><div class="media author-card content-widget-hr"><a href=https://yamadharma.github.io/><img class="avatar mr-3 avatar-circle" src="https://s.gravatar.com/avatar/6196459c2beaa74e930539ef4dc180db?s=200" alt="Дмитрий Сергеевич Кулябов"></a><div class=media-body><h5 class=card-title><a href=https://yamadharma.github.io/>Дмитрий Сергеевич Кулябов</a></h5><h6 class=card-subtitle>Профессор кафедры теории вероятностей и кибербезопасности</h6><p class=card-text>Мои научные интересы включают физику, администрирование Unix и сетей.</p><ul class=network-icon aria-hidden=true><li><a href=https://yamadharma.github.io/ru/#contact><i class="fas fa-envelope"></i></a></li><li><a href=https://www.youtube.com/c/DmitryKulyabov target=_blank rel=noopener><i class="fab fa-youtube"></i></a></li><li><a href=https://orcid.org/0000-0002-0877-7063 target=_blank rel=noopener><i class="ai ai-orcid"></i></a></li><li><a href="https://www.elibrary.ru/author_profile.asp?authorid=360953" target=_blank rel=noopener><i class="fab fa-erlang"></i></a></li><li><a href=https://profiles.impactstory.org/u/0000-0002-0877-7063 target=_blank rel=noopener><i class="ai ai-impactstory"></i></a></li><li><a href=https://www.webofscience.com/wos/author/rid/I-3183-2013 target=_blank rel=noopener><i class="ai ai-researcherid"></i></a></li><li><a href="https://www.scopus.com/authid/detail.uri?authorId=35194130800" target=_blank rel=noopener><i class="ai ai-scopus"></i></a></li><li><a href="https://dblp.uni-trier.de/pers/hd/k/Kulyabov:Dmitry_S=" target=_blank rel=noopener><i class="ai ai-dblp"></i></a></li><li><a href="https://scholar.google.com/citations?user=D5XLDn4AAAAJ" target=_blank rel=noopener><i class="ai ai-google-scholar"></i></a></li><li><a href=https://www.researchgate.net/profile/Dmitry_Kulyabov target=_blank rel=noopener><i class="ai ai-researchgate"></i></a></li><li><a href=https://rudn.academia.edu/DmitryKulyabov target=_blank rel=noopener><i class="ai ai-academia"></i></a></li><li><a href=https://osf.io/5ya7v/ target=_blank rel=noopener><i class="ai ai-osf"></i></a></li><li><a href=http://arxiv.org/a/kulyabov_d_1 target=_blank rel=noopener><i class="ai ai-arxiv"></i></a></li><li><a href=https://bitbucket.org/yamadharma/ target=_blank rel=noopener><i class="fab fa-bitbucket"></i></a></li><li><a href=https://github.com/yamadharma target=_blank rel=noopener><i class="fab fa-github"></i></a></li><li><a href=https://gitlab.com/yamadharma target=_blank rel=noopener><i class="fab fa-gitlab"></i></a></li><li><a href=https://yamadharma.github.io/ru/post/index.xml><i class="fas fa-rss"></i></a></li></ul></div></div><div class="article-widget content-widget-hr"><h3>Похожие</h3><ul><li><a href=https://yamadharma.github.io/ru/post/2024/06/18/dynamically-updating-bind-dns-kea-dhcp/>Динамическое обновление DNS-сервера BIND при помощи Kea DHCP</a></li><li><a href=https://yamadharma.github.io/ru/post/2024/06/18/dhcp-kea-server/>Сервер DHCP Kea</a></li><li><a href=https://yamadharma.github.io/ru/post/2024/12/05/web-server-nginx/>Web-сервер Nginx</a></li><li><a href=https://yamadharma.github.io/ru/post/2024/11/02/gentoo-ebuild-rust/>Gentoo. Создание ebuild для Rust</a></li><li><a href=https://yamadharma.github.io/ru/post/2024/09/21/huawei-vcmp/>Huawei. Протокол VCMP</a></li></ul></div></div></article></div><div class=page-footer><div class=container><footer class=site-footer><p class="powered-by copyright-license-text">© 2006—2024 Dmitry S. Kulyabov. This work is licensed under <a href=https://creativecommons.org/licenses/by/4.0 rel="noopener noreferrer" target=_blank>CC BY 4.0</a></p><p class="powered-by footer-license-icons"><a href=https://creativecommons.org/licenses/by/4.0 rel="noopener noreferrer" target=_blank aria-label="Creative Commons"><i class="fab fa-creative-commons fa-2x" aria-hidden=true></i>
<i class="fab fa-creative-commons-by fa-2x" aria-hidden=true></i></a></p><p class=powered-by>Published with <a href="https://hugoblox.com/?utm_campaign=poweredby" target=_blank rel=noopener>Hugo Blox Builder</a> — the free, <a href=https://github.com/HugoBlox/hugo-blox-builder target=_blank rel=noopener>open source</a> website builder that empowers creators.</p></footer></div></div><script src=https://yamadharma.github.io/js/vendor-bundle.min.50933d940896e49f984a778650d5f7f5.js></script><script src=https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.min.js integrity crossorigin=anonymous></script><script id=search-hit-fuse-template type=text/x-template>
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script><script src=https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin=anonymous></script><script id=page-data type=application/json>{"use_headroom":true}</script><script src=https://yamadharma.github.io/js/wowchemy-headroom.db4755770454eb63685f8de785c0a172.js type=module></script><script src=https://yamadharma.github.io/ru/js/wowchemy.min.38bc0c3a6a7eed1b35a03377dafb000b.js></script><script src=https://yamadharma.github.io/js/wowchemy-map.a26e9d2f7238ba5b868384f1c5bc6477.js type=module></script><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Процитировать</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i> Копия
</a><a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i> Скачать</a><div id=modal-error></div></div></div></div></div><script src=https://yamadharma.github.io/js/wowchemy-publication.9c0e895144aef5a693008b5c5d450147.js type=module></script></body></html>