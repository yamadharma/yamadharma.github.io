---
title: "git. Пакет gir-repair"
author: ["Dmitry S. Kulyabov"]
date: 2025-01-03T16:21:00+03:00
lastmod: 2025-01-03T16:35:00+03:00
tags: ["programming"]
categories: ["computer-science"]
draft: false
slug: "git-git-repair"
---

git. Пакет gir-repair.

<!--more-->

{{< toc >}}


## <span class="section-num">1</span> Общая информация {#общая-информация}

-   Сайт:
    -   <http://git-repair.branchable.com/>
    -   <https://hackage.haskell.org/package/git-repair>
-   Может исправить поврежденный или сломанный репозиторий git, если `git fsck` сообщает о проблемах.


### <span class="section-num">1.1</span> Как работает {#как-работает}

-   Удаляет все повреждённые объекты, извлекает все отсутствующие объекты, которые он может, из удаленных репозиториев.
-   Если этого недостаточно для полного восстановления репозитория, он также может сбросить ветки обратно к коммитам до того, как произошло повреждение, удалить ветки, которые больше не доступны из-за потерянных данных, и удалить все отсутствующие файлы из индекса.
    -   Делается только при запуске с опцией `--force`, так как переписывается история и выбрасываются отсутствующие данные.
-   После выполнения запустите `git fsck`, чтобы убедиться, что репозиторий исправлен.
-   Поскольку эта команда распаковывает все пакеты в репозитории, вам может потребоваться после этого запустить `git gc`.


## <span class="section-num">2</span> Установка {#установка}

-   Gentoo (оверлей `haskell`, см. [Gentoo. Дополнительные репозитории]({{< relref "2023-10-01-gentoo-additional-repositories" >}})):
    ```shell
    emerge dev-vcs/git-repair
    ```
