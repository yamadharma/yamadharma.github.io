<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Pandoc | Д. С. Кулябов</title><link>https://yamadharma.github.io/ru/tag/pandoc/</link><atom:link href="https://yamadharma.github.io/ru/tag/pandoc/index.xml" rel="self" type="application/rss+xml"/><description>Pandoc</description><generator>Hugo Blox Builder (https://hugoblox.com)</generator><language>ru-ru</language><copyright>© 2025 Dmitry S. Kulyabov</copyright><lastBuildDate>Sun, 05 Nov 2023 19:04:00 +0300</lastBuildDate><image><url>https://yamadharma.github.io/media/icon_hu_c0ee34e0b47a9b95.png</url><title>Pandoc</title><link>https://yamadharma.github.io/ru/tag/pandoc/</link></image><item><title>Pandoc. Фильтры. Перекрёстные ссылки</title><link>https://yamadharma.github.io/ru/post/2023/11/05/pandoc-filters-cross-referencing/</link><pubDate>Sun, 05 Nov 2023 19:04:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2023/11/05/pandoc-filters-cross-referencing/</guid><description>&lt;p>Pandoc. Фильтры. Перекрёстные ссылки.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#pandoc-crossref">&lt;span class="section-num">1&lt;/span> pandoc-crossref&lt;/a>&lt;/li>
&lt;li>&lt;a href="#pandoc-xnos">&lt;span class="section-num">2&lt;/span> pandoc-xnos&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#pandoc-fignos">&lt;span class="section-num">2.1&lt;/span> pandoc-fignos&lt;/a>&lt;/li>
&lt;li>&lt;a href="#pandoc-eqnos">&lt;span class="section-num">2.2&lt;/span> pandoc-eqnos&lt;/a>&lt;/li>
&lt;li>&lt;a href="#pandoc-tablenos">&lt;span class="section-num">2.3&lt;/span> pandoc-tablenos&lt;/a>&lt;/li>
&lt;li>&lt;a href="#pandoc-secnos">&lt;span class="section-num">2.4&lt;/span> pandoc-secnos&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="pandoc-crossref">&lt;span class="section-num">1&lt;/span> pandoc-crossref&lt;/h2>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/lierdakil/pandoc-crossref" target="_blank" rel="noopener">https://github.com/lierdakil/pandoc-crossref&lt;/a>&lt;/li>
&lt;li>Документация: &lt;a href="https://lierdakil.github.io/pandoc-crossref/" target="_blank" rel="noopener">https://lierdakil.github.io/pandoc-crossref/&lt;/a>&lt;/li>
&lt;li>Язык реализации: Haskell&lt;/li>
&lt;/ul>
&lt;h2 id="pandoc-xnos">&lt;span class="section-num">2&lt;/span> pandoc-xnos&lt;/h2>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/tomduck/pandoc-xnos" target="_blank" rel="noopener">https://github.com/tomduck/pandoc-xnos&lt;/a>&lt;/li>
&lt;li>Исправления (сторонние): &lt;a href="https://github.com/nandokawka/pandoc-xnos" target="_blank" rel="noopener">https://github.com/nandokawka/pandoc-xnos&lt;/a>&lt;/li>
&lt;li>Обновлялся в 2020 году.&lt;/li>
&lt;li>Проблемы с pandoc-3.&lt;/li>
&lt;li>Состоит из нескольких фильтров:
&lt;ul>
&lt;li>&lt;code>pandoc-fignos&lt;/code> : нумерация рисунков и ссылки на рисунки;&lt;/li>
&lt;li>&lt;code>pandoc-eqnos&lt;/code> : нумерация уравнении и ссылки на уравнения;&lt;/li>
&lt;li>&lt;code>pandoc-tablenos&lt;/code> : нумерация таблиц и ссылки на таблицы;&lt;/li>
&lt;li>&lt;code>pandoc-secnos&lt;/code> : нумерация ссылок на разделы (разделы нумеруются самим pandoc).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="pandoc-fignos">&lt;span class="section-num">2.1&lt;/span> pandoc-fignos&lt;/h3>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/tomduck/pandoc-fignos" target="_blank" rel="noopener">https://github.com/tomduck/pandoc-fignos&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="pandoc-eqnos">&lt;span class="section-num">2.2&lt;/span> pandoc-eqnos&lt;/h3>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/tomduck/pandoc-eqnos" target="_blank" rel="noopener">https://github.com/tomduck/pandoc-eqnos&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="pandoc-tablenos">&lt;span class="section-num">2.3&lt;/span> pandoc-tablenos&lt;/h3>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/tomduck/pandoc-tablenos" target="_blank" rel="noopener">https://github.com/tomduck/pandoc-tablenos&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="pandoc-secnos">&lt;span class="section-num">2.4&lt;/span> pandoc-secnos&lt;/h3>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/tomduck/pandoc-secnos" target="_blank" rel="noopener">https://github.com/tomduck/pandoc-secnos&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Pandoc. Фильтры. Включение файлов</title><link>https://yamadharma.github.io/ru/post/2023/03/23/pandoc-filters-include/</link><pubDate>Thu, 23 Mar 2023 19:35:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2023/03/23/pandoc-filters-include/</guid><description>&lt;p>Включение файлов в другие файлы.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#включения-других-файлов-в-документ">&lt;span class="section-num">1&lt;/span> Включения других файлов в документ&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#include-files">&lt;span class="section-num">1.1&lt;/span> include-files&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#особенности">&lt;span class="section-num">1.1.1&lt;/span> Особенности&lt;/a>&lt;/li>
&lt;li>&lt;a href="#применение">&lt;span class="section-num">1.1.2&lt;/span> Применение&lt;/a>&lt;/li>
&lt;li>&lt;a href="#смена-заголовков">&lt;span class="section-num">1.1.3&lt;/span> Смена заголовков&lt;/a>&lt;/li>
&lt;li>&lt;a href="#форматы">&lt;span class="section-num">1.1.4&lt;/span> Форматы&lt;/a>&lt;/li>
&lt;li>&lt;a href="#пример">&lt;span class="section-num">1.1.5&lt;/span> Пример&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#panda">&lt;span class="section-num">1.2&lt;/span> panda&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#особенности">&lt;span class="section-num">1.2.1&lt;/span> Особенности&lt;/a>&lt;/li>
&lt;li>&lt;a href="#смена-заголовков">&lt;span class="section-num">1.2.2&lt;/span> Смена заголовков&lt;/a>&lt;/li>
&lt;li>&lt;a href="#пример">&lt;span class="section-num">1.2.3&lt;/span> Пример&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="включения-других-файлов-в-документ">&lt;span class="section-num">1&lt;/span> Включения других файлов в документ&lt;/h2>
&lt;ul>
&lt;li>Основные варианты:
&lt;ul>
&lt;li>рекурсивное включение;&lt;/li>
&lt;li>абсолютное включение.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Рекурсивное включение:
&lt;ul>
&lt;li>Пусть файл &lt;code>a/b.md&lt;/code> подключается из основного документа.&lt;/li>
&lt;li>Файл &lt;code>a/b.md&lt;/code> в свою очередь подключает файл &lt;code>a/b/c.md&lt;/code>.&lt;/li>
&lt;li>В этом случае используется относительный путь &lt;code>b/c.md&lt;/code>.&lt;/li>
&lt;li>То же самое касается путей к изображениям и путей к файлам кодовых блоков с использованием фильтра &lt;code>include-code-files&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Абсолютное включение:
&lt;ul>
&lt;li>Как в LaTeX.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="include-files">&lt;span class="section-num">1.1&lt;/span> include-files&lt;/h3>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/pandoc/lua-filters" target="_blank" rel="noopener">https://github.com/pandoc/lua-filters&lt;/a>.&lt;/li>
&lt;li>Язык реализации: Lua.&lt;/li>
&lt;li>Рекурсивное включение.&lt;/li>
&lt;/ul>
&lt;h4 id="особенности">&lt;span class="section-num">1.1.1&lt;/span> Особенности&lt;/h4>
&lt;ul>
&lt;li>Не запускайте другие фильтры перед выполнением &lt;code>include-files&lt;/code>.&lt;/li>
&lt;li>Выполнение большинства фильтров без предварительного использования &lt;code>include-files&lt;/code> приведёт к тому, что другой фильтр увидит пустой блок кода.&lt;/li>
&lt;/ul>
&lt;h4 id="применение">&lt;span class="section-num">1.1.2&lt;/span> Применение&lt;/h4>
&lt;ul>
&lt;li>Используйте &lt;code>include&lt;/code> для включения файлов того же формата, что и входные данные.&lt;/li>
&lt;li>Использование оформляется в виде директивы класса.&lt;/li>
&lt;li>Каждая строка кода обрабатывается как имя файла, анализируется, и результат добавляется в документ.&lt;/li>
&lt;li>Метаданные из включенных файлов отбрасываются.&lt;/li>
&lt;li>Строки комментариев начинаются с символов &lt;code>//&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h4 id="смена-заголовков">&lt;span class="section-num">1.1.3&lt;/span> Смена заголовков&lt;/h4>
&lt;ul>
&lt;li>По умолчанию вложенные документы включаются без изменений.&lt;/li>
&lt;li>Иногда удобно изменить уровень заголовков.&lt;/li>
&lt;li>Ручное переключение: используйте атрибут &lt;code>shift-heading-level-by&lt;/code> для управления сдвигом заголовка.&lt;/li>
&lt;li>Автоматическое переключение: добавьте метаданные &lt;code>-M include-auto&lt;/code>, чтобы включить автоматическое смещение. Не указывайте &lt;code>shift-heading-level-by&lt;/code>.&lt;/li>
&lt;li>Пример:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-markdown" data-lang="markdown">&lt;span class="line">&lt;span class="cl">&lt;span class="gh"># Title f
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gh">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">This is &lt;span class="sb">`file-f.md`&lt;/span>.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">## Subtitle f
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">``&lt;span class="sb">`{.include} &amp;gt;&amp;gt; equivalent to {.include shift-heading-level-by=2}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">file-a.md
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`&lt;/span>`&lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`&lt;/span>`&lt;span class="sb">`{.include shift-heading-level-by=1} &amp;gt;&amp;gt; force shift to be 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">file-a.md
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`&lt;/span>``
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="форматы">&lt;span class="section-num">1.1.4&lt;/span> Форматы&lt;/h4>
&lt;ul>
&lt;li>По умолчанию предполагается, что файлы написаны в формате Markdown.&lt;/li>
&lt;li>При необходимости включить файлы, написанные в другом формате, альтернативный формат может быть указан через атрибут &lt;code>format&lt;/code>.&lt;/li>
&lt;li>Принимаются только текстовые форматы.&lt;/li>
&lt;/ul>
&lt;h4 id="пример">&lt;span class="section-num">1.1.5&lt;/span> Пример&lt;/h4>
&lt;ul>
&lt;li>Предположим, мы пишем длинный документ, например диссертацию.&lt;/li>
&lt;li>Каждая глава и раздел приложения находятся в отдельном файле.&lt;/li>
&lt;li>Основной файл &amp;mdash; &lt;code>main.md&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-markdown" data-lang="markdown">&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">author: me
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">title: Thesis
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gh"># Frontmatter
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gh">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Thanks everyone!
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- actual chapters start here --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">``&lt;span class="sb">` {.include}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">chapters/introduction.md
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">chapters/methods.md
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">chapters/results.md
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">chapters/discussion.md
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`&lt;/span>`&lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"># Appendix
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">More info goes here.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`&lt;/span>`&lt;span class="sb">` {.include shift-heading-level-by=1}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">// headings in included documents are shifted down a level,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">// a level 1 heading becomes level 2.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">appendix/questionaire.md
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`&lt;/span>``
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Например, html можно создать с помощью этой команды:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">pandoc --lua-filter&lt;span class="o">=&lt;/span>include-files.lua main.md --output result.html
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="panda">&lt;span class="section-num">1.2&lt;/span> panda&lt;/h3>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/CDSoft/panda" target="_blank" rel="noopener">https://github.com/CDSoft/panda&lt;/a>.&lt;/li>
&lt;li>Документация: &lt;a href="http://christophe.delord.free.fr/panda/" target="_blank" rel="noopener">http://christophe.delord.free.fr/panda/&lt;/a>.&lt;/li>
&lt;li>Язык реализации: Lua.&lt;/li>
&lt;li>Абсолютное включение.&lt;/li>
&lt;/ul>
&lt;h4 id="особенности">&lt;span class="section-num">1.2.1&lt;/span> Особенности&lt;/h4>
&lt;ul>
&lt;li>Включение как блок &lt;code>div&lt;/code>.&lt;/li>
&lt;li>Включаемый файл может быть в другом формате.&lt;/li>
&lt;li>Если блок задаёт входной формат как класс, файл анализируется в соответствии с этим форматом.&lt;/li>
&lt;/ul>
&lt;h4 id="смена-заголовков">&lt;span class="section-num">1.2.2&lt;/span> Смена заголовков&lt;/h4>
&lt;ul>
&lt;li>По умолчанию вложенные документы включаются без изменений.&lt;/li>
&lt;li>Иногда удобно изменить уровень заголовков.&lt;/li>
&lt;li>Ручное переключение: используйте атрибут &lt;code>shift=n&lt;/code> для управления сдвигом заголовка.&lt;/li>
&lt;li>По умолчанию n = 0.&lt;/li>
&lt;/ul>
&lt;h4 id="пример">&lt;span class="section-num">1.2.3&lt;/span> Пример&lt;/h4>
&lt;ul>
&lt;li>Содержимое файла анализируется в соответствии с его форматом и заменяет содержимое блока &lt;code>div&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-markdown" data-lang="markdown">&lt;span class="line">&lt;span class="cl">:::{include=file.md shift=n}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">This text is optional and will be replaced by the content of file.md.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Section title levels are shifted by n (0 if not specified).
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">:::
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Фильтры pandoc</title><link>https://yamadharma.github.io/ru/post/2021/08/28/pandoc-filters/</link><pubDate>Sat, 28 Aug 2021 20:00:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2021/08/28/pandoc-filters/</guid><description>&lt;p>Фильтры &lt;em>pandoc&lt;/em>.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#варианты-реализации-фильтров">&lt;span class="section-num">2&lt;/span> Варианты реализации фильтров&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#фильтры-на-языке-haskell">&lt;span class="section-num">2.1&lt;/span> Фильтры на языке Haskell&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#репозитории-с-фильтрами-haskell">&lt;span class="section-num">2.1.1&lt;/span> Репозитории с фильтрами haskell&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#фильтры-на-языке-python">&lt;span class="section-num">2.2&lt;/span> Фильтры на языке Python&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#репозитории-с-фильтрами-python">&lt;span class="section-num">2.2.1&lt;/span> Репозитории с фильтрами python&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#фильтры-на-языке-lua">&lt;span class="section-num">2.3&lt;/span> Фильтры на языке Lua&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#репозитории-с-фильтрами-lua">&lt;span class="section-num">2.3.1&lt;/span> Репозитории с фильтрами lua&lt;/a>&lt;/li>
&lt;li>&lt;a href="#библиотеки-для-фильтров-lua">&lt;span class="section-num">2.3.2&lt;/span> Библиотеки для фильтров lua&lt;/a>&lt;/li>
&lt;li>&lt;a href="#подключение-дополнительных-библиотек">&lt;span class="section-num">2.3.3&lt;/span> Подключение дополнительных библиотек&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#фильтры-по-области-применения">&lt;span class="section-num">3&lt;/span> Фильтры по области применения&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#включения-других-файлов-в-документ">&lt;span class="section-num">3.1&lt;/span> Включения других файлов в документ&lt;/a>&lt;/li>
&lt;li>&lt;a href="#перекрёстные-ссылки">&lt;span class="section-num">3.2&lt;/span> Перекрёстные ссылки&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Фильтры &amp;mdash; основное средство расширения функционала pandoc.&lt;/li>
&lt;/ul>
&lt;h2 id="варианты-реализации-фильтров">&lt;span class="section-num">2&lt;/span> Варианты реализации фильтров&lt;/h2>
&lt;h3 id="фильтры-на-языке-haskell">&lt;span class="section-num">2.1&lt;/span> Фильтры на языке Haskell&lt;/h3>
&lt;h4 id="репозитории-с-фильтрами-haskell">&lt;span class="section-num">2.1.1&lt;/span> Репозитории с фильтрами haskell&lt;/h4>
&lt;h3 id="фильтры-на-языке-python">&lt;span class="section-num">2.2&lt;/span> Фильтры на языке Python&lt;/h3>
&lt;h4 id="репозитории-с-фильтрами-python">&lt;span class="section-num">2.2.1&lt;/span> Репозитории с фильтрами python&lt;/h4>
&lt;h3 id="фильтры-на-языке-lua">&lt;span class="section-num">2.3&lt;/span> Фильтры на языке Lua&lt;/h3>
&lt;ul>
&lt;li>Начиная с версии 2.0 pandoc содержит интерпретатор &lt;em>lua&lt;/em>.&lt;/li>
&lt;li>На данный момент используется версия lua 5.3.&lt;/li>
&lt;/ul>
&lt;h4 id="репозитории-с-фильтрами-lua">&lt;span class="section-num">2.3.1&lt;/span> Репозитории с фильтрами lua&lt;/h4>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Основной набор фильтров lua&lt;/p>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/pandoc/lua-filters" target="_blank" rel="noopener">https://github.com/pandoc/lua-filters&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4 id="библиотеки-для-фильтров-lua">&lt;span class="section-num">2.3.2&lt;/span> Библиотеки для фильтров lua&lt;/h4>
&lt;h4 id="подключение-дополнительных-библиотек">&lt;span class="section-num">2.3.3&lt;/span> Подключение дополнительных библиотек&lt;/h4>
&lt;ul>
&lt;li>Фильтры могут потребовать использование дополнительных библиотек.&lt;/li>
&lt;li>Для библиотек может понадобится задание пути расположения.
&lt;ul>
&lt;li>
&lt;p>Функция &lt;em>lua&lt;/em> &lt;code>require&lt;/code> использует &lt;code>package.path&lt;/code> для поиска модулей.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>При старте &lt;em>lua&lt;/em> инициализирует эту переменную значением переменной окружения &lt;code>LUA_PATH&lt;/code> или значением по умолчанию из &lt;code>luaconf.h&lt;/code>, если переменная окружения не определена.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>При поиске файла &lt;code>require&lt;/code> использует путь, который немного отличается от обычных путей.&lt;/p>
&lt;ul>
&lt;li>Путь, используемый большинством программ, представляет собой список каталогов, в которых нужно искать данный файл.&lt;/li>
&lt;li>Однако ANSI C (абстрактная платформа, на которой работает Lua) не имеет концепции каталогов.&lt;/li>
&lt;li>Таким образом, путь, используемый &lt;code>require&lt;/code>, представляет собой список шаблонов, каждый из которых указывает альтернативный способ преобразования имени модуля в имя файла.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Путь &amp;mdash; это последовательность шаблонов, разделённых точкой с запятой.&lt;/p>
&lt;ul>
&lt;li>Любое вхождение строки &lt;code>;;&lt;/code> в переменную среды окружения замещается значением по умолчанию.
&lt;ul>
&lt;li>Например, если установить для &lt;code>LUA_PATH&lt;/code> значение &lt;code>mydir/?.lua;;&lt;/code>, окончательным путём будет компонент &lt;code>mydir/?.lua&lt;/code>, за которым следует путь по умолчанию.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Для каждого шаблона &lt;code>require&lt;/code> будет заменять каждый вопросительный знак на имя файла &lt;code>filename&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Пусть путь задан следующим образом:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">?&lt;span class="p">;&lt;/span>?.lua&lt;span class="p">;&lt;/span>c:&lt;span class="se">\w&lt;/span>indows&lt;span class="se">\?&lt;/span>&lt;span class="p">;&lt;/span>/usr/local/lua/?/?.lua
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>В модуле делается вызов:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lua" data-lang="lua">&lt;span class="line">&lt;span class="cl">&lt;span class="n">require&lt;/span> &lt;span class="s2">&amp;#34;sql&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Ищутся файлы:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sql
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sql.lua
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">c:&lt;span class="se">\w&lt;/span>indows&lt;span class="se">\s&lt;/span>ql
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/usr/local/lua/sql/sql.lua
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Я в проекте библиотеки размещаю в каталоге &lt;code>pandoc/lua&lt;/code>, поэтому задаю переменную среды:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">LUA_PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;pandoc/lua/?.lua;;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="фильтры-по-области-применения">&lt;span class="section-num">3&lt;/span> Фильтры по области применения&lt;/h2>
&lt;h3 id="включения-других-файлов-в-документ">&lt;span class="section-num">3.1&lt;/span> Включения других файлов в документ&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2023/03/23/pandoc-filters-include/">Pandoc. Фильтры. Включение файлов&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="перекрёстные-ссылки">&lt;span class="section-num">3.2&lt;/span> Перекрёстные ссылки&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2023/11/05/pandoc-filters-cross-referencing/">Pandoc. Фильтры. Перекрёстные ссылки&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Pandoc</title><link>https://yamadharma.github.io/ru/post/2021/08/28/pandoc/</link><pubDate>Sat, 28 Aug 2021 19:55:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2021/08/28/pandoc/</guid><description>&lt;p>Средство конвертации текстовых форматов &lt;em>Pandoc&lt;/em>.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#разное">&lt;span class="section-num">2&lt;/span> Разное&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Универсальная утилита конвертирования текстовых форматов.&lt;/li>
&lt;li>Входные форматы:
&lt;ul>
&lt;li>markdown;&lt;/li>
&lt;li>reStructuredText;&lt;/li>
&lt;li>HTML;&lt;/li>
&lt;li>LaTeX;&lt;/li>
&lt;li>OPML;&lt;/li>
&lt;li>Org-mode;&lt;/li>
&lt;li>DocBook;&lt;/li>
&lt;li>Office Open XML (Microsoft Word .docx).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Выходные форматы:
&lt;ul>
&lt;li>форматы на основе HTML: XHTML, HTML5, HTML-слайды презентаций (S5, Slidy, Slideous, DZSlides);&lt;/li>
&lt;li>форматы текстовых процессоров: Microsoft Word docx, OpenOffice/LibreOffice ODT, OpenDocument XML;&lt;/li>
&lt;li>электронные книги: EPUB версии 2 или 3, FictionBook2;&lt;/li>
&lt;li>форматы технической документации: DocBook, GNU TexInfo, groff[en];&lt;/li>
&lt;li>форматы системы ΤΕΧ: LaTeX, ConTeXt, слайды LaTeX Beamer;&lt;/li>
&lt;li>PDF (с помощью LaTeX);&lt;/li>
&lt;li>текстовые форматы с облегчённой разметкой: Markdown, reStructuredText, AsciiDoc[en], MediaWiki, Emacs Org-Mode, Textile.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Основной формат: Markdown.&lt;/li>
&lt;/ul>
&lt;h2 id="разное">&lt;span class="section-num">2&lt;/span> Разное&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2021/08/28/pandoc-filters/">Фильтры pandoc&lt;/a>&lt;/li>
&lt;/ul></description></item></channel></rss>