<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Linux | Д. С. Кулябов</title><link>https://yamadharma.github.io/ru/tag/linux/</link><atom:link href="https://yamadharma.github.io/ru/tag/linux/index.xml" rel="self" type="application/rss+xml"/><description>Linux</description><generator>Hugo Blox Builder (https://hugoblox.com)</generator><language>ru-ru</language><copyright>© 2024 Dmitry S. Kulyabov</copyright><lastBuildDate>Sat, 02 Nov 2024 19:06:00 +0300</lastBuildDate><image><url>https://yamadharma.github.io/media/icon_hu15752663207405015554.png</url><title>Linux</title><link>https://yamadharma.github.io/ru/tag/linux/</link></image><item><title>Лабораторная работа Установка ОС Linux</title><link>https://yamadharma.github.io/ru/course/os-intro/lab/lab-linux-install/</link><pubDate>Mon, 04 Apr 2022 13:40:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/course/os-intro/lab/lab-linux-install/</guid><description>&lt;p>Лабораторная работа &lt;em>Установка ОС Linux&lt;/em>.&lt;/p>
&lt;h2 id="цель-работы">&lt;span class="section-num">1&lt;/span> Цель работы&lt;/h2>
&lt;ul>
&lt;li>Целью данной работы является приобретение практических навыков установки операционной системы на виртуальную машину, настройки минимально необходимых для дальнейшей работы сервисов.&lt;/li>
&lt;/ul>
&lt;h2 id="указания-к-работе">&lt;span class="section-num">2&lt;/span> Указания к работе&lt;/h2>
&lt;h3 id="техническое-обеспечение">&lt;span class="section-num">2.1&lt;/span> Техническое обеспечение&lt;/h3>
&lt;ul>
&lt;li>Лабораторная работа подразумевает установку на виртуальную машину VirtualBox (&lt;a href="https://www.virtualbox.org/" target="_blank" rel="noopener">https://www.virtualbox.org/&lt;/a>) операционной системы Linux (дистрибутив Fedora).&lt;/li>
&lt;li>Выполнение работы возможно как в дисплейном классе факультета физико-математических и естественных наук РУДН, так и дома. Описание выполнения работы приведено для дисплейного класса со следующими характеристиками техники:
&lt;ul>
&lt;li>Intel Core i3-550 3.2 GHz, 4 GB оперативной памяти, 80 GB свободного места на жёстком диске;&lt;/li>
&lt;li>ОС Linux Gentoo (&lt;a href="http://www.gentoo.ru/" target="_blank" rel="noopener">http://www.gentoo.ru/&lt;/a>);&lt;/li>
&lt;li>VirtualBox версии 7.0 или новее.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Для установки в виртуальную машину используется дистрибутив Linux Fedora (&lt;a href="https://getfedora.org" target="_blank" rel="noopener">https://getfedora.org&lt;/a>), вариант с менеджером окон &lt;em>sway&lt;/em> (&lt;a href="https://fedoraproject.org/spins/sway/" target="_blank" rel="noopener">https://fedoraproject.org/spins/sway/&lt;/a>).&lt;/li>
&lt;li>При выполнении лабораторной работы на своей технике вам необходимо скачать необходимый образ операционной системы (&lt;a href="https://fedoraproject.org/spins/sway/download/index.html" target="_blank" rel="noopener">https://fedoraproject.org/spins/sway/download/index.html&lt;/a>).&lt;/li>
&lt;li>В дисплейных классах можно воспользоваться образом в каталоге &lt;code>/afs/dk.sci.pfu.edu.ru/common/files/iso&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h3 id="соглашения-об-именовании">&lt;span class="section-num">2.2&lt;/span> Соглашения об именовании&lt;/h3>
&lt;ul>
&lt;li>При выполнении работ следует придерживаться следующих правил именования:
&lt;ul>
&lt;li>Пользователь внутри виртуальной машины должен иметь имя, совпадающее с учётной записью студента, выполняющего лабораторную работу.&lt;/li>
&lt;li>Имя хоста вашей виртуальной машины должно совпадать с учётной записью студента, выполняющего лабораторную работу.&lt;/li>
&lt;li>Имя виртуальной машины должно совпадать с учётной записью студента, выполняющего лабораторную работу.&lt;/li>
&lt;li>В дисплейных классах вы можете посмотреть имя вашей учётной записи, набрав в терминале команду:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">id -un
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>При установке на своей технике необходимо использовать имя вашей учётной записи дисплейных классов. Например, если студента зовут Остап Сулейманович Бендер, то его учётная запись имеет вид &lt;code>osbender&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h2 id="последовательность-выполнения-работы">&lt;span class="section-num">3&lt;/span> Последовательность выполнения работы&lt;/h2>
&lt;h3 id="выполнение-в-дисплейном-классе">&lt;span class="section-num">3.1&lt;/span> Выполнение в дисплейном классе&lt;/h3>
&lt;ul>
&lt;li>Загрузите в дисплейном классе операционную систему Linux. Осуществите вход в систему.&lt;/li>
&lt;/ul>
&lt;h4 id="настройка-каталога-для-виртуальных-машин">&lt;span class="section-num">3.1.1&lt;/span> Настройка каталога для виртуальных машин&lt;/h4>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Создание необходимых каталогов&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Запустите терминал. Перейдите в каталог &lt;code>/var/tmp&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /var/tmp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Создайте каталог с именем пользователя (совпадающий с логином студента в дисплейном классе). Для этого можно использовать команду:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-2-1">&lt;a class="lnlinks" href="#hl-2-1">1&lt;/a>&lt;/span>&lt;span class="cl">mkdir /var/tmp/&lt;span class="sb">`&lt;/span>id -un&lt;span class="sb">`&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Проверьте в свойствах VirtualBox &lt;strong>месторасположение каталога для виртуальных машин&lt;/strong>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-3-1">&lt;a class="lnlinks" href="#hl-3-1">1&lt;/a>&lt;/span>&lt;span class="cl">/var/tmp/имя_пользователя
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Здесь &lt;code>имя_пользователя&lt;/code> &amp;mdash; логин (учётная запись) студента в дисплейном классе. Если указан другой каталог, то требуется изменить его.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="2">
&lt;li>
&lt;p>Папка виртуальных машин&lt;/p>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Значения по умолчанию&lt;/p>
&lt;ul>
&lt;li>Linux: &lt;code>$HOME/VirtualBox VMs&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="2">
&lt;li>
&lt;p>Графический интерфейс&lt;/p>
&lt;ul>
&lt;li>В меню выберите &lt;em>Файл&lt;/em>, &lt;em>Настройки&lt;/em>.&lt;/li>
&lt;li>Выберите &lt;em>Общие&lt;/em>, поле &lt;em>Папка для машин по умолчанию&lt;/em>.&lt;/li>
&lt;li>Установите новое значение, например &lt;code>/var/tmp/имя_пользователя&lt;/code>.&lt;/li>
&lt;li>Нажмите ОК, чтобы сохранить изменения.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="3">
&lt;li>
&lt;p>Командная строка&lt;/p>
&lt;ul>
&lt;li>Зададим отображение информации о настройках VirtualBox на английском.&lt;/li>
&lt;li>Поэтому следует задать кодировку для отображения свойств VirtualBox:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-4-1">&lt;a class="lnlinks" href="#hl-4-1">1&lt;/a>&lt;/span>&lt;span class="cl">vboxmanage setproperty language C
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установим папку для виртуальных машине в &lt;code>/var/tmp/имя_пользователя&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-5-1">&lt;a class="lnlinks" href="#hl-5-1">1&lt;/a>&lt;/span>&lt;span class="cl">vboxmanage setproperty machinefolder /var/tmp/&lt;span class="k">$(&lt;/span>id -un&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Поверьте, что папка виртуальных машин по умолчанию изменена:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-6-1">&lt;a class="lnlinks" href="#hl-6-1">1&lt;/a>&lt;/span>&lt;span class="cl">vboxmanage list systemproperties &lt;span class="p">|&lt;/span> grep &lt;span class="s2">&amp;#34;Default machine folder:&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Следующая команда выдаст только каталог:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-7-1">&lt;a class="lnlinks" href="#hl-7-1">1&lt;/a>&lt;/span>&lt;span class="cl">vboxmanage list systemproperties &lt;span class="p">|&lt;/span> grep &lt;span class="s2">&amp;#34;Default machine folder:&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> cut -d&lt;span class="s2">&amp;#34;:&amp;#34;&lt;/span> -f2 &lt;span class="p">|&lt;/span> tr -d &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="4">
&lt;li>
&lt;p>Установочный образ&lt;/p>
&lt;ul>
&lt;li>Перенесите установочный образ в папку &lt;code>/var/tmp/имя_пользователя/iso&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-8-1">&lt;a class="lnlinks" href="#hl-8-1">1&lt;/a>&lt;/span>&lt;span class="cl">mkdir -p &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>vboxmanage list systemproperties &lt;span class="p">|&lt;/span> grep &lt;span class="s1">&amp;#39;Default machine folder:&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> cut -d&lt;span class="s1">&amp;#39;:&amp;#39;&lt;/span> -f2 &lt;span class="p">|&lt;/span> tr -d &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="s2">/iso&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-2">&lt;a class="lnlinks" href="#hl-8-2">2&lt;/a>&lt;/span>&lt;span class="cl">mv Fedora-Sway-Live-x86_64-39-1.5.iso &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>vboxmanage list systemproperties &lt;span class="p">|&lt;/span> grep &lt;span class="s1">&amp;#39;Default machine folder:&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> cut -d&lt;span class="s1">&amp;#39;:&amp;#39;&lt;/span> -f2 &lt;span class="p">|&lt;/span> tr -d &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="s2">/iso&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h4 id="настройка-хост-клавиши">&lt;span class="section-num">3.1.2&lt;/span> Настройка хост-клавиши&lt;/h4>
&lt;ul>
&lt;li>Хост-клавишей по умолчанию является правый &lt;code>Ctrl&lt;/code>.&lt;/li>
&lt;li>По умолчанию в дисплейных классах на клавише правый &lt;code>Ctrl&lt;/code> находится переключатель языка ввода.&lt;/li>
&lt;li>Эти значения могут конфликтовать.&lt;/li>
&lt;/ul>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Графический интерфейс&lt;/p>
&lt;ul>
&lt;li>В меню выберите &lt;em>Файл&lt;/em>, &lt;em>Настройки&lt;/em>.&lt;/li>
&lt;li>Выберите &lt;em>Ввод&lt;/em>, вкладка &lt;em>Виртуальная машина&lt;/em>.&lt;/li>
&lt;li>Выберите &lt;em>Сочетание клавиш&lt;/em> в строке &lt;em>Хост-комбинация&lt;/em>.&lt;/li>
&lt;li>Нажмите новое сочетание клавиш.&lt;/li>
&lt;li>Нажмите ОК, чтобы сохранить изменения.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="2">
&lt;li>
&lt;p>Командная строка&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Проверьте текущую комбинацию для хост-клавиши:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-9-1">&lt;a class="lnlinks" href="#hl-9-1">1&lt;/a>&lt;/span>&lt;span class="cl">VBoxManage getextradata global GUI/Input/HostKeyCombination
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>По умолчанию установлена комбинация &lt;code>65508&lt;/code>, соответствующая правой клавише &lt;code>Ctrl&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Установите нужную клавишу (в примере клавиша &lt;em>Menu&lt;/em>):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-10-1">&lt;a class="lnlinks" href="#hl-10-1">1&lt;/a>&lt;/span>&lt;span class="cl">VBoxManage setextradata global GUI/Input/HostKeyCombination &lt;span class="m">65383&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Комбинации клавиш можно, например, посмотреть на странице &lt;a href="https://pythonhosted.org/pyglet/api/pyglet.window.key-module.html" target="_blank" rel="noopener">https://pythonhosted.org/pyglet/api/pyglet.window.key-module.html&lt;/a>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="создание-виртуальной-машины">&lt;span class="section-num">3.2&lt;/span> Создание виртуальной машины&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Для использования графического интерфейса запустите менеджер виртуальных машин, введя в командной строке:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-11-1">&lt;a class="lnlinks" href="#hl-11-1">1&lt;/a>&lt;/span>&lt;span class="cl">VirtualBox &lt;span class="p">&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Создайте новую виртуальную машину в графическом интерфейсе или в командной строке.&lt;/p>
&lt;ul>
&lt;li>В командной строке:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-12-1">&lt;a class="lnlinks" href="#hl-12-1">1&lt;/a>&lt;/span>&lt;span class="cl">vboxmanage createvm --name &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>id -un&lt;span class="k">)&lt;/span>&lt;span class="s2">_os-intro&amp;#34;&lt;/span> --ostype Fedora_64 --register
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Укажите имя виртуальной машины (ваш логин в дисплейном классе), тип операционной системы &amp;mdash; Linux, Fedora.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Укажите размер основной памяти виртуальной машины &amp;mdash; от 2048 МБ.&lt;/p>
&lt;ul>
&lt;li>В командной строке:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-13-1">&lt;a class="lnlinks" href="#hl-13-1">1&lt;/a>&lt;/span>&lt;span class="cl">vboxmanage modifyvm &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>id -un&lt;span class="k">)&lt;/span>&lt;span class="s2">_os-intro&amp;#34;&lt;/span> --memory &lt;span class="m">2048&lt;/span> --acpi on --nic1 nat
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Задайте конфигурацию жёсткого диска &amp;mdash; загрузочный, VDI (VirtualBox Disk Image), динамический виртуальный диск.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Задайте размер диска &amp;mdash; 80 ГБ (или больше), его расположение &amp;mdash; в данном случае &lt;code>/var/tmp/имя_пользователя/имя_машины/имя_машины.vdi&lt;/code>.&lt;/p>
&lt;ul>
&lt;li>В командной строке:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-14-1">&lt;a class="lnlinks" href="#hl-14-1">1&lt;/a>&lt;/span>&lt;span class="cl">vboxmanage createhd --filename &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>vboxmanage list systemproperties &lt;span class="p">|&lt;/span> grep &lt;span class="s1">&amp;#39;Default machine folder:&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> cut -d&lt;span class="s1">&amp;#39;:&amp;#39;&lt;/span> -f2 &lt;span class="p">|&lt;/span> tr -d &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="s2">/&lt;/span>&lt;span class="k">$(&lt;/span>id -un&lt;span class="k">)&lt;/span>&lt;span class="s2">_os-intro/&lt;/span>&lt;span class="k">$(&lt;/span>id -un&lt;span class="k">)&lt;/span>&lt;span class="s2">_os-intro.vdi&amp;#34;&lt;/span> --size &lt;span class="m">80000&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Выберите в VirtualBox Вашей виртуальной машины. Добавьте новый привод оптических дисков и выберите образ.&lt;/p>
&lt;ul>
&lt;li>В командной строке:
&lt;ul>
&lt;li>Подключите загрузку с DVD:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-15-1">&lt;a class="lnlinks" href="#hl-15-1">1&lt;/a>&lt;/span>&lt;span class="cl">vboxmanage modifyvm &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>id -un&lt;span class="k">)&lt;/span>&lt;span class="s2">_os-intro&amp;#34;&lt;/span> --boot1 dvd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Добавьте IDE-контроллер:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-16-1">&lt;a class="lnlinks" href="#hl-16-1">1&lt;/a>&lt;/span>&lt;span class="cl">vboxmanage storagectl &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>id -un&lt;span class="k">)&lt;/span>&lt;span class="s2">_os-intro&amp;#34;&lt;/span> --name &lt;span class="s2">&amp;#34;IDE Controller&amp;#34;&lt;/span> --add ide --controller PIIX4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установите созданный вами файл VDI в качестве первого виртуального жесткого диска новой виртуальной машины:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-17-1">&lt;a class="lnlinks" href="#hl-17-1">1&lt;/a>&lt;/span>&lt;span class="cl">vboxmanage storageattach &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>id -un&lt;span class="k">)&lt;/span>&lt;span class="s2">_os-intro&amp;#34;&lt;/span> --storagectl &lt;span class="s2">&amp;#34;IDE Controller&amp;#34;&lt;/span> --port &lt;span class="m">0&lt;/span> --device &lt;span class="m">0&lt;/span> --type hdd --medium &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>vboxmanage list systemproperties &lt;span class="p">|&lt;/span> grep &lt;span class="s1">&amp;#39;Default machine folder:&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> cut -d&lt;span class="s1">&amp;#39;:&amp;#39;&lt;/span> -f2 &lt;span class="p">|&lt;/span> tr -d &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="s2">/&lt;/span>&lt;span class="k">$(&lt;/span>id -un&lt;span class="k">)&lt;/span>&lt;span class="s2">_os-intro/&lt;/span>&lt;span class="k">$(&lt;/span>id -un&lt;span class="k">)&lt;/span>&lt;span class="s2">_os-intro.vdi&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Подключите к виртуальной машине ISO-файл:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-18-1">&lt;a class="lnlinks" href="#hl-18-1">1&lt;/a>&lt;/span>&lt;span class="cl">vboxmanage storageattach &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>id -un&lt;span class="k">)&lt;/span>&lt;span class="s2">_os-intro&amp;#34;&lt;/span> --storagectl &lt;span class="s2">&amp;#34;IDE Controller&amp;#34;&lt;/span> --port &lt;span class="m">0&lt;/span> --device &lt;span class="m">1&lt;/span> --type dvddrive --medium &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>vboxmanage list systemproperties &lt;span class="p">|&lt;/span> grep &lt;span class="s1">&amp;#39;Default machine folder:&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> cut -d&lt;span class="s1">&amp;#39;:&amp;#39;&lt;/span> -f2 &lt;span class="p">|&lt;/span> tr -d &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="s2">/iso/Fedora-Sway-Live-x86_64-39-1.5.iso&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>При установке на собственной технике используйте скачанный образ операционной системы Fedora.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>В качестве графического контроллера поставьте VMSVGA.&lt;/p>
&lt;ul>
&lt;li>В командной строке:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-19-1">&lt;a class="lnlinks" href="#hl-19-1">1&lt;/a>&lt;/span>&lt;span class="cl">vboxmanage modifyvm &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>id -un&lt;span class="k">)&lt;/span>&lt;span class="s2">_os-intro&amp;#34;&lt;/span> --graphicscontroller&lt;span class="o">=&lt;/span>vmsvga
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Включите ускорение 3D.&lt;/p>
&lt;ul>
&lt;li>В командной строке:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-20-1">&lt;a class="lnlinks" href="#hl-20-1">1&lt;/a>&lt;/span>&lt;span class="cl">vboxmanage modifyvm &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>id -un&lt;span class="k">)&lt;/span>&lt;span class="s2">_os-intro&amp;#34;&lt;/span> --accelerate-3d&lt;span class="o">=&lt;/span>on
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Если есть проблемы при отображении, загрузитесь в режиме базовой графики.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Включите общий буфер обмена и перетаскивание объектов между хостом и гостевой ОС.&lt;/p>
&lt;ul>
&lt;li>В командной строке:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-21-1">&lt;a class="lnlinks" href="#hl-21-1">1&lt;/a>&lt;/span>&lt;span class="cl">vboxmanage modifyvm &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>id -un&lt;span class="k">)&lt;/span>&lt;span class="s2">_os-intro&amp;#34;&lt;/span> --clipboard-mode&lt;span class="o">=&lt;/span>bidirectional --drag-and-drop&lt;span class="o">=&lt;/span>bidirectional
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Включите поддержку UEFI.&lt;/p>
&lt;ul>
&lt;li>В командной строке:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-22-1">&lt;a class="lnlinks" href="#hl-22-1">1&lt;/a>&lt;/span>&lt;span class="cl">vboxmanage modifyvm &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>id -un&lt;span class="k">)&lt;/span>&lt;span class="s2">_os-intro&amp;#34;&lt;/span> --firmware&lt;span class="o">=&lt;/span>efi
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="видео-создание-виртуальной-машины">&lt;span class="section-num">3.2.1&lt;/span> Видео: Создание виртуальной машины&lt;/h4>
&lt;nav>
&lt;div class="nav nav-tabs" id="nav-tab" role="tablist">
&lt;a class="nav-item nav-link active "
id="nav-decbfa" data-toggle="tab" href="#decbfa"
role="tab" aria-controls="nav-home" aria-selected="true">RuTube&lt;/a>
&lt;a class="nav-item nav-link "
id="nav-efbadc" data-toggle="tab" href="#efbadc"
role="tab" aria-controls="nav-home" aria-selected="true">Youtube&lt;/a>
&lt;/div>
&lt;/nav>
&lt;div class="tab-content" id="nav-tab-content">
&lt;div class="tab-pane fade show active " id="decbfa" role="tabpanel" aria-labelledby="nav-1">
&lt;div class="embed video-player">
&lt;iframe class="rutube-player" type="text/html"
width="720" height="405"
src="https://rutube.ru/play/embed/f4e38867368ced9e13556341023c2c03"
webkitAllowFullScreen mozallowfullscreen allowFullScreen
allow="clipboard-write" frameborder="0">
&lt;/iframe>
&lt;/div>
&lt;/div>
&lt;div class="tab-pane fade show " id="efbadc" role="tabpanel" aria-labelledby="nav-1">
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/9_Vt7R57Yw4?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
>&lt;/iframe>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;h3 id="установка-операционной-системы">&lt;span class="section-num">3.3&lt;/span> Установка операционной системы&lt;/h3>
&lt;h4 id="запуск-приложения-для-установки-системы">&lt;span class="section-num">3.3.1&lt;/span> Запуск приложения для установки системы&lt;/h4>
&lt;ul>
&lt;li>Загрузите LiveCD.&lt;/li>
&lt;li>Появится интерфейс начальной конфигурации.&lt;/li>
&lt;li>Нажмите &lt;em>Enter&lt;/em> для создания конфигурации по умолчанию.&lt;/li>
&lt;li>Нажмите &lt;em>Enter&lt;/em>, чтобы выбрать в качестве модификатора клавишу &lt;em>Win&lt;/em> (она же клавиша &lt;em>Super&lt;/em>).&lt;/li>
&lt;li>В файле конфигурации эта клавиша будет обозначена как &lt;code>$Mod&lt;/code>.&lt;/li>
&lt;li>Нажмите комбинацию &lt;em>Win+Enter&lt;/em> для запуска терминала.&lt;/li>
&lt;li>В терминале запустите &lt;code>liveinst&lt;/code>.&lt;/li>
&lt;li>Для перехода к раскладке окон с табами нажмите &lt;em>Win+w&lt;/em>.&lt;/li>
&lt;/ul>
&lt;h4 id="установка-системы-на-диск">&lt;span class="section-num">3.3.2&lt;/span> Установка системы на диск&lt;/h4>
&lt;ul>
&lt;li>Выберите язык интерфейса и перейдите к настройкам установки операционной системы.&lt;/li>
&lt;li>При необходимости скорректируйте часовой пояс, раскладку клавиатуры (рекомендуется в качестве языка по умолчанию указать английский язык).&lt;/li>
&lt;li>Место установки ОС оставьте без изменения.&lt;/li>
&lt;li>Установите имя и пароль для пользователя &lt;code>root&lt;/code>.&lt;/li>
&lt;li>Установите имя и пароль для Вашего пользователя.&lt;/li>
&lt;li>Задайте сетевое имя Вашего компьютера.&lt;/li>
&lt;li>После завершения установки операционной системы корректно перезапустите виртуальную машину.&lt;/li>
&lt;li>В VirtualBox оптический диск должен отключиться автоматически, но если это не произошло, то необходимо отключить носитель информации с образом.&lt;/li>
&lt;/ul>
&lt;h4 id="видео-установка-операционной-системы">&lt;span class="section-num">3.3.3&lt;/span> Видео: Установка операционной системы&lt;/h4>
&lt;nav>
&lt;div class="nav nav-tabs" id="nav-tab" role="tablist">
&lt;a class="nav-item nav-link active "
id="nav-febadc" data-toggle="tab" href="#febadc"
role="tab" aria-controls="nav-home" aria-selected="true">RuTube&lt;/a>
&lt;a class="nav-item nav-link "
id="nav-acdbef" data-toggle="tab" href="#acdbef"
role="tab" aria-controls="nav-home" aria-selected="true">Youtube&lt;/a>
&lt;/div>
&lt;/nav>
&lt;div class="tab-content" id="nav-tab-content">
&lt;div class="tab-pane fade show active " id="febadc" role="tabpanel" aria-labelledby="nav-1">
&lt;div class="embed video-player">
&lt;iframe class="rutube-player" type="text/html"
width="720" height="405"
src="https://rutube.ru/play/embed/603fc8f3cf968d3c4151073aa7a4789f"
webkitAllowFullScreen mozallowfullscreen allowFullScreen
allow="clipboard-write" frameborder="0">
&lt;/iframe>
&lt;/div>
&lt;/div>
&lt;div class="tab-pane fade show " id="acdbef" role="tabpanel" aria-labelledby="nav-1">
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/XYYbl5ABN9Q?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
>&lt;/iframe>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;h3 id="после-установки">&lt;span class="section-num">3.4&lt;/span> После установки&lt;/h3>
&lt;ul>
&lt;li>Войдите в ОС под заданной вами при установке учётной записью.&lt;/li>
&lt;li>Нажмите комбинацию &lt;em>Win+Enter&lt;/em> для запуска терминала.&lt;/li>
&lt;li>Переключитесь на роль супер-пользователя:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-23-1">&lt;a class="lnlinks" href="#hl-23-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo -i
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="обновления">&lt;span class="section-num">3.4.1&lt;/span> Обновления&lt;/h4>
&lt;ul>
&lt;li>Обновить все пакеты
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-24-1">&lt;a class="lnlinks" href="#hl-24-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y update
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="повышение-комфорта-работы">&lt;span class="section-num">3.4.2&lt;/span> Повышение комфорта работы&lt;/h4>
&lt;ul>
&lt;li>Программы для удобства работы в консоли:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-25-1">&lt;a class="lnlinks" href="#hl-25-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install tmux mc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="автоматическое-обновление">&lt;span class="section-num">3.4.3&lt;/span> Автоматическое обновление&lt;/h4>
&lt;ul>
&lt;li>При необходимости можно использовать автоматическое обновление (см. &lt;a href="https://yamadharma.github.io/ru/post/2022/09/25/redhat-based-systems-auto-update/">Автообновление систем на базе деривативов RedHat&lt;/a>).&lt;/li>
&lt;li>Установка программного обеспечения:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-26-1">&lt;a class="lnlinks" href="#hl-26-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install dnf-automatic
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Задаёте необходимую конфигурацию в файле &lt;code>/etc/dnf/automatic.conf&lt;/code>.&lt;/li>
&lt;li>Запустите таймер:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-27-1">&lt;a class="lnlinks" href="#hl-27-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> --now dnf-automatic.timer
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="отключение-selinux">&lt;span class="section-num">3.4.4&lt;/span> Отключение SELinux&lt;/h4>
&lt;ul>
&lt;li>В данном курсе мы не будем рассматривать работу с системой безопасности SELinux.&lt;/li>
&lt;li>Поэтому отключим его.&lt;/li>
&lt;li>В файле &lt;code>/etc/selinux/config&lt;/code> замените значение
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-28-1">&lt;a class="lnlinks" href="#hl-28-1">1&lt;/a>&lt;/span>&lt;span class="cl">SELINUX=enforcing
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>на значение
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-29-1">&lt;a class="lnlinks" href="#hl-29-1">1&lt;/a>&lt;/span>&lt;span class="cl">SELINUX=permissive
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Перегрузите виртуальную машину:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-30-1">&lt;a class="lnlinks" href="#hl-30-1">1&lt;/a>&lt;/span>&lt;span class="cl">reboot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="установка-драйверов-для-virtualbox">&lt;span class="section-num">3.5&lt;/span> Установка драйверов для VirtualBox&lt;/h3>
&lt;ul>
&lt;li>Войдите в ОС под заданной вами при установке учётной записью.&lt;/li>
&lt;li>Нажмите комбинацию &lt;em>Win+Enter&lt;/em> для запуска терминала.&lt;/li>
&lt;li>Запустите терминальный мультиплексор &lt;em>tmux&lt;/em>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-31-1">&lt;a class="lnlinks" href="#hl-31-1">1&lt;/a>&lt;/span>&lt;span class="cl">tmux
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Переключитесь на роль супер-пользователя:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-32-1">&lt;a class="lnlinks" href="#hl-32-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo -i
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установите средства разработки:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-33-1">&lt;a class="lnlinks" href="#hl-33-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y group install &lt;span class="s2">&amp;#34;Development Tools&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установите пакет &lt;em>DKMS&lt;/em>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-34-1">&lt;a class="lnlinks" href="#hl-34-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install dkms
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>В меню виртуальной машины подключите образ диска дополнений гостевой ОС.&lt;/li>
&lt;li>Подмонтируйте диск:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-35-1">&lt;a class="lnlinks" href="#hl-35-1">1&lt;/a>&lt;/span>&lt;span class="cl">mount /dev/sr0 /media
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установите драйвера:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-36-1">&lt;a class="lnlinks" href="#hl-36-1">1&lt;/a>&lt;/span>&lt;span class="cl">/media/VBoxLinuxAdditions.run
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Перегрузите виртуальную машину:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-37-1">&lt;a class="lnlinks" href="#hl-37-1">1&lt;/a>&lt;/span>&lt;span class="cl">reboot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="настройка-раскладки-клавиатуры">&lt;span class="section-num">3.6&lt;/span> Настройка раскладки клавиатуры&lt;/h3>
&lt;ul>
&lt;li>Войдите в ОС под заданной вами при установке учётной записью.&lt;/li>
&lt;li>Нажмите комбинацию &lt;em>Win+Enter&lt;/em> для запуска терминала.&lt;/li>
&lt;li>Запустите терминальный мультиплексор &lt;em>tmux&lt;/em>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-38-1">&lt;a class="lnlinks" href="#hl-38-1">1&lt;/a>&lt;/span>&lt;span class="cl">tmux
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Создайте конфигурационный файл &lt;code>~/.config/sway/config.d/95-system-keyboard-config.conf&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-39-1">&lt;a class="lnlinks" href="#hl-39-1">1&lt;/a>&lt;/span>&lt;span class="cl">mkdir -p ~/.config/sway
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-39-2">&lt;a class="lnlinks" href="#hl-39-2">2&lt;/a>&lt;/span>&lt;span class="cl">touch ~/.config/sway/config.d/95-system-keyboard-config.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Отредактируйте конфигурационный файл &lt;code>~/.config/sway/config.d/95-system-keyboard-config.conf&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-40-1">&lt;a class="lnlinks" href="#hl-40-1">1&lt;/a>&lt;/span>&lt;span class="cl">exec_always /usr/libexec/sway-systemd/locale1-xkb-config --oneshot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Переключитесь на роль супер-пользователя:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-41-1">&lt;a class="lnlinks" href="#hl-41-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo -i
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Отредактируйте конфигурационный файл &lt;code>/etc/X11/xorg.conf.d/00-keyboard.conf&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-42-1">&lt;a class="lnlinks" href="#hl-42-1">1&lt;/a>&lt;/span>&lt;span class="cl">Section &amp;#34;InputClass&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-42-2">&lt;a class="lnlinks" href="#hl-42-2">2&lt;/a>&lt;/span>&lt;span class="cl"> Identifier &amp;#34;system-keyboard&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-42-3">&lt;a class="lnlinks" href="#hl-42-3">3&lt;/a>&lt;/span>&lt;span class="cl"> MatchIsKeyboard &amp;#34;on&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-42-4">&lt;a class="lnlinks" href="#hl-42-4">4&lt;/a>&lt;/span>&lt;span class="cl"> Option &amp;#34;XkbLayout&amp;#34; &amp;#34;us,ru&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-42-5">&lt;a class="lnlinks" href="#hl-42-5">5&lt;/a>&lt;/span>&lt;span class="cl"> Option &amp;#34;XkbVariant&amp;#34; &amp;#34;,winkeys&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-42-6">&lt;a class="lnlinks" href="#hl-42-6">6&lt;/a>&lt;/span>&lt;span class="cl"> Option &amp;#34;XkbOptions&amp;#34; &amp;#34;grp:rctrl_toggle,compose:ralt,terminate:ctrl_alt_bksp&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-42-7">&lt;a class="lnlinks" href="#hl-42-7">7&lt;/a>&lt;/span>&lt;span class="cl">EndSection
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Для этого можно использовать файловый менеджер &lt;code>mc&lt;/code> и его встроенный редактор.&lt;/li>
&lt;li>Перегрузите виртуальную машину:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-43-1">&lt;a class="lnlinks" href="#hl-43-1">1&lt;/a>&lt;/span>&lt;span class="cl">reboot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="видео-настройка-раскладки-клавиатуры">&lt;span class="section-num">3.6.1&lt;/span> Видео: Настройка раскладки клавиатуры&lt;/h4>
&lt;nav>
&lt;div class="nav nav-tabs" id="nav-tab" role="tablist">
&lt;a class="nav-item nav-link active "
id="nav-bfcdae" data-toggle="tab" href="#bfcdae"
role="tab" aria-controls="nav-home" aria-selected="true">RuTube&lt;/a>
&lt;a class="nav-item nav-link "
id="nav-eafcdb" data-toggle="tab" href="#eafcdb"
role="tab" aria-controls="nav-home" aria-selected="true">Youtube&lt;/a>
&lt;/div>
&lt;/nav>
&lt;div class="tab-content" id="nav-tab-content">
&lt;div class="tab-pane fade show active " id="bfcdae" role="tabpanel" aria-labelledby="nav-1">
&lt;div class="embed video-player">
&lt;iframe class="rutube-player" type="text/html"
width="720" height="405"
src="https://rutube.ru/play/embed/f1004d77e929bfb0f856f8aa471aa67c"
webkitAllowFullScreen mozallowfullscreen allowFullScreen
allow="clipboard-write" frameborder="0">
&lt;/iframe>
&lt;/div>
&lt;/div>
&lt;div class="tab-pane fade show " id="eafcdb" role="tabpanel" aria-labelledby="nav-1">
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/ayLha0dDiQw?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
>&lt;/iframe>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;h3 id="установка-имени-пользователя-и-названия-хоста">&lt;span class="section-num">3.7&lt;/span> Установка имени пользователя и названия хоста&lt;/h3>
&lt;ul>
&lt;li>Если при установке виртуальной машины вы задали имя пользователя или имя хоста, не удовлетворяющее соглашению об именовании, то вам необходимо исправить это.&lt;/li>
&lt;li>Запустите виртуальную машину и залогиньтесь.&lt;/li>
&lt;li>Нажмите комбинацию &lt;em>Win+Enter&lt;/em> для запуска терминала.&lt;/li>
&lt;li>Запустите терминальный мультиплексор &lt;em>tmux&lt;/em>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-44-1">&lt;a class="lnlinks" href="#hl-44-1">1&lt;/a>&lt;/span>&lt;span class="cl">tmux
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Переключитесь на роль супер-пользователя:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-45-1">&lt;a class="lnlinks" href="#hl-45-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo -i
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Создайте пользователя (вместо &lt;code>username&lt;/code> укажите ваш логин в дисплейном классе):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-46-1">&lt;a class="lnlinks" href="#hl-46-1">1&lt;/a>&lt;/span>&lt;span class="cl">adduser -G wheel username
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Задайте пароль для пользователя (вместо &lt;code>username&lt;/code> укажите ваш логин в дисплейном классе):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-47-1">&lt;a class="lnlinks" href="#hl-47-1">1&lt;/a>&lt;/span>&lt;span class="cl">passwd username
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установите имя хоста (вместо &lt;code>username&lt;/code> укажите ваш логин в дисплейном классе):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-48-1">&lt;a class="lnlinks" href="#hl-48-1">1&lt;/a>&lt;/span>&lt;span class="cl">hostnamectl set-hostname username
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Проверьте, что имя хоста установлено верно:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-49-1">&lt;a class="lnlinks" href="#hl-49-1">1&lt;/a>&lt;/span>&lt;span class="cl">hostnamectl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="видео-имя-пользователя-и-хоста">&lt;span class="section-num">3.7.1&lt;/span> Видео: Имя пользователя и хоста&lt;/h4>
&lt;nav>
&lt;div class="nav nav-tabs" id="nav-tab" role="tablist">
&lt;a class="nav-item nav-link active "
id="nav-bceafd" data-toggle="tab" href="#bceafd"
role="tab" aria-controls="nav-home" aria-selected="true">RuTube&lt;/a>
&lt;a class="nav-item nav-link "
id="nav-dabfec" data-toggle="tab" href="#dabfec"
role="tab" aria-controls="nav-home" aria-selected="true">Youtube&lt;/a>
&lt;/div>
&lt;/nav>
&lt;div class="tab-content" id="nav-tab-content">
&lt;div class="tab-pane fade show active " id="bceafd" role="tabpanel" aria-labelledby="nav-1">
&lt;div class="embed video-player">
&lt;iframe class="rutube-player" type="text/html"
width="720" height="405"
src="https://rutube.ru/play/embed/a1a2bac5dbd805b11d5d5390cdfcee50"
webkitAllowFullScreen mozallowfullscreen allowFullScreen
allow="clipboard-write" frameborder="0">
&lt;/iframe>
&lt;/div>
&lt;/div>
&lt;div class="tab-pane fade show " id="dabfec" role="tabpanel" aria-labelledby="nav-1">
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/zU1x8rx4JjA?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
>&lt;/iframe>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;h3 id="подключение-общей-папки">&lt;span class="section-num">3.8&lt;/span> Подключение общей папки&lt;/h3>
&lt;ul>
&lt;li>Внутри виртуальной машины добавьте своего пользователя в группу &lt;code>vboxsf&lt;/code> (вместо &lt;code>username&lt;/code> укажите ваш логин):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-50-1">&lt;a class="lnlinks" href="#hl-50-1">1&lt;/a>&lt;/span>&lt;span class="cl">gpasswd -a username vboxsf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>В хостовой системе подключите разделяемую папку:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-51-1">&lt;a class="lnlinks" href="#hl-51-1">1&lt;/a>&lt;/span>&lt;span class="cl">vboxmanage sharedfolder add &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>id -un&lt;span class="k">)&lt;/span>&lt;span class="s2">_os-intro&amp;#34;&lt;/span> --name&lt;span class="o">=&lt;/span>work --hostpath&lt;span class="o">=&lt;/span>work --automount
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Перегрузите виртуальную машину:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-52-1">&lt;a class="lnlinks" href="#hl-52-1">1&lt;/a>&lt;/span>&lt;span class="cl">reboot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Папка будет монтироваться в &lt;code>/media/sf_work&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h3 id="установка-программного-обеспечения-для-создания-документации">&lt;span class="section-num">3.9&lt;/span> Установка программного обеспечения для создания документации&lt;/h3>
&lt;ul>
&lt;li>Нажмите комбинацию &lt;em>Win+Enter&lt;/em> для запуска терминала.&lt;/li>
&lt;li>Запустите терминальный мультиплексор &lt;em>tmux&lt;/em>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-53-1">&lt;a class="lnlinks" href="#hl-53-1">1&lt;/a>&lt;/span>&lt;span class="cl">tmux
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Переключитесь на роль супер-пользователя:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-54-1">&lt;a class="lnlinks" href="#hl-54-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo -i
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="работа-с-языком-разметки-markdown">&lt;span class="section-num">3.9.1&lt;/span> Работа с языком разметки Markdown&lt;/h4>
&lt;ul>
&lt;li>Средство &lt;code>pandoc&lt;/code> для работы с языком разметки Markdown.&lt;/li>
&lt;li>Установка с помощью менеджера пакетов:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-55-1">&lt;a class="lnlinks" href="#hl-55-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install pandoc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Для работы с перекрёстными ссылками мы используем пакет &lt;code>pandoc-crossref&lt;/code>.
&lt;ul>
&lt;li>Пакет &lt;code>pandoc-crossref&lt;/code> в стандартном репозитории отсутствует.&lt;/li>
&lt;li>Придётся ставить вручную, скачав с сайта &lt;a href="https://github.com/lierdakil/pandoc-crossref" target="_blank" rel="noopener">https://github.com/lierdakil/pandoc-crossref&lt;/a>.&lt;/li>
&lt;li>При установке &lt;code>pandoc-crossref&lt;/code> следует обращать внимание, для какой версии &lt;code>pandoc&lt;/code> он скомпилён.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Лучше установить &lt;code>pandoc&lt;/code> и &lt;code>pandoc-crossref&lt;/code> вручную.
&lt;ul>
&lt;li>Скачайте необходимую версию &lt;code>pandoc-crossref&lt;/code> (&lt;a href="https://github.com/lierdakil/pandoc-crossref/releases" target="_blank" rel="noopener">https://github.com/lierdakil/pandoc-crossref/releases&lt;/a>).&lt;/li>
&lt;li>Посмотрите, для какой версии откомпилён &lt;code>pandoc-crossref&lt;/code>.&lt;/li>
&lt;li>Скачайте соответствующую версию &lt;code>pandoc&lt;/code> (&lt;a href="https://github.com/jgm/pandoc/releases" target="_blank" rel="noopener">https://github.com/jgm/pandoc/releases&lt;/a>).&lt;/li>
&lt;li>Распакуйте архивы.&lt;/li>
&lt;li>Обе программы собраны в виде статически-линкованных бинарных файлов.&lt;/li>
&lt;li>Поместите их в каталог &lt;code>/usr/local/bin&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="texlive">&lt;span class="section-num">3.9.2&lt;/span> texlive&lt;/h4>
&lt;ul>
&lt;li>Установим дистрибутив TeXlive (см. &lt;a href="https://yamadharma.github.io/ru/post/2021/04/23/install-texlive/">Установка TeX Live&lt;/a>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-56-1">&lt;a class="lnlinks" href="#hl-56-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install texlive-scheme-full
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="видео-установка-tex">&lt;span class="section-num">3.9.3&lt;/span> Видео: Установка TeX&lt;/h4>
&lt;nav>
&lt;div class="nav nav-tabs" id="nav-tab" role="tablist">
&lt;a class="nav-item nav-link active "
id="nav-bfaecd" data-toggle="tab" href="#bfaecd"
role="tab" aria-controls="nav-home" aria-selected="true">RuTube&lt;/a>
&lt;a class="nav-item nav-link "
id="nav-fbdcea" data-toggle="tab" href="#fbdcea"
role="tab" aria-controls="nav-home" aria-selected="true">Youtube&lt;/a>
&lt;/div>
&lt;/nav>
&lt;div class="tab-content" id="nav-tab-content">
&lt;div class="tab-pane fade show active " id="bfaecd" role="tabpanel" aria-labelledby="nav-1">
&lt;div class="embed video-player">
&lt;iframe class="rutube-player" type="text/html"
width="720" height="405"
src="https://rutube.ru/play/embed/a60d71c8e5644c1fa42b445670fb43c8"
webkitAllowFullScreen mozallowfullscreen allowFullScreen
allow="clipboard-write" frameborder="0">
&lt;/iframe>
&lt;/div>
&lt;/div>
&lt;div class="tab-pane fade show " id="fbdcea" role="tabpanel" aria-labelledby="nav-1">
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/65yj0KvKZGM?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
>&lt;/iframe>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2 id="домашнее-задание">&lt;span class="section-num">4&lt;/span> Домашнее задание&lt;/h2>
&lt;ul>
&lt;li>Дождитесь загрузки графического окружения и откройте терминал. В окне терминала проанализируйте последовательность загрузки системы, выполнив команду &lt;code>dmesg&lt;/code>. Можно просто просмотреть вывод этой команды:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-57-1">&lt;a class="lnlinks" href="#hl-57-1">1&lt;/a>&lt;/span>&lt;span class="cl">dmesg &lt;span class="p">|&lt;/span> less
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Можно использовать поиск с помощью &lt;code>grep&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-58-1">&lt;a class="lnlinks" href="#hl-58-1">1&lt;/a>&lt;/span>&lt;span class="cl">dmesg &lt;span class="p">|&lt;/span> grep -i &lt;span class="s2">&amp;#34;то, что ищем&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Получите следующую информацию.
&lt;ul>
&lt;li>Версия ядра Linux (Linux version).&lt;/li>
&lt;li>Частота процессора (Detected Mhz processor).&lt;/li>
&lt;li>Модель процессора (CPU0).&lt;/li>
&lt;li>Объём доступной оперативной памяти (Memory available).&lt;/li>
&lt;li>Тип обнаруженного гипервизора (Hypervisor detected).&lt;/li>
&lt;li>Тип файловой системы корневого раздела.&lt;/li>
&lt;li>Последовательность монтирования файловых систем.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="содержание-отчёта">&lt;span class="section-num">5&lt;/span> Содержание отчёта&lt;/h2>
&lt;ul>
&lt;li>Отчёт должен включать:
&lt;ul>
&lt;li>титульный лист;&lt;/li>
&lt;li>формулировку задания работы;&lt;/li>
&lt;li>описание результатов выполнения задания:
&lt;ul>
&lt;li>краткое описание действия;&lt;/li>
&lt;li>вводимую команду или команды;&lt;/li>
&lt;li>результаты выполнения команд (снимок экрана);&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>выводы, согласованные с заданием работы;&lt;/li>
&lt;li>ответы на контрольные вопросы;&lt;/li>
&lt;li>отчёт о выполнении дополнительного задания.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="контрольные-вопросы">&lt;span class="section-num">6&lt;/span> Контрольные вопросы&lt;/h2>
&lt;ol>
&lt;li>
&lt;p>Какую информацию содержит учётная запись пользователя?&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Укажите команды терминала и приведите примеры:&lt;/p>
&lt;ul>
&lt;li>для получения справки по команде;&lt;/li>
&lt;li>для перемещения по файловой системе;&lt;/li>
&lt;li>для просмотра содержимого каталога;&lt;/li>
&lt;li>для определения объёма каталога;&lt;/li>
&lt;li>для создания / удаления каталогов / файлов;&lt;/li>
&lt;li>для задания определённых прав на файл / каталог;&lt;/li>
&lt;li>для просмотра истории команд.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Что такое файловая система? Приведите примеры с краткой характеристикой.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Как посмотреть, какие файловые системы подмонтированы в ОС?&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Как удалить зависший процесс?&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>При ответах на контрольные вопросы рекомендуется ознакомиться с информацией из [&lt;a href="#citeproc_bib_item_1">1&lt;/a>; &lt;a href="#citeproc_bib_item_1">1&lt;/a>–&lt;a href="#citeproc_bib_item_7">7&lt;/a>].&lt;/p>
&lt;h2 id="библиография">&lt;span class="section-num">7&lt;/span> Библиография&lt;/h2>
&lt;h2 id="литература">Литература&lt;/h2>
&lt;div class="csl-bib-body">
&lt;div class="csl-entry">&lt;a id="citeproc_bib_item_1">&lt;/a>1. Dash, P. Getting Started with Oracle VM VirtualBox / P. Dash. – Packt Publishing Ltd, 2013. – 86 сс.&lt;/div>
&lt;div class="csl-entry">&lt;a id="citeproc_bib_item_2">&lt;/a>2. Colvin, H. VirtualBox: An Ultimate Guide Book on Virtualization with VirtualBox. VirtualBox / H. Colvin. – CreateSpace Independent Publishing Platform, 2015. – 70 сс.&lt;/div>
&lt;div class="csl-entry">&lt;a id="citeproc_bib_item_3">&lt;/a>3. Vugt, S. van. Red Hat RHCSA/RHCE 7 cert guide : Red Hat Enterprise Linux 7 (EX200 and EX300) : Certification Guide. Red Hat RHCSA/RHCE 7 cert guide / S. van Vugt. – Pearson IT Certification, 2016. – 1008 сс.&lt;/div>
&lt;div class="csl-entry">&lt;a id="citeproc_bib_item_4">&lt;/a>4. Робачевский, А. Операционная система UNIX / А. Робачевский, С. Немнюгин, О. Стесик. – 2-е изд. – Санкт-Петербург : БХВ-Петербург, 2010. – 656 сс.&lt;/div>
&lt;div class="csl-entry">&lt;a id="citeproc_bib_item_5">&lt;/a>5. Немет, Э. Unix и Linux: руководство системного администратора. Unix и Linux / Э. Немет, Г. Снайдер, Т.Р. Хейн, Б. Уэйли. – 4-е изд. – Вильямс, 2014. – 1312 сс.&lt;/div>
&lt;div class="csl-entry">&lt;a id="citeproc_bib_item_6">&lt;/a>6. Колисниченко, Д.Н. Самоучитель системного администратора Linux : Системный администратор / Д.Н. Колисниченко. – Санкт-Петербург : БХВ-Петербург, 2011. – 544 сс.&lt;/div>
&lt;div class="csl-entry">&lt;a id="citeproc_bib_item_7">&lt;/a>7. Robbins, A. Bash Pocket Reference / A. Robbins. – O’Reilly Media, 2016. – 156 сс.&lt;/div>
&lt;/div></description></item><item><title>Gentoo. Создание ebuild для Rust</title><link>https://yamadharma.github.io/ru/post/2024/11/02/gentoo-ebuild-rust/</link><pubDate>Sat, 02 Nov 2024 19:06:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/11/02/gentoo-ebuild-rust/</guid><description>&lt;p>Gentoo. Создание ebuild для программ на Rust.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#pycargoebuild">&lt;span class="section-num">1&lt;/span> pycargoebuild&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1.1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#использование">&lt;span class="section-num">1.2&lt;/span> Использование&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="pycargoebuild">&lt;span class="section-num">1&lt;/span> pycargoebuild&lt;/h2>
&lt;h3 id="общая-информация">&lt;span class="section-num">1.1&lt;/span> Общая информация&lt;/h3>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/projg2/pycargoebuild/" target="_blank" rel="noopener">https://github.com/projg2/pycargoebuild/&lt;/a>&lt;/li>
&lt;li>Генератор ebuild с использованием инфраструктуры Cargo.&lt;/li>
&lt;li>Установка:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge app-portage/pycargoebuild
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="использование">&lt;span class="section-num">1.2&lt;/span> Использование&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Создать новый ebuild:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">pycargoebuild &amp;lt;package-directory&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;em>package-directory&lt;/em> : каталог, содержащий &lt;code>Cargo.toml&lt;/code>.&lt;/li>
&lt;li>Создаётся файл ebuild в текущем каталоге.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Обновить существующий ebuild:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-2-1">&lt;a class="lnlinks" href="#hl-2-1">1&lt;/a>&lt;/span>&lt;span class="cl">pycargoebuild -i &amp;lt;current-file&amp;gt;.ebuild &amp;lt;package-directory&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Обновление деривативов RedHat</title><link>https://yamadharma.github.io/ru/post/2024/09/12/redhat-derivatives-update/</link><pubDate>Thu, 12 Sep 2024 12:48:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/09/12/redhat-derivatives-update/</guid><description>&lt;p>Обновление деривативов RedHat.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#проект-elevate">&lt;span class="section-num">1.1&lt;/span> Проект ELevate&lt;/a>&lt;/li>
&lt;li>&lt;a href="#предварительные-действия">&lt;span class="section-num">1.2&lt;/span> Предварительные действия&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#7-8">&lt;span class="section-num">2&lt;/span> 7 → 8&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#обновление-centos-7-до-rocky-8">&lt;span class="section-num">2.1&lt;/span> Обновление Centos 7 до Rocky 8&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#8-9">&lt;span class="section-num">3&lt;/span> 8 → 9&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#обновление-oracle-8-до-oracle-9">&lt;span class="section-num">3.1&lt;/span> Обновление Oracle 8 до Oracle 9&lt;/a>&lt;/li>
&lt;li>&lt;a href="#обновление-rocky-8-до-rocky-9">&lt;span class="section-num">3.2&lt;/span> Обновление Rocky 8 до Rocky 9&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;h3 id="проект-elevate">&lt;span class="section-num">1.1&lt;/span> Проект ELevate&lt;/h3>
&lt;ul>
&lt;li>Сайт: &lt;a href="https://almalinux.org/elevate/" target="_blank" rel="noopener">https://almalinux.org/elevate/&lt;/a>&lt;/li>
&lt;li>Документация: &lt;a href="https://wiki.almalinux.org/elevate/" target="_blank" rel="noopener">https://wiki.almalinux.org/elevate/&lt;/a>&lt;/li>
&lt;li>Поддерживает следующие пути обновления и миграции:
&lt;ul>
&lt;li>обновление с CentOS 6 до CentOS 7;&lt;/li>
&lt;li>обновление с CentOS 7 до AlmaLinux 8, CentOS Stream 8, Euro Linux 8, Oracle Linux 8 или Rocky Linux 8;&lt;/li>
&lt;li>обновление Scientific Linux 7 до AlmaLinux 8;&lt;/li>
&lt;li>обновление с 8.x до 9.x в том же дистрибутиве;&lt;/li>
&lt;li>миграция на Oracle Linux 9 доступна с утилитой Oracle Leapp.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="предварительные-действия">&lt;span class="section-num">1.2&lt;/span> Предварительные действия&lt;/h3>
&lt;ul>
&lt;li>Определите версию операционной системы:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">cat /etc/os-release
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="7-8">&lt;span class="section-num">2&lt;/span> 7 → 8&lt;/h2>
&lt;h3 id="обновление-centos-7-до-rocky-8">&lt;span class="section-num">2.1&lt;/span> Обновление Centos 7 до Rocky 8&lt;/h3>
&lt;h4 id="общая-информация">&lt;span class="section-num">2.1.1&lt;/span> Общая информация&lt;/h4>
&lt;ul>
&lt;li>Будем использовать проект Elevate.&lt;/li>
&lt;/ul>
&lt;h4 id="подготовка-к-обновлению">&lt;span class="section-num">2.1.2&lt;/span> Подготовка к обновлению&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>Обновите систему:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo yum -y upgrade
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Перегрузите машину:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-2-1">&lt;a class="lnlinks" href="#hl-2-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo reboot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Установите пакет &lt;em>elevate-release&lt;/em>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-3-1">&lt;a class="lnlinks" href="#hl-3-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo yum install -y http://repo.almalinux.org/elevate/elevate-release-latest-el&lt;span class="k">$(&lt;/span>rpm --eval %rhel&lt;span class="k">)&lt;/span>.noarch.rpm
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Установите утилиты для миграции:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-4-1">&lt;a class="lnlinks" href="#hl-4-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo yum install -y leapp-upgrade leapp-data-rocky
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Другие варианты установки: &lt;code>centos&lt;/code>, &lt;code>almalinux&lt;/code>, &lt;code>eurolinux&lt;/code>, &lt;code>oraclelinux&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Лучше установить SELinux в &lt;code>permissive&lt;/code> в файле &lt;code>/etc/selinux/config&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Перегрузите компьютер.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Восстановите метки SELinux:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-5-1">&lt;a class="lnlinks" href="#hl-5-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo restorecon -vR /
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Удалите внешние репозитории:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-6-1">&lt;a class="lnlinks" href="#hl-6-1">1&lt;/a>&lt;/span>&lt;span class="cl">yum remove epel-release
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-6-2">&lt;a class="lnlinks" href="#hl-6-2">2&lt;/a>&lt;/span>&lt;span class="cl">yum remove rpmforge-release
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-6-3">&lt;a class="lnlinks" href="#hl-6-3">3&lt;/a>&lt;/span>&lt;span class="cl">yum remove elrepo-release
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Удалите неподдерживаемые модули ядра:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-7-1">&lt;a class="lnlinks" href="#hl-7-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo rmmod pata_acpi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-7-2">&lt;a class="lnlinks" href="#hl-7-2">2&lt;/a>&lt;/span>&lt;span class="cl">sudo rmmod floppy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Проверьте возможность обновления:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-8-1">&lt;a class="lnlinks" href="#hl-8-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo leapp preupgrade
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Отчёт находится в файле &lt;code>/var/log/leapp/leapp-report.txt&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Там же находятся и рекомендации по устранению проблем.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Тут же будет список неподписанных пакетов, которые, скорее всего, вам придётся установить заново после обновления.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Также создаётся файл &lt;code>/var/log/leapp/answerfile&lt;/code>, где нужно подтвердить действия.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Подтвердите удаление модуляя PAM PKCS#11:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-9-1">&lt;a class="lnlinks" href="#hl-9-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo leapp answer --section remove_pam_pkcs11_module_check.confirm&lt;span class="o">=&lt;/span>True
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>После исправления запустите утилиту опять. И так до устранения основных недостатков.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="обновление">&lt;span class="section-num">2.1.3&lt;/span> Обновление&lt;/h4>
&lt;ul>
&lt;li>После подготовки сделайте обновление:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-10-1">&lt;a class="lnlinks" href="#hl-10-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo leapp upgrade
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>После скачивания необходимых пакетов будет предложено перегрузить машину.&lt;/li>
&lt;li>После перезагрузки начнётся процесс обновления.&lt;/li>
&lt;/ul>
&lt;h4 id="после-обновления">&lt;span class="section-num">2.1.4&lt;/span> После обновления&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>Удалите старые пакеты от Centos7:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-11-1">&lt;a class="lnlinks" href="#hl-11-1">1&lt;/a>&lt;/span>&lt;span class="cl">rpm -qa &lt;span class="p">|&lt;/span> grep -E &lt;span class="s1">&amp;#39;el7[.-]&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> xargs rpm -e
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Выполните последующие действия либо обновляйте до следующей версии.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Установите внешние репозитории:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-12-1">&lt;a class="lnlinks" href="#hl-12-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install epel-release
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Обновите необновлённые пакеты:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-13-1">&lt;a class="lnlinks" href="#hl-13-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y update
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Установите удалённые пакеты, например:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-14-1">&lt;a class="lnlinks" href="#hl-14-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install fail2ban
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-14-2">&lt;a class="lnlinks" href="#hl-14-2">2&lt;/a>&lt;/span>&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> --now fail2ban.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Установите SELinux в &lt;code>enforcing&lt;/code> в файле &lt;code>/etc/selinux/config&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="8-9">&lt;span class="section-num">3&lt;/span> 8 → 9&lt;/h2>
&lt;h3 id="обновление-oracle-8-до-oracle-9">&lt;span class="section-num">3.1&lt;/span> Обновление Oracle 8 до Oracle 9&lt;/h3>
&lt;h4 id="общая-информация">&lt;span class="section-num">3.1.1&lt;/span> Общая информация&lt;/h4>
&lt;ul>
&lt;li>Материалы:
&lt;ul>
&lt;li>&lt;a href="https://blogs.oracle.com/linux/post/upgrade-oracle-linux-8-to-oracle-linux-9-using-leapp" target="_blank" rel="noopener">https://blogs.oracle.com/linux/post/upgrade-oracle-linux-8-to-oracle-linux-9-using-leapp&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.oracle.com/en/operating-systems/oracle-linux/9/leapp/leapp-PreparingfortheUpgrade.html#chap-leapp-prep" target="_blank" rel="noopener">https://docs.oracle.com/en/operating-systems/oracle-linux/9/leapp/leapp-PreparingfortheUpgrade.html#chap-leapp-prep&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="подготовка-к-обновлению">&lt;span class="section-num">3.1.2&lt;/span> Подготовка к обновлению&lt;/h4>
&lt;ul>
&lt;li>Обновите систему:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-15-1">&lt;a class="lnlinks" href="#hl-15-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo dnf update
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установите утилиту &lt;em>Leapp&lt;/em>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-16-1">&lt;a class="lnlinks" href="#hl-16-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo dnf install leapp-upgrade --enablerepo&lt;span class="o">=&lt;/span>ol8_appstream,ol8_baseos_latest
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Лучше установить SELinux в &lt;code>permissive&lt;/code> в файле &lt;code>/etc/selinux/config&lt;/code>.&lt;/li>
&lt;li>Перегрузите компьютер.&lt;/li>
&lt;li>Восстановите метки SELinux:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-17-1">&lt;a class="lnlinks" href="#hl-17-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo restorecon -vR /
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Удалите внешние репозитории:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-18-1">&lt;a class="lnlinks" href="#hl-18-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf remove epel-release
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Проверьте возможность обновления:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-19-1">&lt;a class="lnlinks" href="#hl-19-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo leapp preupgrade --oraclelinux
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Отчёт находится в файле &lt;code>/var/log/leapp/leapp-report.txt&lt;/code>.&lt;/li>
&lt;li>Там же находятся и рекомендации по устранению проблем.&lt;/li>
&lt;li>Тут же будет список неподписанных пакетов, которые, скорее всего, вам придётся установить заново после обновления.&lt;/li>
&lt;li>Также создаётся файл &lt;code>/var/log/leapp/answerfile&lt;/code>, где нужно подтвердить действия.&lt;/li>
&lt;li>После исправления запустите утилиту опять. И так до устранения основных недостатков.&lt;/li>
&lt;/ul>
&lt;h4 id="обновление">&lt;span class="section-num">3.1.3&lt;/span> Обновление&lt;/h4>
&lt;ul>
&lt;li>После подготовки сделайте обновление:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-20-1">&lt;a class="lnlinks" href="#hl-20-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo leapp upgrade --oraclelinux
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>После скачивания необходимых пакетов будет предложено перегрузить машину.&lt;/li>
&lt;li>После перезагрузки начнётся процесс обновления.&lt;/li>
&lt;/ul>
&lt;h4 id="после-обновления">&lt;span class="section-num">3.1.4&lt;/span> После обновления&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>Установите внешние репозитории:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-21-1">&lt;a class="lnlinks" href="#hl-21-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install epel-release
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Обновите необновлённые пакеты:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-22-1">&lt;a class="lnlinks" href="#hl-22-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y update
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Установите удалённые пакеты, например:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-23-1">&lt;a class="lnlinks" href="#hl-23-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install fail2ban
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-23-2">&lt;a class="lnlinks" href="#hl-23-2">2&lt;/a>&lt;/span>&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> --now fail2ban.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Установите SELinux в &lt;code>enforcing&lt;/code> в файле &lt;code>/etc/selinux/config&lt;/code>.&lt;/li>
&lt;li>Установите ядро Unbreakable Enterprise Kernel:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-24-1">&lt;a class="lnlinks" href="#hl-24-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install kernel-uek kernel-uek-modules kernel-uek-modules-extra
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="обновление-rocky-8-до-rocky-9">&lt;span class="section-num">3.2&lt;/span> Обновление Rocky 8 до Rocky 9&lt;/h3>
&lt;h4 id="общая-информация">&lt;span class="section-num">3.2.1&lt;/span> Общая информация&lt;/h4>
&lt;ul>
&lt;li>Будем использовать проект Elevate.&lt;/li>
&lt;/ul>
&lt;h4 id="подготовка-к-обновлению">&lt;span class="section-num">3.2.2&lt;/span> Подготовка к обновлению&lt;/h4>
&lt;ul>
&lt;li>Обновите систему:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-25-1">&lt;a class="lnlinks" href="#hl-25-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo dnf -y upgrade
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Перегрузите машину:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-26-1">&lt;a class="lnlinks" href="#hl-26-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo reboot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установите пакет &lt;em>elevate-release&lt;/em>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-27-1">&lt;a class="lnlinks" href="#hl-27-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo dnf install -y http://repo.almalinux.org/elevate/elevate-release-latest-el&lt;span class="k">$(&lt;/span>rpm --eval %rhel&lt;span class="k">)&lt;/span>.noarch.rpm
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Отменить исключение пакетов, выполненное при предыдущем обновлении:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-28-1">&lt;a class="lnlinks" href="#hl-28-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf config-manager --save --setopt &lt;span class="nv">exclude&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установите утилиты для миграции:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-29-1">&lt;a class="lnlinks" href="#hl-29-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo dnf install -y leapp-upgrade leapp-data-rocky
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Лучше установить SELinux в &lt;code>permissive&lt;/code> в файле &lt;code>/etc/selinux/config&lt;/code>.&lt;/li>
&lt;li>Перегрузите компьютер.&lt;/li>
&lt;li>Восстановите метки SELinux:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-30-1">&lt;a class="lnlinks" href="#hl-30-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo restorecon -vR /
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Удалите внешние репозитории:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-31-1">&lt;a class="lnlinks" href="#hl-31-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf remove epel-release
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Проверьте возможность обновления:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-32-1">&lt;a class="lnlinks" href="#hl-32-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo leapp preupgrade
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Отчёт находится в файле &lt;code>/var/log/leapp/leapp-report.txt&lt;/code>.&lt;/li>
&lt;li>Там же находятся и рекомендации по устранению проблем.&lt;/li>
&lt;li>Тут же будет список неподписанных пакетов, которые, скорее всего, вам придётся установить заново после обновления.&lt;/li>
&lt;li>Также создаётся файл &lt;code>/var/log/leapp/answerfile&lt;/code>, где нужно подтвердить действия.&lt;/li>
&lt;li>Общие исправления для Rocky Linux 8.
&lt;ul>
&lt;li>Изменение конфигурации firewalld:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-33-1">&lt;a class="lnlinks" href="#hl-33-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo sed -i &lt;span class="s2">&amp;#34;s/^AllowZoneDrifting=.*/AllowZoneDrifting=no/&amp;#34;&lt;/span> /etc/firewalld/firewalld.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Удаление файла конфигурации сети для неподдерживаемого типа сетевого устройства:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-34-1">&lt;a class="lnlinks" href="#hl-34-1">1&lt;/a>&lt;/span>&lt;span class="cl">rm /etc/sysconfig/network-scripts/ifcfg-&lt;span class="o">[&lt;/span>device_name&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Обход требования проверки устройства VDO в файле ответов:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-35-1">&lt;a class="lnlinks" href="#hl-35-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo leapp answer --section check_vdo.no_vdo_devices&lt;span class="o">=&lt;/span>True
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Удалите неподдерживаемые модули ядра:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-36-1">&lt;a class="lnlinks" href="#hl-36-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo rmmod ip_set
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>После исправления запустите утилиту опять. И так до устранения основных недостатков.&lt;/li>
&lt;/ul>
&lt;h4 id="обновление">&lt;span class="section-num">3.2.3&lt;/span> Обновление&lt;/h4>
&lt;ul>
&lt;li>Обычно пакеты &lt;code>make-devel&lt;/code> и &lt;code>rocky-logos&lt;/code> приводят к сбою обновления. Удалите их:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-37-1">&lt;a class="lnlinks" href="#hl-37-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf remove make-devel
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-37-2">&lt;a class="lnlinks" href="#hl-37-2">2&lt;/a>&lt;/span>&lt;span class="cl">dnf remove rocky-logos
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>После подготовки сделайте обновление:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-38-1">&lt;a class="lnlinks" href="#hl-38-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo leapp upgrade
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>После скачивания необходимых пакетов будет предложено перегрузить машину.&lt;/li>
&lt;li>После перезагрузки начнётся процесс обновления.&lt;/li>
&lt;/ul>
&lt;h4 id="после-обновления">&lt;span class="section-num">3.2.4&lt;/span> После обновления&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>Удалите старые пакеты от Rocky Linux 8:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-39-1">&lt;a class="lnlinks" href="#hl-39-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo rpm -qa &lt;span class="p">|&lt;/span> grep -E &lt;span class="s1">&amp;#39;el8[.-]&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> xargs rpm -e
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Выполните последующие действия либо обновляйте до следующей версии.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Установите внешние репозитории:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-40-1">&lt;a class="lnlinks" href="#hl-40-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo dnf config-manager --set-enabled crb
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-40-2">&lt;a class="lnlinks" href="#hl-40-2">2&lt;/a>&lt;/span>&lt;span class="cl">sudo dnf install epel-release
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Обновите необновлённые пакеты:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-41-1">&lt;a class="lnlinks" href="#hl-41-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo dnf -y update
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Установите удалённые пакеты, например:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-42-1">&lt;a class="lnlinks" href="#hl-42-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo dnf -y install fail2ban
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-42-2">&lt;a class="lnlinks" href="#hl-42-2">2&lt;/a>&lt;/span>&lt;span class="cl">sudo systemctl &lt;span class="nb">enable&lt;/span> --now fail2ban.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Установите SELinux в &lt;code>enforcing&lt;/code> в файле &lt;code>/etc/selinux/config&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Перенос виртуальной машины на Proxmox</title><link>https://yamadharma.github.io/ru/post/2024/09/04/migrating-virtual-machine-proxmox/</link><pubDate>Wed, 04 Sep 2024 16:58:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/09/04/migrating-virtual-machine-proxmox/</guid><description>&lt;p>Перенос виртуальной машины на Proxmox.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#перенос-образа-kvm">&lt;span class="section-num">1&lt;/span> Перенос образа kvm&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#создание-виртуальной-машины">&lt;span class="section-num">1.1&lt;/span> Создание виртуальной машины&lt;/a>&lt;/li>
&lt;li>&lt;a href="#копирование-образа-диска">&lt;span class="section-num">1.2&lt;/span> Копирование образа диска&lt;/a>&lt;/li>
&lt;li>&lt;a href="#импорт-диска">&lt;span class="section-num">1.3&lt;/span> Импорт диска&lt;/a>&lt;/li>
&lt;li>&lt;a href="#после-переноса">&lt;span class="section-num">1.4&lt;/span> После переноса&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="перенос-образа-kvm">&lt;span class="section-num">1&lt;/span> Перенос образа kvm&lt;/h2>
&lt;h3 id="создание-виртуальной-машины">&lt;span class="section-num">1.1&lt;/span> Создание виртуальной машины&lt;/h3>
&lt;ul>
&lt;li>Создадим виртуальную машину в Proxmox с помощью графической утилиты или утилиты командной строки &lt;code>qm&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h4 id="графический-интерфейс">&lt;span class="section-num">1.1.1&lt;/span> Графический интерфейс&lt;/h4>
&lt;ul>
&lt;li>Вкладка &lt;em>General&lt;/em>. Идентификатор виртуальной машины (VM ID) будет задан автоматически (следующий свободный).&lt;/li>
&lt;li>Вкладка &lt;em>OS&lt;/em>. Операционная система выбирает &lt;em>Do Not Use Any Media&lt;/em>.&lt;/li>
&lt;li>Вкладка &lt;em>Disk&lt;/em>. Удалите диск по умолчанию &lt;code>scsi0&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h4 id="интерфейс-командной-строки">&lt;span class="section-num">1.1.2&lt;/span> Интерфейс командной строки&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>Пусть идентификатор машины будет 111 (для определённости).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Рекомендуется использовать на всех виртуальных машинах &lt;em>qemu agent&lt;/em>, для обеспечения взаимодействия между гипервизором и виртуальной машиной (см. &lt;a href="https://yamadharma.github.io/ru/post/2024/09/05/kvm-qemu-guest-agent/">KVM. QEMU Guest Agent&lt;/a>).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Создадим виртуальную машину:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">qm create &lt;span class="m">111&lt;/span> --name vm111 --bootdisk scsi0 --net0 virtio,bridge&lt;span class="o">=&lt;/span>vmbr0,firewall&lt;span class="o">=&lt;/span>1,mtu&lt;span class="o">=&lt;/span>1,tag&lt;span class="o">=&lt;/span>&lt;span class="m">100&lt;/span> --agent &lt;span class="nv">enabled&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span> --scsihw virtio-scsi-pci
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>здесь у нас используется VLAN=100;&lt;/li>
&lt;li>&lt;code>mtu=1&lt;/code> : установить MTU таким же, как у родительского интерфейса (&lt;code>vmbr0&lt;/code>).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="копирование-образа-диска">&lt;span class="section-num">1.2&lt;/span> Копирование образа диска&lt;/h3>
&lt;ul>
&lt;li>Необходимо выключить исходную виртуальную машину на хосте источнике.&lt;/li>
&lt;li>Найти образ жесткого диска, который используется в виртуальной машине.&lt;/li>
&lt;li>Пусть образ диска называется &lt;code>kvm_disk.qcow2&lt;/code>.&lt;/li>
&lt;li>Скопируем образ на хост назначения (Proxmox):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">scp /var/lib/libvirt/images/kvm_disk.qcow2 proxmox.example.com:/var/lib/vz/images
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="импорт-диска">&lt;span class="section-num">1.3&lt;/span> Импорт диска&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Импортируйте скопированный диск:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-2-1">&lt;a class="lnlinks" href="#hl-2-1">1&lt;/a>&lt;/span>&lt;span class="cl">qm importdisk &lt;span class="m">111&lt;/span> /var/lib/vz/images/kvm_disk.qcow2 local-lvm --format raw
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>В результате будет выдано имя получившегося диска в виде &lt;code>unused0:local-lvm:vm-111-disk-0&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Подключите виртуальный диск к виртуальной машине:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-3-1">&lt;a class="lnlinks" href="#hl-3-1">1&lt;/a>&lt;/span>&lt;span class="cl">qm &lt;span class="nb">set&lt;/span> &lt;span class="m">111&lt;/span> --scsi0 local-lvm:vm-111-disk-0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Подключить можно и через графический интерфейс.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="после-переноса">&lt;span class="section-num">1.4&lt;/span> После переноса&lt;/h3>
&lt;ul>
&lt;li>Проверьте настройку виртуальной машины.&lt;/li>
&lt;li>Проверьте ip-адрес машины (у вас изменился mac-адрес).&lt;/li>
&lt;li>Установите, если надо quemu-guest-agent (см. &lt;a href="https://yamadharma.github.io/ru/post/2024/09/05/kvm-qemu-guest-agent/">KVM. QEMU Guest Agent&lt;/a>).&lt;/li>
&lt;/ul></description></item><item><title>Система установки SALI</title><link>https://yamadharma.github.io/ru/post/2024/08/27/sali-automatic-linux-installer/</link><pubDate>Tue, 27 Aug 2024 17:42:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/08/27/sali-automatic-linux-installer/</guid><description>&lt;p>Система установки SALI&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://gitlab.com/surfsara/sali" target="_blank" rel="noopener">https://gitlab.com/surfsara/sali&lt;/a>&lt;/li>
&lt;li>Позволяет устанавливать Linux на несколько компьютеров одновременно.&lt;/li>
&lt;li>Загрузка образов поддерживается через BitTorrent и rsync.&lt;/li>
&lt;/ul></description></item><item><title>Gentoo. Постустановка</title><link>https://yamadharma.github.io/ru/post/2024/07/06/gentoo-post-installation/</link><pubDate>Sat, 06 Jul 2024 16:06:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/07/06/gentoo-post-installation/</guid><description>&lt;p>Постустановка Gentoo.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#настройка-репозиториев">&lt;span class="section-num">2&lt;/span> Настройка репозиториев&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#репозиторий-gentoo">&lt;span class="section-num">2.1&lt;/span> Репозиторий gentoo&lt;/a>&lt;/li>
&lt;li>&lt;a href="#репозитории-karma">&lt;span class="section-num">2.2&lt;/span> Репозитории karma&lt;/a>&lt;/li>
&lt;li>&lt;a href="#синхронизация-репозиториев">&lt;span class="section-num">2.3&lt;/span> Синхронизация репозиториев&lt;/a>&lt;/li>
&lt;li>&lt;a href="#дополнительные-оверлеи">&lt;span class="section-num">2.4&lt;/span> Дополнительные оверлеи&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#установка-программного-обеспечения">&lt;span class="section-num">3&lt;/span> Установка программного обеспечения&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#общая-конфигурация">&lt;span class="section-num">3.1&lt;/span> Общая конфигурация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#работа-в-консоли">&lt;span class="section-num">3.2&lt;/span> Работа в консоли&lt;/a>&lt;/li>
&lt;li>&lt;a href="#графическое-окружение">&lt;span class="section-num">3.3&lt;/span> Графическое окружение&lt;/a>&lt;/li>
&lt;li>&lt;a href="#средства-разработки">&lt;span class="section-num">3.4&lt;/span> Средства разработки&lt;/a>&lt;/li>
&lt;li>&lt;a href="#редакторы">&lt;span class="section-num">3.5&lt;/span> Редакторы&lt;/a>&lt;/li>
&lt;li>&lt;a href="#обслуживание-системы">&lt;span class="section-num">3.6&lt;/span> Обслуживание системы&lt;/a>&lt;/li>
&lt;li>&lt;a href="#утилиты-пользователя">&lt;span class="section-num">3.7&lt;/span> Утилиты пользователя&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Описание моей настройки Gentoo.&lt;/li>
&lt;/ul>
&lt;h2 id="настройка-репозиториев">&lt;span class="section-num">2&lt;/span> Настройка репозиториев&lt;/h2>
&lt;ul>
&lt;li>Настройка репозиториев исходит из того, что я использую свой репозиторий с конфигурациями (см. &lt;a href="https://yamadharma.github.io/ru/post/2024/05/25/gentoo-karma-repository/">Gentoo. Репозиторий karma&lt;/a>).&lt;/li>
&lt;/ul>
&lt;h3 id="репозиторий-gentoo">&lt;span class="section-num">2.1&lt;/span> Репозиторий gentoo&lt;/h3>
&lt;ul>
&lt;li>Установите основной репозиторий (если это ещё не сделано):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">emaint sync -r gentoo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-0-2">&lt;a class="lnlinks" href="#hl-0-2">2&lt;/a>&lt;/span>&lt;span class="cl">chown -R portage:portage /var/db/repos/gentoo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="репозитории-karma">&lt;span class="section-num">2.2&lt;/span> Репозитории karma&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Установите репозитории с настройками (см. &lt;a href="https://yamadharma.github.io/ru/post/2024/05/25/gentoo-karma-repository/">Gentoo. Репозиторий karma&lt;/a>)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Добавьте репозиторий &lt;code>karma&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">eselect repository add karma git https://github.com/yamadharma/karma.git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-1-2">&lt;a class="lnlinks" href="#hl-1-2">2&lt;/a>&lt;/span>&lt;span class="cl">emaint sync -r karma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-1-3">&lt;a class="lnlinks" href="#hl-1-3">3&lt;/a>&lt;/span>&lt;span class="cl">chown -R portage:portage /var/db/repos/karma
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Добавьте репозиторий &lt;code>karma-profiles&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-2-1">&lt;a class="lnlinks" href="#hl-2-1">1&lt;/a>&lt;/span>&lt;span class="cl">eselect repository add karma-profiles git https://github.com/yamadharma/karma-profiles.git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-2">&lt;a class="lnlinks" href="#hl-2-2">2&lt;/a>&lt;/span>&lt;span class="cl">emaint sync -r karma-profiles
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-3">&lt;a class="lnlinks" href="#hl-2-3">3&lt;/a>&lt;/span>&lt;span class="cl">chown -R portage:portage /var/db/repos/karma-profiles
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Сделайте ссылки на файлы конфигурации:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-3-1">&lt;a class="lnlinks" href="#hl-3-1">1&lt;/a>&lt;/span>&lt;span class="cl">. /var/db/repos/karma-profiles/scripts/portage
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="синхронизация-репозиториев">&lt;span class="section-num">2.3&lt;/span> Синхронизация репозиториев&lt;/h3>
&lt;ul>
&lt;li>Синхронизуйте репозитории:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-4-1">&lt;a class="lnlinks" href="#hl-4-1">1&lt;/a>&lt;/span>&lt;span class="cl">emaint sync
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="дополнительные-оверлеи">&lt;span class="section-num">2.4&lt;/span> Дополнительные оверлеи&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2023/10/01/gentoo-additional-repositories/">Gentoo. Дополнительные репозитории&lt;/a>&lt;/li>
&lt;/ul>
&lt;h4 id="guru">&lt;span class="section-num">2.4.1&lt;/span> guru&lt;/h4>
&lt;ul>
&lt;li>Добавление репозитория guru:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-5-1">&lt;a class="lnlinks" href="#hl-5-1">1&lt;/a>&lt;/span>&lt;span class="cl">eselect repository &lt;span class="nb">enable&lt;/span> guru
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="gentoo-zh">&lt;span class="section-num">2.4.2&lt;/span> gentoo-zh&lt;/h4>
&lt;ul>
&lt;li>Добавление репозитория gentoo-zh:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-6-1">&lt;a class="lnlinks" href="#hl-6-1">1&lt;/a>&lt;/span>&lt;span class="cl">eselect repository &lt;span class="nb">enable&lt;/span> gentoo-zh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="science">&lt;span class="section-num">2.4.3&lt;/span> science&lt;/h4>
&lt;ul>
&lt;li>Добавление репозитория science:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-7-1">&lt;a class="lnlinks" href="#hl-7-1">1&lt;/a>&lt;/span>&lt;span class="cl">eselect repository &lt;span class="nb">enable&lt;/span> science
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="установка-программного-обеспечения">&lt;span class="section-num">3&lt;/span> Установка программного обеспечения&lt;/h2>
&lt;h3 id="общая-конфигурация">&lt;span class="section-num">3.1&lt;/span> Общая конфигурация&lt;/h3>
&lt;ul>
&lt;li>Зададим флаги emerge:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-8-1">&lt;a class="lnlinks" href="#hl-8-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">### Emerge&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Зададим флаги emerge:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-9-1">&lt;a class="lnlinks" href="#hl-9-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">## Verbose output&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-2">&lt;a class="lnlinks" href="#hl-9-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nv">EMERGE_FLAGS&lt;/span>&lt;span class="o">=&lt;/span>-v
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="работа-в-консоли">&lt;span class="section-num">3.2&lt;/span> Работа в консоли&lt;/h3>
&lt;ul>
&lt;li>Для установки всего необходимого для работы в консоли необходимо использовать файл &lt;code>term.sh&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-10-1">&lt;a class="lnlinks" href="#hl-10-1">1&lt;/a>&lt;/span>&lt;span class="cl">. ./config.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-10-2">&lt;a class="lnlinks" href="#hl-10-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">### Terminal&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="файловый-менеджер-mc">&lt;span class="section-num">3.2.1&lt;/span> Файловый менеджер mc&lt;/h4>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2023/08/26/midnight-commander-file-manager/">Файловый менеджер Midnight Commander&lt;/a>&lt;/li>
&lt;li>Установка файлового менеджера mc:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-11-1">&lt;a class="lnlinks" href="#hl-11-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">## Установка файлового менеджера mc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-2">&lt;a class="lnlinks" href="#hl-11-2">2&lt;/a>&lt;/span>&lt;span class="cl">emerge &lt;span class="si">${&lt;/span>&lt;span class="nv">EMERGE_FLAGS&lt;/span>&lt;span class="si">}&lt;/span> app-misc/mc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="графическое-окружение">&lt;span class="section-num">3.3&lt;/span> Графическое окружение&lt;/h3>
&lt;h4 id="kde">&lt;span class="section-num">3.3.1&lt;/span> KDE&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>Для установки KDE необходимо использовать файл &lt;code>kde.sh&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-12-1">&lt;a class="lnlinks" href="#hl-12-1">1&lt;/a>&lt;/span>&lt;span class="cl">. ./config.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-2">&lt;a class="lnlinks" href="#hl-12-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">### KDE&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Установим все программы KDE:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-13-1">&lt;a class="lnlinks" href="#hl-13-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">## Install all KDE programs&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-13-2">&lt;a class="lnlinks" href="#hl-13-2">2&lt;/a>&lt;/span>&lt;span class="cl">emerge &lt;span class="si">${&lt;/span>&lt;span class="nv">EMERGE_FLAGS&lt;/span>&lt;span class="si">}&lt;/span> kde-apps/kde-apps-meta
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="gnome">&lt;span class="section-num">3.3.2&lt;/span> Gnome&lt;/h4>
&lt;ul>
&lt;li>Для установки Gnome необходимо использовать файл &lt;code>gnome.sh&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-14-1">&lt;a class="lnlinks" href="#hl-14-1">1&lt;/a>&lt;/span>&lt;span class="cl">. ./config.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-14-2">&lt;a class="lnlinks" href="#hl-14-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">### Gnome&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="sway">&lt;span class="section-num">3.3.3&lt;/span> Sway&lt;/h4>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2020/09/10/migration-sway/">Переход на Sway&lt;/a>&lt;/li>
&lt;li>Для установки Gnome необходимо использовать файл &lt;code>sway.sh&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-15-1">&lt;a class="lnlinks" href="#hl-15-1">1&lt;/a>&lt;/span>&lt;span class="cl">. ./config.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-15-2">&lt;a class="lnlinks" href="#hl-15-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">### Sway&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Sway&lt;/p>
&lt;ul>
&lt;li>Установим собственно Sway:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-16-1">&lt;a class="lnlinks" href="#hl-16-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge &lt;span class="si">${&lt;/span>&lt;span class="nv">EMERGE_FLAGS&lt;/span>&lt;span class="si">}&lt;/span> gui-wm/sway
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="2">
&lt;li>
&lt;p>Работа с буфером обмена&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Общие программы для работы с буфером обмена:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-17-1">&lt;a class="lnlinks" href="#hl-17-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">## Wayland clipboard&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-17-2">&lt;a class="lnlinks" href="#hl-17-2">2&lt;/a>&lt;/span>&lt;span class="cl">emerge &lt;span class="si">${&lt;/span>&lt;span class="nv">EMERGE_FLAGS&lt;/span>&lt;span class="si">}&lt;/span> gui-apps/wl-clipboard
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Установим &lt;code>cliphist&lt;/code> (репозиторий &lt;code>guru&lt;/code>):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-18-1">&lt;a class="lnlinks" href="#hl-18-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge &lt;span class="si">${&lt;/span>&lt;span class="nv">EMERGE_FLAGS&lt;/span>&lt;span class="si">}&lt;/span> app-misc/cliphist
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="средства-разработки">&lt;span class="section-num">3.4&lt;/span> Средства разработки&lt;/h3>
&lt;ul>
&lt;li>Для установки всего необходимого для работы в консоли необходимо использовать файл &lt;code>dev.sh&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-19-1">&lt;a class="lnlinks" href="#hl-19-1">1&lt;/a>&lt;/span>&lt;span class="cl">. ./config.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-19-2">&lt;a class="lnlinks" href="#hl-19-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">### Dev tools&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="git">&lt;span class="section-num">3.4.1&lt;/span> git&lt;/h4>
&lt;!--list-separator-->
&lt;ol>
&lt;li>github&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="2">
&lt;li>
&lt;p>gitea&lt;/p>
&lt;ul>
&lt;li>Утилиты для работы с Gitea.
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-20-1">&lt;a class="lnlinks" href="#hl-20-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">## Gitea&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Утилита командной строки для работы с сервером Gitea (см. &lt;a href="https://yamadharma.github.io/ru/post/2023/11/11/interacting-gitea-command-line/">Взаимодействие с gitea из командной строки&lt;/a>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-21-1">&lt;a class="lnlinks" href="#hl-21-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge &lt;span class="si">${&lt;/span>&lt;span class="nv">EMERGE_FLAGS&lt;/span>&lt;span class="si">}&lt;/span> dev-util/tea
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4 id="python">&lt;span class="section-num">3.4.2&lt;/span> python&lt;/h4>
&lt;ul>
&lt;li>Утилиты для работы с python.
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-22-1">&lt;a class="lnlinks" href="#hl-22-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">## Python&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>pipx&lt;/p>
&lt;ul>
&lt;li>Установка пакетов python:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-23-1">&lt;a class="lnlinks" href="#hl-23-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge &lt;span class="si">${&lt;/span>&lt;span class="nv">EMERGE_FLAGS&lt;/span>&lt;span class="si">}&lt;/span> dev-python/pipx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4 id="node-dot-js">&lt;span class="section-num">3.4.3&lt;/span> Node.js&lt;/h4>
&lt;ul>
&lt;li>Утилиты для работы с Node.js.
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-24-1">&lt;a class="lnlinks" href="#hl-24-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">## Node.js&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>pnpm&lt;/p>
&lt;ul>
&lt;li>Управление пакетами Node.js (оверлей &lt;code>karma&lt;/code>, см. &lt;a href="https://yamadharma.github.io/ru/post/2024/05/25/gentoo-karma-repository/">Gentoo. Репозиторий karma&lt;/a>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-25-1">&lt;a class="lnlinks" href="#hl-25-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge &lt;span class="si">${&lt;/span>&lt;span class="nv">EMERGE_FLAGS&lt;/span>&lt;span class="si">}&lt;/span> sys-apps/pnpm-bin
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="2">
&lt;li>
&lt;p>yarn&lt;/p>
&lt;ul>
&lt;li>Управление пакетами Node.js:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-26-1">&lt;a class="lnlinks" href="#hl-26-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge &lt;span class="si">${&lt;/span>&lt;span class="nv">EMERGE_FLAGS&lt;/span>&lt;span class="si">}&lt;/span> sys-apps/yarn
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="редакторы">&lt;span class="section-num">3.5&lt;/span> Редакторы&lt;/h3>
&lt;ul>
&lt;li>Для установки редакторов необходимо использовать файл &lt;code>edit.sh&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-27-1">&lt;a class="lnlinks" href="#hl-27-1">1&lt;/a>&lt;/span>&lt;span class="cl">. ./config.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-27-2">&lt;a class="lnlinks" href="#hl-27-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">### Edit&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="zed">&lt;span class="section-num">3.5.1&lt;/span> Zed&lt;/h4>
&lt;ul>
&lt;li>Установка редактора &lt;em>Zed&lt;/em> (оверлей &lt;code>gentoo-zh&lt;/code>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-28-1">&lt;a class="lnlinks" href="#hl-28-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">## Установка редактора Zed&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-28-2">&lt;a class="lnlinks" href="#hl-28-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># emerge ${EMERGE_FLAGS} app-editors/zed&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="vscode">&lt;span class="section-num">3.5.2&lt;/span> VScode&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>Установка редактора &lt;em>VSCode&lt;/em>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-29-1">&lt;a class="lnlinks" href="#hl-29-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">## Установка редактора VSCode&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-29-2">&lt;a class="lnlinks" href="#hl-29-2">2&lt;/a>&lt;/span>&lt;span class="cl">emerge &lt;span class="si">${&lt;/span>&lt;span class="nv">EMERGE_FLAGS&lt;/span>&lt;span class="si">}&lt;/span> app-editors/vscode
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Установка редактора набора LSP-серверов для &lt;em>VSCode&lt;/em> (оверлей &lt;code>guru&lt;/code>):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-30-1">&lt;a class="lnlinks" href="#hl-30-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge &lt;span class="si">${&lt;/span>&lt;span class="nv">EMERGE_FLAGS&lt;/span>&lt;span class="si">}&lt;/span> dev-util/vscode-langservers-extracted
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="emacs">&lt;span class="section-num">3.5.3&lt;/span> Emacs&lt;/h4>
&lt;h4 id="vim">&lt;span class="section-num">3.5.4&lt;/span> Vim&lt;/h4>
&lt;h3 id="обслуживание-системы">&lt;span class="section-num">3.6&lt;/span> Обслуживание системы&lt;/h3>
&lt;ul>
&lt;li>Для установки системных утилит необходимо использовать файл &lt;code>sys.sh&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-31-1">&lt;a class="lnlinks" href="#hl-31-1">1&lt;/a>&lt;/span>&lt;span class="cl">. ./config.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-31-2">&lt;a class="lnlinks" href="#hl-31-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">### System tools&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="дедупликация-файлов">&lt;span class="section-num">3.6.1&lt;/span> Дедупликация файлов&lt;/h4>
&lt;ul>
&lt;li>Установим &lt;em>jdupes&lt;/em> (см. &lt;a href="https://yamadharma.github.io/ru/post/2024/02/23/file-deduplication-jdupes/">Дедупликация файлов. jdupes&lt;/a>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-32-1">&lt;a class="lnlinks" href="#hl-32-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge &lt;span class="si">${&lt;/span>&lt;span class="nv">EMERGE_FLAGS&lt;/span>&lt;span class="si">}&lt;/span> jdupes
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="утилиты-пользователя">&lt;span class="section-num">3.7&lt;/span> Утилиты пользователя&lt;/h3>
&lt;ul>
&lt;li>Для установки пользовательских утилит необходимо использовать файл &lt;code>user.sh&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-33-1">&lt;a class="lnlinks" href="#hl-33-1">1&lt;/a>&lt;/span>&lt;span class="cl">. ./config.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-33-2">&lt;a class="lnlinks" href="#hl-33-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">### User utils&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="менеджер-закладок-buku">&lt;span class="section-num">3.7.1&lt;/span> Менеджер закладок buku&lt;/h4>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/06/22/buku-bookmark-manager/">Менеджер закладок buku&lt;/a>&lt;/li>
&lt;li>Установим менеджер закладок:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-34-1">&lt;a class="lnlinks" href="#hl-34-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">## Buku&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-34-2">&lt;a class="lnlinks" href="#hl-34-2">2&lt;/a>&lt;/span>&lt;span class="cl">emerge &lt;span class="si">${&lt;/span>&lt;span class="nv">EMERGE_FLAGS&lt;/span>&lt;span class="si">}&lt;/span> www-misc/buku
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установим интерфейс к броузеру:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-35-1">&lt;a class="lnlinks" href="#hl-35-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge &lt;span class="si">${&lt;/span>&lt;span class="nv">EMERGE_FLAGS&lt;/span>&lt;span class="si">}&lt;/span> www-misc/bukubrow-bin
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="управление-ключами">&lt;span class="section-num">3.7.2&lt;/span> Управление ключами&lt;/h4>
&lt;ul>
&lt;li>Установим демон управления ключами:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-36-1">&lt;a class="lnlinks" href="#hl-36-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">## Keys&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-36-2">&lt;a class="lnlinks" href="#hl-36-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># emerge ${EMERGE_FLAGS} net-misc/keychain&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Sway. Совместимость приложений</title><link>https://yamadharma.github.io/ru/post/2024/06/20/sway-application-compatibility/</link><pubDate>Thu, 20 Jun 2024 21:26:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/06/20/sway-application-compatibility/</guid><description>&lt;p>Sway. Совместимость приложений.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#java">&lt;span class="section-num">1&lt;/span> Java&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#серое-окно-приложения-не-меняют-размер-с-помощью-wm-меню-сразу-закрываются">&lt;span class="section-num">1.1&lt;/span> Серое окно, приложения не меняют размер с помощью WM, меню сразу закрываются&lt;/a>&lt;/li>
&lt;li>&lt;a href="#меню-в-приложениях-плавает-отдельно-им-невозможно-пользоваться">&lt;span class="section-num">1.2&lt;/span> Меню в приложениях плавает отдельно, им невозможно пользоваться&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#приложения-gtk-plus-запускаются-с-задержкой">&lt;span class="section-num">2&lt;/span> Приложения GTK+ запускаются с задержкой&lt;/a>&lt;/li>
&lt;li>&lt;a href="#qt-приложения">&lt;span class="section-num">3&lt;/span> Qt приложения&lt;/a>&lt;/li>
&lt;li>&lt;a href="#avidemux">&lt;span class="section-num">4&lt;/span> Avidemux&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="java">&lt;span class="section-num">1&lt;/span> Java&lt;/h2>
&lt;h3 id="серое-окно-приложения-не-меняют-размер-с-помощью-wm-меню-сразу-закрываются">&lt;span class="section-num">1.1&lt;/span> Серое окно, приложения не меняют размер с помощью WM, меню сразу закрываются&lt;/h3>
&lt;ul>
&lt;li>В стандартных тулкитах для Java жестко зашит список оконных менеджеров.&lt;/li>
&lt;li>Следует установить переменную окружения:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">_JAVA_AWT_WM_NONREPARENTING&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="меню-в-приложениях-плавает-отдельно-им-невозможно-пользоваться">&lt;span class="section-num">1.2&lt;/span> Меню в приложениях плавает отдельно, им невозможно пользоваться&lt;/h3>
&lt;ul>
&lt;li>В выпусках Java до версии 9 GTK интерфейс ориентирован на GTK2, в последующих версиях на GTK3.&lt;/li>
&lt;li>GTK LookAndFeel может работать с GTK версий 2, 2.2 и 3.&lt;/li>
&lt;li>По умолчанию используется GTK3.&lt;/li>
&lt;li>Следует явно задать более старую версию:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">JAVA_TOOL_OPTIONS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;-Djdk.gtk.version=2.2&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Например, в файле &lt;code>~/.profile&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-2-1">&lt;a class="lnlinks" href="#hl-2-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$XDG_SESSION_DESKTOP&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;sway&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$XDG_SESSION_DESKTOP&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;i3&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-2">&lt;a class="lnlinks" href="#hl-2-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-3">&lt;a class="lnlinks" href="#hl-2-3">3&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="c1"># https://github.com/swaywm/sway/issues/595&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-4">&lt;a class="lnlinks" href="#hl-2-4">4&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="nb">export&lt;/span> &lt;span class="nv">_JAVA_AWT_WM_NONREPARENTING&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-5">&lt;a class="lnlinks" href="#hl-2-5">5&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="nb">export&lt;/span> &lt;span class="nv">JAVA_TOOL_OPTIONS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;-Djdk.gtk.version=2.2&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-6">&lt;a class="lnlinks" href="#hl-2-6">6&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="приложения-gtk-plus-запускаются-с-задержкой">&lt;span class="section-num">2&lt;/span> Приложения GTK+ запускаются с задержкой&lt;/h2>
&lt;ul>
&lt;li>Приложения GTK+ ожидают запуск &lt;code>xdg-desktop-portal&lt;/code> через D-Bus.&lt;/li>
&lt;li>Ожидание прекращается по таймауту потому, что активированная служба D-Bus не знает, к какому &lt;code>WAYLAND_DISPLAY&lt;/code> подключиться.&lt;/li>
&lt;li>Это можно исправить, добавив в файл конфигурации следующее:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-3-1">&lt;a class="lnlinks" href="#hl-3-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nb">exec&lt;/span> systemctl --user import-environment DISPLAY WAYLAND_DISPLAY SWAYSOCK
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-3-2">&lt;a class="lnlinks" href="#hl-3-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nb">exec&lt;/span> &lt;span class="nb">hash&lt;/span> dbus-update-activation-environment 2&amp;gt;/dev/null &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY SWAYSOCK
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="qt-приложения">&lt;span class="section-num">3&lt;/span> Qt приложения&lt;/h2>
&lt;ul>
&lt;li>Qt по умолчанию использует бэкэнд X11 вместо собственного бэкэнда Wayland. Чтобы использовать бэкэнд Wayland, установите &lt;code>QT_QPA_PLATFORM=wayland&lt;/code>.&lt;/li>
&lt;li>Qt прорисовает оформление окон на стороне клиента. Чтобы отключить это, установите &lt;code>QT_WAYLAND_DISABLE_WINDOWDECORATION=&amp;quot;1&amp;quot;&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h2 id="avidemux">&lt;span class="section-num">4&lt;/span> Avidemux&lt;/h2>
&lt;ul>
&lt;li>При запуске Avidemux под Wayland не отображается окно просмотра.&lt;/li>
&lt;li>Следует установить переменную окружения &lt;code>QT_QPA_PLATFORM=xcb&lt;/code> или &lt;code>WAYLAND_DISPLAY=0&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-4-1">&lt;a class="lnlinks" href="#hl-4-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nv">QT_QPA_PLATFORM&lt;/span>&lt;span class="o">=&lt;/span>xcb avidemux3_qt5
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Альтернативно можно задать опцию &lt;code>--platform 'xcb'&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-5-1">&lt;a class="lnlinks" href="#hl-5-1">1&lt;/a>&lt;/span>&lt;span class="cl">avidemux3_qt5 --platform &lt;span class="s1">&amp;#39;xcb&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Динамическое обновление DNS-сервера BIND при помощи Kea DHCP</title><link>https://yamadharma.github.io/ru/post/2024/06/18/dynamically-updating-bind-dns-kea-dhcp/</link><pubDate>Tue, 18 Jun 2024 11:23:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/06/18/dynamically-updating-bind-dns-kea-dhcp/</guid><description>&lt;p>Динамическое обновление DNS-сервера BIND при помощи Kea DHCP.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#ключи">&lt;span class="section-num">1&lt;/span> Ключи&lt;/a>&lt;/li>
&lt;li>&lt;a href="#настройка-dns-bind">&lt;span class="section-num">2&lt;/span> Настройка DNS Bind&lt;/a>&lt;/li>
&lt;li>&lt;a href="#настройка-kea-dhcp">&lt;span class="section-num">3&lt;/span> Настройка Kea DHCP&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#ключ">&lt;span class="section-num">3.1&lt;/span> Ключ&lt;/a>&lt;/li>
&lt;li>&lt;a href="#сервис-ddns">&lt;span class="section-num">3.2&lt;/span> Сервис ddns&lt;/a>&lt;/li>
&lt;li>&lt;a href="#сервис-dhcp4">&lt;span class="section-num">3.3&lt;/span> Сервис dhcp4&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="ключи">&lt;span class="section-num">1&lt;/span> Ключи&lt;/h2>
&lt;ul>
&lt;li>Создадим ключ на сервере с BIND9:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">tsig-keygen -a HMAC-SHA512 DHCP_UPDATER &amp;gt; /etc/named/keys/dhcp_updater.key
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Файл &lt;code>/etc/named/keys/dhcp_updater.key&lt;/code> будет иметь следующий вид:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">key &amp;#34;DHCP_UPDATER&amp;#34; {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-1-2">&lt;a class="lnlinks" href="#hl-1-2">2&lt;/a>&lt;/span>&lt;span class="cl"> algorithm hmac-sha512;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-1-3">&lt;a class="lnlinks" href="#hl-1-3">3&lt;/a>&lt;/span>&lt;span class="cl"> secret &amp;#34;psFFSGdUIwK36l1G82LOw15PuIH4W5uB8h/cw7F0XDsjniBbwm/59tM+V3ydcCs15VLpe2pxlUlggWilytQqgg==&amp;#34;;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-1-4">&lt;a class="lnlinks" href="#hl-1-4">4&lt;/a>&lt;/span>&lt;span class="cl">};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Поправим права доступа:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-2-1">&lt;a class="lnlinks" href="#hl-2-1">1&lt;/a>&lt;/span>&lt;span class="cl">chown -R named:named /etc/named/keys
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="настройка-dns-bind">&lt;span class="section-num">2&lt;/span> Настройка DNS Bind&lt;/h2>
&lt;ul>
&lt;li>Настройка происходит в файле &lt;code>/etc/named.conf&lt;/code>.&lt;/li>
&lt;li>Ключ находится в файле &lt;code>/etc/named/keys/dhcp_updater.key&lt;/code>.&lt;/li>
&lt;li>Подключим ключ:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-3-1">&lt;a class="lnlinks" href="#hl-3-1">1&lt;/a>&lt;/span>&lt;span class="cl">include &amp;#34;/etc/named/keys/dhcp_updater.key&amp;#34;;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Разрешим обновление зон:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-4-1">&lt;a class="lnlinks" href="#hl-4-1"> 1&lt;/a>&lt;/span>&lt;span class="cl">zone &amp;#34;local.zone&amp;#34; IN {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-4-2">&lt;a class="lnlinks" href="#hl-4-2"> 2&lt;/a>&lt;/span>&lt;span class="cl"> type master;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-4-3">&lt;a class="lnlinks" href="#hl-4-3"> 3&lt;/a>&lt;/span>&lt;span class="cl"> file &amp;#34;local.zone.db&amp;#34;;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-4-4">&lt;a class="lnlinks" href="#hl-4-4"> 4&lt;/a>&lt;/span>&lt;span class="cl"> allow-update { key DHCP_UPDATER; };
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-4-5">&lt;a class="lnlinks" href="#hl-4-5"> 5&lt;/a>&lt;/span>&lt;span class="cl"> update-policy {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-4-6">&lt;a class="lnlinks" href="#hl-4-6"> 6&lt;/a>&lt;/span>&lt;span class="cl"> grant DHCP_UPDATER wildcard *.local.zone A DHCID;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-4-7">&lt;a class="lnlinks" href="#hl-4-7"> 7&lt;/a>&lt;/span>&lt;span class="cl"> };
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-4-8">&lt;a class="lnlinks" href="#hl-4-8"> 8&lt;/a>&lt;/span>&lt;span class="cl">};
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-4-9">&lt;a class="lnlinks" href="#hl-4-9"> 9&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-4-10">&lt;a class="lnlinks" href="#hl-4-10">10&lt;/a>&lt;/span>&lt;span class="cl">zone &amp;#34;0.168.192.in-addr.arpa&amp;#34; IN {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-4-11">&lt;a class="lnlinks" href="#hl-4-11">11&lt;/a>&lt;/span>&lt;span class="cl"> type master;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-4-12">&lt;a class="lnlinks" href="#hl-4-12">12&lt;/a>&lt;/span>&lt;span class="cl"> file &amp;#34;192.168.0.db&amp;#34;;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-4-13">&lt;a class="lnlinks" href="#hl-4-13">13&lt;/a>&lt;/span>&lt;span class="cl"> update-policy {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-4-14">&lt;a class="lnlinks" href="#hl-4-14">14&lt;/a>&lt;/span>&lt;span class="cl"> grant DHCP_UPDATER wildcard *.0.168.192.in-addr.arpa PTR DHCID;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-4-15">&lt;a class="lnlinks" href="#hl-4-15">15&lt;/a>&lt;/span>&lt;span class="cl"> };
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-4-16">&lt;a class="lnlinks" href="#hl-4-16">16&lt;/a>&lt;/span>&lt;span class="cl">};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Сделаем проверку конфигурационного файла:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-5-1">&lt;a class="lnlinks" href="#hl-5-1">1&lt;/a>&lt;/span>&lt;span class="cl">named-checkconf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Перестартуйте сервер DNS:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-6-1">&lt;a class="lnlinks" href="#hl-6-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl restart named.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="настройка-kea-dhcp">&lt;span class="section-num">3&lt;/span> Настройка Kea DHCP&lt;/h2>
&lt;h3 id="ключ">&lt;span class="section-num">3.1&lt;/span> Ключ&lt;/h3>
&lt;ul>
&lt;li>Файл ключа назовём &lt;code>/etc/kea/tsig-keys.json&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-7-1">&lt;a class="lnlinks" href="#hl-7-1">1&lt;/a>&lt;/span>&lt;span class="cl">touch /etc/kea/tsig-keys.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Перенесём ключ на сервер Kea DHCP и перепишем его в формате json:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="ln" id="hl-8-1">&lt;a class="lnlinks" href="#hl-8-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="s2">&amp;#34;tsig-keys&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-2">&lt;a class="lnlinks" href="#hl-8-2">2&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-3">&lt;a class="lnlinks" href="#hl-8-3">3&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;DHCP_UPDATER&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-4">&lt;a class="lnlinks" href="#hl-8-4">4&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;algorithm&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;hmac-sha512&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-5">&lt;a class="lnlinks" href="#hl-8-5">5&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;secret&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;psFFSGdUIwK36l1G82LOw15PuIH4W5uB8h/cw7F0XDsjniBbwm/59tM+V3ydcCs15VLpe2pxlUlggWilytQqgg==&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-6">&lt;a class="lnlinks" href="#hl-8-6">6&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-7">&lt;a class="lnlinks" href="#hl-8-7">7&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Сменим владельца:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-9-1">&lt;a class="lnlinks" href="#hl-9-1">1&lt;/a>&lt;/span>&lt;span class="cl">chown kea:root /etc/kea/tsig-keys.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Поправим права доступа:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-10-1">&lt;a class="lnlinks" href="#hl-10-1">1&lt;/a>&lt;/span>&lt;span class="cl">chmod &lt;span class="m">640&lt;/span> /etc/kea/tsig-keys.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="сервис-ddns">&lt;span class="section-num">3.2&lt;/span> Сервис ddns&lt;/h3>
&lt;ul>
&lt;li>Настройка происходит в файле &lt;code>/etc/kea/kea-dhcp-ddns.conf&lt;/code>.&lt;/li>
&lt;li>Файл будет иметь следующий вид:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="ln" id="hl-11-1">&lt;a class="lnlinks" href="#hl-11-1"> 1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-2">&lt;a class="lnlinks" href="#hl-11-2"> 2&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;DhcpDdns&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-3">&lt;a class="lnlinks" href="#hl-11-3"> 3&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-4">&lt;a class="lnlinks" href="#hl-11-4"> 4&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;ip-address&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;127.0.0.1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-5">&lt;a class="lnlinks" href="#hl-11-5"> 5&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;port&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">53001&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-6">&lt;a class="lnlinks" href="#hl-11-6"> 6&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;control-socket&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-7">&lt;a class="lnlinks" href="#hl-11-7"> 7&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;socket-type&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;unix&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-8">&lt;a class="lnlinks" href="#hl-11-8"> 8&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;socket-name&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;/tmp/kea-ddns-ctrl-socket&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-9">&lt;a class="lnlinks" href="#hl-11-9"> 9&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-10">&lt;a class="lnlinks" href="#hl-11-10">10&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="o">&amp;lt;?&lt;/span>&lt;span class="nx">include&lt;/span> &lt;span class="s2">&amp;#34;/etc/kea/tsig-keys.json&amp;#34;&lt;/span>&lt;span class="o">?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-11">&lt;a class="lnlinks" href="#hl-11-11">11&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-12">&lt;a class="lnlinks" href="#hl-11-12">12&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;forward-ddns&amp;#34;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-13">&lt;a class="lnlinks" href="#hl-11-13">13&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;ddns-domains&amp;#34;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-14">&lt;a class="lnlinks" href="#hl-11-14">14&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-15">&lt;a class="lnlinks" href="#hl-11-15">15&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;local.zone.&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-16">&lt;a class="lnlinks" href="#hl-11-16">16&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;key-name&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;DHCP_UPDATER&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-17">&lt;a class="lnlinks" href="#hl-11-17">17&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;dns-servers&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-18">&lt;a class="lnlinks" href="#hl-11-18">18&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="s2">&amp;#34;ip-address&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;192.168.0.1&amp;#34;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-19">&lt;a class="lnlinks" href="#hl-11-19">19&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-20">&lt;a class="lnlinks" href="#hl-11-20">20&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-21">&lt;a class="lnlinks" href="#hl-11-21">21&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-22">&lt;a class="lnlinks" href="#hl-11-22">22&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-23">&lt;a class="lnlinks" href="#hl-11-23">23&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-24">&lt;a class="lnlinks" href="#hl-11-24">24&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;reverse-ddns&amp;#34;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-25">&lt;a class="lnlinks" href="#hl-11-25">25&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;ddns-domains&amp;#34;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-26">&lt;a class="lnlinks" href="#hl-11-26">26&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-27">&lt;a class="lnlinks" href="#hl-11-27">27&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;0.168.192.in-addr.arpa.&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-28">&lt;a class="lnlinks" href="#hl-11-28">28&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;key-name&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;DHCP_UPDATER&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-29">&lt;a class="lnlinks" href="#hl-11-29">29&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;dns-servers&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-30">&lt;a class="lnlinks" href="#hl-11-30">30&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="s2">&amp;#34;ip-address&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;192.168.0.1&amp;#34;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-31">&lt;a class="lnlinks" href="#hl-11-31">31&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-32">&lt;a class="lnlinks" href="#hl-11-32">32&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-33">&lt;a class="lnlinks" href="#hl-11-33">33&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-34">&lt;a class="lnlinks" href="#hl-11-34">34&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-35">&lt;a class="lnlinks" href="#hl-11-35">35&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-36">&lt;a class="lnlinks" href="#hl-11-36">36&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;loggers&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-37">&lt;a class="lnlinks" href="#hl-11-37">37&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-38">&lt;a class="lnlinks" href="#hl-11-38">38&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;kea-dhcp-ddns&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-39">&lt;a class="lnlinks" href="#hl-11-39">39&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;output_options&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-40">&lt;a class="lnlinks" href="#hl-11-40">40&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-41">&lt;a class="lnlinks" href="#hl-11-41">41&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;output&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;stdout&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-42">&lt;a class="lnlinks" href="#hl-11-42">42&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;%-5p %m\n&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-43">&lt;a class="lnlinks" href="#hl-11-43">43&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-44">&lt;a class="lnlinks" href="#hl-11-44">44&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-45">&lt;a class="lnlinks" href="#hl-11-45">45&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;severity&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;INFO&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-46">&lt;a class="lnlinks" href="#hl-11-46">46&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-47">&lt;a class="lnlinks" href="#hl-11-47">47&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;debuglevel&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-48">&lt;a class="lnlinks" href="#hl-11-48">48&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-49">&lt;a class="lnlinks" href="#hl-11-49">49&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-50">&lt;a class="lnlinks" href="#hl-11-50">50&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-51">&lt;a class="lnlinks" href="#hl-11-51">51&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Обратите особое внимание на точку в конце имени зоны, иначе DDNS завершится сбоем и сообщит, что не удалось найти соответствующее полное доменное имя.&lt;/li>
&lt;li>Можно определить несколько DNS-серверов.&lt;/li>
&lt;li>Раздел журналирования оставлен из шаблона.&lt;/li>
&lt;li>Изменим владельца файла:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-12-1">&lt;a class="lnlinks" href="#hl-12-1">1&lt;/a>&lt;/span>&lt;span class="cl">chown kea:root /etc/kea/kea-dhcp-ddns.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Проверим файл на наличие возможных синтаксических ошибок:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-13-1">&lt;a class="lnlinks" href="#hl-13-1">1&lt;/a>&lt;/span>&lt;span class="cl">kea-dhcp-ddns -t /etc/kea/kea-dhcp-ddns.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Запустим службу ddns:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-14-1">&lt;a class="lnlinks" href="#hl-14-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> --now kea-dhcp-ddns.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Проверим статус работы службы:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-15-1">&lt;a class="lnlinks" href="#hl-15-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl status kea-dhcp-ddns.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="сервис-dhcp4">&lt;span class="section-num">3.3&lt;/span> Сервис dhcp4&lt;/h3>
&lt;ul>
&lt;li>Настройка происходит в файле &lt;code>/etc/kea/kea-dhcp4.conf&lt;/code>.&lt;/li>
&lt;li>Включим динамическое обновление:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="ln" id="hl-16-1">&lt;a class="lnlinks" href="#hl-16-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="s2">&amp;#34;dhcp-ddns&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-16-2">&lt;a class="lnlinks" href="#hl-16-2">2&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="s2">&amp;#34;enable-updates&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-16-3">&lt;a class="lnlinks" href="#hl-16-3">3&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-16-4">&lt;a class="lnlinks" href="#hl-16-4">4&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-16-5">&lt;a class="lnlinks" href="#hl-16-5">5&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="s2">&amp;#34;ddns-qualifying-suffix&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;local.zone&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-16-6">&lt;a class="lnlinks" href="#hl-16-6">6&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="s2">&amp;#34;ddns-override-client-update&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Включаем обновления DDNS.&lt;/li>
&lt;li>Затем мы сообщаем DHCP-серверу, каким будет DNS-суффикс по умолчанию.
&lt;ul>
&lt;li>Если клиент предоставляет только своё имя хоста, это вызывает проблемы для DDNS, поскольку он не будет знать, что такое полное доменное имя, и поэтому не будет знать, какую зону обновлять.&lt;/li>
&lt;li>Другими словами, команда &lt;code>ddns-qualifying-suffix&lt;/code> используется для указания того, какое доменное имя должно быть добавлено к имени хоста.&lt;/li>
&lt;li>Можно определить это для каждой подсети.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Для параметра &lt;code>ddns-override-client-update&lt;/code> устанавливается значение &lt;code>true&lt;/code>, поскольку мы не хотим, чтобы клиент решал, какие записи обновлять.&lt;/li>
&lt;li>Проверим файл на наличие возможных синтаксических ошибок:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-17-1">&lt;a class="lnlinks" href="#hl-17-1">1&lt;/a>&lt;/span>&lt;span class="cl">kea-dhcp4 -t /etc/kea/kea-dhcp4.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Перезапустим службу, чтобы изменения вступили в силу:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-18-1">&lt;a class="lnlinks" href="#hl-18-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl restart kea-dhcp4.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Проверим статус:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-19-1">&lt;a class="lnlinks" href="#hl-19-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl status kea-dhcp4.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Сервер DHCP Kea</title><link>https://yamadharma.github.io/ru/post/2024/06/18/dhcp-kea-server/</link><pubDate>Tue, 18 Jun 2024 11:07:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/06/18/dhcp-kea-server/</guid><description>&lt;p>Сервер DHCP Kea.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#особенности">&lt;span class="section-num">1.1&lt;/span> Особенности&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#установка">&lt;span class="section-num">2&lt;/span> Установка&lt;/a>&lt;/li>
&lt;li>&lt;a href="#настройка">&lt;span class="section-num">3&lt;/span> Настройка&lt;/a>&lt;/li>
&lt;li>&lt;a href="#дополнения">&lt;span class="section-num">4&lt;/span> Дополнения&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Сайт: &lt;a href="https://www.isc.org/kea/" target="_blank" rel="noopener">https://www.isc.org/kea/&lt;/a>&lt;/li>
&lt;li>Современный стандартный сервер DHCP.&lt;/li>
&lt;li>Репозиторий:
&lt;ul>
&lt;li>&lt;a href="https://gitlab.isc.org/isc-projects/kea" target="_blank" rel="noopener">https://gitlab.isc.org/isc-projects/kea&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/isc-projects/kea" target="_blank" rel="noopener">https://github.com/isc-projects/kea&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Документация: &lt;a href="https://kea.readthedocs.io/en/latest/index.html" target="_blank" rel="noopener">https://kea.readthedocs.io/en/latest/index.html&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="особенности">&lt;span class="section-num">1.1&lt;/span> Особенности&lt;/h3>
&lt;ul>
&lt;li>Модульная конструкция компонентов
&lt;ul>
&lt;li>Расширяется с помощью модулей-хуков.&lt;/li>
&lt;li>Дистрибутив Kea включает отдельные демоны для сервера DHCPv4, сервера DHCPv6 и модуля динамического DNS (DDNS).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Онлайн-реконфигурация с помощью REST API.
&lt;ul>
&lt;li>Kea использует файл конфигурации JSON, который можно изменить удалённо без остановки и перезапуска сервера.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Панель управления через веб-интерфейс.&lt;/li>
&lt;li>Поддерживает базы данных MySQL, PostgreSQL:
&lt;ul>
&lt;li>упрощает интеграцию с другими системами;&lt;/li>
&lt;li>можно использовать один и тот же сервер резервирования хостов для нескольких DHCP-серверов;&lt;/li>
&lt;li>администрирование глобальных параметров из централизованной системы настройки.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="установка">&lt;span class="section-num">2&lt;/span> Установка&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/05/07/dhcp-server-installation/">DHCP. Установка сервера DHCP Kea&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="настройка">&lt;span class="section-num">3&lt;/span> Настройка&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/06/18/dynamically-updating-bind-dns-kea-dhcp/">Динамическое обновление DNS-сервера BIND при помощи Kea DHCP&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="дополнения">&lt;span class="section-num">4&lt;/span> Дополнения&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/07/22/netbox-plugin-netbox-kea/">NetBox. Плагин netbox-kea&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Sway. Конфигурация</title><link>https://yamadharma.github.io/ru/post/2024/06/12/sway-configuration/</link><pubDate>Wed, 12 Jun 2024 20:02:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/06/12/sway-configuration/</guid><description>&lt;p>Конфигурация Sway.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#расположение">&lt;span class="section-num">1.1&lt;/span> Расположение&lt;/a>&lt;/li>
&lt;li>&lt;a href="#переменные-среды">&lt;span class="section-num">1.2&lt;/span> Переменные среды&lt;/a>&lt;/li>
&lt;li>&lt;a href="#разделы">&lt;span class="section-num">1.3&lt;/span> Разделы&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#установка">&lt;span class="section-num">2&lt;/span> Установка&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#gentoo">&lt;span class="section-num">2.1&lt;/span> Gentoo&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#конфигурация-sway">&lt;span class="section-num">3&lt;/span> Конфигурация Sway&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#статусные-панели">&lt;span class="section-num">3.1&lt;/span> Статусные панели&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;h3 id="расположение">&lt;span class="section-num">1.1&lt;/span> Расположение&lt;/h3>
&lt;ul>
&lt;li>Конфигурация находится в:
&lt;ul>
&lt;li>&lt;code>/usr/share/sway/&lt;/code>;&lt;/li>
&lt;li>&lt;code>/etc/sway/&lt;/code>;&lt;/li>
&lt;li>&lt;code>~/.config/sway&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="переменные-среды">&lt;span class="section-num">1.2&lt;/span> Переменные среды&lt;/h3>
&lt;ul>
&lt;li>Переменные среды задаются в:
&lt;ul>
&lt;li>&lt;code>/etc/sway/environment&lt;/code>;&lt;/li>
&lt;li>&lt;code>~/.config/sway/environment&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="разделы">&lt;span class="section-num">1.3&lt;/span> Разделы&lt;/h3>
&lt;ul>
&lt;li>Файлы конфигурации сгруппированы в разделы.&lt;/li>
&lt;li>50-59 ( &lt;code>50-rules-*.conf&lt;/code> )
&lt;ul>
&lt;li>Оконные правила( &lt;code>for_window&lt;/code>, &lt;code>assign&lt;/code> и соответствующую конфигурацию).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>60-69 ( &lt;code>60-bindings-*.conf&lt;/code>, &lt;code>65-mode-.conf&lt;/code>)
&lt;ul>
&lt;li>Привязки клавиш и режимы привязки&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>90-94 ( &lt;code>90-*.conf&lt;/code> )
&lt;ul>
&lt;li>Системные приложения: панели, демоны простоя и другие компоненты.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>95-99 ( &lt;code>95-*.conf&lt;/code> )
&lt;ul>
&lt;li>Автозапуск приложений&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="установка">&lt;span class="section-num">2&lt;/span> Установка&lt;/h2>
&lt;h3 id="gentoo">&lt;span class="section-num">2.1&lt;/span> Gentoo&lt;/h3>
&lt;ul>
&lt;li>Пакет идёт в основном репозитории:&lt;/li>
&lt;/ul>
&lt;!--listend-->
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge -v gui-apps/waybar
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="конфигурация-sway">&lt;span class="section-num">3&lt;/span> Конфигурация Sway&lt;/h2>
&lt;h3 id="статусные-панели">&lt;span class="section-num">3.1&lt;/span> Статусные панели&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">## Status Bar
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="src-block-caption">
&lt;span class="src-block-number">&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 1:&lt;/span>
config.d/80-bar.conf
&lt;/div>
&lt;h4 id="sway-bar">&lt;span class="section-num">3.1.1&lt;/span> Sway-bar&lt;/h4>
&lt;ul>
&lt;li>Sway-bar идёт в составе Sway.&lt;/li>
&lt;/ul>
&lt;!--listend-->
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-2-1">&lt;a class="lnlinks" href="#hl-2-1"> 1&lt;/a>&lt;/span>&lt;span class="cl">### sway-bar
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-2">&lt;a class="lnlinks" href="#hl-2-2"> 2&lt;/a>&lt;/span>&lt;span class="cl">## Read `man 5 sway-bar` for more information about this section.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-3">&lt;a class="lnlinks" href="#hl-2-3"> 3&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-4">&lt;a class="lnlinks" href="#hl-2-4"> 4&lt;/a>&lt;/span>&lt;span class="cl"># bar {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-5">&lt;a class="lnlinks" href="#hl-2-5"> 5&lt;/a>&lt;/span>&lt;span class="cl"># font pango:Iosevka Nerd Font Propo, Font Awesome 6 Free, Font Awesome 6 Brands, sans-serif 12
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-6">&lt;a class="lnlinks" href="#hl-2-6"> 6&lt;/a>&lt;/span>&lt;span class="cl"># position top
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-7">&lt;a class="lnlinks" href="#hl-2-7"> 7&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-8">&lt;a class="lnlinks" href="#hl-2-8"> 8&lt;/a>&lt;/span>&lt;span class="cl"># When the status_command prints a new line to stdout, swaybar updates.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-9">&lt;a class="lnlinks" href="#hl-2-9"> 9&lt;/a>&lt;/span>&lt;span class="cl"># The default just shows the current date and time.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-10">&lt;a class="lnlinks" href="#hl-2-10">10&lt;/a>&lt;/span>&lt;span class="cl"># status_command while date +&amp;#39;%Y-%m-%d %H:%M:%S&amp;#39;; do sleep 1; done
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-11">&lt;a class="lnlinks" href="#hl-2-11">11&lt;/a>&lt;/span>&lt;span class="cl"># status_command i3status
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-12">&lt;a class="lnlinks" href="#hl-2-12">12&lt;/a>&lt;/span>&lt;span class="cl"># status_command i3blocks
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-13">&lt;a class="lnlinks" href="#hl-2-13">13&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-14">&lt;a class="lnlinks" href="#hl-2-14">14&lt;/a>&lt;/span>&lt;span class="cl"># colors {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-15">&lt;a class="lnlinks" href="#hl-2-15">15&lt;/a>&lt;/span>&lt;span class="cl"># statusline #ffffff
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-16">&lt;a class="lnlinks" href="#hl-2-16">16&lt;/a>&lt;/span>&lt;span class="cl"># background #323232
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-17">&lt;a class="lnlinks" href="#hl-2-17">17&lt;/a>&lt;/span>&lt;span class="cl"># inactive_workspace #32323200 #32323200 #5c5c5c
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-18">&lt;a class="lnlinks" href="#hl-2-18">18&lt;/a>&lt;/span>&lt;span class="cl"># }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-19">&lt;a class="lnlinks" href="#hl-2-19">19&lt;/a>&lt;/span>&lt;span class="cl"># }
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="src-block-caption">
&lt;span class="src-block-number">&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 2:&lt;/span>
config.d/80-bar.conf
&lt;/div>
&lt;h4 id="waybar">&lt;span class="section-num">3.1.2&lt;/span> Waybar&lt;/h4>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/11/21/wayland-waybar/">Wayland. Панель Waybar&lt;/a>&lt;/li>
&lt;/ul>
&lt;!--listend-->
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-3-1">&lt;a class="lnlinks" href="#hl-3-1"> 1&lt;/a>&lt;/span>&lt;span class="cl">### Waybar
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-3-2">&lt;a class="lnlinks" href="#hl-3-2"> 2&lt;/a>&lt;/span>&lt;span class="cl">## https://github.com/Alexays/Waybar
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-3-3">&lt;a class="lnlinks" href="#hl-3-3"> 3&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-3-4">&lt;a class="lnlinks" href="#hl-3-4"> 4&lt;/a>&lt;/span>&lt;span class="cl">## Waybar Tooltips don&amp;#39;t steel focus
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-3-5">&lt;a class="lnlinks" href="#hl-3-5"> 5&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-3-6">&lt;a class="lnlinks" href="#hl-3-6"> 6&lt;/a>&lt;/span>&lt;span class="cl"># no_focus [app_id=&amp;#34;waybar&amp;#34;]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-3-7">&lt;a class="lnlinks" href="#hl-3-7"> 7&lt;/a>&lt;/span>&lt;span class="cl"># for_window [app_id=&amp;#34;waybar&amp;#34; floating] {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-3-8">&lt;a class="lnlinks" href="#hl-3-8"> 8&lt;/a>&lt;/span>&lt;span class="cl"># move position cursor
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-3-9">&lt;a class="lnlinks" href="#hl-3-9"> 9&lt;/a>&lt;/span>&lt;span class="cl"># move down 60px # adjust if some menus still don&amp;#39;t fit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-3-10">&lt;a class="lnlinks" href="#hl-3-10">10&lt;/a>&lt;/span>&lt;span class="cl"># }
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="src-block-caption">
&lt;span class="src-block-number">&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 3:&lt;/span>
config.d/80-bar.conf
&lt;/div>
&lt;ul>
&lt;li>
&lt;p>Запускать можно разными способами.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Запуск скриптом. Скрипт убивает waybar и запускает заново:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-4-1">&lt;a class="lnlinks" href="#hl-4-1">1&lt;/a>&lt;/span>&lt;span class="cl">exec_always ~/.config/waybar/waybar.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Запуск через &lt;code>waybar.service&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-5-1">&lt;a class="lnlinks" href="#hl-5-1">1&lt;/a>&lt;/span>&lt;span class="cl"># exec_always systemctl --user restart waybar.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Запуск через инфраструктуру &lt;em>Swaybar&lt;/em>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="ln" id="hl-6-1">&lt;a class="lnlinks" href="#hl-6-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># bar {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-6-2">&lt;a class="lnlinks" href="#hl-6-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># position top&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-6-3">&lt;a class="lnlinks" href="#hl-6-3">3&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># # Execute Waybar; Waybar restarts when Sway reloads.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-6-4">&lt;a class="lnlinks" href="#hl-6-4">4&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># status_command waybar&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-6-5">&lt;a class="lnlinks" href="#hl-6-5">5&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># # Hide Sway&amp;#39;s builtin status bar.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-6-6">&lt;a class="lnlinks" href="#hl-6-6">6&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># mode invisible&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-6-7">&lt;a class="lnlinks" href="#hl-6-7">7&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># }&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>При этом после перезапуска &lt;em>Sway&lt;/em> waybar не перезапускается, а запускает новый экземпляр.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="nwg-panel">&lt;span class="section-num">3.1.3&lt;/span> Nwg-panel&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-7-1">&lt;a class="lnlinks" href="#hl-7-1">1&lt;/a>&lt;/span>&lt;span class="cl">### nwg-panel
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-7-2">&lt;a class="lnlinks" href="#hl-7-2">2&lt;/a>&lt;/span>&lt;span class="cl">## GTK3-based panel for sway and Hyprland Wayland compositors
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-7-3">&lt;a class="lnlinks" href="#hl-7-3">3&lt;/a>&lt;/span>&lt;span class="cl">## https://nwg-piotr.github.io/nwg-shell/nwg-panel
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-7-4">&lt;a class="lnlinks" href="#hl-7-4">4&lt;/a>&lt;/span>&lt;span class="cl">## https://github.com/nwg-piotr/nwg-panel
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-7-5">&lt;a class="lnlinks" href="#hl-7-5">5&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-7-6">&lt;a class="lnlinks" href="#hl-7-6">6&lt;/a>&lt;/span>&lt;span class="cl"># exec_always nwg-panel -c preset-1 -s preset-1.css
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="src-block-caption">
&lt;span class="src-block-number">&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 4:&lt;/span>
config.d/80-bar.conf
&lt;/div>
&lt;h4 id="yambar">&lt;span class="section-num">3.1.4&lt;/span> Yambar&lt;/h4>
&lt;ul>
&lt;li>&lt;a href="https://codeberg.org/dnkl/yambar" target="_blank" rel="noopener">https://codeberg.org/dnkl/yambar&lt;/a>&lt;/li>
&lt;/ul>
&lt;!--listend-->
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-8-1">&lt;a class="lnlinks" href="#hl-8-1">1&lt;/a>&lt;/span>&lt;span class="cl">### yambar
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-2">&lt;a class="lnlinks" href="#hl-8-2">2&lt;/a>&lt;/span>&lt;span class="cl">## https://codeberg.org/dnkl/yambar
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-3">&lt;a class="lnlinks" href="#hl-8-3">3&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-4">&lt;a class="lnlinks" href="#hl-8-4">4&lt;/a>&lt;/span>&lt;span class="cl"># exec_always yambar
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="src-block-caption">
&lt;span class="src-block-number">&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 5:&lt;/span>
config.d/80-bar.conf
&lt;/div></description></item><item><title>Proxmox. Вспомогательные скрипты</title><link>https://yamadharma.github.io/ru/post/2024/06/04/proxmox-helper-scripts/</link><pubDate>Tue, 04 Jun 2024 13:34:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/06/04/proxmox-helper-scripts/</guid><description>&lt;p>Вспомогательные скрипты для Proxmox.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#настройка-сервера">&lt;span class="section-num">2&lt;/span> Настройка сервера&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#proxmox-ve-post-install">&lt;span class="section-num">2.1&lt;/span> Proxmox VE Post Install&lt;/a>&lt;/li>
&lt;li>&lt;a href="#proxmox-ve-processor-microcode">&lt;span class="section-num">2.2&lt;/span> Proxmox VE Processor Microcode&lt;/a>&lt;/li>
&lt;li>&lt;a href="#proxmox-ve-cpu-scaling-governor">&lt;span class="section-num">2.3&lt;/span> Proxmox VE CPU Scaling Governor&lt;/a>&lt;/li>
&lt;li>&lt;a href="#proxmox-ve-kernel-clean">&lt;span class="section-num">2.4&lt;/span> Proxmox VE Kernel Clean&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Proxmox VE Helper-Scripts&lt;/li>
&lt;li>Сайт: &lt;a href="https://helper-scripts.com/" target="_blank" rel="noopener">https://helper-scripts.com/&lt;/a>&lt;/li>
&lt;li>Репозиторий: &lt;a href="https://github.com/tteck/Proxmox" target="_blank" rel="noopener">https://github.com/tteck/Proxmox&lt;/a>&lt;/li>
&lt;li>Сборник скриптов для Proxmov VE.&lt;/li>
&lt;/ul>
&lt;h2 id="настройка-сервера">&lt;span class="section-num">2&lt;/span> Настройка сервера&lt;/h2>
&lt;h3 id="proxmox-ve-post-install">&lt;span class="section-num">2.1&lt;/span> Proxmox VE Post Install&lt;/h3>
&lt;ul>
&lt;li>Отключение Enterprise Repo.&lt;/li>
&lt;li>Добавление или исправление источников PVE.&lt;/li>
&lt;li>Включение No-Subscription Repo.&lt;/li>
&lt;li>Добавление тестового репозитория.&lt;/li>
&lt;li>Отключение подписки nag.&lt;/li>
&lt;li>Обновление Proxmox VE.
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">bash -c &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>wget -qLO - https://github.com/tteck/Proxmox/raw/main/misc/post-pve-install.sh&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="proxmox-ve-processor-microcode">&lt;span class="section-num">2.2&lt;/span> Proxmox VE Processor Microcode&lt;/h3>
&lt;ul>
&lt;li>Добавление пакета для загрузки микрокода процессора:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">bash -c &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>wget -qLO - https://github.com/tteck/Proxmox/raw/main/misc/microcode.sh&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="proxmox-ve-cpu-scaling-governor">&lt;span class="section-num">2.3&lt;/span> Proxmox VE CPU Scaling Governor&lt;/h3>
&lt;ul>
&lt;li>Частота CPU регулируется в зависимости от рабочей нагрузки.
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-2-1">&lt;a class="lnlinks" href="#hl-2-1">1&lt;/a>&lt;/span>&lt;span class="cl">bash -c &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>wget -qLO - https://github.com/tteck/Proxmox/raw/main/misc/scaling-governor.sh&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="proxmox-ve-kernel-clean">&lt;span class="section-num">2.4&lt;/span> Proxmox VE Kernel Clean&lt;/h3>
&lt;ul>
&lt;li>Удаление неиспользуемых образов ядра.
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-3-1">&lt;a class="lnlinks" href="#hl-3-1">1&lt;/a>&lt;/span>&lt;span class="cl">bash -c &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>wget -qLO - https://github.com/tteck/Proxmox/raw/main/misc/kernel-clean.sh&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Linux. Установка Proxmox VE</title><link>https://yamadharma.github.io/ru/post/2024/06/04/proxmox-ve-install/</link><pubDate>Tue, 04 Jun 2024 11:23:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/06/04/proxmox-ve-install/</guid><description>&lt;p>Установка Proxmox VE.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#установка">&lt;span class="section-num">2&lt;/span> Установка&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#стандартная-установка">&lt;span class="section-num">2.1&lt;/span> Стандартная установка&lt;/a>&lt;/li>
&lt;li>&lt;a href="#web-интерфейс">&lt;span class="section-num">2.2&lt;/span> Web-интерфейс&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#настройка-после-установки">&lt;span class="section-num">3&lt;/span> Настройка после установки&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#повышение-комфорта-работы">&lt;span class="section-num">3.1&lt;/span> Повышение комфорта работы&lt;/a>&lt;/li>
&lt;li>&lt;a href="#скрипты-для-тьюнинга--см-dot-proxmox-dot-вспомогательные-скрипты-20240604133400-proxmox-вспомогательные-скрипты-dot-md">&lt;span class="section-num">3.2&lt;/span> Скрипты для тьюнинга (см. &lt;a href="https://yamadharma.github.io/ru/post/2024/06/04/proxmox-helper-scripts/">Proxmox. Вспомогательные скрипты&lt;/a>)&lt;/a>&lt;/li>
&lt;li>&lt;a href="#безопасность">&lt;span class="section-num">3.3&lt;/span> Безопасность&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#настройка-сети-с-vlan">&lt;span class="section-num">4&lt;/span> Настройка сети с VLAN&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Сайт: &lt;a href="https://www.proxmox.com/en/proxmox-virtual-environment" target="_blank" rel="noopener">https://www.proxmox.com/en/proxmox-virtual-environment&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="установка">&lt;span class="section-num">2&lt;/span> Установка&lt;/h2>
&lt;h3 id="стандартная-установка">&lt;span class="section-num">2.1&lt;/span> Стандартная установка&lt;/h3>
&lt;ul>
&lt;li>Если Вы используете железный RAID-контроллер, не используйте с ним файловую систему ZFS.&lt;/li>
&lt;li>После завершения установки, сервер нужно перезагрузить с помощью кнопки &lt;code>Reboot&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h3 id="web-интерфейс">&lt;span class="section-num">2.2&lt;/span> Web-интерфейс&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Веб-интерфейс управления станет доступен по адресу:&lt;/p>
&lt;div class="verse">
&lt;p>&lt;a href="https://ip_%d0%b0%d0%b4%d1%80%d0%b5%d1%81_%d1%81%d0%b5%d1%80%d0%b2%d0%b5%d1%80%d0%b0:8006" target="_blank" rel="noopener">https://ip_адрес_сервера:8006&lt;/a>&lt;br />&lt;/p>
&lt;/div>
&lt;/li>
&lt;/ul>
&lt;h2 id="настройка-после-установки">&lt;span class="section-num">3&lt;/span> Настройка после установки&lt;/h2>
&lt;h3 id="повышение-комфорта-работы">&lt;span class="section-num">3.1&lt;/span> Повышение комфорта работы&lt;/h3>
&lt;ul>
&lt;li>Программы для удобства работы в консоли:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">apt -y install tmux mc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Программы мониторинга:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">apt -y install htop lsof
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Утилита для ssh:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-2-1">&lt;a class="lnlinks" href="#hl-2-1">1&lt;/a>&lt;/span>&lt;span class="cl">apt -y install mosh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Удобство работы с bash:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-3-1">&lt;a class="lnlinks" href="#hl-3-1">1&lt;/a>&lt;/span>&lt;span class="cl">apt -y install bash-completion
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Разные утилиты:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-4-1">&lt;a class="lnlinks" href="#hl-4-1">1&lt;/a>&lt;/span>&lt;span class="cl">apt -y install p7zip-full git
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Для удалённой работы с kitty:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-5-1">&lt;a class="lnlinks" href="#hl-5-1">1&lt;/a>&lt;/span>&lt;span class="cl">apt -y install kitty-terminfo kitty-shell-integration
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="скрипты-для-тьюнинга--см-dot-proxmox-dot-вспомогательные-скрипты-20240604133400-proxmox-вспомогательные-скрипты-dot-md">&lt;span class="section-num">3.2&lt;/span> Скрипты для тьюнинга (см. &lt;a href="https://yamadharma.github.io/ru/post/2024/06/04/proxmox-helper-scripts/">Proxmox. Вспомогательные скрипты&lt;/a>)&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Proxmox VE Post Install&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-6-1">&lt;a class="lnlinks" href="#hl-6-1">1&lt;/a>&lt;/span>&lt;span class="cl">bash -c &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>wget -qLO - https://github.com/tteck/Proxmox/raw/main/misc/post-pve-install.sh&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Proxmox VE Processor Microcode&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-7-1">&lt;a class="lnlinks" href="#hl-7-1">1&lt;/a>&lt;/span>&lt;span class="cl">bash -c &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>wget -qLO - https://github.com/tteck/Proxmox/raw/main/misc/microcode.sh&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="безопасность">&lt;span class="section-num">3.3&lt;/span> Безопасность&lt;/h3>
&lt;ul>
&lt;li>Установите и настройте fail2ban (см. &lt;a href="https://yamadharma.github.io/ru/post/2023/10/30/fail2ban-basic-settings/">fail2ban. Основные настройки&lt;/a>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-8-1">&lt;a class="lnlinks" href="#hl-8-1">1&lt;/a>&lt;/span>&lt;span class="cl">apt install fail2ban
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>После настройки запустите его:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-9-1">&lt;a class="lnlinks" href="#hl-9-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> --now fail2ban
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="настройка-сети-с-vlan">&lt;span class="section-num">4&lt;/span> Настройка сети с VLAN&lt;/h2>
&lt;ul>
&lt;li>Будем делать сеть на основе Open vSwitch.&lt;/li>
&lt;li>Установим Open vSwitch:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-10-1">&lt;a class="lnlinks" href="#hl-10-1">1&lt;/a>&lt;/span>&lt;span class="cl">apt-get install openvswitch-switch
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Создадим &lt;em>OVS Bridge&lt;/em> c поддержкой VLAN из графического интерфейса и прикрепим его к сетевому интерфейсу.&lt;/li>
&lt;li>Например, установим мост &lt;code>vmbr1&lt;/code> на интерфейс &lt;code>eno2&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-11-1">&lt;a class="lnlinks" href="#hl-11-1">1&lt;/a>&lt;/span>&lt;span class="cl">auto eno2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-2">&lt;a class="lnlinks" href="#hl-11-2">2&lt;/a>&lt;/span>&lt;span class="cl">iface eno2 inet manual
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-3">&lt;a class="lnlinks" href="#hl-11-3">3&lt;/a>&lt;/span>&lt;span class="cl"> ovs_type OVSPort
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-4">&lt;a class="lnlinks" href="#hl-11-4">4&lt;/a>&lt;/span>&lt;span class="cl"> ovs_bridge vmbr1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-5">&lt;a class="lnlinks" href="#hl-11-5">5&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-6">&lt;a class="lnlinks" href="#hl-11-6">6&lt;/a>&lt;/span>&lt;span class="cl">auto vmbr1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-7">&lt;a class="lnlinks" href="#hl-11-7">7&lt;/a>&lt;/span>&lt;span class="cl">iface vmbr1 inet manual
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-8">&lt;a class="lnlinks" href="#hl-11-8">8&lt;/a>&lt;/span>&lt;span class="cl"> ovs_type OVSBridge
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-9">&lt;a class="lnlinks" href="#hl-11-9">9&lt;/a>&lt;/span>&lt;span class="cl"> ovs_ports eno2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Для создания VLAN для самого сервера создаём &lt;em>OVSIntPort&lt;/em>.&lt;/li>
&lt;li>После настроек нажимаем &lt;em>Apply Configuration&lt;/em> в графическом интерфейсе.&lt;/li>
&lt;li>Виртуальные машины прикрепляем на созданный мост, настройках сети устанавливаем нужный &lt;em>VLAN Tag&lt;/em>.&lt;/li>
&lt;/ul></description></item><item><title>Linux. Дистрибутив Proxmox</title><link>https://yamadharma.github.io/ru/post/2024/06/04/linux-proxmox-distribution/</link><pubDate>Tue, 04 Jun 2024 10:45:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/06/04/linux-proxmox-distribution/</guid><description>&lt;p>Дистрибутив Proxmox.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#proxmox-virtual-environment--proxmox-ve">&lt;span class="section-num">2&lt;/span> Proxmox Virtual Environment (Proxmox VE)&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#установка-и-настройка">&lt;span class="section-num">2.1&lt;/span> Установка и настройка&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Набор дистрибутивов Linux.&lt;/li>
&lt;li>Основаны на Debian GNU/Linux.&lt;/li>
&lt;li>Разрабатывается австрийской фирмой Proxmox Server Solutions GmbH, спонсируемой Internet Foundation Austria.&lt;/li>
&lt;li>Сайт: &lt;a href="https://www.proxmox.com/" target="_blank" rel="noopener">https://www.proxmox.com/&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="proxmox-virtual-environment--proxmox-ve">&lt;span class="section-num">2&lt;/span> Proxmox Virtual Environment (Proxmox VE)&lt;/h2>
&lt;ul>
&lt;li>Основной дистрибутив набора.&lt;/li>
&lt;li>Система виртуализации.&lt;/li>
&lt;li>В качестве гипервизоров использует KVM и LXC (начиная с версии 4.0, в версиях до 3.4 включительно вместо него использовался OpenVZ).&lt;/li>
&lt;li>Управление виртуальными машинами и администрирование самого сервера производятся через веб-интерфейс либо через интерфейс командной строки.&lt;/li>
&lt;/ul>
&lt;h3 id="установка-и-настройка">&lt;span class="section-num">2.1&lt;/span> Установка и настройка&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/06/04/proxmox-ve-install/">Linux. Установка Proxmox VE&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/06/04/proxmox-helper-scripts/">Proxmox. Вспомогательные скрипты&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/09/04/migrating-virtual-machine-proxmox/">Перенос виртуальной машины на Proxmox&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Скачать фотографии с google photo</title><link>https://yamadharma.github.io/ru/post/2024/06/01/google-photo-download/</link><pubDate>Sat, 01 Jun 2024 16:42:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/06/01/google-photo-download/</guid><description>&lt;p>Скачать фотографии с google photo.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#прагматика">&lt;span class="section-num">1&lt;/span> Прагматика&lt;/a>&lt;/li>
&lt;li>&lt;a href="#скачивание-фотографий">&lt;span class="section-num">2&lt;/span> Скачивание фотографий&lt;/a>&lt;/li>
&lt;li>&lt;a href="#переименование-фотографий">&lt;span class="section-num">3&lt;/span> Переименование фотографий&lt;/a>&lt;/li>
&lt;li>&lt;a href="#копируем-фотографии-на-телефон">&lt;span class="section-num">4&lt;/span> Копируем фотографии на телефон&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="прагматика">&lt;span class="section-num">1&lt;/span> Прагматика&lt;/h2>
&lt;ul>
&lt;li>Необходимо было скачать фотографии с сервиса Google Photo.&lt;/li>
&lt;li>Кроме того, желательно разместить их на другом облачном сервисе.&lt;/li>
&lt;li>Предполагается разместить на Яндекс с тарифом из группы Яндекс Плюс.&lt;/li>
&lt;li>На этом тарифе фотографии размещаются без учёта места под них в случае, если загружаются с мобильного телефона.&lt;/li>
&lt;li>Предполагается следующий алгоритм:
&lt;ul>
&lt;li>Скачать фотографии на локальный компьютер.&lt;/li>
&lt;li>Переименовать фотографии.&lt;/li>
&lt;li>Перенести фотографии на телефон.&lt;/li>
&lt;li>Скопировать фотографии в локальное хранилище.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="скачивание-фотографий">&lt;span class="section-num">2&lt;/span> Скачивание фотографий&lt;/h2>
&lt;ul>
&lt;li>Скачивать будем с помощью rclone (см. &lt;a href="https://yamadharma.github.io/ru/post/2022/10/27/rclone/">rclone&lt;/a>).&lt;/li>
&lt;li>Запусти команду:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">rclone config
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Создадим учётную запись &lt;code>google-photo&lt;/code> для сервиса &lt;code>Google Photos&lt;/code>.&lt;/li>
&lt;li>Проверьте соединение:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">rclone ls google-photo:media
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Создадим каталог для скачивания:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-2-1">&lt;a class="lnlinks" href="#hl-2-1">1&lt;/a>&lt;/span>&lt;span class="cl">mkdir -p ~/work-local/google-photo/sync
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Скачаем фотографии с размещением по месяцам:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-3-1">&lt;a class="lnlinks" href="#hl-3-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nb">cd&lt;/span> ~/work-local/google-photo/sync
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-3-2">&lt;a class="lnlinks" href="#hl-3-2">2&lt;/a>&lt;/span>&lt;span class="cl">rclone sync google-photo:media/by-month .
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Если будет ошибка о превышении квоты на скорость чтения, поставьте ограничение (10 запросов в секунду):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-4-1">&lt;a class="lnlinks" href="#hl-4-1">1&lt;/a>&lt;/span>&lt;span class="cl">rclone sync --tpslimit &lt;span class="m">10&lt;/span> google-photo:media/by-month .
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="переименование-фотографий">&lt;span class="section-num">3&lt;/span> Переименование фотографий&lt;/h2>
&lt;ul>
&lt;li>Подготовим каталог, из которого будем переносить фотографии на телефон:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-5-1">&lt;a class="lnlinks" href="#hl-5-1">1&lt;/a>&lt;/span>&lt;span class="cl">mkdir -p ~/work-local/google-photo/phone
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Сдублируем фотографии:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-6-1">&lt;a class="lnlinks" href="#hl-6-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nb">cd&lt;/span> ~/work-local/google-photo/sync
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-6-2">&lt;a class="lnlinks" href="#hl-6-2">2&lt;/a>&lt;/span>&lt;span class="cl">find . -type f -exec ln &lt;span class="s1">&amp;#39;{}&amp;#39;&lt;/span> ../phone/ &lt;span class="se">\;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Переименуем фотографии:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-7-1">&lt;a class="lnlinks" href="#hl-7-1">1&lt;/a>&lt;/span>&lt;span class="cl">jhead -n%Y%m%d-%H%M%S *.jpg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-7-2">&lt;a class="lnlinks" href="#hl-7-2">2&lt;/a>&lt;/span>&lt;span class="cl">jhead -n%Y%m%d-%H%M%S *.jpeg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-7-3">&lt;a class="lnlinks" href="#hl-7-3">3&lt;/a>&lt;/span>&lt;span class="cl">jhead -n%Y%m%d-%H%M%S *.jpe
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-7-4">&lt;a class="lnlinks" href="#hl-7-4">4&lt;/a>&lt;/span>&lt;span class="cl">exiftool &lt;span class="s2">&amp;#34;-filename&amp;lt;createdate&amp;#34;&lt;/span> -globaltimeshift &lt;span class="s2">&amp;#34;-0:0:1 0:0:0&amp;#34;&lt;/span> -d %Y%m%d-%H%M%S.%%e .
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Также можно переименовать файлы на основе времени создания:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-8-1">&lt;a class="lnlinks" href="#hl-8-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="k">for&lt;/span> i in *.png&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span> mv -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$i&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>date -r &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$i&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> +&lt;span class="s2">&amp;#34;%Y%m%d-%H%M%S&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="s2">.png&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-2">&lt;a class="lnlinks" href="#hl-8-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="k">for&lt;/span> i in *.gif&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span> mv -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$i&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>date -r &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$i&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> +&lt;span class="s2">&amp;#34;%Y%m%d-%H%M%S&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="s2">.gif&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-3">&lt;a class="lnlinks" href="#hl-8-3">3&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="k">for&lt;/span> i in *.mp4&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span> mv -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$i&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>date -r &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$i&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> +&lt;span class="s2">&amp;#34;%Y%m%d-%H%M%S&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="s2">.mp4&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-4">&lt;a class="lnlinks" href="#hl-8-4">4&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="k">for&lt;/span> i in *.avi&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span> mv -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$i&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>date -r &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$i&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> +&lt;span class="s2">&amp;#34;%Y%m%d-%H%M%S&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="s2">.avi&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="копируем-фотографии-на-телефон">&lt;span class="section-num">4&lt;/span> Копируем фотографии на телефон&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>Подключим телефон.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Посмотрим список подключённых устройств:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-9-1">&lt;a class="lnlinks" href="#hl-9-1">1&lt;/a>&lt;/span>&lt;span class="cl">simple-mtpfs -l
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Подмонтируем телефон (от был под номером &lt;code>1&lt;/code> в списке устройств):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-10-1">&lt;a class="lnlinks" href="#hl-10-1">1&lt;/a>&lt;/span>&lt;span class="cl">mkdir -p ~/n/mtp/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-10-2">&lt;a class="lnlinks" href="#hl-10-2">2&lt;/a>&lt;/span>&lt;span class="cl">simple-mtpfs --device &lt;span class="m">1&lt;/span> ~/n/mtp/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Создадим каталог на телефоне для фотографий:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-11-1">&lt;a class="lnlinks" href="#hl-11-1">1&lt;/a>&lt;/span>&lt;span class="cl">mkdir -p ~/n/mtp/google-photo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Скопируем (или перенесём) файлы на телефон:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-12-1">&lt;a class="lnlinks" href="#hl-12-1">1&lt;/a>&lt;/span>&lt;span class="cl">rsync -aiv ~/work-local/google-photo/phone/* ~/n/mtp/google-photo/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Можно удалять файлы по мере копирования:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-13-1">&lt;a class="lnlinks" href="#hl-13-1">1&lt;/a>&lt;/span>&lt;span class="cl">rsync -aiv --remove-source-files ~/work-local/google-photo/phone/* ~/n/mtp/google-photo/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Вы можете потом поправить время создания файлов:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-14-1">&lt;a class="lnlinks" href="#hl-14-1">1&lt;/a>&lt;/span>&lt;span class="cl">jhead -ft *.jpg
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Установка Linux в WSL</title><link>https://yamadharma.github.io/ru/post/2024/05/30/linux-wsl-install/</link><pubDate>Thu, 30 May 2024 16:16:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/05/30/linux-wsl-install/</guid><description>&lt;p>Установка Linux в WSL.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#ссылки">&lt;span class="section-num">1.1&lt;/span> Ссылки&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#установка-дистрибутивов">&lt;span class="section-num">2&lt;/span> Установка дистрибутивов&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#wsl-plus-ubuntu">&lt;span class="section-num">2.1&lt;/span> WSL + Ubuntu&lt;/a>&lt;/li>
&lt;li>&lt;a href="#fedora">&lt;span class="section-num">2.2&lt;/span> Fedora&lt;/a>&lt;/li>
&lt;li>&lt;a href="#arch">&lt;span class="section-num">2.3&lt;/span> Arch&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#первичная-настройка">&lt;span class="section-num">3&lt;/span> Первичная настройка&lt;/a>&lt;/li>
&lt;li>&lt;a href="#поддержка-systemd">&lt;span class="section-num">4&lt;/span> Поддержка systemd&lt;/a>&lt;/li>
&lt;li>&lt;a href="#установка-базового-программного-обеспечения">&lt;span class="section-num">5&lt;/span> Установка базового программного обеспечения&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#fedora">&lt;span class="section-num">5.1&lt;/span> Fedora&lt;/a>&lt;/li>
&lt;li>&lt;a href="#arch">&lt;span class="section-num">5.2&lt;/span> Arch&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#emacs">&lt;span class="section-num">6&lt;/span> Emacs&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#fedora">&lt;span class="section-num">6.1&lt;/span> Fedora&lt;/a>&lt;/li>
&lt;li>&lt;a href="#arch">&lt;span class="section-num">6.2&lt;/span> Arch&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;h3 id="ссылки">&lt;span class="section-num">1.1&lt;/span> Ссылки&lt;/h3>
&lt;h4 id="документация">&lt;span class="section-num">1.1.1&lt;/span> Документация&lt;/h4>
&lt;ul>
&lt;li>&lt;a href="https://learn.microsoft.com/ru-ru/windows/wsl/install" target="_blank" rel="noopener">https://learn.microsoft.com/ru-ru/windows/wsl/install&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://learn.microsoft.com/ru-ru/windows/wsl/setup/environment" target="_blank" rel="noopener">https://learn.microsoft.com/ru-ru/windows/wsl/setup/environment&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://learn.microsoft.com/en-us/windows/wsl/systemd" target="_blank" rel="noopener">https://learn.microsoft.com/en-us/windows/wsl/systemd&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://learn.microsoft.com/en-us/windows/wsl/wsl-config" target="_blank" rel="noopener">https://learn.microsoft.com/en-us/windows/wsl/wsl-config&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/mikeroyal/WSL-Guide" target="_blank" rel="noopener">https://github.com/mikeroyal/WSL-Guide&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="установка-дистрибутивов">&lt;span class="section-num">2&lt;/span> Установка дистрибутивов&lt;/h2>
&lt;h3 id="wsl-plus-ubuntu">&lt;span class="section-num">2.1&lt;/span> WSL + Ubuntu&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Установите wsl:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">wsl --install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>включает дополнительные компоненты WSL и платформы виртуальных машин;&lt;/li>
&lt;li>скачивает и устанавливает последнюю версию ядра Linux;&lt;/li>
&lt;li>задаёт WSL 2 в качестве среды по умолчанию;&lt;/li>
&lt;li>скачивает и устанавливает дистрибутив Ubuntu Linux.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Во время установки потребуется перезапустить компьютер.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="fedora">&lt;span class="section-num">2.2&lt;/span> Fedora&lt;/h3>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/VSWSL/Fedora-WSL" target="_blank" rel="noopener">https://github.com/VSWSL/Fedora-WSL&lt;/a>&lt;/li>
&lt;li>Misrosoft Store: &lt;a href="https://www.microsoft.com/store/apps/9NPCP8DRCHSN" target="_blank" rel="noopener">https://www.microsoft.com/store/apps/9NPCP8DRCHSN&lt;/a>&lt;/li>
&lt;li>Установите из Misrosoft Store.&lt;/li>
&lt;li>Во время установки потребуется перезапустить компьютер.&lt;/li>
&lt;/ul>
&lt;h3 id="arch">&lt;span class="section-num">2.3&lt;/span> Arch&lt;/h3>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/VSWSL/Arch-WSL" target="_blank" rel="noopener">https://github.com/VSWSL/Arch-WSL&lt;/a>&lt;/li>
&lt;li>Misrosoft Store: &lt;a href="https://www.microsoft.com/store/apps/9MZNMNKSM73X" target="_blank" rel="noopener">https://www.microsoft.com/store/apps/9MZNMNKSM73X&lt;/a>&lt;/li>
&lt;li>Установите из Misrosoft Store.&lt;/li>
&lt;li>Во время установки потребуется перезапустить компьютер.&lt;/li>
&lt;/ul>
&lt;h2 id="первичная-настройка">&lt;span class="section-num">3&lt;/span> Первичная настройка&lt;/h2>
&lt;ul>
&lt;li>После завершения установки будет предложено создать имя пользователя и пароль для дистрибутива Linux.&lt;/li>
&lt;li>Для каждого дистрибутива Linux используются свои имя пользователя и пароль, и они не связаны с именем пользователя Windows.&lt;/li>
&lt;/ul>
&lt;h2 id="поддержка-systemd">&lt;span class="section-num">4&lt;/span> Поддержка systemd&lt;/h2>
&lt;ul>
&lt;li>Убедитесь, что версия WSL: 0.67.6 или более поздняя:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">wsl --version
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>В консоли Linux перейдите под суперпользователя:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-2-1">&lt;a class="lnlinks" href="#hl-2-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo -i
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Откройте для редактирования файл &lt;code>/etc/wsl.conf&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-3-1">&lt;a class="lnlinks" href="#hl-3-1">1&lt;/a>&lt;/span>&lt;span class="cl">vi /etc/wsl.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Активируйте systemd:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="ln" id="hl-4-1">&lt;a class="lnlinks" href="#hl-4-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">boot&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-4-2">&lt;a class="lnlinks" href="#hl-4-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nx">systemd&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Из консоли Windows остановите выполнение WSL:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-5-1">&lt;a class="lnlinks" href="#hl-5-1">1&lt;/a>&lt;/span>&lt;span class="cl">wsl.exe --shutdown
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>После повторного запуска WSL проверьте работу systemd:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-6-1">&lt;a class="lnlinks" href="#hl-6-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl list-unit-files --type&lt;span class="o">=&lt;/span>service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="установка-базового-программного-обеспечения">&lt;span class="section-num">5&lt;/span> Установка базового программного обеспечения&lt;/h2>
&lt;ul>
&lt;li>В консоли Linux перейдите под суперпользователя:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-7-1">&lt;a class="lnlinks" href="#hl-7-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo -i
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="fedora">&lt;span class="section-num">5.1&lt;/span> Fedora&lt;/h3>
&lt;ul>
&lt;li>Обновите систему:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-8-1">&lt;a class="lnlinks" href="#hl-8-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y update
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установка системных библиотек:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-9-1">&lt;a class="lnlinks" href="#hl-9-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install vulkan
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Устанавливаем утилиту для удобства работы &lt;em>tmux&lt;/em>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-10-1">&lt;a class="lnlinks" href="#hl-10-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install tmux
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Устанавливаем утилиту для удобства работы &lt;em>mc&lt;/em>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-11-1">&lt;a class="lnlinks" href="#hl-11-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install mc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Автодополнение для bash:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-12-1">&lt;a class="lnlinks" href="#hl-12-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install bash-completion
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Просмотр pdf:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-13-1">&lt;a class="lnlinks" href="#hl-13-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install evince
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Терминал kitty:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-14-1">&lt;a class="lnlinks" href="#hl-14-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install kitty
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установите libreoffice:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-15-1">&lt;a class="lnlinks" href="#hl-15-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install libreoffice
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="arch">&lt;span class="section-num">5.2&lt;/span> Arch&lt;/h3>
&lt;ul>
&lt;li>Используется пакетный менеджер &lt;em>pacman&lt;/em> (&lt;a href="https://wiki.archlinux.org/title/Pacman_%28%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9%29" target="_blank" rel="noopener">https://wiki.archlinux.org/title/Pacman_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&lt;/a>).&lt;/li>
&lt;li>Обновите систему:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-16-1">&lt;a class="lnlinks" href="#hl-16-1">1&lt;/a>&lt;/span>&lt;span class="cl">pacman -Suy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Устанавливаем утилиту для удобства работы &lt;em>tmux&lt;/em>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-17-1">&lt;a class="lnlinks" href="#hl-17-1">1&lt;/a>&lt;/span>&lt;span class="cl">pacman -S tmux
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Устанавливаем утилиту для удобства работы &lt;em>mc&lt;/em>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-18-1">&lt;a class="lnlinks" href="#hl-18-1">1&lt;/a>&lt;/span>&lt;span class="cl">pacman -S mc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Автодополнение для bash:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-19-1">&lt;a class="lnlinks" href="#hl-19-1">1&lt;/a>&lt;/span>&lt;span class="cl">pacman -S bash-completion
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Просмотр pdf:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-20-1">&lt;a class="lnlinks" href="#hl-20-1">1&lt;/a>&lt;/span>&lt;span class="cl">pacman -S evince
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Терминал kitty:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-21-1">&lt;a class="lnlinks" href="#hl-21-1">1&lt;/a>&lt;/span>&lt;span class="cl">pacman -S kitty
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установите libreoffice:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-22-1">&lt;a class="lnlinks" href="#hl-22-1">1&lt;/a>&lt;/span>&lt;span class="cl">pacman -S libreoffice-fresh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="emacs">&lt;span class="section-num">6&lt;/span> Emacs&lt;/h2>
&lt;h3 id="fedora">&lt;span class="section-num">6.1&lt;/span> Fedora&lt;/h3>
&lt;ul>
&lt;li>Установите emacs:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-23-1">&lt;a class="lnlinks" href="#hl-23-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install emacs
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="arch">&lt;span class="section-num">6.2&lt;/span> Arch&lt;/h3>
&lt;ul>
&lt;li>Установите emacs:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-24-1">&lt;a class="lnlinks" href="#hl-24-1">1&lt;/a>&lt;/span>&lt;span class="cl">pacman -S emacs
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Gentoo. Компиляция системы clang</title><link>https://yamadharma.github.io/ru/post/2024/05/16/gentoo-compiling-clang/</link><pubDate>Thu, 16 May 2024 15:18:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/05/16/gentoo-compiling-clang/</guid><description>&lt;p>Переход на Clang для компиляции системы.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#установка">&lt;span class="section-num">2&lt;/span> Установка&lt;/a>&lt;/li>
&lt;li>&lt;a href="#обновление-системы">&lt;span class="section-num">3&lt;/span> Обновление системы&lt;/a>&lt;/li>
&lt;li>&lt;a href="#конфигурация">&lt;span class="section-num">4&lt;/span> Конфигурация&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#основная-системная-конфигурация">&lt;span class="section-num">4.1&lt;/span> Основная системная конфигурация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#конфигурация-для-каждого-пакета">&lt;span class="section-num">4.2&lt;/span> Конфигурация для каждого пакета&lt;/a>&lt;/li>
&lt;li>&lt;a href="#конфигурация-специальных-окружений">&lt;span class="section-num">4.3&lt;/span> Конфигурация специальных окружений&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#компиляция-ядра">&lt;span class="section-num">5&lt;/span> Компиляция ядра&lt;/a>&lt;/li>
&lt;li>&lt;a href="#c-plus-plus-abi">&lt;span class="section-num">6&lt;/span> C++ ABI&lt;/a>&lt;/li>
&lt;li>&lt;a href="#ресурсы">&lt;span class="section-num">7&lt;/span> Ресурсы&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Обязательно должен быть запасной вариант с &lt;em>GCC&lt;/em>.&lt;/li>
&lt;li>На данный момент система не сможет скомпилировать все, что использует &lt;em>Clang&lt;/em>.&lt;/li>
&lt;/ul>
&lt;h2 id="установка">&lt;span class="section-num">2&lt;/span> Установка&lt;/h2>
&lt;ul>
&lt;li>Установите &lt;code>llvm-libunwind&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge --deselect libunwind
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-0-2">&lt;a class="lnlinks" href="#hl-0-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nv">FEATURES&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;-protect-owned&amp;#34;&lt;/span> emerge -vO llvm-libunwind
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установите &lt;em>Clang&lt;/em>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge sys-devel/clang-runtime sys-devel/clang sys-libs/compiler-rt sys-libs/compiler-rt-sanitizers sys-devel/lld-toolchain-symlinks sys-devel/lld
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установите библиотеку для C++:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-2-1">&lt;a class="lnlinks" href="#hl-2-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge sys-libs/libcxxabi sys-libs/libcxx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Вместо &lt;code>lld&lt;/code> можно использовать линкер &lt;code>mold&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-3-1">&lt;a class="lnlinks" href="#hl-3-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge mold
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="обновление-системы">&lt;span class="section-num">3&lt;/span> Обновление системы&lt;/h2>
&lt;ul>
&lt;li>Перекомпилим пакеты с библиотекой &lt;code>libunwind&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-4-1">&lt;a class="lnlinks" href="#hl-4-1">1&lt;/a>&lt;/span>&lt;span class="cl">revdep-rebuild --library libunwind -- --keep-going
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Удалите библиотеку &lt;code>libunwind&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-5-1">&lt;a class="lnlinks" href="#hl-5-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge -cv libunwind
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Необходимо перекомпилить программы, слинкованные со стандартной библиотекой &lt;code>libstdc++&lt;/code>.&lt;/li>
&lt;li>Проверьте, какие программы надо перекомпилить:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-6-1">&lt;a class="lnlinks" href="#hl-6-1">1&lt;/a>&lt;/span>&lt;span class="cl">revdep-rebuild --library libstdc++ -p
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Перекомпилим эти пакеты:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-7-1">&lt;a class="lnlinks" href="#hl-7-1">1&lt;/a>&lt;/span>&lt;span class="cl">revdep-rebuild --library libstdc++ -- --keep-going
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="конфигурация">&lt;span class="section-num">4&lt;/span> Конфигурация&lt;/h2>
&lt;h3 id="основная-системная-конфигурация">&lt;span class="section-num">4.1&lt;/span> Основная системная конфигурация&lt;/h3>
&lt;ul>
&lt;li>Файл &lt;code>/etc/portage/make.conf&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="ln" id="hl-8-1">&lt;a class="lnlinks" href="#hl-8-1"> 1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># this sources the PORTDIR_OVERLAY variable defined by layman. however, the variable expanded by layman was empty&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-2">&lt;a class="lnlinks" href="#hl-8-2"> 2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># source /var/db/repos/gentoo/local/layman/make.conf&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-3">&lt;a class="lnlinks" href="#hl-8-3"> 3&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-4">&lt;a class="lnlinks" href="#hl-8-4"> 4&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">## This is added to make options by linux-mod.eclass&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-5">&lt;a class="lnlinks" href="#hl-8-5"> 5&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">BUILD_FIXES&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;LLVM=1 LLVM_IAS=1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-6">&lt;a class="lnlinks" href="#hl-8-6"> 6&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-7">&lt;a class="lnlinks" href="#hl-8-7"> 7&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">CFLAGS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;${CFLAGS} -flto=thin&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-8">&lt;a class="lnlinks" href="#hl-8-8"> 8&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#CFLAGS=&amp;#34;${CFLAGS} -mllvm -extra-vectorizer-passes -mllvm -enable-cond-stores-vec -mllvm -slp-vectorize-hor-store -mllvm -enable-loopinterchange -mllvm -enable-loop-distribute -mllvm -enable-unroll-and-jam -mllvm -enable-loop-flatten -mllvm -interleave-small-loop-scalar-reduction -mllvm -unroll-runtime-multi-exit -mllvm -aggressive-ext-opt -fno-math-errno -fno-trapping-math -falign-functions=32 -funroll-loops -fno-semantic-interposition -fcf-protection=none -mharden-sls=none -fomit-frame-pointer -mprefer-vector-width=256 -flto&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-9">&lt;a class="lnlinks" href="#hl-8-9"> 9&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">CXXFLAGS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;${CFLAGS} ${CXXFLAGS}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-10">&lt;a class="lnlinks" href="#hl-8-10">10&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-11">&lt;a class="lnlinks" href="#hl-8-11">11&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">CC&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;clang&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-12">&lt;a class="lnlinks" href="#hl-8-12">12&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">CPP&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;clang-cpp&amp;#34;&lt;/span> &lt;span class="c1"># necessary for xorg-server and possibly other packages&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-13">&lt;a class="lnlinks" href="#hl-8-13">13&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">CXX&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;clang++&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-14">&lt;a class="lnlinks" href="#hl-8-14">14&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">AR&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;llvm-ar&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-15">&lt;a class="lnlinks" href="#hl-8-15">15&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">NM&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;llvm-nm&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-16">&lt;a class="lnlinks" href="#hl-8-16">16&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">RANLIB&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;llvm-ranlib&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-17">&lt;a class="lnlinks" href="#hl-8-17">17&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-18">&lt;a class="lnlinks" href="#hl-8-18">18&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># No need to set this, clang-common can handle this based on chosen USE flags&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-19">&lt;a class="lnlinks" href="#hl-8-19">19&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#LDFLAGS=&amp;#34;${LDFLAGS} -fuse-ld=lld&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-20">&lt;a class="lnlinks" href="#hl-8-20">20&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#LDFLAGS=&amp;#34;${LDFLAGS} -Wl,-O2 -Wl,--as-needed -Wl,--undefined-version&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-21">&lt;a class="lnlinks" href="#hl-8-21">21&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#LDFLAGS=&amp;#34;${LDFLAGS} -rtlib=compiler-rt -unwindlib=libunwind&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-22">&lt;a class="lnlinks" href="#hl-8-22">22&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#LDFLAGS=&amp;#34;${LDFLAGS} -fuse-ld=mold&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-8-23">&lt;a class="lnlinks" href="#hl-8-23">23&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">LDFLAGS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;${LDFLAGS} -flto&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="конфигурация-для-каждого-пакета">&lt;span class="section-num">4.2&lt;/span> Конфигурация для каждого пакета&lt;/h3>
&lt;ul>
&lt;li>Можно задать компилятор для каждого пакета в отдельности в файле &lt;code>/etc/portage/package.env&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="ln" id="hl-9-1">&lt;a class="lnlinks" href="#hl-9-1"> 1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">devel&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">gcc&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span> &lt;span class="c1"># gcc itself&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-2">&lt;a class="lnlinks" href="#hl-9-2"> 2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">devel&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">binutils&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span> &lt;span class="c1"># gcc itself # configure: error: AR&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-3">&lt;a class="lnlinks" href="#hl-9-3"> 3&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">binutils&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span> &lt;span class="c1"># gcc itself&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-4">&lt;a class="lnlinks" href="#hl-9-4"> 4&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">util&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">mingw64&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">toolchain&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span> &lt;span class="c1"># gcc itself&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-5">&lt;a class="lnlinks" href="#hl-9-5"> 5&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">debug&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">gdb&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span> &lt;span class="c1"># gcc itself&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-6">&lt;a class="lnlinks" href="#hl-9-6"> 6&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="o">=&lt;/span>&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">util&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">gengetopt&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">2.23&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span> &lt;span class="c1">#&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-7">&lt;a class="lnlinks" href="#hl-9-7"> 7&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">devel&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">bin86&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span> &lt;span class="c1"># error: ISO C99&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-8">&lt;a class="lnlinks" href="#hl-9-8"> 8&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="o">=&lt;/span>&lt;span class="n">app&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">emulation&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">virtualbox&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">7.0&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span> &lt;span class="c1"># ld.lld error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-9">&lt;a class="lnlinks" href="#hl-9-9"> 9&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="o">=&lt;/span>&lt;span class="n">app&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">emulation&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">virtualbox&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">kvm&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">7.0&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span> &lt;span class="c1"># ld.lld error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-10">&lt;a class="lnlinks" href="#hl-9-10"> 10&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#app-emulation/qemu compiler-gcc # ERROR: sizeof(size_t) doesn&amp;#39;t match&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-11">&lt;a class="lnlinks" href="#hl-9-11"> 11&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#dev-lang/mono compiler-gcc # ld.lld error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-12">&lt;a class="lnlinks" href="#hl-9-12"> 12&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#app-cdr/cdrtools compiler-gcc # configure error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-13">&lt;a class="lnlinks" href="#hl-9-13"> 13&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#dev-libs/libsecp256k1 compiler-gcc # unrecognized command-line option&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-14">&lt;a class="lnlinks" href="#hl-9-14"> 14&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#dev-util/ostree compiler-gcc # ld.lld error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-15">&lt;a class="lnlinks" href="#hl-9-15"> 15&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#dev-python/ruamel-yaml-clib compiler-gcc # incompatible function pointer types&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-16">&lt;a class="lnlinks" href="#hl-9-16"> 16&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#dev-qt/qtwebengine:5 compiler-gcc # build fails&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-17">&lt;a class="lnlinks" href="#hl-9-17"> 17&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#media-libs/libpano13 compiler-gcc # build fails&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-18">&lt;a class="lnlinks" href="#hl-9-18"> 18&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#media-libs/tg_owt compiler-gcc # build fails&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-19">&lt;a class="lnlinks" href="#hl-9-19"> 19&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#media-libs/phonon compiler-gcc # build fails&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-20">&lt;a class="lnlinks" href="#hl-9-20"> 20&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#media-libs/vigra compiler-gcc # build fails&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-21">&lt;a class="lnlinks" href="#hl-9-21"> 21&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#net-print/hplip compiler-gcc # error: ISO C++17&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-22">&lt;a class="lnlinks" href="#hl-9-22"> 22&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#sys-boot/syslinux compiler-gcc # &amp;#39;stdarg.h&amp;#39; file not found&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-23">&lt;a class="lnlinks" href="#hl-9-23"> 23&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#sys-libs/db compiler-gcc # build fails with USE=&amp;#34;cxx&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-24">&lt;a class="lnlinks" href="#hl-9-24"> 24&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#sys-process/tini compiler-gcc # ld.lld error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-25">&lt;a class="lnlinks" href="#hl-9-25"> 25&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">apps&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">systemd&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-26">&lt;a class="lnlinks" href="#hl-9-26"> 26&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">libgudev&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-27">&lt;a class="lnlinks" href="#hl-9-27"> 27&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#net-dialup/ppp compiler-gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-28">&lt;a class="lnlinks" href="#hl-9-28"> 28&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#media-libs/audiofile compiler-gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-29">&lt;a class="lnlinks" href="#hl-9-29"> 29&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#app-crypt/chntpw compiler-gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-30">&lt;a class="lnlinks" href="#hl-9-30"> 30&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gfx&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">exact&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">image&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-31">&lt;a class="lnlinks" href="#hl-9-31"> 31&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">libfpx&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-32">&lt;a class="lnlinks" href="#hl-9-32"> 32&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sci&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">djbfft&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-33">&lt;a class="lnlinks" href="#hl-9-33"> 33&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sci&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">visualization&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">gnuplot&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-34">&lt;a class="lnlinks" href="#hl-9-34"> 34&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="o">=&lt;/span>&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">db&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">sqlite&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">3.45&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-35">&lt;a class="lnlinks" href="#hl-9-35"> 35&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">app&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">editors&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">emacs&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span> &lt;span class="c1"># gcc-jit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-36">&lt;a class="lnlinks" href="#hl-9-36"> 36&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">talloc&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-37">&lt;a class="lnlinks" href="#hl-9-37"> 37&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tevent&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-38">&lt;a class="lnlinks" href="#hl-9-38"> 38&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#app-text/freelib compiler-gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-39">&lt;a class="lnlinks" href="#hl-9-39"> 39&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">app&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">editors&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">wily&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-40">&lt;a class="lnlinks" href="#hl-9-40"> 40&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sci&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mathematics&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">gretl&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-41">&lt;a class="lnlinks" href="#hl-9-41"> 41&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">openjdk&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">8&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-42">&lt;a class="lnlinks" href="#hl-9-42"> 42&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">openjdk&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">11&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-43">&lt;a class="lnlinks" href="#hl-9-43"> 43&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">openjdk&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">17&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-44">&lt;a class="lnlinks" href="#hl-9-44"> 44&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">openjdk&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">21&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-45">&lt;a class="lnlinks" href="#hl-9-45"> 45&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">commons&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">daemon&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-46">&lt;a class="lnlinks" href="#hl-9-46"> 46&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="o">=&lt;/span>&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">perl&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">PDL&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">2.63&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-47">&lt;a class="lnlinks" href="#hl-9-47"> 47&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">python&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">scipy&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-48">&lt;a class="lnlinks" href="#hl-9-48"> 48&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">python&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pygame&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-49">&lt;a class="lnlinks" href="#hl-9-49"> 49&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">games&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">openscenegraph&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-50">&lt;a class="lnlinks" href="#hl-9-50"> 50&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#dev-util/intel-graphics-compiler compiler-gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-51">&lt;a class="lnlinks" href="#hl-9-51"> 51&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#dev-libs/intel-compute-runtime compiler-gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-52">&lt;a class="lnlinks" href="#hl-9-52"> 52&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">libdnet&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-53">&lt;a class="lnlinks" href="#hl-9-53"> 53&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">devel&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">llvm&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">15&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-54">&lt;a class="lnlinks" href="#hl-9-54"> 54&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">devel&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">15&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-55">&lt;a class="lnlinks" href="#hl-9-55"> 55&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">devel&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lld&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">15&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-56">&lt;a class="lnlinks" href="#hl-9-56"> 56&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opencl&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">15&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-57">&lt;a class="lnlinks" href="#hl-9-57"> 57&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opencl&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-58">&lt;a class="lnlinks" href="#hl-9-58"> 58&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">util&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">spirv&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">llvm&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">translator&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">15&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-59">&lt;a class="lnlinks" href="#hl-9-59"> 59&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">debug&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lldb&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">lto&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-60">&lt;a class="lnlinks" href="#hl-9-60"> 60&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">video&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">vlc&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">no&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">lto&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-61">&lt;a class="lnlinks" href="#hl-9-61"> 61&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">intel&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">vc&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">intrinsics&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-62">&lt;a class="lnlinks" href="#hl-9-62"> 62&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">app&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">misc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">ddcutil&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-63">&lt;a class="lnlinks" href="#hl-9-63"> 63&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">mail&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">thunderbird&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-64">&lt;a class="lnlinks" href="#hl-9-64"> 64&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">vcs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">cvs&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-65">&lt;a class="lnlinks" href="#hl-9-65"> 65&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">vcs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">darcs&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">binutils&lt;/span> &lt;span class="c1"># need ld&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-66">&lt;a class="lnlinks" href="#hl-9-66"> 66&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">x11&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">agg&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-67">&lt;a class="lnlinks" href="#hl-9-67"> 67&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">x11&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">fox&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-68">&lt;a class="lnlinks" href="#hl-9-68"> 68&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">x11&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">motif&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">lto&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-69">&lt;a class="lnlinks" href="#hl-9-69"> 69&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">boot&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">gnu&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">efi&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-70">&lt;a class="lnlinks" href="#hl-9-70"> 70&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">apps&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">memtest86&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-71">&lt;a class="lnlinks" href="#hl-9-71"> 71&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">apps&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">fwupd&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">efi&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-72">&lt;a class="lnlinks" href="#hl-9-72"> 72&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">apps&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">flashrom&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-73">&lt;a class="lnlinks" href="#hl-9-73"> 73&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">mesa&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">lto&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-74">&lt;a class="lnlinks" href="#hl-9-74"> 74&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">app&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">zathura&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">pdf&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mupdf&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-75">&lt;a class="lnlinks" href="#hl-9-75"> 75&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">ldb&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-76">&lt;a class="lnlinks" href="#hl-9-76"> 76&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tdb&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-77">&lt;a class="lnlinks" href="#hl-9-77"> 77&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">db&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">cdb&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-78">&lt;a class="lnlinks" href="#hl-9-78"> 78&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">auth&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">sssd&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-79">&lt;a class="lnlinks" href="#hl-9-79"> 79&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="o">=&lt;/span>&lt;span class="n">sci&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">coinor&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">osi&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">0.108&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">6&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span> &lt;span class="c1"># bug: #919825&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-80">&lt;a class="lnlinks" href="#hl-9-80"> 80&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gfx&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">blender&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">4.0&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-81">&lt;a class="lnlinks" href="#hl-9-81"> 81&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">debug&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">systemtap&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-82">&lt;a class="lnlinks" href="#hl-9-82"> 82&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">x11&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">misc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">virtualgl&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-83">&lt;a class="lnlinks" href="#hl-9-83"> 83&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">libphonenumber&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-84">&lt;a class="lnlinks" href="#hl-9-84"> 84&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">ffcall&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-85">&lt;a class="lnlinks" href="#hl-9-85"> 85&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">util&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">yacc&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-86">&lt;a class="lnlinks" href="#hl-9-86"> 86&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">libbpf&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-87">&lt;a class="lnlinks" href="#hl-9-87"> 87&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">perl&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">OpenGL&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-88">&lt;a class="lnlinks" href="#hl-9-88"> 88&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">xmlrpc&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">c&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-89">&lt;a class="lnlinks" href="#hl-9-89"> 89&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">liboil&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-90">&lt;a class="lnlinks" href="#hl-9-90"> 90&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">liblouis&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-91">&lt;a class="lnlinks" href="#hl-9-91"> 91&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">snappy&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-92">&lt;a class="lnlinks" href="#hl-9-92"> 92&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">libcdio&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-93">&lt;a class="lnlinks" href="#hl-9-93"> 93&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">net&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">fs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">samba&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-94">&lt;a class="lnlinks" href="#hl-9-94"> 94&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">lang&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">gprolog&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-95">&lt;a class="lnlinks" href="#hl-9-95"> 95&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">log4cpp&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-96">&lt;a class="lnlinks" href="#hl-9-96"> 96&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">db&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">libiodbc&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-97">&lt;a class="lnlinks" href="#hl-9-97"> 97&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">debug&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">ddd&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-98">&lt;a class="lnlinks" href="#hl-9-98"> 98&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">totem&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">pl&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">parser&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-99">&lt;a class="lnlinks" href="#hl-9-99"> 99&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">lisp&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">ecl&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-100">&lt;a class="lnlinks" href="#hl-9-100">100&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">db&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">mariadb&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-101">&lt;a class="lnlinks" href="#hl-9-101">101&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">perl&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">PGPLOT&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-102">&lt;a class="lnlinks" href="#hl-9-102">102&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">net&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">analyzer&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">rrdtool&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-103">&lt;a class="lnlinks" href="#hl-9-103">103&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">lang&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">harbour&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-104">&lt;a class="lnlinks" href="#hl-9-104">104&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">avidemux&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">core&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-105">&lt;a class="lnlinks" href="#hl-9-105">105&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">video&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">avidemux&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-106">&lt;a class="lnlinks" href="#hl-9-106">106&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">avidemux&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">plugins&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-107">&lt;a class="lnlinks" href="#hl-9-107">107&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">net&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">nds&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">openldap&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-108">&lt;a class="lnlinks" href="#hl-9-108">108&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">net&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">serf&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-109">&lt;a class="lnlinks" href="#hl-9-109">109&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sci&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mathematics&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pari&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span> &lt;span class="c1"># needs fix makefiles&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-110">&lt;a class="lnlinks" href="#hl-9-110">110&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">python&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">cysignals&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-111">&lt;a class="lnlinks" href="#hl-9-111">111&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">app&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">accessibility&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">brltty&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-112">&lt;a class="lnlinks" href="#hl-9-112">112&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">video&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">ffmpeg&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-113">&lt;a class="lnlinks" href="#hl-9-113">113&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">app&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">office&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">dia&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-114">&lt;a class="lnlinks" href="#hl-9-114">114&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">app&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tesseract&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-115">&lt;a class="lnlinks" href="#hl-9-115">115&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">perl&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">PDL&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-116">&lt;a class="lnlinks" href="#hl-9-116">116&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">perl&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">OpenGL&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">GLUT&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-117">&lt;a class="lnlinks" href="#hl-9-117">117&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">net&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">misc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">openssh&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">contrib&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-118">&lt;a class="lnlinks" href="#hl-9-118">118&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">haskell&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">network&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-119">&lt;a class="lnlinks" href="#hl-9-119">119&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">haskell&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">old&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">time&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-120">&lt;a class="lnlinks" href="#hl-9-120">120&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">haskell&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">resolv&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-121">&lt;a class="lnlinks" href="#hl-9-121">121&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">net&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">proxy&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">dante&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-122">&lt;a class="lnlinks" href="#hl-9-122">122&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">apps&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">keyutils&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-123">&lt;a class="lnlinks" href="#hl-9-123">123&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">net&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">libnftnl&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-124">&lt;a class="lnlinks" href="#hl-9-124">124&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">sound&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">sox&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-125">&lt;a class="lnlinks" href="#hl-9-125">125&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">libgphoto2&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-126">&lt;a class="lnlinks" href="#hl-9-126">126&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">net&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">dns&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">bind&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">tools&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-127">&lt;a class="lnlinks" href="#hl-9-127">127&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gfx&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">sane&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">backends&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-128">&lt;a class="lnlinks" href="#hl-9-128">128&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">app&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">paper&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clip&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-129">&lt;a class="lnlinks" href="#hl-9-129">129&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">app&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">i18n&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">scim&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-130">&lt;a class="lnlinks" href="#hl-9-130">130&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="o">=&lt;/span>&lt;span class="n">sci&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mathematics&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">octave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-131">&lt;a class="lnlinks" href="#hl-9-131">131&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">libgamin&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-132">&lt;a class="lnlinks" href="#hl-9-132">132&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">x11&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">misc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redshift&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-133">&lt;a class="lnlinks" href="#hl-9-133">133&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">glusterfs&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-134">&lt;a class="lnlinks" href="#hl-9-134">134&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">exempi&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-135">&lt;a class="lnlinks" href="#hl-9-135">135&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">urt&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-136">&lt;a class="lnlinks" href="#hl-9-136">136&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">libopenraw&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-137">&lt;a class="lnlinks" href="#hl-9-137">137&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">libsidplay&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-138">&lt;a class="lnlinks" href="#hl-9-138">138&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">libdc1394&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-139">&lt;a class="lnlinks" href="#hl-9-139">139&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gfx&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">autopano&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">sift&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">C&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-140">&lt;a class="lnlinks" href="#hl-9-140">140&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">libdv&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-141">&lt;a class="lnlinks" href="#hl-9-141">141&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">video&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">gpac&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-142">&lt;a class="lnlinks" href="#hl-9-142">142&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gfx&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">povray&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-143">&lt;a class="lnlinks" href="#hl-9-143">143&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">openglide&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-144">&lt;a class="lnlinks" href="#hl-9-144">144&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">sound&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">audacity&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-145">&lt;a class="lnlinks" href="#hl-9-145">145&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">net&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">firewall&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">ipset&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-146">&lt;a class="lnlinks" href="#hl-9-146">146&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gfx&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">graphicsmagick&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-147">&lt;a class="lnlinks" href="#hl-9-147">147&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">libayatana&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">appindicator&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-148">&lt;a class="lnlinks" href="#hl-9-148">148&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">net&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">gtk&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">vnc&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-149">&lt;a class="lnlinks" href="#hl-9-149">149&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">net&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">misc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">omniORB&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-150">&lt;a class="lnlinks" href="#hl-9-150">150&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gfx&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">inkscape&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-151">&lt;a class="lnlinks" href="#hl-9-151">151&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">net&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nb">print&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">gutenprint&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-152">&lt;a class="lnlinks" href="#hl-9-152">152&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">net&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">misc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">netkit&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">telnetd&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-153">&lt;a class="lnlinks" href="#hl-9-153">153&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">net&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">fs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">autofs&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-154">&lt;a class="lnlinks" href="#hl-9-154">154&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sci&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">physics&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">openmodelica&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-155">&lt;a class="lnlinks" href="#hl-9-155">155&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">db&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">sqlite&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span> &lt;span class="c1">## Bug #928745&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-156">&lt;a class="lnlinks" href="#hl-9-156">156&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">media&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">video&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">mpv&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-157">&lt;a class="lnlinks" href="#hl-9-157">157&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">app&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">emulation&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">dosemu&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-158">&lt;a class="lnlinks" href="#hl-9-158">158&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">app&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">arch&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lha&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-159">&lt;a class="lnlinks" href="#hl-9-159">159&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">app&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">arch&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">arj&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-160">&lt;a class="lnlinks" href="#hl-9-160">160&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">app&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">fbreader&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-161">&lt;a class="lnlinks" href="#hl-9-161">161&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">app&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cdr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">cdrtools&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-162">&lt;a class="lnlinks" href="#hl-9-162">162&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">dev&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">libpqxx&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">18&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-163">&lt;a class="lnlinks" href="#hl-9-163">163&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sci&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">libs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">vtk&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">18&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-164">&lt;a class="lnlinks" href="#hl-9-164">164&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">sci&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">visualization&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">paraview&lt;/span> &lt;span class="n">compiler&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">clang&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">mold&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">18&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="конфигурация-специальных-окружений">&lt;span class="section-num">4.3&lt;/span> Конфигурация специальных окружений&lt;/h3>
&lt;ul>
&lt;li>Нужно задать конфигурации для разных компиляторов.&lt;/li>
&lt;/ul>
&lt;h4 id="gcc">&lt;span class="section-num">4.3.1&lt;/span> gcc&lt;/h4>
&lt;ul>
&lt;li>Конфигурация для компилятора &lt;em>gcc&lt;/em> в файле &lt;code>/etc/portage/env/compiler-gcc&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-10-1">&lt;a class="lnlinks" href="#hl-10-1"> 1&lt;/a>&lt;/span>&lt;span class="cl">COMMON_FLAGS=&amp;#34;-O2 -march=native&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-10-2">&lt;a class="lnlinks" href="#hl-10-2"> 2&lt;/a>&lt;/span>&lt;span class="cl">CFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-10-3">&lt;a class="lnlinks" href="#hl-10-3"> 3&lt;/a>&lt;/span>&lt;span class="cl">CXXFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-10-4">&lt;a class="lnlinks" href="#hl-10-4"> 4&lt;/a>&lt;/span>&lt;span class="cl">LDFLAGS=&amp;#34;-Wl,--as-needed&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-10-5">&lt;a class="lnlinks" href="#hl-10-5"> 5&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-10-6">&lt;a class="lnlinks" href="#hl-10-6"> 6&lt;/a>&lt;/span>&lt;span class="cl">CC=&amp;#34;gcc&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-10-7">&lt;a class="lnlinks" href="#hl-10-7"> 7&lt;/a>&lt;/span>&lt;span class="cl">CXX=&amp;#34;g++&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-10-8">&lt;a class="lnlinks" href="#hl-10-8"> 8&lt;/a>&lt;/span>&lt;span class="cl">CPP=&amp;#34;gcc -E&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-10-9">&lt;a class="lnlinks" href="#hl-10-9"> 9&lt;/a>&lt;/span>&lt;span class="cl">AR=&amp;#34;ar&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-10-10">&lt;a class="lnlinks" href="#hl-10-10">10&lt;/a>&lt;/span>&lt;span class="cl">NM=&amp;#34;nm&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-10-11">&lt;a class="lnlinks" href="#hl-10-11">11&lt;/a>&lt;/span>&lt;span class="cl">RANLIB=&amp;#34;ranlib&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-10-12">&lt;a class="lnlinks" href="#hl-10-12">12&lt;/a>&lt;/span>&lt;span class="cl">OBJCOPY=&amp;#34;objcopy&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-10-13">&lt;a class="lnlinks" href="#hl-10-13">13&lt;/a>&lt;/span>&lt;span class="cl">STRIP=&amp;#34;strip&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-10-14">&lt;a class="lnlinks" href="#hl-10-14">14&lt;/a>&lt;/span>&lt;span class="cl">LD=&amp;#34;ld&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="src-block-caption">
&lt;span class="src-block-number">&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 1:&lt;/span>
/etc/portage/env/compiler-gcc
&lt;/div>
&lt;/li>
&lt;/ul>
&lt;h4 id="clang-без-lto">&lt;span class="section-num">4.3.2&lt;/span> clang без LTO&lt;/h4>
&lt;ul>
&lt;li>Конфигурация для компилятора &lt;em>clang&lt;/em> без &lt;em>LTO&lt;/em> в файле &lt;code>/etc/portage/env/compiler-clang-no-lto&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-11-1">&lt;a class="lnlinks" href="#hl-11-1"> 1&lt;/a>&lt;/span>&lt;span class="cl"># Normal settings here
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-2">&lt;a class="lnlinks" href="#hl-11-2"> 2&lt;/a>&lt;/span>&lt;span class="cl">COMMON_FLAGS=&amp;#34;-O2 -march=native&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-3">&lt;a class="lnlinks" href="#hl-11-3"> 3&lt;/a>&lt;/span>&lt;span class="cl">CFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-4">&lt;a class="lnlinks" href="#hl-11-4"> 4&lt;/a>&lt;/span>&lt;span class="cl">CXXFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-5">&lt;a class="lnlinks" href="#hl-11-5"> 5&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-6">&lt;a class="lnlinks" href="#hl-11-6"> 6&lt;/a>&lt;/span>&lt;span class="cl">CC=&amp;#34;clang&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-7">&lt;a class="lnlinks" href="#hl-11-7"> 7&lt;/a>&lt;/span>&lt;span class="cl">CPP=&amp;#34;clang-cpp&amp;#34; # necessary for xorg-server and possibly other packages
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-8">&lt;a class="lnlinks" href="#hl-11-8"> 8&lt;/a>&lt;/span>&lt;span class="cl">CXX=&amp;#34;clang++&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-9">&lt;a class="lnlinks" href="#hl-11-9"> 9&lt;/a>&lt;/span>&lt;span class="cl">AR=&amp;#34;llvm-ar&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-10">&lt;a class="lnlinks" href="#hl-11-10">10&lt;/a>&lt;/span>&lt;span class="cl">NM=&amp;#34;llvm-nm&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-11">&lt;a class="lnlinks" href="#hl-11-11">11&lt;/a>&lt;/span>&lt;span class="cl">RANLIB=&amp;#34;llvm-ranlib&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-12">&lt;a class="lnlinks" href="#hl-11-12">12&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-13">&lt;a class="lnlinks" href="#hl-11-13">13&lt;/a>&lt;/span>&lt;span class="cl"># No need to set this, clang-common can handle this based on chosen USE flags
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-14">&lt;a class="lnlinks" href="#hl-11-14">14&lt;/a>&lt;/span>&lt;span class="cl"># LDFLAGS=&amp;#34;${LDFLAGS} -fuse-ld=lld -rtlib=compiler-rt -unwindlib=libunwind -Wl,--as-needed&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-11-15">&lt;a class="lnlinks" href="#hl-11-15">15&lt;/a>&lt;/span>&lt;span class="cl"># LDFLAGS=&amp;#34;-fuse-ld=lld -rtlib=compiler-rt -unwindlib=libunwind -Wl,--as-needed&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="src-block-caption">
&lt;span class="src-block-number">&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 2:&lt;/span>
/etc/portage/env/compiler-clang-no-lto
&lt;/div>
&lt;/li>
&lt;/ul>
&lt;h4 id="clang-plus-mold">&lt;span class="section-num">4.3.3&lt;/span> clang + mold&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-12-1">&lt;a class="lnlinks" href="#hl-12-1"> 1&lt;/a>&lt;/span>&lt;span class="cl"># Normal settings here
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-2">&lt;a class="lnlinks" href="#hl-12-2"> 2&lt;/a>&lt;/span>&lt;span class="cl">COMMON_FLAGS=&amp;#34;-O2 -march=native&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-3">&lt;a class="lnlinks" href="#hl-12-3"> 3&lt;/a>&lt;/span>&lt;span class="cl">CFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-4">&lt;a class="lnlinks" href="#hl-12-4"> 4&lt;/a>&lt;/span>&lt;span class="cl">CXXFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-5">&lt;a class="lnlinks" href="#hl-12-5"> 5&lt;/a>&lt;/span>&lt;span class="cl">CLANG_NO_DEFAULT_CONFIG=1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-6">&lt;a class="lnlinks" href="#hl-12-6"> 6&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-7">&lt;a class="lnlinks" href="#hl-12-7"> 7&lt;/a>&lt;/span>&lt;span class="cl">CC=&amp;#34;clang&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-8">&lt;a class="lnlinks" href="#hl-12-8"> 8&lt;/a>&lt;/span>&lt;span class="cl">CPP=&amp;#34;clang-cpp&amp;#34; # necessary for xorg-server and possibly other packages
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-9">&lt;a class="lnlinks" href="#hl-12-9"> 9&lt;/a>&lt;/span>&lt;span class="cl">CXX=&amp;#34;clang++&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-10">&lt;a class="lnlinks" href="#hl-12-10">10&lt;/a>&lt;/span>&lt;span class="cl">AR=&amp;#34;llvm-ar&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-11">&lt;a class="lnlinks" href="#hl-12-11">11&lt;/a>&lt;/span>&lt;span class="cl">NM=&amp;#34;llvm-nm&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-12">&lt;a class="lnlinks" href="#hl-12-12">12&lt;/a>&lt;/span>&lt;span class="cl">RANLIB=&amp;#34;llvm-ranlib&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-13">&lt;a class="lnlinks" href="#hl-12-13">13&lt;/a>&lt;/span>&lt;span class="cl">OBJCOPY=&amp;#34;llvm-objcopy&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-14">&lt;a class="lnlinks" href="#hl-12-14">14&lt;/a>&lt;/span>&lt;span class="cl">LD=&amp;#34;mold&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-15">&lt;a class="lnlinks" href="#hl-12-15">15&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-16">&lt;a class="lnlinks" href="#hl-12-16">16&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-17">&lt;a class="lnlinks" href="#hl-12-17">17&lt;/a>&lt;/span>&lt;span class="cl">#LDFLAGS=&amp;#34;${LDFLAGS} -Wl,-O2 -Wl,--as-needed -Wl,--undefined-version&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-18">&lt;a class="lnlinks" href="#hl-12-18">18&lt;/a>&lt;/span>&lt;span class="cl">#LDFLAGS=&amp;#34;${LDFLAGS} -rtlib=compiler-rt -unwindlib=libunwind&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-19">&lt;a class="lnlinks" href="#hl-12-19">19&lt;/a>&lt;/span>&lt;span class="cl">LDFLAGS=&amp;#34;${LDFLAGS} -fuse-ld=mold&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-20">&lt;a class="lnlinks" href="#hl-12-20">20&lt;/a>&lt;/span>&lt;span class="cl">#LDFLAGS=&amp;#34;${LDFLAGS} -flto&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="src-block-caption">
&lt;span class="src-block-number">&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 3:&lt;/span>
/etc/portage/env/compiler-clang-mold
&lt;/div>
&lt;h4 id="clang-18-plus-mold">&lt;span class="section-num">4.3.4&lt;/span> clang-18 + mold&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-13-1">&lt;a class="lnlinks" href="#hl-13-1"> 1&lt;/a>&lt;/span>&lt;span class="cl"># Normal settings here
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-13-2">&lt;a class="lnlinks" href="#hl-13-2"> 2&lt;/a>&lt;/span>&lt;span class="cl">COMMON_FLAGS=&amp;#34;-O2 -march=native&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-13-3">&lt;a class="lnlinks" href="#hl-13-3"> 3&lt;/a>&lt;/span>&lt;span class="cl">CFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-13-4">&lt;a class="lnlinks" href="#hl-13-4"> 4&lt;/a>&lt;/span>&lt;span class="cl">CXXFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-13-5">&lt;a class="lnlinks" href="#hl-13-5"> 5&lt;/a>&lt;/span>&lt;span class="cl">CLANG_NO_DEFAULT_CONFIG=1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-13-6">&lt;a class="lnlinks" href="#hl-13-6"> 6&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-13-7">&lt;a class="lnlinks" href="#hl-13-7"> 7&lt;/a>&lt;/span>&lt;span class="cl">CC=&amp;#34;clang-18&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-13-8">&lt;a class="lnlinks" href="#hl-13-8"> 8&lt;/a>&lt;/span>&lt;span class="cl">CPP=&amp;#34;clang-cpp-18&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-13-9">&lt;a class="lnlinks" href="#hl-13-9"> 9&lt;/a>&lt;/span>&lt;span class="cl">CXX=&amp;#34;clang++-18&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-13-10">&lt;a class="lnlinks" href="#hl-13-10">10&lt;/a>&lt;/span>&lt;span class="cl">AR=&amp;#34;llvm-ar&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-13-11">&lt;a class="lnlinks" href="#hl-13-11">11&lt;/a>&lt;/span>&lt;span class="cl">NM=&amp;#34;llvm-nm&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-13-12">&lt;a class="lnlinks" href="#hl-13-12">12&lt;/a>&lt;/span>&lt;span class="cl">RANLIB=&amp;#34;llvm-ranlib&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-13-13">&lt;a class="lnlinks" href="#hl-13-13">13&lt;/a>&lt;/span>&lt;span class="cl">OBJCOPY=&amp;#34;llvm-objcopy&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-13-14">&lt;a class="lnlinks" href="#hl-13-14">14&lt;/a>&lt;/span>&lt;span class="cl">LD=&amp;#34;mold&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-13-15">&lt;a class="lnlinks" href="#hl-13-15">15&lt;/a>&lt;/span>&lt;span class="cl">LDFLAGS=&amp;#34;${LDFLAGS} -fuse-ld=mold&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="src-block-caption">
&lt;span class="src-block-number">&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 4:&lt;/span>
/etc/portage/env/compiler-clang-mold-18
&lt;/div>
&lt;h2 id="компиляция-ядра">&lt;span class="section-num">5&lt;/span> Компиляция ядра&lt;/h2>
&lt;ul>
&lt;li>Ядро Linux можно скомпилировать с помощью &lt;em>Clang&lt;/em> и набора инструментов &lt;em>LLVM&lt;/em>, определив переменную среды:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-14-1">&lt;a class="lnlinks" href="#hl-14-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nv">LLVM&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Чтобы настроить специальные параметры ядра &lt;em>Clang&lt;/em>, такие как оптимизация времени компоновки или целостность потока управления, выполните следующую команду:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-15-1">&lt;a class="lnlinks" href="#hl-15-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nv">LLVM&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span> make menuconfig
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Далее скомпилируйте ядро ​​как обычно:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-16-1">&lt;a class="lnlinks" href="#hl-16-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nv">LLVM&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span> make
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Раньше необходимо было объявить &lt;code>LLVM_IAS=1&lt;/code> для использования внутреннего ассемблера Clang для ядра.&lt;/li>
&lt;li>Это больше не требуется, поскольку &lt;code>LLVM=1&lt;/code> теперь включён по умолчанию.&lt;/li>
&lt;/ul>
&lt;h2 id="c-plus-plus-abi">&lt;span class="section-num">6&lt;/span> C++ ABI&lt;/h2>
&lt;ul>
&lt;li>Для Clang по умолчанию устанавливается библиотека C++ &lt;code>libcxx&lt;/code>.&lt;/li>
&lt;li>При компиляции с помощью &lt;em>gcc&lt;/em> используется библиотека &lt;code>libstdc++&lt;/code>.&lt;/li>
&lt;li>Необходимо, как минимум, перекомпилить приложения, использующие библиотеку &lt;code>libstdc++&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-17-1">&lt;a class="lnlinks" href="#hl-17-1">1&lt;/a>&lt;/span>&lt;span class="cl">revdep-rebuild --library libstdc++ -- -v --keep-going
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="ресурсы">&lt;span class="section-num">7&lt;/span> Ресурсы&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://wiki.gentoo.org/wiki/Clang" target="_blank" rel="noopener">https://wiki.gentoo.org/wiki/Clang&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://wiki.gentoo.org/wiki/Clang/Bootstrapping" target="_blank" rel="noopener">https://wiki.gentoo.org/wiki/Clang/Bootstrapping&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Linux. Темы оформления</title><link>https://yamadharma.github.io/ru/post/2024/05/07/linux-themes/</link><pubDate>Tue, 07 May 2024 15:39:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/05/07/linux-themes/</guid><description>&lt;p>Темы оформления Linux.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#плоские-темы">&lt;span class="section-num">1&lt;/span> Плоские темы&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#тема-arc">&lt;span class="section-num">1.1&lt;/span> Тема Arc&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#материальные-темы">&lt;span class="section-num">2&lt;/span> Материальные темы&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#тема-materia">&lt;span class="section-num">2.1&lt;/span> Тема Materia&lt;/a>&lt;/li>
&lt;li>&lt;a href="#тема-orchis">&lt;span class="section-num">2.2&lt;/span> Тема Orchis&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#темы-курсоров">&lt;span class="section-num">3&lt;/span> Темы курсоров&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#xcursor-plan9">&lt;span class="section-num">3.1&lt;/span> xcursor-plan9&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="плоские-темы">&lt;span class="section-num">1&lt;/span> Плоские темы&lt;/h2>
&lt;h3 id="тема-arc">&lt;span class="section-num">1.1&lt;/span> Тема Arc&lt;/h3>
&lt;h4 id="gtk-тема">&lt;span class="section-num">1.1.1&lt;/span> Gtk тема&lt;/h4>
&lt;ul>
&lt;li>Название &lt;em>Arc Theme&lt;/em>&lt;/li>
&lt;li>Репозиторий: &lt;a href="https://github.com/jnsh/arc-theme" target="_blank" rel="noopener">https://github.com/jnsh/arc-theme&lt;/a>&lt;/li>
&lt;/ul>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Установка&lt;/p>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Gentoo&lt;/p>
&lt;ul>
&lt;li>В основном репозитории:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge x11-themes/arc-theme
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h4 id="kde-тема">&lt;span class="section-num">1.1.2&lt;/span> KDE тема&lt;/h4>
&lt;ul>
&lt;li>Название: &lt;em>Arc KDE&lt;/em>&lt;/li>
&lt;li>Репозиторий: &lt;a href="https://github.com/PapirusDevelopmentTeam/arc-kde" target="_blank" rel="noopener">https://github.com/PapirusDevelopmentTeam/arc-kde&lt;/a>&lt;/li>
&lt;/ul>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Установка&lt;/p>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Gentoo&lt;/p>
&lt;ul>
&lt;li>В репозитории &lt;em>guru&lt;/em> (см. &lt;a href="https://yamadharma.github.io/ru/post/2023/10/01/gentoo-additional-repositories/">Gentoo. Дополнительные репозитории&lt;/a>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge x11-themes/arc-kde
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h4 id="тема-иконок">&lt;span class="section-num">1.1.3&lt;/span> Тема иконок&lt;/h4>
&lt;ul>
&lt;li>Название: &lt;em>Arc Icon Theme&lt;/em>&lt;/li>
&lt;li>Репозиторий: &lt;a href="https://github.com/horst3180/arc-icon-theme" target="_blank" rel="noopener">https://github.com/horst3180/arc-icon-theme&lt;/a>&lt;/li>
&lt;/ul>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Установка&lt;/p>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Gentoo&lt;/p>
&lt;ul>
&lt;li>В основном репозитории:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-2-1">&lt;a class="lnlinks" href="#hl-2-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge x11-themes/arc-icon-theme
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h4 id="тема-qogir">&lt;span class="section-num">1.1.4&lt;/span> Тема Qogir&lt;/h4>
&lt;ul>
&lt;li>На основе темы Arc.&lt;/li>
&lt;/ul>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Gtk тема&lt;/p>
&lt;ul>
&lt;li>Название &lt;em>Qogir Gtk Theme&lt;/em>&lt;/li>
&lt;li>Репозиторий: &lt;a href="https://github.com/vinceliuice/Qogir-theme" target="_blank" rel="noopener">https://github.com/vinceliuice/Qogir-theme&lt;/a>&lt;/li>
&lt;/ul>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Установка&lt;/p>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Gentoo&lt;/p>
&lt;ul>
&lt;li>В репозитории &lt;em>karma&lt;/em> (см. &lt;a href="https://yamadharma.github.io/ru/post/2023/10/01/gentoo-additional-repositories/">Gentoo. Дополнительные репозитории&lt;/a>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-3-1">&lt;a class="lnlinks" href="#hl-3-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge x11-themes/qogir-theme
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="2">
&lt;li>
&lt;p>KDE тема&lt;/p>
&lt;ul>
&lt;li>Название: &lt;em>Qogir KDE Theme&lt;/em>&lt;/li>
&lt;li>Репозиторий: &lt;a href="https://github.com/vinceliuice/Qogir-kde" target="_blank" rel="noopener">https://github.com/vinceliuice/Qogir-kde&lt;/a>&lt;/li>
&lt;/ul>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Установка&lt;/p>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Gentoo&lt;/p>
&lt;ul>
&lt;li>В репозитории &lt;em>karma&lt;/em> (см. &lt;a href="https://yamadharma.github.io/ru/post/2023/10/01/gentoo-additional-repositories/">Gentoo. Дополнительные репозитории&lt;/a>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-4-1">&lt;a class="lnlinks" href="#hl-4-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge x11-themes/qogir-kde
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="3">
&lt;li>
&lt;p>Тема иконок&lt;/p>
&lt;ul>
&lt;li>Название: &lt;em>Qogir Icon Theme&lt;/em>&lt;/li>
&lt;li>Репозиторий: &lt;a href="https://github.com/vinceliuice/Qogir-icon-theme" target="_blank" rel="noopener">https://github.com/vinceliuice/Qogir-icon-theme&lt;/a>&lt;/li>
&lt;/ul>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Установка&lt;/p>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Gentoo&lt;/p>
&lt;ul>
&lt;li>В репозиториях &lt;em>guru&lt;/em>, &lt;em>karma&lt;/em> (см. &lt;a href="https://yamadharma.github.io/ru/post/2023/10/01/gentoo-additional-repositories/">Gentoo. Дополнительные репозитории&lt;/a>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-5-1">&lt;a class="lnlinks" href="#hl-5-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge x11-themes/qogir-icon-theme
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h2 id="материальные-темы">&lt;span class="section-num">2&lt;/span> Материальные темы&lt;/h2>
&lt;ul>
&lt;li>Базируются на Material Design (&lt;a href="https://material.io" target="_blank" rel="noopener">https://material.io&lt;/a>).&lt;/li>
&lt;/ul>
&lt;h3 id="тема-materia">&lt;span class="section-num">2.1&lt;/span> Тема Materia&lt;/h3>
&lt;ul>
&lt;li>Последние релизы 2022 года.&lt;/li>
&lt;/ul>
&lt;h4 id="gtk-тема">&lt;span class="section-num">2.1.1&lt;/span> Gtk тема&lt;/h4>
&lt;ul>
&lt;li>Название &lt;em>Materia&lt;/em>&lt;/li>
&lt;li>Репозиторий: &lt;a href="https://github.com/nana-4/materia-theme" target="_blank" rel="noopener">https://github.com/nana-4/materia-theme&lt;/a>&lt;/li>
&lt;/ul>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Установка&lt;/p>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Gentoo&lt;/p>
&lt;ul>
&lt;li>В репозитории &lt;em>guru&lt;/em> (см. &lt;a href="https://yamadharma.github.io/ru/post/2023/10/01/gentoo-additional-repositories/">Gentoo. Дополнительные репозитории&lt;/a>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-6-1">&lt;a class="lnlinks" href="#hl-6-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge x11-themes/materia-theme
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h4 id="kde-тема">&lt;span class="section-num">2.1.2&lt;/span> KDE тема&lt;/h4>
&lt;ul>
&lt;li>Название: Materia KDE&lt;/li>
&lt;li>Репозиторий: &lt;a href="https://github.com/PapirusDevelopmentTeam/materia-kde" target="_blank" rel="noopener">https://github.com/PapirusDevelopmentTeam/materia-kde&lt;/a>&lt;/li>
&lt;/ul>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Установка&lt;/p>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Gentoo&lt;/p>
&lt;ul>
&lt;li>В репозиториях &lt;em>jorgicio&lt;/em>, &lt;em>spikyatlinux&lt;/em>, &lt;em>gig&lt;/em> (см. &lt;a href="https://yamadharma.github.io/ru/post/2023/10/01/gentoo-additional-repositories/">Gentoo. Дополнительные репозитории&lt;/a>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-7-1">&lt;a class="lnlinks" href="#hl-7-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge x11-themes/materia-kde
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h3 id="тема-orchis">&lt;span class="section-num">2.2&lt;/span> Тема Orchis&lt;/h3>
&lt;ul>
&lt;li>Тема сделана на основе темы Materia.&lt;/li>
&lt;li>Поддерживается в настоящее время.&lt;/li>
&lt;li>Состоит из тем для Gtk, KDE и рекомендованной темы для иконок.&lt;/li>
&lt;/ul>
&lt;h4 id="gtk-тема">&lt;span class="section-num">2.2.1&lt;/span> Gtk тема&lt;/h4>
&lt;ul>
&lt;li>Название Orchis&lt;/li>
&lt;li>Репозиторий: &lt;a href="https://github.com/vinceliuice/Orchis-theme" target="_blank" rel="noopener">https://github.com/vinceliuice/Orchis-theme&lt;/a>&lt;/li>
&lt;/ul>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Установка&lt;/p>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Gentoo&lt;/p>
&lt;ul>
&lt;li>В репозитории &lt;em>karma&lt;/em> (см. &lt;a href="https://yamadharma.github.io/ru/post/2023/10/01/gentoo-additional-repositories/">Gentoo. Дополнительные репозитории&lt;/a>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-8-1">&lt;a class="lnlinks" href="#hl-8-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge x11-themes/orchis-theme
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h4 id="kde-тема">&lt;span class="section-num">2.2.2&lt;/span> KDE тема&lt;/h4>
&lt;ul>
&lt;li>Название: Orchis KDE&lt;/li>
&lt;li>Репозиторий: &lt;a href="https://github.com/vinceliuice/Orchis-kde" target="_blank" rel="noopener">https://github.com/vinceliuice/Orchis-kde&lt;/a>&lt;/li>
&lt;/ul>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Установка&lt;/p>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Gentoo&lt;/p>
&lt;ul>
&lt;li>В репозитории &lt;em>karma&lt;/em> (см. &lt;a href="https://yamadharma.github.io/ru/post/2023/10/01/gentoo-additional-repositories/">Gentoo. Дополнительные репозитории&lt;/a>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-9-1">&lt;a class="lnlinks" href="#hl-9-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge x11-themes/orchos-kde
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h4 id="тема-иконок">&lt;span class="section-num">2.2.3&lt;/span> Тема иконок&lt;/h4>
&lt;ul>
&lt;li>Название: Tela Circle Icon Theme&lt;/li>
&lt;li>Репозиторий: &lt;a href="https://github.com/vinceliuice/Tela-circle-icon-theme" target="_blank" rel="noopener">https://github.com/vinceliuice/Tela-circle-icon-theme&lt;/a>&lt;/li>
&lt;/ul>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Установка&lt;/p>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Gentoo&lt;/p>
&lt;ul>
&lt;li>В основном репозитории:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-10-1">&lt;a class="lnlinks" href="#hl-10-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nv">USE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;hardlink kde standard black blue brown dracula green grey manjaro nord orange pink purple red ubuntu yellow&amp;#34;&lt;/span> emerge x11-themes/tela-icon-theme
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h2 id="темы-курсоров">&lt;span class="section-num">3&lt;/span> Темы курсоров&lt;/h2>
&lt;h3 id="xcursor-plan9">&lt;span class="section-num">3.1&lt;/span> xcursor-plan9&lt;/h3>
&lt;ul>
&lt;li>Тема на основе курсоров Plan9.&lt;/li>
&lt;li>Сайт: &lt;a href="https://%cf%80.duncano.de/" target="_blank" rel="noopener">https://π.duncano.de/&lt;/a>&lt;/li>
&lt;li>Репозиторий: &lt;a href="https://github.com/wintermute-cell/xcursor-plan9" target="_blank" rel="noopener">https://github.com/wintermute-cell/xcursor-plan9&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>DHCP. Установка сервера DHCP Kea</title><link>https://yamadharma.github.io/ru/post/2024/05/07/dhcp-server-installation/</link><pubDate>Tue, 07 May 2024 11:39:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/05/07/dhcp-server-installation/</guid><description>&lt;p>Установка сервера DHCP ISC Kea.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#особенности">&lt;span class="section-num">1.1&lt;/span> Особенности&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#опции-dhcp">&lt;span class="section-num">2&lt;/span> Опции DHCP&lt;/a>&lt;/li>
&lt;li>&lt;a href="#установка">&lt;span class="section-num">3&lt;/span> Установка&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#репозиторий-rockylinux">&lt;span class="section-num">3.1&lt;/span> Репозиторий RockyLinux&lt;/a>&lt;/li>
&lt;li>&lt;a href="#репозиторий-isc">&lt;span class="section-num">3.2&lt;/span> Репозиторий ISC&lt;/a>&lt;/li>
&lt;li>&lt;a href="#инструментарий-миграции-keama">&lt;span class="section-num">3.3&lt;/span> Инструментарий миграции keama&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#подготовка">&lt;span class="section-num">4&lt;/span> Подготовка&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#брандмауэр">&lt;span class="section-num">4.1&lt;/span> Брандмауэр&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#подготовка-базы-данных">&lt;span class="section-num">5&lt;/span> Подготовка базы данных&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#postgresql">&lt;span class="section-num">5.1&lt;/span> PostgreSQL&lt;/a>&lt;/li>
&lt;li>&lt;a href="#миграция-с-isc-dhcp-на-isc-kea">&lt;span class="section-num">5.2&lt;/span> Миграция с ISC DHCP на ISC Kea&lt;/a>&lt;/li>
&lt;li>&lt;a href="#тьюнинг-базы-данных">&lt;span class="section-num">5.3&lt;/span> Тьюнинг базы данных&lt;/a>&lt;/li>
&lt;li>&lt;a href="#конфигурация-базы-данных-для-kea">&lt;span class="section-num">5.4&lt;/span> Конфигурация базы данных для Kea&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#виртуальные-интерфейсы">&lt;span class="section-num">6&lt;/span> Виртуальные интерфейсы&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#миграция-интерфейсов">&lt;span class="section-num">6.1&lt;/span> Миграция интерфейсов&lt;/a>&lt;/li>
&lt;li>&lt;a href="#конфигурация-интерфейсов-для-kea">&lt;span class="section-num">6.2&lt;/span> Конфигурация интерфейсов для Kea&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#управляющий-агент-kea-ctrl-agent">&lt;span class="section-num">7&lt;/span> Управляющий агент kea-ctrl-agent&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#по-умолчанию">&lt;span class="section-num">7.1&lt;/span> По умолчанию&lt;/a>&lt;/li>
&lt;li>&lt;a href="#доступ-по-сети">&lt;span class="section-num">7.2&lt;/span> Доступ по сети&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#запуск">&lt;span class="section-num">8&lt;/span> Запуск&lt;/a>&lt;/li>
&lt;li>&lt;a href="#утилиты">&lt;span class="section-num">9&lt;/span> Утилиты&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#просмотр-арендованных-адресов">&lt;span class="section-num">9.1&lt;/span> Просмотр арендованных адресов&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#после-установки">&lt;span class="section-num">10&lt;/span> После установки&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Сайт: &lt;a href="https://www.isc.org/kea/" target="_blank" rel="noopener">https://www.isc.org/kea/&lt;/a>&lt;/li>
&lt;li>Репозиторий:
&lt;ul>
&lt;li>&lt;a href="https://gitlab.isc.org/isc-projects/kea" target="_blank" rel="noopener">https://gitlab.isc.org/isc-projects/kea&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/isc-projects/kea" target="_blank" rel="noopener">https://github.com/isc-projects/kea&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Документация: &lt;a href="https://kea.readthedocs.io/en/latest/index.html" target="_blank" rel="noopener">https://kea.readthedocs.io/en/latest/index.html&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="особенности">&lt;span class="section-num">1.1&lt;/span> Особенности&lt;/h3>
&lt;ul>
&lt;li>Модульная конструкция компонентов
&lt;ul>
&lt;li>Расширяется с помощью модулей-хуков.&lt;/li>
&lt;li>Дистрибутив Kea включает отдельные демоны для сервера DHCPv4, сервера DHCPv6 и модуля динамического DNS (DDNS).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Онлайн-реконфигурация с помощью REST API.
&lt;ul>
&lt;li>Kea использует файл конфигурации JSON, который можно изменить удалённо без остановки и перезапуска сервера.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Панель управления через веб-интерфейс.&lt;/li>
&lt;li>Поддерживает базы данных MySQL, PostgreSQL:
&lt;ul>
&lt;li>упрощает интеграцию с другими системами;&lt;/li>
&lt;li>можно использовать один и тот же сервер резервирования хостов для нескольких DHCP-серверов;&lt;/li>
&lt;li>администрирование глобальных параметров из централизованной системы настройки.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="опции-dhcp">&lt;span class="section-num">2&lt;/span> Опции DHCP&lt;/h2>
&lt;div class="table-caption">
&lt;span class="table-number">&amp;#1058;&amp;#1072;&amp;#1073;&amp;#1083;&amp;#1080;&amp;#1094;&amp;#1072; 1:&lt;/span>
Список стандартных опций DHCPv4
&lt;/div>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Название&lt;/th>
&lt;th>Код&lt;/th>
&lt;th>Type&lt;/th>
&lt;th>Массив&lt;/th>
&lt;th>Returned if not requested?&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>time-offset&lt;/td>
&lt;td>2&lt;/td>
&lt;td>int32&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>routers&lt;/td>
&lt;td>3&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>true&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>time-servers&lt;/td>
&lt;td>4&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>name-servers&lt;/td>
&lt;td>5&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>domain-name-servers&lt;/td>
&lt;td>6&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>true&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>log-servers&lt;/td>
&lt;td>7&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>cookie-servers&lt;/td>
&lt;td>8&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>lpr-servers&lt;/td>
&lt;td>9&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>impress-servers&lt;/td>
&lt;td>10&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>resource-location-servers&lt;/td>
&lt;td>11&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>boot-size&lt;/td>
&lt;td>13&lt;/td>
&lt;td>uint16&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>merit-dump&lt;/td>
&lt;td>14&lt;/td>
&lt;td>string&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>domain-name&lt;/td>
&lt;td>15&lt;/td>
&lt;td>fqdn&lt;/td>
&lt;td>false&lt;/td>
&lt;td>true&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>swap-server&lt;/td>
&lt;td>16&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>root-path&lt;/td>
&lt;td>17&lt;/td>
&lt;td>string&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>extensions-path&lt;/td>
&lt;td>18&lt;/td>
&lt;td>string&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ip-forwarding&lt;/td>
&lt;td>19&lt;/td>
&lt;td>boolean&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>non-local-source-routing&lt;/td>
&lt;td>20&lt;/td>
&lt;td>boolean&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>policy-filter&lt;/td>
&lt;td>21&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>max-dgram-reassembly&lt;/td>
&lt;td>22&lt;/td>
&lt;td>uint16&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>default-ip-ttl&lt;/td>
&lt;td>23&lt;/td>
&lt;td>uint8&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>path-mtu-aging-timeout&lt;/td>
&lt;td>24&lt;/td>
&lt;td>uint32&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>path-mtu-plateau-table&lt;/td>
&lt;td>25&lt;/td>
&lt;td>uint16&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>interface-mtu&lt;/td>
&lt;td>26&lt;/td>
&lt;td>uint16&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>all-subnets-local&lt;/td>
&lt;td>27&lt;/td>
&lt;td>boolean&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>broadcast-address&lt;/td>
&lt;td>28&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>perform-mask-discovery&lt;/td>
&lt;td>29&lt;/td>
&lt;td>boolean&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>mask-supplier&lt;/td>
&lt;td>30&lt;/td>
&lt;td>boolean&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>router-discovery&lt;/td>
&lt;td>31&lt;/td>
&lt;td>boolean&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>router-solicitation-address&lt;/td>
&lt;td>32&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>static-routes&lt;/td>
&lt;td>33&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>trailer-encapsulation&lt;/td>
&lt;td>34&lt;/td>
&lt;td>boolean&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>arp-cache-timeout&lt;/td>
&lt;td>35&lt;/td>
&lt;td>uint32&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ieee802-3-encapsulation&lt;/td>
&lt;td>36&lt;/td>
&lt;td>boolean&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>default-tcp-ttl&lt;/td>
&lt;td>37&lt;/td>
&lt;td>uint8&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>tcp-keepalive-interval&lt;/td>
&lt;td>38&lt;/td>
&lt;td>uint32&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>tcp-keepalive-garbage&lt;/td>
&lt;td>39&lt;/td>
&lt;td>boolean&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>nis-domain&lt;/td>
&lt;td>40&lt;/td>
&lt;td>string&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>nis-servers&lt;/td>
&lt;td>41&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ntp-servers&lt;/td>
&lt;td>42&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>vendor-encapsulated-options&lt;/td>
&lt;td>43&lt;/td>
&lt;td>empty&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>netbios-name-servers&lt;/td>
&lt;td>44&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>netbios-dd-server&lt;/td>
&lt;td>45&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>netbios-node-type&lt;/td>
&lt;td>46&lt;/td>
&lt;td>uint8&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>netbios-scope&lt;/td>
&lt;td>47&lt;/td>
&lt;td>string&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>font-servers&lt;/td>
&lt;td>48&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>x-display-manager&lt;/td>
&lt;td>49&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>dhcp-option-overload&lt;/td>
&lt;td>52&lt;/td>
&lt;td>uint8&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>dhcp-server-identifier&lt;/td>
&lt;td>54&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>false&lt;/td>
&lt;td>true&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>dhcp-message&lt;/td>
&lt;td>56&lt;/td>
&lt;td>string&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>dhcp-max-message-size&lt;/td>
&lt;td>57&lt;/td>
&lt;td>uint16&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>vendor-class-identifier&lt;/td>
&lt;td>60&lt;/td>
&lt;td>hex&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>nwip-domain-name&lt;/td>
&lt;td>62&lt;/td>
&lt;td>string&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>nwip-suboptions&lt;/td>
&lt;td>63&lt;/td>
&lt;td>hex&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>nisplus-domain-name&lt;/td>
&lt;td>64&lt;/td>
&lt;td>string&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>nisplus-servers&lt;/td>
&lt;td>65&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>tftp-server-name&lt;/td>
&lt;td>66&lt;/td>
&lt;td>string&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>boot-file-name&lt;/td>
&lt;td>67&lt;/td>
&lt;td>string&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>mobile-ip-home-agent&lt;/td>
&lt;td>68&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>smtp-server&lt;/td>
&lt;td>69&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>pop-server&lt;/td>
&lt;td>70&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>nntp-server&lt;/td>
&lt;td>71&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>www-server&lt;/td>
&lt;td>72&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>finger-server&lt;/td>
&lt;td>73&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>irc-server&lt;/td>
&lt;td>74&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>streettalk-server&lt;/td>
&lt;td>75&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>streettalk-directory-assistance-server&lt;/td>
&lt;td>76&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>user-class&lt;/td>
&lt;td>77&lt;/td>
&lt;td>hex&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>slp-directory-agent&lt;/td>
&lt;td>78&lt;/td>
&lt;td>record (boolean, ipv4-address)&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>slp-service-scope&lt;/td>
&lt;td>79&lt;/td>
&lt;td>record (boolean, string)&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>nds-server&lt;/td>
&lt;td>85&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>nds-tree-name&lt;/td>
&lt;td>86&lt;/td>
&lt;td>string&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>nds-context&lt;/td>
&lt;td>87&lt;/td>
&lt;td>string&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>bcms-controller-names&lt;/td>
&lt;td>88&lt;/td>
&lt;td>fqdn&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>bcms-controller-address&lt;/td>
&lt;td>89&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>client-system&lt;/td>
&lt;td>93&lt;/td>
&lt;td>uint16&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>client-ndi&lt;/td>
&lt;td>94&lt;/td>
&lt;td>record (uint8, uint8, uint8)&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>uuid-guid&lt;/td>
&lt;td>97&lt;/td>
&lt;td>record (uint8, hex)&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>uap-servers&lt;/td>
&lt;td>98&lt;/td>
&lt;td>string&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>geoconf-civic&lt;/td>
&lt;td>99&lt;/td>
&lt;td>hex&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>pcode&lt;/td>
&lt;td>100&lt;/td>
&lt;td>string&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>tcode&lt;/td>
&lt;td>101&lt;/td>
&lt;td>string&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>netinfo-server-address&lt;/td>
&lt;td>112&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>netinfo-server-tag&lt;/td>
&lt;td>113&lt;/td>
&lt;td>string&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>default-url&lt;/td>
&lt;td>114&lt;/td>
&lt;td>string&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>auto-config&lt;/td>
&lt;td>116&lt;/td>
&lt;td>uint8&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>name-service-search&lt;/td>
&lt;td>117&lt;/td>
&lt;td>uint16&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>subnet-selection&lt;/td>
&lt;td>118&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>domain-search&lt;/td>
&lt;td>119&lt;/td>
&lt;td>fqdn&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>vivco-suboptions&lt;/td>
&lt;td>124&lt;/td>
&lt;td>hex&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>vivso-suboptions&lt;/td>
&lt;td>125&lt;/td>
&lt;td>hex&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>pana-agent&lt;/td>
&lt;td>136&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>v4-lost&lt;/td>
&lt;td>137&lt;/td>
&lt;td>fqdn&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>capwap-ac-v4&lt;/td>
&lt;td>138&lt;/td>
&lt;td>ipv4-address&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>sip-ua-cs-domains&lt;/td>
&lt;td>142&lt;/td>
&lt;td>fqdn&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>rdnss-selection&lt;/td>
&lt;td>146&lt;/td>
&lt;td>record (uint8, ipv4-address, ipv4-address, fqdn)&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>v4-portparams&lt;/td>
&lt;td>159&lt;/td>
&lt;td>record (uint8, psid)&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>v4-captive-portal&lt;/td>
&lt;td>160&lt;/td>
&lt;td>string&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>option-6rd&lt;/td>
&lt;td>212&lt;/td>
&lt;td>record (uint8, uint8, ipv6-address, ipv4-address)&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>v4-access-domain&lt;/td>
&lt;td>213&lt;/td>
&lt;td>fqdn&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="table-caption">
&lt;span class="table-number">&amp;#1058;&amp;#1072;&amp;#1073;&amp;#1083;&amp;#1080;&amp;#1094;&amp;#1072; 2:&lt;/span>
Список стандартных типов опций DHCP
&lt;/div>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Тип&lt;/th>
&lt;th>Описание&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>hex&lt;/td>
&lt;td>An arbitrary string of bytes, specified as a set of hexadecimal digits.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>boolean&lt;/td>
&lt;td>Boolean value with allowed values true or false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>empty&lt;/td>
&lt;td>No value, data is carried in suboptions&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>fqdn&lt;/td>
&lt;td>Fully qualified domain name (e.g. &lt;a href="https://www.example.com" target="_blank" rel="noopener">www.example.com&lt;/a>)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ipv4-address&lt;/td>
&lt;td>IPv4 address in the usual dotted-decimal notation (e.g. 192.0.2.1)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ipv6-address&lt;/td>
&lt;td>IPv6 address in the usual colon notation (e.g. 2001:db8::1)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ipv6-prefix&lt;/td>
&lt;td>IPv6 prefix and prefix length specified using CIDR notation, e.g. 2001:db8:1::/64. This data type is used to represent an 8-bit field conveying a prefix length and the variable length prefix value&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>psid&lt;/td>
&lt;td>PSID and PSID length separated by a slash&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>record&lt;/td>
&lt;td>Structured data that may be comprised of any types (except &amp;ldquo;record&amp;rdquo; and &amp;ldquo;empty&amp;rdquo;). The array flag applies to the last field only.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>string&lt;/td>
&lt;td>Any text&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>tuple&lt;/td>
&lt;td>A length encoded as a 8 (16 for DHCPv6) bit unsigned integer followed by a string of this length&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>uint8&lt;/td>
&lt;td>8 bit unsigned integer with allowed values 0 to 255&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>uint16&lt;/td>
&lt;td>16 bit unsigned integer with allowed values 0 to 65535&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>uint32&lt;/td>
&lt;td>32 bit unsigned integer with allowed values 0 to 4294967295&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>int8&lt;/td>
&lt;td>8 bit signed integer with allowed values -128 to 127&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>int16&lt;/td>
&lt;td>16 bit signed integer with allowed values -32768 to 32767&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>int32&lt;/td>
&lt;td>32 bit signed integer with allowed values -2147483648 to 2147483647&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="установка">&lt;span class="section-num">3&lt;/span> Установка&lt;/h2>
&lt;ul>
&lt;li>Устанавливаем сервер Linux (см. &lt;a href="https://yamadharma.github.io/ru/post/2022/08/12/rockylinux-server-installation/">Rocky Linux. Установка сервера&lt;/a>).&lt;/li>
&lt;/ul>
&lt;h3 id="репозиторий-rockylinux">&lt;span class="section-num">3.1&lt;/span> Репозиторий RockyLinux&lt;/h3>
&lt;ul>
&lt;li>Текущая версия в репозитории: 2.2.x.&lt;/li>
&lt;li>В версии 2.3.2 изменили систему именования.&lt;/li>
&lt;li>Если в дальнейше планируется обновление, возможно стоит использовать репозитории ISC.&lt;/li>
&lt;li>Подключаем репозиторий &lt;em>EPEL&lt;/em>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf config-manager --set-enabled crb
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-0-2">&lt;a class="lnlinks" href="#hl-0-2">2&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install epel-release
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Устанавливаем сервер &lt;em>Kea&lt;/em>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install kea kea-hooks
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="репозиторий-isc">&lt;span class="section-num">3.2&lt;/span> Репозиторий ISC&lt;/h3>
&lt;ul>
&lt;li>Текущая стабильная версия в репозитории: 2.6.x.&lt;/li>
&lt;/ul>
&lt;h4 id="kea-2-dot-6">&lt;span class="section-num">3.2.1&lt;/span> Kea-2.6&lt;/h4>
&lt;ul>
&lt;li>Подключаем репозиторий:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-2-1">&lt;a class="lnlinks" href="#hl-2-1">1&lt;/a>&lt;/span>&lt;span class="cl">curl -1sLf &lt;span class="s1">&amp;#39;https://dl.cloudsmith.io/public/isc/kea-2-6/setup.rpm.sh&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> sudo -E bash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Отключите старые репозитории, если они были установлены:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-3-1">&lt;a class="lnlinks" href="#hl-3-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf config-manager --disable isc-kea-2-4 isc-kea-2-4-noarch isc-kea-2-4-source
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-3-2">&lt;a class="lnlinks" href="#hl-3-2">2&lt;/a>&lt;/span>&lt;span class="cl">dnf clean all
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Проверьте, что репозитории отключены:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-4-1">&lt;a class="lnlinks" href="#hl-4-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf repolist
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Устанавливаем сервер &lt;em>Kea&lt;/em>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-5-1">&lt;a class="lnlinks" href="#hl-5-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install isc-kea isc-kea-hooks
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="kea-2-dot-4">&lt;span class="section-num">3.2.2&lt;/span> Kea-2.4&lt;/h4>
&lt;ul>
&lt;li>Подключаем репозиторий:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-6-1">&lt;a class="lnlinks" href="#hl-6-1">1&lt;/a>&lt;/span>&lt;span class="cl">curl -1sLf &lt;span class="s1">&amp;#39;https://dl.cloudsmith.io/public/isc/kea-2-4/setup.rpm.sh&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> sudo -E bash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Устанавливаем сервер &lt;em>Kea&lt;/em>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-7-1">&lt;a class="lnlinks" href="#hl-7-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install isc-kea isc-kea-hooks
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="инструментарий-миграции-keama">&lt;span class="section-num">3.3&lt;/span> Инструментарий миграции keama&lt;/h3>
&lt;ul>
&lt;li>При необходимости миграции с реализации ISC DHCP на ISC KEA можно установить помощник миграции.&lt;/li>
&lt;li>Документация:
&lt;ul>
&lt;li>&lt;a href="https://gitlab.isc.org/isc-projects/dhcp/-/wikis/kea-migration-assistant" target="_blank" rel="noopener">https://gitlab.isc.org/isc-projects/dhcp/-/wikis/kea-migration-assistant&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://kb.isc.org/docs/migrating-from-isc-dhcp-to-kea-dhcp-using-the-migration-assistant" target="_blank" rel="noopener">https://kb.isc.org/docs/migrating-from-isc-dhcp-to-kea-dhcp-using-the-migration-assistant&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Репозиторий: &lt;a href="https://gitlab.isc.org/isc-projects/dhcp/-/tree/master/keama" target="_blank" rel="noopener">https://gitlab.isc.org/isc-projects/dhcp/-/tree/master/keama&lt;/a>&lt;/li>
&lt;li>Бинарные сборки:
&lt;ul>
&lt;li>&lt;a href="https://cloudsmith.io/~isc/repos/keama/packages/" target="_blank" rel="noopener">https://cloudsmith.io/~isc/repos/keama/packages/&lt;/a>&lt;/li>
&lt;li>заблокирован доступ из России&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Подключаем репозиторий бинарных файлов:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-8-1">&lt;a class="lnlinks" href="#hl-8-1">1&lt;/a>&lt;/span>&lt;span class="cl">curl -1sLf &lt;span class="s1">&amp;#39;https://dl.cloudsmith.io/public/isc/keama/setup.rpm.sh&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> sudo -E bash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Устанавливаем сервер &lt;em>Kea&lt;/em>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-9-1">&lt;a class="lnlinks" href="#hl-9-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install isc-dhcp-keama
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="подготовка">&lt;span class="section-num">4&lt;/span> Подготовка&lt;/h2>
&lt;h3 id="брандмауэр">&lt;span class="section-num">4.1&lt;/span> Брандмауэр&lt;/h3>
&lt;ul>
&lt;li>Сконфигурируем брандмауэр:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-10-1">&lt;a class="lnlinks" href="#hl-10-1">1&lt;/a>&lt;/span>&lt;span class="cl">firewall-cmd --add-service&lt;span class="o">=&lt;/span>dhcp --permanent
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-10-2">&lt;a class="lnlinks" href="#hl-10-2">2&lt;/a>&lt;/span>&lt;span class="cl">firewall-cmd --reload
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="подготовка-базы-данных">&lt;span class="section-num">5&lt;/span> Подготовка базы данных&lt;/h2>
&lt;h3 id="postgresql">&lt;span class="section-num">5.1&lt;/span> PostgreSQL&lt;/h3>
&lt;ul>
&lt;li>Установка базы данных:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-11-1">&lt;a class="lnlinks" href="#hl-11-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install postgresql-server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Проверьте временную зону сервера:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-12-1">&lt;a class="lnlinks" href="#hl-12-1">1&lt;/a>&lt;/span>&lt;span class="cl">date +%Z
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Рекомендуется использовать временную зону &lt;code>UTC&lt;/code>.&lt;/li>
&lt;li>Инициализируйте базу данных:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-13-1">&lt;a class="lnlinks" href="#hl-13-1">1&lt;/a>&lt;/span>&lt;span class="cl">postgresql-setup --initdb
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Запустим базу данных:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-14-1">&lt;a class="lnlinks" href="#hl-14-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> --now postgresql.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="создание-базы-данных">&lt;span class="section-num">5.1.1&lt;/span> Создание базы данных&lt;/h4>
&lt;ul>
&lt;li>Подключимся к базе данных:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-15-1">&lt;a class="lnlinks" href="#hl-15-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo -i -u postgres psql postgres
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Проверим временную зону базы:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-16-1">&lt;a class="lnlinks" href="#hl-16-1">1&lt;/a>&lt;/span>&lt;span class="cl">show timezone&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-16-2">&lt;a class="lnlinks" href="#hl-16-2">2&lt;/a>&lt;/span>&lt;span class="cl">SELECT * FROM pg_timezone_names WHERE &lt;span class="nv">name&lt;/span> &lt;span class="o">=&lt;/span> current_setting&lt;span class="o">(&lt;/span>&lt;span class="s1">&amp;#39;TIMEZONE&amp;#39;&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Настройки временной зоны для postgresql находятся в файле &lt;code>/var/lib/pgsql/data/postgresql.conf&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-17-1">&lt;a class="lnlinks" href="#hl-17-1">1&lt;/a>&lt;/span>&lt;span class="cl">timezone = &amp;#39;Etc/UTC&amp;#39;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Можно использовать следующие названия:
&lt;ul>
&lt;li>&lt;code>database-name&lt;/code> : &lt;code>kea&lt;/code>;&lt;/li>
&lt;li>&lt;code>user-name&lt;/code> : &lt;code>kea&lt;/code>;&lt;/li>
&lt;li>&lt;code>password&lt;/code> : сгенерите нужный пароль.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Создадим базу данных:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-18-1">&lt;a class="lnlinks" href="#hl-18-1">1&lt;/a>&lt;/span>&lt;span class="cl">CREATE DATABASE database-name&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Создадим пользователя и пароль для взаимодействия с базой:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-19-1">&lt;a class="lnlinks" href="#hl-19-1">1&lt;/a>&lt;/span>&lt;span class="cl">CREATE USER user-name WITH PASSWORD &lt;span class="s1">&amp;#39;password&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-19-2">&lt;a class="lnlinks" href="#hl-19-2">2&lt;/a>&lt;/span>&lt;span class="cl">GRANT ALL PRIVILEGES ON DATABASE database-name TO user-name&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Выйдем из интерфейса базы данных:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-20-1">&lt;a class="lnlinks" href="#hl-20-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="se">\q&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="заполнение-базы-данных">&lt;span class="section-num">5.1.2&lt;/span> Заполнение базы данных&lt;/h4>
&lt;ul>
&lt;li>Настроим доступ к базе данных в файле &lt;code>/var/lib/pgsql/data/pg_hba.conf&lt;/code>.&lt;/li>
&lt;li>Добавьте эти записи до других записей:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-21-1">&lt;a class="lnlinks" href="#hl-21-1">1&lt;/a>&lt;/span>&lt;span class="cl">local database-name user-name password
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-21-2">&lt;a class="lnlinks" href="#hl-21-2">2&lt;/a>&lt;/span>&lt;span class="cl">host database-name user-name 127.0.0.1/32 password
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-21-3">&lt;a class="lnlinks" href="#hl-21-3">3&lt;/a>&lt;/span>&lt;span class="cl">host database-name user-name ::1/128 password
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Перезагрузите postgresql:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-22-1">&lt;a class="lnlinks" href="#hl-22-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl restart postgresql.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Загрузка значений вручную&lt;/p>
&lt;ul>
&lt;li>Загрузим значения в базу данных:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-23-1">&lt;a class="lnlinks" href="#hl-23-1">1&lt;/a>&lt;/span>&lt;span class="cl">psql -d database-name -U user-name -f /usr/share/kea/scripts/pgsql/dhcpdb_create.pgsql
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="2">
&lt;li>
&lt;p>Загрузка значений через &lt;code>kea-admin&lt;/code>&lt;/p>
&lt;ul>
&lt;li>Загрузим значения в базу данных:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-24-1">&lt;a class="lnlinks" href="#hl-24-1">1&lt;/a>&lt;/span>&lt;span class="cl">kea-admin db-init pgsql -u database-user -p database-password -n database-name
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4 id="обновление-базы-данных">&lt;span class="section-num">5.1.3&lt;/span> Обновление базы данных&lt;/h4>
&lt;ul>
&lt;li>При переходе с предыдущей версии &lt;code>kea&lt;/code> надо обновить базу данных.&lt;/li>
&lt;li>Проверьте текущую версию базы данных:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-25-1">&lt;a class="lnlinks" href="#hl-25-1">1&lt;/a>&lt;/span>&lt;span class="cl">kea-admin db-version pgsql -u database-user -p database-password -n database-name
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Обновите базу (при необходимости):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-26-1">&lt;a class="lnlinks" href="#hl-26-1">1&lt;/a>&lt;/span>&lt;span class="cl">kea-admin db-upgrade pgsql -u database-user -p database-password -n database-name
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="миграция-с-isc-dhcp-на-isc-kea">&lt;span class="section-num">5.2&lt;/span> Миграция с ISC DHCP на ISC Kea&lt;/h3>
&lt;ul>
&lt;li>Преобразуем конфигурационные файлы:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-27-1">&lt;a class="lnlinks" href="#hl-27-1">1&lt;/a>&lt;/span>&lt;span class="cl">keama -4 -i dhcpd.conf -o kea-dhcp4.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="тьюнинг-базы-данных">&lt;span class="section-num">5.3&lt;/span> Тьюнинг базы данных&lt;/h3>
&lt;ul>
&lt;li>Отключите синхронные коммиты.&lt;/li>
&lt;li>Можно отключить в базе данных:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-28-1">&lt;a class="lnlinks" href="#hl-28-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo -i -u postgres psql postgres
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-28-2">&lt;a class="lnlinks" href="#hl-28-2">2&lt;/a>&lt;/span>&lt;span class="cl">ALTER SYSTEM SET &lt;span class="nv">synchronous_commit&lt;/span>&lt;span class="o">=&lt;/span>OFF&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-28-3">&lt;a class="lnlinks" href="#hl-28-3">3&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="se">\q&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Можно задать в файле конфигурации &lt;code>/var/lib/pgsql/data/postgresql.conf&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-29-1">&lt;a class="lnlinks" href="#hl-29-1">1&lt;/a>&lt;/span>&lt;span class="cl">synchronous_commit = off
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="конфигурация-базы-данных-для-kea">&lt;span class="section-num">5.4&lt;/span> Конфигурация базы данных для Kea&lt;/h3>
&lt;ul>
&lt;li>Добавим конфигурацию базы данных:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-30-1">&lt;a class="lnlinks" href="#hl-30-1"> 1&lt;/a>&lt;/span>&lt;span class="cl">&amp;#34;Dhcp4&amp;#34;: {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-30-2">&lt;a class="lnlinks" href="#hl-30-2"> 2&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;lease-database&amp;#34;: {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-30-3">&lt;a class="lnlinks" href="#hl-30-3"> 3&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;type&amp;#34;: &amp;#34;postgresql&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-30-4">&lt;a class="lnlinks" href="#hl-30-4"> 4&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;name&amp;#34;: &amp;#34;database_name&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-30-5">&lt;a class="lnlinks" href="#hl-30-5"> 5&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;host&amp;#34; : &amp;#34;localhost&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-30-6">&lt;a class="lnlinks" href="#hl-30-6"> 6&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;user&amp;#34;: &amp;#34;user_name&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-30-7">&lt;a class="lnlinks" href="#hl-30-7"> 7&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;password&amp;#34;: &amp;#34;password&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-30-8">&lt;a class="lnlinks" href="#hl-30-8"> 8&lt;/a>&lt;/span>&lt;span class="cl"> },
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-30-9">&lt;a class="lnlinks" href="#hl-30-9"> 9&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-30-10">&lt;a class="lnlinks" href="#hl-30-10">10&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;hosts-database&amp;#34;: {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-30-11">&lt;a class="lnlinks" href="#hl-30-11">11&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;type&amp;#34;: &amp;#34;postgresql&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-30-12">&lt;a class="lnlinks" href="#hl-30-12">12&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;name&amp;#34;: &amp;#34;database_name&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-30-13">&lt;a class="lnlinks" href="#hl-30-13">13&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;host&amp;#34; : &amp;#34;localhost&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-30-14">&lt;a class="lnlinks" href="#hl-30-14">14&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;user&amp;#34;: &amp;#34;user_name&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-30-15">&lt;a class="lnlinks" href="#hl-30-15">15&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;password&amp;#34;: &amp;#34;password&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-30-16">&lt;a class="lnlinks" href="#hl-30-16">16&lt;/a>&lt;/span>&lt;span class="cl"> },
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-30-17">&lt;a class="lnlinks" href="#hl-30-17">17&lt;/a>&lt;/span>&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="виртуальные-интерфейсы">&lt;span class="section-num">6&lt;/span> Виртуальные интерфейсы&lt;/h2>
&lt;ul>
&lt;li>Для подключения к сети использовал интерфейсы VLAN (см. &lt;a href="https://yamadharma.github.io/ru/post/2024/05/13/linux-vlan-configuration/">Linux. Настройка vlan&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="миграция-интерфейсов">&lt;span class="section-num">6.1&lt;/span> Миграция интерфейсов&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Файлы описания интерфейсов на старой системе имеют следующий вид (&lt;code>/etc/sysconfig/network-scripts/ifcfg-eth1.200&lt;/code>):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-31-1">&lt;a class="lnlinks" href="#hl-31-1">1&lt;/a>&lt;/span>&lt;span class="cl">VLAN=yes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-31-2">&lt;a class="lnlinks" href="#hl-31-2">2&lt;/a>&lt;/span>&lt;span class="cl">DEVICE=eth1.200
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-31-3">&lt;a class="lnlinks" href="#hl-31-3">3&lt;/a>&lt;/span>&lt;span class="cl">BOOTPROTO=none
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-31-4">&lt;a class="lnlinks" href="#hl-31-4">4&lt;/a>&lt;/span>&lt;span class="cl">ONBOOT=yes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-31-5">&lt;a class="lnlinks" href="#hl-31-5">5&lt;/a>&lt;/span>&lt;span class="cl">TYPE=Ethernet
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-31-6">&lt;a class="lnlinks" href="#hl-31-6">6&lt;/a>&lt;/span>&lt;span class="cl">IPADDR=10.200.0.2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-31-7">&lt;a class="lnlinks" href="#hl-31-7">7&lt;/a>&lt;/span>&lt;span class="cl">NETMASK=255.255.0.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-31-8">&lt;a class="lnlinks" href="#hl-31-8">8&lt;/a>&lt;/span>&lt;span class="cl">NETWORK=10.200.0.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-31-9">&lt;a class="lnlinks" href="#hl-31-9">9&lt;/a>&lt;/span>&lt;span class="cl">BROADCAST=10.200.255.255
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Для миграции сделал набор скриптов.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Скрипт для извлечения параметров интерфейсов (&lt;code>mk-if-list&lt;/code>):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="ln" id="hl-32-1">&lt;a class="lnlinks" href="#hl-32-1"> 1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-32-2">&lt;a class="lnlinks" href="#hl-32-2"> 2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-32-3">&lt;a class="lnlinks" href="#hl-32-3"> 3&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nv">OUTFILE&lt;/span>&lt;span class="o">=&lt;/span>iflist
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-32-4">&lt;a class="lnlinks" href="#hl-32-4"> 4&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="o">[[&lt;/span> -f &lt;span class="si">${&lt;/span>&lt;span class="nv">OUTFILE&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="o">]]&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> rm &lt;span class="si">${&lt;/span>&lt;span class="nv">OUTFILE&lt;/span>&lt;span class="si">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-32-5">&lt;a class="lnlinks" href="#hl-32-5"> 5&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-32-6">&lt;a class="lnlinks" href="#hl-32-6"> 6&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="k">for&lt;/span> i in ifcfg-eth*.*
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-32-7">&lt;a class="lnlinks" href="#hl-32-7"> 7&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-32-8">&lt;a class="lnlinks" href="#hl-32-8"> 8&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="nv">vlan_id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>grep &lt;span class="nv">DEVICE&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">i&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="p">|&lt;/span> cut -d &lt;span class="s2">&amp;#34;.&amp;#34;&lt;/span> -f 2&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-32-9">&lt;a class="lnlinks" href="#hl-32-9"> 9&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="nv">ip&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>grep &lt;span class="nv">IPADDR&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">i&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="p">|&lt;/span> cut -d &lt;span class="s2">&amp;#34;=&amp;#34;&lt;/span> -f 2&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-32-10">&lt;a class="lnlinks" href="#hl-32-10">10&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="nv">mask&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>grep &lt;span class="nv">NETMASK&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">i&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="p">|&lt;/span> cut -d &lt;span class="s2">&amp;#34;=&amp;#34;&lt;/span> -f 2&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-32-11">&lt;a class="lnlinks" href="#hl-32-11">11&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="nv">prefix&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>ipcalc -p 1.1.1.1 &lt;span class="si">${&lt;/span>&lt;span class="nv">mask&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="p">|&lt;/span> sed -n &lt;span class="s1">&amp;#39;s:^PREFIX=\(.*\):\1:p&amp;#39;&lt;/span>&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-32-12">&lt;a class="lnlinks" href="#hl-32-12">12&lt;/a>&lt;/span>&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">vlan_id&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34; &amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">ip&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">prefix&lt;/span>&lt;span class="si">}&lt;/span> &amp;gt;&amp;gt; &lt;span class="si">${&lt;/span>&lt;span class="nv">OUTFILE&lt;/span>&lt;span class="si">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-32-13">&lt;a class="lnlinks" href="#hl-32-13">13&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Для скрипта необходима утилита &lt;code>ipcalc&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-33-1">&lt;a class="lnlinks" href="#hl-33-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install ipcalc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Получившийся файл &lt;code>iflist&lt;/code> имеет следующий формат:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-34-1">&lt;a class="lnlinks" href="#hl-34-1">1&lt;/a>&lt;/span>&lt;span class="cl">200 10.200.0.2/16
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Скрипт &lt;code>mk-if-script&lt;/code> для получения команд генерации интерфейсов VLAN:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-awk" data-lang="awk">&lt;span class="line">&lt;span class="ln" id="hl-35-1">&lt;a class="lnlinks" href="#hl-35-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#!/usr/bin/awk -f&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-35-2">&lt;a class="lnlinks" href="#hl-35-2">2&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-35-3">&lt;a class="lnlinks" href="#hl-35-3">3&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nb">BEGIN&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="kr">print&lt;/span> &lt;span class="s2">&amp;#34;#!/bin/sh\n&amp;#34;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-35-4">&lt;a class="lnlinks" href="#hl-35-4">4&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="p">{&lt;/span> &lt;span class="kr">print&lt;/span> &lt;span class="s2">&amp;#34;nmcli connection add type vlan con-name vlan&amp;#34;&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="s2">&amp;#34;-con ifname vlan&amp;#34;&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="s2">&amp;#34;-if dev eno1 id &amp;#34;&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="s2">&amp;#34;\n&amp;#34;&amp;#34;nmcli connection modify vlan&amp;#34;&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="s2">&amp;#34;-con ipv4.addresses &amp;#34;&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="s2">&amp;#34;\n&amp;#34;&amp;#34;sudo nmcli connection modify vlan&amp;#34;&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="s2">&amp;#34;-con ipv4.method manual&amp;#34;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Получим файл с командами интерфейсов:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-36-1">&lt;a class="lnlinks" href="#hl-36-1">1&lt;/a>&lt;/span>&lt;span class="cl">./mk-if-script iflist &amp;gt; iflist-run
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Сгенерим новые интерфейсы:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-37-1">&lt;a class="lnlinks" href="#hl-37-1">1&lt;/a>&lt;/span>&lt;span class="cl">chmod +x iflist-run
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-37-2">&lt;a class="lnlinks" href="#hl-37-2">2&lt;/a>&lt;/span>&lt;span class="cl">./iflist-run
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="конфигурация-интерфейсов-для-kea">&lt;span class="section-num">6.2&lt;/span> Конфигурация интерфейсов для Kea&lt;/h3>
&lt;ul>
&lt;li>Добавим интерфейсы в файл конфигурации &lt;code>/etc/kea/kea-dhcp4.conf&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-38-1">&lt;a class="lnlinks" href="#hl-38-1"> 1&lt;/a>&lt;/span>&lt;span class="cl">&amp;#34;Dhcp4&amp;#34;: {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-38-2">&lt;a class="lnlinks" href="#hl-38-2"> 2&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;interfaces-config&amp;#34;: {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-38-3">&lt;a class="lnlinks" href="#hl-38-3"> 3&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;interfaces&amp;#34;: [
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-38-4">&lt;a class="lnlinks" href="#hl-38-4"> 4&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;vlan200-if&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-38-5">&lt;a class="lnlinks" href="#hl-38-5"> 5&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;vlan201-if&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-38-6">&lt;a class="lnlinks" href="#hl-38-6"> 6&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;vlan202-if&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-38-7">&lt;a class="lnlinks" href="#hl-38-7"> 7&lt;/a>&lt;/span>&lt;span class="cl"> ],
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-38-8">&lt;a class="lnlinks" href="#hl-38-8"> 8&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;dhcp-socket-type&amp;#34;: &amp;#34;raw&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-38-9">&lt;a class="lnlinks" href="#hl-38-9"> 9&lt;/a>&lt;/span>&lt;span class="cl"> },
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-38-10">&lt;a class="lnlinks" href="#hl-38-10">10&lt;/a>&lt;/span>&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="управляющий-агент-kea-ctrl-agent">&lt;span class="section-num">7&lt;/span> Управляющий агент kea-ctrl-agent&lt;/h2>
&lt;h3 id="по-умолчанию">&lt;span class="section-num">7.1&lt;/span> По умолчанию&lt;/h3>
&lt;ul>
&lt;li>По умолчанию агент устанавливает unix-сокеты и доступ по сети для локального хоста.&lt;/li>
&lt;li>Если ничего другого не надо, то дополнительной настройки не требуется.&lt;/li>
&lt;/ul>
&lt;h3 id="доступ-по-сети">&lt;span class="section-num">7.2&lt;/span> Доступ по сети&lt;/h3>
&lt;ul>
&lt;li>Для доступа к управляющему агенту из вне необходимо настроить сетевой доступ.&lt;/li>
&lt;li>Например, это может понадобиться для интеграции с Netbox (см. &lt;a href="https://yamadharma.github.io/ru/post/2024/07/22/netbox-plugin-netbox-kea/">NetBox. Плагин netbox-kea&lt;/a>).&lt;/li>
&lt;/ul>
&lt;h4 id="брандмауэр">&lt;span class="section-num">7.2.1&lt;/span> Брандмауэр&lt;/h4>
&lt;ul>
&lt;li>Сконфигурируем брандмауэр:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-39-1">&lt;a class="lnlinks" href="#hl-39-1">1&lt;/a>&lt;/span>&lt;span class="cl">firewall-cmd --add-port&lt;span class="o">=&lt;/span>8000/tcp --permanent
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-39-2">&lt;a class="lnlinks" href="#hl-39-2">2&lt;/a>&lt;/span>&lt;span class="cl">firewall-cmd --reload
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="сертификаты">&lt;span class="section-num">7.2.2&lt;/span> Сертификаты&lt;/h4>
&lt;ul>
&lt;li>В качестве сертификатов можно использовать сертификаты ACME.&lt;/li>
&lt;li>Если сертификаты не установлены, то используется протокол &lt;code>http&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h4 id="конфигурационный-файл">&lt;span class="section-num">7.2.3&lt;/span> Конфигурационный файл&lt;/h4>
&lt;ul>
&lt;li>Конфигурация в файле будет будет иметь вид:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-40-1">&lt;a class="lnlinks" href="#hl-40-1"> 1&lt;/a>&lt;/span>&lt;span class="cl">{
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-40-2">&lt;a class="lnlinks" href="#hl-40-2"> 2&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;Control-agent&amp;#34;: {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-40-3">&lt;a class="lnlinks" href="#hl-40-3"> 3&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;http-host&amp;#34;: &amp;#34;10.20.30.40&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-40-4">&lt;a class="lnlinks" href="#hl-40-4"> 4&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;http-port&amp;#34;: 8000,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-40-5">&lt;a class="lnlinks" href="#hl-40-5"> 5&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;trust-anchor&amp;#34;: &amp;#34;/path/to/the/ca-cert.pem&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-40-6">&lt;a class="lnlinks" href="#hl-40-6"> 6&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;cert-file&amp;#34;: &amp;#34;/path/to/the/agent-cert.pem&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-40-7">&lt;a class="lnlinks" href="#hl-40-7"> 7&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;key-file&amp;#34;: &amp;#34;/path/to/the/agent-key.pem&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-40-8">&lt;a class="lnlinks" href="#hl-40-8"> 8&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;cert-required&amp;#34;: true,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-40-9">&lt;a class="lnlinks" href="#hl-40-9"> 9&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;authentication&amp;#34;: {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-40-10">&lt;a class="lnlinks" href="#hl-40-10">10&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;type&amp;#34;: &amp;#34;basic&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-40-11">&lt;a class="lnlinks" href="#hl-40-11">11&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;realm&amp;#34;: &amp;#34;kea-control-agent&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-40-12">&lt;a class="lnlinks" href="#hl-40-12">12&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;clients&amp;#34;: [
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-40-13">&lt;a class="lnlinks" href="#hl-40-13">13&lt;/a>&lt;/span>&lt;span class="cl"> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-40-14">&lt;a class="lnlinks" href="#hl-40-14">14&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;user&amp;#34;: &amp;#34;admin&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-40-15">&lt;a class="lnlinks" href="#hl-40-15">15&lt;/a>&lt;/span>&lt;span class="cl"> &amp;#34;password&amp;#34;: &amp;#34;1234&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-40-16">&lt;a class="lnlinks" href="#hl-40-16">16&lt;/a>&lt;/span>&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-40-17">&lt;a class="lnlinks" href="#hl-40-17">17&lt;/a>&lt;/span>&lt;span class="cl"> ]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-40-18">&lt;a class="lnlinks" href="#hl-40-18">18&lt;/a>&lt;/span>&lt;span class="cl"> },
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-40-19">&lt;a class="lnlinks" href="#hl-40-19">19&lt;/a>&lt;/span>&lt;span class="cl"> ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-40-20">&lt;a class="lnlinks" href="#hl-40-20">20&lt;/a>&lt;/span>&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="пример-запроса">&lt;span class="section-num">7.2.4&lt;/span> Пример запроса&lt;/h4>
&lt;ul>
&lt;li>Пример запроса с использованием RESTful API:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-41-1">&lt;a class="lnlinks" href="#hl-41-1">1&lt;/a>&lt;/span>&lt;span class="cl">curl -u admin:1234 -X POST -H &lt;span class="s2">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -d &lt;span class="s1">&amp;#39;{ &amp;#34;command&amp;#34;: &amp;#34;config-get&amp;#34;, &amp;#34;service&amp;#34;: [ &amp;#34;dhcp4&amp;#34; ] }&amp;#39;&lt;/span> http://10.20.30.40:8000/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="запуск">&lt;span class="section-num">8&lt;/span> Запуск&lt;/h2>
&lt;ul>
&lt;li>Запуск управляющего агента:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-42-1">&lt;a class="lnlinks" href="#hl-42-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> --now kea-ctrl-agent.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Запуск сервера DHCPv4:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-43-1">&lt;a class="lnlinks" href="#hl-43-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> --now kea-dhcp4.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Запуск сервиса DDNS:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-44-1">&lt;a class="lnlinks" href="#hl-44-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> --now kea-dhcp-ddns.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="утилиты">&lt;span class="section-num">9&lt;/span> Утилиты&lt;/h2>
&lt;h3 id="просмотр-арендованных-адресов">&lt;span class="section-num">9.1&lt;/span> Просмотр арендованных адресов&lt;/h3>
&lt;ul>
&lt;li>Арендованные адреса можно смотреть в базе данных.&lt;/li>
&lt;li>Для разных баз данных существуют конкретные утилиты.&lt;/li>
&lt;/ul>
&lt;h4 id="postgres">&lt;span class="section-num">9.1.1&lt;/span> Postgres&lt;/h4>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>kea-list-leases&lt;/p>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://git.sr.ht/~cstrotm/kea-list-leases" target="_blank" rel="noopener">https://git.sr.ht/~cstrotm/kea-list-leases&lt;/a>&lt;/li>
&lt;li>В репозитории скрипт и конфигурационный файл.&lt;/li>
&lt;/ul>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Пререквизиты&lt;/p>
&lt;ul>
&lt;li>Нужно установить драйвер PostgreSQL для python : psycopg (&lt;a href="https://www.psycopg.org/" target="_blank" rel="noopener">https://www.psycopg.org/&lt;/a>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-45-1">&lt;a class="lnlinks" href="#hl-45-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install python3-psycopg2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="2">
&lt;li>
&lt;p>Настройка&lt;/p>
&lt;ul>
&lt;li>Задайте конфигурационный файл &lt;code>kea-list-leases.conf&lt;/code> (в том же каталоге, что и скрипт):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="ln" id="hl-46-1">&lt;a class="lnlinks" href="#hl-46-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">postgresql&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-46-2">&lt;a class="lnlinks" href="#hl-46-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nx">host&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="mf">127.0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mf">0.1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-46-3">&lt;a class="lnlinks" href="#hl-46-3">3&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nx">database&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">kea_lease_db&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-46-4">&lt;a class="lnlinks" href="#hl-46-4">4&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nx">user&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">kea&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-46-5">&lt;a class="lnlinks" href="#hl-46-5">5&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nx">password&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">password&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h2 id="после-установки">&lt;span class="section-num">10&lt;/span> После установки&lt;/h2>
&lt;ul>
&lt;li>Настройте DDNS (см. &lt;a href="https://yamadharma.github.io/ru/post/2024/06/18/dynamically-updating-bind-dns-kea-dhcp/">Динамическое обновление DNS-сервера BIND при помощи Kea DHCP&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Linux. Архивирование</title><link>https://yamadharma.github.io/ru/post/2024/03/22/linux-archiving/</link><pubDate>Fri, 22 Mar 2024 13:42:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/03/22/linux-archiving/</guid><description>&lt;p>Linux. Архивирование и сжатие.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#компрессор-xz">&lt;span class="section-num">1&lt;/span> Компрессор xz&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#уровни-сжатия">&lt;span class="section-num">1.1&lt;/span> Уровни сжатия&lt;/a>&lt;/li>
&lt;li>&lt;a href="#переменные-окружения">&lt;span class="section-num">1.2&lt;/span> Переменные окружения&lt;/a>&lt;/li>
&lt;li>&lt;a href="#примеры-использования">&lt;span class="section-num">1.3&lt;/span> Примеры использования&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#компрессор-zstd">&lt;span class="section-num">2&lt;/span> Компрессор zstd&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">2.1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#примеры-использования">&lt;span class="section-num">2.2&lt;/span> Примеры использования&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#архиватор-tar">&lt;span class="section-num">3&lt;/span> Архиватор tar&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#примеры-использования">&lt;span class="section-num">3.1&lt;/span> Примеры использования&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="компрессор-xz">&lt;span class="section-num">1&lt;/span> Компрессор xz&lt;/h2>
&lt;h3 id="уровни-сжатия">&lt;span class="section-num">1.1&lt;/span> Уровни сжатия&lt;/h3>
&lt;ul>
&lt;li>&lt;code>-0&lt;/code> .. &lt;code>-3&lt;/code> : &lt;code>-0&lt;/code> иногда работает быстрее, чем &lt;code>gzip&lt;/code>, но сжимает намного лучше;&lt;/li>
&lt;li>&lt;code>-4&lt;/code> .. &lt;code>-6&lt;/code> :сжатие от хорошего до очень хорошего, сохраняя при этом разумное использование памяти декомпрессора;&lt;/li>
&lt;li>&lt;code>-7&lt;/code> .. &lt;code>-9&lt;/code> : похоже на &lt;code>-6&lt;/code>, но с более высокими требованиями к памяти компрессора и декомпрессора.&lt;/li>
&lt;/ul>
&lt;h3 id="переменные-окружения">&lt;span class="section-num">1.2&lt;/span> Переменные окружения&lt;/h3>
&lt;ul>
&lt;li>&lt;code>XZ_OPT&lt;/code> : опции для текущей команды.&lt;/li>
&lt;/ul>
&lt;h3 id="примеры-использования">&lt;span class="section-num">1.3&lt;/span> Примеры использования&lt;/h3>
&lt;ul>
&lt;li>Сжать файл в формат xz:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">xz filename
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Сжать файл, не удаляя оригинал (опция &lt;code>-k&lt;/code>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">xz -k filename
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Распаковать файл xz (опция &lt;code>-d&lt;/code>, &lt;code>--decompress&lt;/code>, &lt;code>--uncompress&lt;/code>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-2-1">&lt;a class="lnlinks" href="#hl-2-1">1&lt;/a>&lt;/span>&lt;span class="cl">xz -d filename.xz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Больше информации (опция &lt;code>-v&lt;/code>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-3-1">&lt;a class="lnlinks" href="#hl-3-1">1&lt;/a>&lt;/span>&lt;span class="cl">xz -v -d filename.xz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Распаковать файл и записать на стандартный вывод (опция &lt;code>-c&lt;/code>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-4-1">&lt;a class="lnlinks" href="#hl-4-1">1&lt;/a>&lt;/span>&lt;span class="cl">xz -dc filename.xz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Сжать файл, используя самое быстрое сжатие (опция &lt;code>-0&lt;/code>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-5-1">&lt;a class="lnlinks" href="#hl-5-1">1&lt;/a>&lt;/span>&lt;span class="cl">xz -0 filename
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Сжать файл, используя лучшее сжатие (опция &lt;code>-9&lt;/code>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-6-1">&lt;a class="lnlinks" href="#hl-6-1">1&lt;/a>&lt;/span>&lt;span class="cl">xz -9 filename
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Указать количество используемых рабочих потоков (при выборе &lt;code>0&lt;/code> количество потоков рассчитывается автоматически) (опция &lt;code>-T0&lt;/code>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-7-1">&lt;a class="lnlinks" href="#hl-7-1">1&lt;/a>&lt;/span>&lt;span class="cl">xz -v -T0 -9 filename
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Сжать весь каталог:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-8-1">&lt;a class="lnlinks" href="#hl-8-1">1&lt;/a>&lt;/span>&lt;span class="cl">tar -cf - dir1 &lt;span class="p">|&lt;/span> xz -9ze -T0 &amp;gt;dir1.txz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Использование &lt;code>tar&lt;/code> с &lt;code>xz&lt;/code> для сжатия всего каталога:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-9-1">&lt;a class="lnlinks" href="#hl-9-1">1&lt;/a>&lt;/span>&lt;span class="cl">tar -cJvf archive.tar.xz dir1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="компрессор-zstd">&lt;span class="section-num">2&lt;/span> Компрессор zstd&lt;/h2>
&lt;h3 id="общая-информация">&lt;span class="section-num">2.1&lt;/span> Общая информация&lt;/h3>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/facebook/zstd" target="_blank" rel="noopener">https://github.com/facebook/zstd&lt;/a>&lt;/li>
&lt;li>Сайт: &lt;a href="https://facebook.github.io/zstd/" target="_blank" rel="noopener">https://facebook.github.io/zstd/&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="примеры-использования">&lt;span class="section-num">2.2&lt;/span> Примеры использования&lt;/h3>
&lt;h2 id="архиватор-tar">&lt;span class="section-num">3&lt;/span> Архиватор tar&lt;/h2>
&lt;h3 id="примеры-использования">&lt;span class="section-num">3.1&lt;/span> Примеры использования&lt;/h3>
&lt;ul>
&lt;li>Указание параметров для сжатия (опция &lt;code>-I&lt;/code>, &lt;code>–use-compress-program&lt;/code>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-10-1">&lt;a class="lnlinks" href="#hl-10-1">1&lt;/a>&lt;/span>&lt;span class="cl">tar --use-compress-program&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;xz -9 -T0&amp;#39;&lt;/span> cvf archive.tar.xz directory
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Указание параметров для сжатия с помощью переменных окружения:
&lt;ul>
&lt;li>xz, &lt;code>XZ_OPT&lt;/code> : опции для текущей команды:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-11-1">&lt;a class="lnlinks" href="#hl-11-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nv">XZ_OPT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;-9 -T0&amp;#34;&lt;/span> tar cJvf archive.tar.xz directory
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>xz, &lt;code>XZ_DEFAULTS&lt;/code> : глобальные опции:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-12-1">&lt;a class="lnlinks" href="#hl-12-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">XZ_DEFAULTS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;-9 -T0&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-12-2">&lt;a class="lnlinks" href="#hl-12-2">2&lt;/a>&lt;/span>&lt;span class="cl">tar cJvf archive.tar.xz directory
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Linux. Приложения. Индикатор прогресса wob</title><link>https://yamadharma.github.io/ru/post/2024/03/06/linux-applications-progress-indicator-wob/</link><pubDate>Wed, 06 Mar 2024 21:00:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/03/06/linux-applications-progress-indicator-wob/</guid><description>&lt;p>Индикатор прогресса wob&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#установка">&lt;span class="section-num">2&lt;/span> Установка&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/francma/wob" target="_blank" rel="noopener">https://github.com/francma/wob&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="установка">&lt;span class="section-num">2&lt;/span> Установка&lt;/h2>
&lt;ul>
&lt;li>Gentoo (оверлей &lt;code>guru&lt;/code>) (см. &lt;a href="https://yamadharma.github.io/ru/post/2023/10/01/gentoo-additional-repositories/">Gentoo. Дополнительные репозитории&lt;/a>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge gui-apps/wob
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Ванденбринк, Р. (2024): Linux для сетевых инженеров</title><link>https://yamadharma.github.io/ru/post/2024/01/24/vandenbrink_book_linux-networking-professionals_ru/</link><pubDate>Wed, 24 Jan 2024 13:33:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/01/24/vandenbrink_book_linux-networking-professionals_ru/</guid><description>&lt;p>Ванденбринк, Р. (2024): Linux для сетевых инженеров [&lt;a href="#citeproc_bib_item_1">1&lt;/a>; &lt;a href="#citeproc_bib_item_2">2&lt;/a>].&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#резюме">&lt;span class="section-num">1&lt;/span> Резюме&lt;/a>&lt;/li>
&lt;li>&lt;a href="#библиография">&lt;span class="section-num">2&lt;/span> Библиография&lt;/a>&lt;/li>
&lt;li>&lt;a href="#литература">Литература&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="резюме">&lt;span class="section-num">1&lt;/span> Резюме&lt;/h2>
&lt;h2 id="библиография">&lt;span class="section-num">2&lt;/span> Библиография&lt;/h2>
&lt;h2 id="литература">Литература&lt;/h2>
&lt;div class="csl-bib-body">
&lt;div class="csl-entry">&lt;a id="citeproc_bib_item_1">&lt;/a>1. Ванденбринк, Р. Linux для сетевых инженеров : Библиотека программиста / Р. Ванденбринк; А.Г. Гаврилов пер. . – Санкт-Петербург : Питер, 2024. – 496 сс. – Режим доступа: &lt;a href="http://libgen.li/ads.php?md5=621efa8ab55535069fac767af8326c6c">http://libgen.li/ads.php?md5=621efa8ab55535069fac767af8326c6c&lt;/a> (дата обращения: 24.01.2024). – [Электронный ресурс].&lt;/div>
&lt;div class="csl-entry">&lt;a id="citeproc_bib_item_2">&lt;/a>2. VandenBrink, R. Linux for Networking Professionals / R. VandenBrink. – Packt Publishing Ltd., 2021. – 528 сс. – Режим доступа: &lt;a href="http://libgen.li/ads.php?md5=3a2be86ff686b6566194bc95c57b29f4">http://libgen.li/ads.php?md5=3a2be86ff686b6566194bc95c57b29f4&lt;/a> (дата обращения: 27.01.2024). – [Электронный ресурс].&lt;/div>
&lt;/div></description></item><item><title>Gentoo. Дополнительные репозитории</title><link>https://yamadharma.github.io/ru/post/2023/10/01/gentoo-additional-repositories/</link><pubDate>Sun, 01 Oct 2023 13:41:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2023/10/01/gentoo-additional-repositories/</guid><description>&lt;p>Gentoo. Дополнительные репозитории.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#установка">&lt;span class="section-num">2&lt;/span> Установка&lt;/a>&lt;/li>
&lt;li>&lt;a href="#конфигурация">&lt;span class="section-num">3&lt;/span> Конфигурация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#использование">&lt;span class="section-num">4&lt;/span> Использование&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#синхронизация-репозитория">&lt;span class="section-num">4.1&lt;/span> Синхронизация репозитория&lt;/a>&lt;/li>
&lt;li>&lt;a href="#просмотр-репозиториев">&lt;span class="section-num">4.2&lt;/span> Просмотр репозиториев&lt;/a>&lt;/li>
&lt;li>&lt;a href="#добавление-репозиториев">&lt;span class="section-num">4.3&lt;/span> Добавление репозиториев&lt;/a>&lt;/li>
&lt;li>&lt;a href="#отключение-репозиториев">&lt;span class="section-num">4.4&lt;/span> Отключение репозиториев&lt;/a>&lt;/li>
&lt;li>&lt;a href="#создание-нового-репозитория">&lt;span class="section-num">4.5&lt;/span> Создание нового репозитория&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#настройки-репозиториев">&lt;span class="section-num">5&lt;/span> Настройки репозиториев&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#приоритет-репозиториев">&lt;span class="section-num">5.1&lt;/span> Приоритет репозиториев&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#списки-полезных-репозиториев">&lt;span class="section-num">6&lt;/span> Списки полезных репозиториев&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#karma">&lt;span class="section-num">6.1&lt;/span> Karma&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Ранее использовалась утилита &lt;code>layman&lt;/code>.&lt;/li>
&lt;li>Сейчас рекомендуется использовать модуль &lt;em>eselect&lt;/em> &lt;code>eselect-repository&lt;/code>.&lt;/li>
&lt;li>Документация:
&lt;ul>
&lt;li>&lt;a href="https://wiki.gentoo.org/wiki/Eselect/Repository/ru" target="_blank" rel="noopener">https://wiki.gentoo.org/wiki/Eselect/Repository/ru&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://wiki.gentoo.org/wiki/Handbook:AMD64/Portage/CustomTree/ru" target="_blank" rel="noopener">https://wiki.gentoo.org/wiki/Handbook:AMD64/Portage/CustomTree/ru&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="установка">&lt;span class="section-num">2&lt;/span> Установка&lt;/h2>
&lt;ul>
&lt;li>Установка:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge app-eselect/eselect-repository
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="конфигурация">&lt;span class="section-num">3&lt;/span> Конфигурация&lt;/h2>
&lt;ul>
&lt;li>Для работы модуля должен существовать каталог или файл &lt;code>repos.conf&lt;/code>, путь к которому задаётся переменной &lt;code>REPOS_CONF&lt;/code> в &lt;code>/etc/eselect/repository.conf&lt;/code>.&lt;/li>
&lt;li>Будем использовать каталог конфигурации:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">mkdir -p /etc/portage/repos.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Файл настройки &lt;code>/etc/eselect/repository.conf&lt;/code> изначально имеет следующий вид:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="ln" id="hl-2-1">&lt;a class="lnlinks" href="#hl-2-1"> 1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># конфигурация для eselect-repo&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-2">&lt;a class="lnlinks" href="#hl-2-2"> 2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># (читается как bash сценарий, поэтому значения должны оставаться совместимыми&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-3">&lt;a class="lnlinks" href="#hl-2-3"> 3&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># с bash)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-4">&lt;a class="lnlinks" href="#hl-2-4"> 4&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-5">&lt;a class="lnlinks" href="#hl-2-5"> 5&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># Следующие переменные указывают на пути,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-6">&lt;a class="lnlinks" href="#hl-2-6"> 6&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># настроенные во время сборки:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-7">&lt;a class="lnlinks" href="#hl-2-7"> 7&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># CACHEDIR -- системный каталог кэша (напр. /var/cache)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-8">&lt;a class="lnlinks" href="#hl-2-8"> 8&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># SYSCONFDIR -- системный каталог конфигурации (напр. /etc)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-9">&lt;a class="lnlinks" href="#hl-2-9"> 9&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># SHAREDSTATEDIR -- системный каталог с разделяемыми состояниями&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-10">&lt;a class="lnlinks" href="#hl-2-10">10&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># (shared state) (напр. /var)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-11">&lt;a class="lnlinks" href="#hl-2-11">11&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-12">&lt;a class="lnlinks" href="#hl-2-12">12&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># Расположение файла или каталога с конфигурацией репозиториев.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-13">&lt;a class="lnlinks" href="#hl-2-13">13&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># Если это каталог, используются правила Portage для дочерних файлов.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-14">&lt;a class="lnlinks" href="#hl-2-14">14&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">REPOS_CONF&lt;/span>&lt;span class="o">=$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">SYSCONFDIR&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">portage&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">repos&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conf&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-15">&lt;a class="lnlinks" href="#hl-2-15">15&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-16">&lt;a class="lnlinks" href="#hl-2-16">16&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># Файл, в который будут добавляться конфигурации новых репозиториев,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-17">&lt;a class="lnlinks" href="#hl-2-17">17&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># если REPOS_CONF является каталогом. Вы можете использовать&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-18">&lt;a class="lnlinks" href="#hl-2-18">18&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># переменную &amp;#34;${repository}&amp;#34;, которая указывает на&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-19">&lt;a class="lnlinks" href="#hl-2-19">19&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># название вновь добавленного репозитория.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-20">&lt;a class="lnlinks" href="#hl-2-20">20&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">REPOS_CONF_SUBFILE&lt;/span>&lt;span class="o">=$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">REPOS_CONF&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">eselect&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">repo&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conf&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-21">&lt;a class="lnlinks" href="#hl-2-21">21&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-22">&lt;a class="lnlinks" href="#hl-2-22">22&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># Родительский каталог, куда будут добавлены сами репозитории.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-23">&lt;a class="lnlinks" href="#hl-2-23">23&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># Новые репозитории добавляются как дочерние каталоги&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-24">&lt;a class="lnlinks" href="#hl-2-24">24&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># с названием самого репозитория.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-25">&lt;a class="lnlinks" href="#hl-2-25">25&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">REPOS_BASE&lt;/span>&lt;span class="o">=$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">SHAREDSTATEDIR&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">db&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">repos&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-26">&lt;a class="lnlinks" href="#hl-2-26">26&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-27">&lt;a class="lnlinks" href="#hl-2-27">27&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># Расположение списка удалённых репозиториев (remote repositories list).&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-28">&lt;a class="lnlinks" href="#hl-2-28">28&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># По умолчанию использует список gentoo-mirror, который содержит,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-29">&lt;a class="lnlinks" href="#hl-2-29">29&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># прегенерированный кэш метаданных&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-30">&lt;a class="lnlinks" href="#hl-2-30">30&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># (pregenerated metadata cache).&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-31">&lt;a class="lnlinks" href="#hl-2-31">31&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">REMOTE_LIST_URI&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">https&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">//&lt;/span>&lt;span class="n">qa&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">reports&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">gentoo&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">org&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">output&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">repos&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">repositories&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">xml&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-32">&lt;a class="lnlinks" href="#hl-2-32">32&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-33">&lt;a class="lnlinks" href="#hl-2-33">33&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># Альтернатива: изначальный список Gentoo без прегенерации.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-34">&lt;a class="lnlinks" href="#hl-2-34">34&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1">#REMOTE_LIST_URI=https://api.gentoo.org/overlays/repositories.xml&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-35">&lt;a class="lnlinks" href="#hl-2-35">35&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-36">&lt;a class="lnlinks" href="#hl-2-36">36&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># Каталог, где будет храниться кэш repositories.xml. Файл всегда называется&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-37">&lt;a class="lnlinks" href="#hl-2-37">37&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># &amp;#34;repositories.xml&amp;#34; из-за технических ограничений wget.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-38">&lt;a class="lnlinks" href="#hl-2-38">38&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">REMOTE_LIST_CACHEDIR&lt;/span>&lt;span class="o">=~/.&lt;/span>&lt;span class="n">cache&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">eselect&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">repo&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-39">&lt;a class="lnlinks" href="#hl-2-39">39&lt;/a>&lt;/span>&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-40">&lt;a class="lnlinks" href="#hl-2-40">40&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># Интервал (в секундах) проверки списка удалённых репозиториев на изменения.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-41">&lt;a class="lnlinks" href="#hl-2-41">41&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="c1"># По умолчанию равен 2 часам.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-2-42">&lt;a class="lnlinks" href="#hl-2-42">42&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">REMOTE_LIST_REFRESH&lt;/span>&lt;span class="o">=$&lt;/span>&lt;span class="p">((&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">3600&lt;/span> &lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="использование">&lt;span class="section-num">4&lt;/span> Использование&lt;/h2>
&lt;h3 id="синхронизация-репозитория">&lt;span class="section-num">4.1&lt;/span> Синхронизация репозитория&lt;/h3>
&lt;ul>
&lt;li>Репозитории могут быть синхронизированы утилитой &lt;code>emaint&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-3-1">&lt;a class="lnlinks" href="#hl-3-1">1&lt;/a>&lt;/span>&lt;span class="cl">emaint sync -r foo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="просмотр-репозиториев">&lt;span class="section-num">4.2&lt;/span> Просмотр репозиториев&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Gentoo позволяет пользователям и разработчикам регистрировать репозитории на &lt;a href="https://repos.gentoo.org/" target="_blank" rel="noopener">https://repos.gentoo.org/&lt;/a> для публичного использования.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Просмотр списка репозиториев:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-4-1">&lt;a class="lnlinks" href="#hl-4-1">1&lt;/a>&lt;/span>&lt;span class="cl">eselect repository list
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>суффикс &lt;code>*&lt;/code> указывает, что этот репозиторий установлен и подключён;&lt;/li>
&lt;li>суффикс &lt;code>#&lt;/code> указывает, что для этого репозитория необходимо обновить их информацию о синхронизации (путём выключения и включения), или они были настроены пользователем;&lt;/li>
&lt;li>суффикс &lt;code>@&lt;/code> указывает, что такой репозиторий не указан по имени в официальном, опубликованном списке.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Перечислить только сконфигурированные репозитории:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-5-1">&lt;a class="lnlinks" href="#hl-5-1">1&lt;/a>&lt;/span>&lt;span class="cl">eselect repository list -i
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="добавление-репозиториев">&lt;span class="section-num">4.3&lt;/span> Добавление репозиториев&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Добавление репозиториев с &lt;a href="https://repos.gentoo.org/" target="_blank" rel="noopener">https://repos.gentoo.org/&lt;/a>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-6-1">&lt;a class="lnlinks" href="#hl-6-1">1&lt;/a>&lt;/span>&lt;span class="cl">eselect repository &lt;span class="nb">enable&lt;/span> foo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Добавление произвольных репозиториев&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-7-1">&lt;a class="lnlinks" href="#hl-7-1">1&lt;/a>&lt;/span>&lt;span class="cl">eselect repository add &lt;span class="nb">test&lt;/span> git https://github.com/test/test.git
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Синтаксис:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-8-1">&lt;a class="lnlinks" href="#hl-8-1">1&lt;/a>&lt;/span>&lt;span class="cl">eselect repository add &amp;lt;название&amp;gt; &amp;lt;метод-синхронизации&amp;gt; &amp;lt;адрес-синхронизации&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="отключение-репозиториев">&lt;span class="section-num">4.4&lt;/span> Отключение репозиториев&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Отключение репозиториев без удаления содержимого:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-9-1">&lt;a class="lnlinks" href="#hl-9-1">1&lt;/a>&lt;/span>&lt;span class="cl">eselect repository remove foo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Синтаксис:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-10-1">&lt;a class="lnlinks" href="#hl-10-1">1&lt;/a>&lt;/span>&lt;span class="cl">remove &lt;span class="o">[&lt;/span>-f&lt;span class="o">]&lt;/span> &lt;span class="o">(&lt;/span>&amp;lt;название&amp;gt;&lt;span class="p">|&lt;/span>&amp;lt;индекс&amp;gt;&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Опция &lt;code>-f&lt;/code> требуется для репозиториев, не зарегистрированных на repos.gentoo.org, или без информации о синхронизации.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Отключение репозиториев с удалением содержимого:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-11-1">&lt;a class="lnlinks" href="#hl-11-1">1&lt;/a>&lt;/span>&lt;span class="cl">eselect repository remove foo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Синтаксис:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-12-1">&lt;a class="lnlinks" href="#hl-12-1">1&lt;/a>&lt;/span>&lt;span class="cl">remove &lt;span class="o">[&lt;/span>-f&lt;span class="o">]&lt;/span> &lt;span class="o">(&lt;/span>&amp;lt;название&amp;gt;&lt;span class="p">|&lt;/span>&amp;lt;индекс&amp;gt;&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Опция &lt;code>-f&lt;/code> требуется для репозиториев, не зарегистрированных на repos.gentoo.org, или без информации о синхронизации.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="создание-нового-репозитория">&lt;span class="section-num">4.5&lt;/span> Создание нового репозитория&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Создание каркаса репозитория:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-13-1">&lt;a class="lnlinks" href="#hl-13-1">1&lt;/a>&lt;/span>&lt;span class="cl">eselect repository create foo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Синтаксис:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-14-1">&lt;a class="lnlinks" href="#hl-14-1">1&lt;/a>&lt;/span>&lt;span class="cl">create &amp;lt;название&amp;gt; &lt;span class="o">[&lt;/span>&amp;lt;путь&amp;gt;&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="настройки-репозиториев">&lt;span class="section-num">5&lt;/span> Настройки репозиториев&lt;/h2>
&lt;h3 id="приоритет-репозиториев">&lt;span class="section-num">5.1&lt;/span> Приоритет репозиториев&lt;/h3>
&lt;ul>
&lt;li>По умолчанию пакеты в оверлейных репозиториях имеют преимущество перед пакетами в репозитории &lt;code>gentoo&lt;/code>.&lt;/li>
&lt;li>Кроме того, можно управлять приоритетами дополнительных репозиториев.&lt;/li>
&lt;li>Добавьте параметр приоритета в файл описания репозиториев &lt;code>/etc/portage/repos.conf/eselect-repo.conf&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="ln" id="hl-15-1">&lt;a class="lnlinks" href="#hl-15-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">local&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-15-2">&lt;a class="lnlinks" href="#hl-15-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nx">location&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="err">/&lt;/span>&lt;span class="nx">var&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="nx">db&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="nx">repos&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="nx">local&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-15-3">&lt;a class="lnlinks" href="#hl-15-3">3&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nx">priority&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">100&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="списки-полезных-репозиториев">&lt;span class="section-num">6&lt;/span> Списки полезных репозиториев&lt;/h2>
&lt;h3 id="karma">&lt;span class="section-num">6.1&lt;/span> Karma&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/05/25/gentoo-karma-repository/">Gentoo. Репозиторий karma&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Администрирование Linux</title><link>https://yamadharma.github.io/ru/post/2023/06/07/linux-administration/</link><pubDate>Wed, 07 Jun 2023 18:35:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2023/06/07/linux-administration/</guid><description>&lt;p>Администрирование Linux.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#дистрибутивы-linux">&lt;span class="section-num">1&lt;/span> Дистрибутивы Linux&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1.1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#режим-киоска">&lt;span class="section-num">1.2&lt;/span> Режим киоска&lt;/a>&lt;/li>
&lt;li>&lt;a href="#дистрибутивы-общего-назначения">&lt;span class="section-num">1.3&lt;/span> Дистрибутивы общего назначения&lt;/a>&lt;/li>
&lt;li>&lt;a href="#виртуальные-машины">&lt;span class="section-num">1.4&lt;/span> Виртуальные машины&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#файловые-системы">&lt;span class="section-num">2&lt;/span> Файловые системы&lt;/a>&lt;/li>
&lt;li>&lt;a href="#установка">&lt;span class="section-num">3&lt;/span> Установка&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="дистрибутивы-linux">&lt;span class="section-num">1&lt;/span> Дистрибутивы Linux&lt;/h2>
&lt;h3 id="общая-информация">&lt;span class="section-num">1.1&lt;/span> Общая информация&lt;/h3>
&lt;h3 id="режим-киоска">&lt;span class="section-num">1.2&lt;/span> Режим киоска&lt;/h3>
&lt;ul>
&lt;li>Данные дистрибутивы созданы для организации режима киоска (см. &lt;a href="https://yamadharma.github.io/ru/post/2022/02/15/kiosk-mode/">Режим киоска&lt;/a>).&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2022/02/15/porteus-kiosk/">Porteus Kiosk&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2022/02/15/linutop-kiosk/">Linutop Kiosk&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="дистрибутивы-общего-назначения">&lt;span class="section-num">1.3&lt;/span> Дистрибутивы общего назначения&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2022/09/17/linux-gentoo-distribution/">Linux. Дистрибутив Gentoo&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="виртуальные-машины">&lt;span class="section-num">1.4&lt;/span> Виртуальные машины&lt;/h3>
&lt;h2 id="файловые-системы">&lt;span class="section-num">2&lt;/span> Файловые системы&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2021/08/27/btrfs-file-system/">Файловая система btrfs&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2022/05/26/data-deduplication/">Дедупликация данных&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="установка">&lt;span class="section-num">3&lt;/span> Установка&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2022/08/12/rockylinux-server-installation/">Rocky Linux. Установка сервера&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/05/30/linux-wsl-install/">Установка Linux в WSL&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Автообновление систем на базе деривативов RedHat</title><link>https://yamadharma.github.io/ru/post/2022/09/25/redhat-based-systems-auto-update/</link><pubDate>Sun, 25 Sep 2022 09:42:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2022/09/25/redhat-based-systems-auto-update/</guid><description>&lt;p>Простое автоматическое обновление на уровне хоста.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#прагматика">&lt;span class="section-num">1&lt;/span> Прагматика&lt;/a>&lt;/li>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">2&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#установка-программного-обеспечения">&lt;span class="section-num">3&lt;/span> Установка программного обеспечения&lt;/a>&lt;/li>
&lt;li>&lt;a href="#использование-программного-обеспечения">&lt;span class="section-num">4&lt;/span> Использование программного обеспечения&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="прагматика">&lt;span class="section-num">1&lt;/span> Прагматика&lt;/h2>
&lt;ul>
&lt;li>Основное преимущество автоматизации обновлений заключается в том, что машины, скорее всего, будут обновляться быстрее, чаще и более равномерно, чем если бы обновления выполнялись вручную.&lt;/li>
&lt;li>Хотя необходимо быть осторожным с любым решением для автоматического обновления, его стоит рассмотреть, по крайней мере, для некоторых ситуаций.&lt;/li>
&lt;li>Если машина является критическим сервером, для которого нельзя допускать незапланированного простоя службы на машине, то автоматические обновления использовать не следует. В противном случае можно использовать их.&lt;/li>
&lt;li>Причины использования автоматических обновлений.
&lt;ul>
&lt;li>Вы вряд ли будете применять обновления вручную по каким-либо причинам.&lt;/li>
&lt;li>Машина не критична, допустимы случайные незапланированные простои.&lt;/li>
&lt;li>Вы можете жить без удаленного доступа к машине, пока не сможете добраться до ее физического местоположения для решения проблем.&lt;/li>
&lt;li>У вас нет незаменимых данных на машине или надлежащих резервных копий таких данных.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="общая-информация">&lt;span class="section-num">2&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Документация: &lt;a href="https://dnf.readthedocs.io/en/latest/automatic.html" target="_blank" rel="noopener">https://dnf.readthedocs.io/en/latest/automatic.html&lt;/a>&lt;/li>
&lt;li>Используются таймеры:
&lt;ul>
&lt;li>&lt;code>dnf-automatic.timer&lt;/code> : общий таймер, операции настраиваются в файле конфигурации;&lt;/li>
&lt;li>&lt;code>dnf-automatic-notifyonly.timer&lt;/code> : уведомление о наличии обновлений;&lt;/li>
&lt;li>&lt;code>dnf-automatic-download.timer&lt;/code> : загрузка обновлений;&lt;/li>
&lt;li>&lt;code>dnf-automatic-install.timer&lt;/code> : установка обновлений.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Этим таймерам соответствуют сервисы.&lt;/li>
&lt;li>Конфигурационный файл: &lt;code>/etc/dnf/automatic.conf&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h2 id="установка-программного-обеспечения">&lt;span class="section-num">3&lt;/span> Установка программного обеспечения&lt;/h2>
&lt;ul>
&lt;li>Установим пакет:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install dnf-automatic
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="использование-программного-обеспечения">&lt;span class="section-num">4&lt;/span> Использование программного обеспечения&lt;/h2>
&lt;ul>
&lt;li>Зададим необходимую конфигурацию в файле &lt;code>/etc/dnf/automatic.conf&lt;/code>.&lt;/li>
&lt;li>Например, для автоматической установки обновлений зададим:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">download_updates&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">yes&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-1-2">&lt;a class="lnlinks" href="#hl-1-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="n">apply_updates&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">yes&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Запустим общий таймер:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-2-1">&lt;a class="lnlinks" href="#hl-2-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> --now dnf-automatic.timer
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Проверить работу таймера можно так:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-3-1">&lt;a class="lnlinks" href="#hl-3-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl list-timers *dnf-* --all
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Стандартные каталоги Gentoo</title><link>https://yamadharma.github.io/ru/post/2022/09/17/gentoo-standard-directories/</link><pubDate>Sat, 17 Sep 2022 13:31:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2022/09/17/gentoo-standard-directories/</guid><description>&lt;p>Стандартные каталоги Gentoo.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#конфигурация-portage">&lt;span class="section-num">1&lt;/span> Конфигурация portage&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#основные-файлы-настройки">&lt;span class="section-num">1.1&lt;/span> Основные файлы настройки&lt;/a>&lt;/li>
&lt;li>&lt;a href="#информация-из-определённого-профиля">&lt;span class="section-num">1.2&lt;/span> Информация из определённого профиля&lt;/a>&lt;/li>
&lt;li>&lt;a href="#пользовательская-конфигурация">&lt;span class="section-num">1.3&lt;/span> Пользовательская конфигурация&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#каталоги-системы-portage">&lt;span class="section-num">2&lt;/span> Каталоги системы portage&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#изменение-расположения-каталогов">&lt;span class="section-num">2.1&lt;/span> Изменение расположения каталогов&lt;/a>&lt;/li>
&lt;li>&lt;a href="#репозитории-ebuild-файлов">&lt;span class="section-num">2.2&lt;/span> Репозитории ebuild-файлов&lt;/a>&lt;/li>
&lt;li>&lt;a href="#gentoo-репозиторий-ebuild-файлов">&lt;span class="section-num">2.3&lt;/span> Gentoo репозиторий ebuild-файлов&lt;/a>&lt;/li>
&lt;li>&lt;a href="#двоичные-пакеты">&lt;span class="section-num">2.4&lt;/span> Двоичные пакеты&lt;/a>&lt;/li>
&lt;li>&lt;a href="#исходный-код">&lt;span class="section-num">2.5&lt;/span> Исходный код&lt;/a>&lt;/li>
&lt;li>&lt;a href="#база-состояния-portage">&lt;span class="section-num">2.6&lt;/span> База состояния Portage&lt;/a>&lt;/li>
&lt;li>&lt;a href="#кеш-portage">&lt;span class="section-num">2.7&lt;/span> Кеш Portage&lt;/a>&lt;/li>
&lt;li>&lt;a href="#временные-файлы-portage">&lt;span class="section-num">2.8&lt;/span> Временные файлы Portage&lt;/a>&lt;/li>
&lt;li>&lt;a href="#каталог-компиляции">&lt;span class="section-num">2.9&lt;/span> Каталог компиляции&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="конфигурация-portage">&lt;span class="section-num">1&lt;/span> Конфигурация portage&lt;/h2>
&lt;h3 id="основные-файлы-настройки">&lt;span class="section-num">1.1&lt;/span> Основные файлы настройки&lt;/h3>
&lt;ul>
&lt;li>Portage поставляется с настройками по умолчанию, которые хранятся в &lt;code>/usr/share/portage/config/make.globals&lt;/code>.&lt;/li>
&lt;li>Все настройки Portage обрабатываются с помощью переменных.&lt;/li>
&lt;li>У portage есть конфигурационные файлы по умолчанию, которые является частью системного профиля.&lt;/li>
&lt;li>Системный профиль задаётся с помощью символьной ссылки &lt;code>/etc/portage/make.profile&lt;/code>.&lt;/li>
&lt;li>Для замены конфигурационных переменных следует использовать файл &lt;code>/etc/portage/make.conf&lt;/code>.&lt;/li>
&lt;li>Пример конфигурационного файла: &lt;code>/usr/share/portage/config/make.conf.example&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h3 id="информация-из-определённого-профиля">&lt;span class="section-num">1.2&lt;/span> Информация из определённого профиля&lt;/h3>
&lt;ul>
&lt;li>Каталог &lt;code>/etc/portage/make.profile&lt;/code> является символьной ссылкой на один из профилей.&lt;/li>
&lt;li>По умолчанию это &lt;code>/var/db/repos/gentoo/profiles/&lt;/code>.&lt;/li>
&lt;li>Профиль, на который указывает символьная ссылка, и есть системный профиль.&lt;/li>
&lt;li>Профиль содержит информацию о конкретной архитектуре и настройках программного обеспечения.&lt;/li>
&lt;/ul>
&lt;h3 id="пользовательская-конфигурация">&lt;span class="section-num">1.3&lt;/span> Пользовательская конфигурация&lt;/h3>
&lt;ul>
&lt;li>Для пользовательских настроек следует использовать файлы в &lt;code>/etc/portage/&lt;/code>.&lt;/li>
&lt;li>Пользователи могут создать в &lt;code>/etc/portage/&lt;/code> следующие файлы:
&lt;ul>
&lt;li>&lt;code>package.mask&lt;/code>: список пакетов, которые Portage никогда не будет устанавливать;&lt;/li>
&lt;li>&lt;code>package.unmask&lt;/code>: список пакетов, которые Portage будет устанавливать, даже если они заблокированы на системном уровне;&lt;/li>
&lt;li>&lt;code>package.accept_keywords&lt;/code>: список пакетов, которые Portage будет устанавливать, даже если они не подходят для используемой системы или архитектуры;&lt;/li>
&lt;li>&lt;code>package.use&lt;/code> список пакетов, для которых необходимо использовать специфичные USE-флаги, а не брать системные USE-флаги.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Они могут быть не файлами, а каталогами (содержимое разбито по отдельным файлам).&lt;/li>
&lt;/ul>
&lt;h2 id="каталоги-системы-portage">&lt;span class="section-num">2&lt;/span> Каталоги системы portage&lt;/h2>
&lt;h3 id="изменение-расположения-каталогов">&lt;span class="section-num">2.1&lt;/span> Изменение расположения каталогов&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>На основании обсуждения &lt;a href="https://bugs.gentoo.org/662982" target="_blank" rel="noopener">#662982&lt;/a> были внесены изменения в расположение каталогов portage.&lt;/p>
&lt;div class="table-caption">
&lt;span class="table-number">&amp;#1058;&amp;#1072;&amp;#1073;&amp;#1083;&amp;#1080;&amp;#1094;&amp;#1072; 1:&lt;/span>
Смена расположения каталогов системы portage
&lt;/div>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Назначение&lt;/th>
&lt;th>Старый путь&lt;/th>
&lt;th>Новый путь&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Дерево portage&lt;/td>
&lt;td>&lt;code>/usr/portage&lt;/code>&lt;/td>
&lt;td>&lt;code>/var/db/repos/gentoo&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Исходный код пакетов&lt;/td>
&lt;td>&lt;code>/usr/portage/distfiles&lt;/code>&lt;/td>
&lt;td>&lt;code>/var/cache/distfiles&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Бинарные пакеты&lt;/td>
&lt;td>&lt;code>/usr/portage/packages&lt;/code>&lt;/td>
&lt;td>&lt;code>/var/cache/binpkgs&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/li>
&lt;/ul>
&lt;h4 id="миграция-каталогов">&lt;span class="section-num">2.1.1&lt;/span> Миграция каталогов&lt;/h4>
&lt;ul>
&lt;li>Удалите (или закомментируйте) любые записи &lt;code>PORTDIR&lt;/code>, &lt;code>DISTDIR&lt;/code>, &lt;code>PKGDIR&lt;/code> в &lt;code>/etc/portage/make.conf&lt;/code>.&lt;/li>
&lt;li>Значения переменных окружения можно посмотреть командой:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">emerge --info -v
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-0-2">&lt;a class="lnlinks" href="#hl-0-2">2&lt;/a>&lt;/span>&lt;span class="cl">emerge --info -v &lt;span class="p">|&lt;/span> grep PORTDIR
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-0-3">&lt;a class="lnlinks" href="#hl-0-3">3&lt;/a>&lt;/span>&lt;span class="cl">emerge --info -v &lt;span class="p">|&lt;/span> grep DISTDIR
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-0-4">&lt;a class="lnlinks" href="#hl-0-4">4&lt;/a>&lt;/span>&lt;span class="cl">emerge --info -v &lt;span class="p">|&lt;/span> grep PKGDIR
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Если &lt;code>/var/db/repos/&lt;/code> не существует, создайте его.&lt;/li>
&lt;li>Переместите &lt;code>/usr/portage/distfiles&lt;/code> в &lt;code>/var/cache/distfiles&lt;/code>.&lt;/li>
&lt;li>Переместите &lt;code>/usr/portage/packages&lt;/code> в &lt;code>/var/cache/binpkgs&lt;/code>.&lt;/li>
&lt;li>Переместите &lt;code>/usr/portage&lt;/code> в &lt;code>/var/db/repos/gentoo&lt;/code>.&lt;/li>
&lt;li>Измените переменную &lt;code>location&lt;/code> в файле &lt;code>/etc/portage/repos.conf/gentoo.conf&lt;/code> (или аналогичном) на &lt;code>/var/db/repos/gentoo&lt;/code>.&lt;/li>
&lt;li>Переустановите &lt;code>portage&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="nv">DISTDIR&lt;/span>&lt;span class="o">=&lt;/span>/var/cache/distfiles &lt;span class="nv">PKGDIR&lt;/span>&lt;span class="o">=&lt;/span>/var/cache/binpkgs emerge --oneshot portage
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Если вы запускаете локальное зеркало rsync, отредактируйте запись пути в &lt;code>/etc/rsyncd.conf&lt;/code> так, чтобы она указывала на &lt;code>/var/db/repos/gentoo&lt;/code>.&lt;/li>
&lt;li>Если вы делитесь своими дистрибутивами, не забудьте обновить любую символическую ссылку или файл конфигурации, которые вам нужны для этого.&lt;/li>
&lt;/ul>
&lt;h3 id="репозитории-ebuild-файлов">&lt;span class="section-num">2.2&lt;/span> Репозитории ebuild-файлов&lt;/h3>
&lt;ul>
&lt;li>Репозитории ebuild-файлов по умолчанию находится в /var/db/repos/&amp;lt;reponame&amp;gt;.&lt;/li>
&lt;/ul>
&lt;h3 id="gentoo-репозиторий-ebuild-файлов">&lt;span class="section-num">2.3&lt;/span> Gentoo репозиторий ebuild-файлов&lt;/h3>
&lt;ul>
&lt;li>Gentoo репозиторий ebuild-файлов по умолчанию находится в &lt;code>/var/db/repos/gentoo&lt;/code>.&lt;/li>
&lt;li>Месторасположение определяется файлом &lt;code>repos.conf&lt;/code>, пример которого можно найти в &lt;code>/usr/share/portage/config/repos.conf&lt;/code>.&lt;/li>
&lt;li>Чтобы изменить значения по умолчанию, скопируйте этот файл в &lt;code>/etc/portage/repos.conf/gentoo.conf&lt;/code> и измените &lt;code>location&lt;/code>.&lt;/li>
&lt;li>Не забудьте сменить символьную ссылку на &lt;code>/etc/portage/make.profile&lt;/code>, если хотите хранить (меняя переменную) Gentoo репозиторий ebuild-файлов в другом месте.&lt;/li>
&lt;li>После изменения настройки location в &lt;code>/etc/portage/repos.conf/gentoo.conf&lt;/code> рекомендуется изменить следующие переменные &lt;code>/etc/portage/make.conf&lt;/code>, так как они не заметят изменений в &lt;code>location&lt;/code>: &lt;code>PKGDIR&lt;/code>, &lt;code>DISTDIR&lt;/code>, &lt;code>RPMDIR&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h3 id="двоичные-пакеты">&lt;span class="section-num">2.4&lt;/span> Двоичные пакеты&lt;/h3>
&lt;ul>
&lt;li>Бинарные пакеты находятся в каталоге &lt;code>/var/cache/binpkgs&lt;/code>.&lt;/li>
&lt;li>Этот каталог определяется переменной &lt;code>PKGDIR&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h3 id="исходный-код">&lt;span class="section-num">2.5&lt;/span> Исходный код&lt;/h3>
&lt;ul>
&lt;li>По умолчанию исходный код для приложений хранится в каталоге &lt;code>/var/cache/distfiles&lt;/code>.&lt;/li>
&lt;li>Этот каталог определяется переменной &lt;code>DISTDIR&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h3 id="база-состояния-portage">&lt;span class="section-num">2.6&lt;/span> База состояния Portage&lt;/h3>
&lt;ul>
&lt;li>База состояния системы (какие пакеты установлены, какие файлы какому пакету принадлежат и т.д.) находится в каталоге &lt;code>/var/db/pkg&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h3 id="кеш-portage">&lt;span class="section-num">2.7&lt;/span> Кеш Portage&lt;/h3>
&lt;ul>
&lt;li>Кэш portage хранится в &lt;code>/var/cache/edb&lt;/code>.&lt;/li>
&lt;li>Можно отчистить это каталог, если на данный момент не запущено никаких приложений Portage.&lt;/li>
&lt;/ul>
&lt;h3 id="временные-файлы-portage">&lt;span class="section-num">2.8&lt;/span> Временные файлы Portage&lt;/h3>
&lt;ul>
&lt;li>Временные файлы Portage по умолчанию хранятся в &lt;code>/var/tmp/&lt;/code>.&lt;/li>
&lt;li>Этот каталог определяется с помощью переменной &lt;code>PORTAGE_TMPDIR&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h3 id="каталог-компиляции">&lt;span class="section-num">2.9&lt;/span> Каталог компиляции&lt;/h3>
&lt;ul>
&lt;li>Portage создаёт специальные каталоги в &lt;code>/var/tmp/portage/&lt;/code> для всех компилируемых пакетов.&lt;/li>
&lt;li>Этот каталог определяется переменной &lt;code>PORTAGE_TMPDIR&lt;/code>.&lt;/li>
&lt;/ul></description></item><item><title>Linux. Дистрибутив Gentoo</title><link>https://yamadharma.github.io/ru/post/2022/09/17/linux-gentoo-distribution/</link><pubDate>Sat, 17 Sep 2022 13:18:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2022/09/17/linux-gentoo-distribution/</guid><description>&lt;p>Дистрибутив Gentoo.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#администрирование-gentoo">&lt;span class="section-num">2&lt;/span> Администрирование Gentoo&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;h2 id="администрирование-gentoo">&lt;span class="section-num">2&lt;/span> Администрирование Gentoo&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2022/09/17/gentoo-standard-directories/">Стандартные каталоги Gentoo&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2023/10/01/gentoo-additional-repositories/">Gentoo. Дополнительные репозитории&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/07/06/gentoo-post-installation/">Gentoo. Постустановка&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/05/16/gentoo-compiling-clang/">Gentoo. Компиляция системы clang&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/11/02/gentoo-ebuild-rust/">Gentoo. Создание ebuild для Rust&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Rocky Linux. Установка сервера</title><link>https://yamadharma.github.io/ru/post/2022/08/12/rockylinux-server-installation/</link><pubDate>Fri, 12 Aug 2022 13:57:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2022/08/12/rockylinux-server-installation/</guid><description>&lt;p>Установка базисного сервера на Rocky Linux.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#дополнительные-стандартные-репозитории">&lt;span class="section-num">1.1&lt;/span> Дополнительные стандартные репозитории&lt;/a>&lt;/li>
&lt;li>&lt;a href="#репозитории-сообщества">&lt;span class="section-num">1.2&lt;/span> Репозитории сообщества&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#установка-образа">&lt;span class="section-num">2&lt;/span> Установка образа&lt;/a>&lt;/li>
&lt;li>&lt;a href="#после-установки">&lt;span class="section-num">3&lt;/span> После установки&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#обновления">&lt;span class="section-num">3.1&lt;/span> Обновления&lt;/a>&lt;/li>
&lt;li>&lt;a href="#установка-локализации">&lt;span class="section-num">3.2&lt;/span> Установка локализации&lt;/a>&lt;/li>
&lt;li>&lt;a href="#дополнительные-репозитории">&lt;span class="section-num">3.3&lt;/span> Дополнительные репозитории&lt;/a>&lt;/li>
&lt;li>&lt;a href="#установка-часового-пояса">&lt;span class="section-num">3.4&lt;/span> Установка часового пояса&lt;/a>&lt;/li>
&lt;li>&lt;a href="#синхронизация-времени">&lt;span class="section-num">3.5&lt;/span> Синхронизация времени&lt;/a>&lt;/li>
&lt;li>&lt;a href="#разрешение-имён">&lt;span class="section-num">3.6&lt;/span> Разрешение имён&lt;/a>&lt;/li>
&lt;li>&lt;a href="#повышение-комфорта-работы">&lt;span class="section-num">3.7&lt;/span> Повышение комфорта работы&lt;/a>&lt;/li>
&lt;li>&lt;a href="#отключение-графического-интерфейса">&lt;span class="section-num">3.8&lt;/span> Отключение графического интерфейса&lt;/a>&lt;/li>
&lt;li>&lt;a href="#безопасность">&lt;span class="section-num">3.9&lt;/span> Безопасность&lt;/a>&lt;/li>
&lt;li>&lt;a href="#администрирование">&lt;span class="section-num">3.10&lt;/span> Администрирование&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#установка-дополнительного-программного-обеспечения">&lt;span class="section-num">4&lt;/span> Установка дополнительного программного обеспечения&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#утилиты">&lt;span class="section-num">4.1&lt;/span> Утилиты&lt;/a>&lt;/li>
&lt;li>&lt;a href="#безопасность">&lt;span class="section-num">4.2&lt;/span> Безопасность&lt;/a>&lt;/li>
&lt;li>&lt;a href="#синхронизация-времени">&lt;span class="section-num">4.3&lt;/span> Синхронизация времени&lt;/a>&lt;/li>
&lt;li>&lt;a href="#вариации-на-тему-стека-lamp--linux-apache-mysql-php">&lt;span class="section-num">4.4&lt;/span> Вариации на тему стека LAMP (Linux, Apache, MySQL, PHP)&lt;/a>&lt;/li>
&lt;li>&lt;a href="#администрирование">&lt;span class="section-num">4.5&lt;/span> Администрирование&lt;/a>&lt;/li>
&lt;li>&lt;a href="#файловые-системы">&lt;span class="section-num">4.6&lt;/span> Файловые системы&lt;/a>&lt;/li>
&lt;li>&lt;a href="#dns-сервера">&lt;span class="section-num">4.7&lt;/span> DNS сервера&lt;/a>&lt;/li>
&lt;li>&lt;a href="#контроль-версий">&lt;span class="section-num">4.8&lt;/span> Контроль версий&lt;/a>&lt;/li>
&lt;li>&lt;a href="#средства-разработки">&lt;span class="section-num">4.9&lt;/span> Средства разработки&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Rocky Linux &amp;mdash; сборка RedHat Linux, пришедший на смену Centos (см. &lt;a href="https://yamadharma.github.io/ru/post/2021/05/25/replacing-centos/">Замена Centos&lt;/a>).&lt;/li>
&lt;li>Сайт: &lt;a href="https://rockylinux.org/" target="_blank" rel="noopener">https://rockylinux.org/&lt;/a>.&lt;/li>
&lt;li>Образы:
&lt;ul>
&lt;li>&lt;a href="https://rockylinux.org/download" target="_blank" rel="noopener">https://rockylinux.org/download&lt;/a>;&lt;/li>
&lt;li>&lt;a href="http://dl.rockylinux.org/vault/rocky/" target="_blank" rel="noopener">http://dl.rockylinux.org/vault/rocky/&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="дополнительные-стандартные-репозитории">&lt;span class="section-num">1.1&lt;/span> Дополнительные стандартные репозитории&lt;/h3>
&lt;div class="table-caption">
&lt;span class="table-number">&amp;#1058;&amp;#1072;&amp;#1073;&amp;#1083;&amp;#1080;&amp;#1094;&amp;#1072; 1:&lt;/span>
Стандартные дополнительные репозитории
&lt;/div>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Repository&lt;/th>
&lt;th>Rocky 8&lt;/th>
&lt;th>Rocky 9&lt;/th>
&lt;th>Включён&lt;/th>
&lt;th>Примечание&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Extras&lt;/td>
&lt;td>Yes&lt;/td>
&lt;td>Yes&lt;/td>
&lt;td>Yes&lt;/td>
&lt;td>Дополнительные функции, не нарушающие совместимость исходного кода&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Plus&lt;/td>
&lt;td>Yes&lt;/td>
&lt;td>Yes&lt;/td>
&lt;td>No&lt;/td>
&lt;td>Либо заменяет стандартный компонент, либо под одну архитектуру&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>RT (real time)&lt;/td>
&lt;td>Yes&lt;/td>
&lt;td>Yes&lt;/td>
&lt;td>No&lt;/td>
&lt;td>Пакеты для&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>NFV&lt;/td>
&lt;td>Yes&lt;/td>
&lt;td>TBD&lt;/td>
&lt;td>No&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>SAP / SAP HANA&lt;/td>
&lt;td>No&lt;/td>
&lt;td>TBD&lt;/td>
&lt;td>No&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Devel / devel&lt;/td>
&lt;td>Yes&lt;/td>
&lt;td>Yes&lt;/td>
&lt;td>No&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="репозитории-сообщества">&lt;span class="section-num">1.2&lt;/span> Репозитории сообщества&lt;/h3>
&lt;ul>
&lt;li>Дополнительные пакеты для Enterprise Linux (EPEL):
&lt;ul>
&lt;li>документация: &lt;a href="http://fedoraproject.org/wiki/EPEL" target="_blank" rel="noopener">http://fedoraproject.org/wiki/EPEL&lt;/a>;&lt;/li>
&lt;li>наиболее часто используемй репозиторий;&lt;/li>
&lt;li>сборки пакетов Fedora для каждого поддерживаемого корпоративного Linux;&lt;/li>
&lt;li>пакеты не заменяют базовые;&lt;/li>
&lt;li>установка:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf config-manager --set-enabled crb
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-0-2">&lt;a class="lnlinks" href="#hl-0-2">2&lt;/a>&lt;/span>&lt;span class="cl">dnf install epel-release
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Репозиторий Community Enterprise Linux (ELRepo):
&lt;ul>
&lt;li>фокусируется на более новых ядрах и пакетах драйверов kmod для улучшения поддержки оборудования;&lt;/li>
&lt;li>репозитории ядра должны быть включены для его использования;&lt;/li>
&lt;li>установка:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install elrepo-release
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>RPM Fusion:
&lt;ul>
&lt;li>программное обеспечение, которое Fedora Project или Red Hat не хотят поставлять в Enterprise Linux и Fedora;&lt;/li>
&lt;li>базовые пакеты не заменяются;&lt;/li>
&lt;li>установка:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-2-1">&lt;a class="lnlinks" href="#hl-2-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install rpmfusion-free-release
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Репозиторий Remi:
&lt;ul>
&lt;li>сайт: &lt;a href="http://rpms.remirepo.net/" target="_blank" rel="noopener">http://rpms.remirepo.net/&lt;/a>;&lt;/li>
&lt;li>поддерживает большую коллекцию RPM, включая, среди прочего, последние версии PHP;&lt;/li>
&lt;li>это коллекция репозиториев;&lt;/li>
&lt;li>документация: &lt;a href="http://blog.remirepo.net/pages/English-FAQ" target="_blank" rel="noopener">http://blog.remirepo.net/pages/English-FAQ&lt;/a>;&lt;/li>
&lt;li>может конфликтовать с другими сторонними репозиториями.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>GhettoForge:
&lt;ul>
&lt;li>документация: &lt;a href="http://ghettoforge.org/index.php/Usage" target="_blank" rel="noopener">http://ghettoforge.org/index.php/Usage&lt;/a>;&lt;/li>
&lt;li>пакеты, которых нет в других сторонних репозиториях;&lt;/li>
&lt;li>пакеты, перезаписывающие базу, будут в репозитории &lt;code>gf-plus&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="установка-образа">&lt;span class="section-num">2&lt;/span> Установка образа&lt;/h2>
&lt;h2 id="после-установки">&lt;span class="section-num">3&lt;/span> После установки&lt;/h2>
&lt;ul>
&lt;li>Здесь даны общие шаги для большей части серверов.&lt;/li>
&lt;/ul>
&lt;h3 id="обновления">&lt;span class="section-num">3.1&lt;/span> Обновления&lt;/h3>
&lt;ul>
&lt;li>Обновить все пакеты
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-3-1">&lt;a class="lnlinks" href="#hl-3-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y update
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="установка-локализации">&lt;span class="section-num">3.2&lt;/span> Установка локализации&lt;/h3>
&lt;ul>
&lt;li>Проверьте текущую локализацию:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-4-1">&lt;a class="lnlinks" href="#hl-4-1">1&lt;/a>&lt;/span>&lt;span class="cl">localectl status
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Посмотрите доступные локализации:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-5-1">&lt;a class="lnlinks" href="#hl-5-1">1&lt;/a>&lt;/span>&lt;span class="cl">localectl list-locales
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Если нет необходимой, установите её:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-6-1">&lt;a class="lnlinks" href="#hl-6-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install glibc-langpack-ru
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установите нужную локализацию:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-7-1">&lt;a class="lnlinks" href="#hl-7-1">1&lt;/a>&lt;/span>&lt;span class="cl">localectl set-locale ru_RU.UTF-8
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Проверьте текущую локализацию:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-8-1">&lt;a class="lnlinks" href="#hl-8-1">1&lt;/a>&lt;/span>&lt;span class="cl">localectl status
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="дополнительные-репозитории">&lt;span class="section-num">3.3&lt;/span> Дополнительные репозитории&lt;/h3>
&lt;ul>
&lt;li>Установим &lt;em>EPEL&lt;/em>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-9-1">&lt;a class="lnlinks" href="#hl-9-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf config-manager --set-enabled crb
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-9-2">&lt;a class="lnlinks" href="#hl-9-2">2&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install epel-release
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="установка-часового-пояса">&lt;span class="section-num">3.4&lt;/span> Установка часового пояса&lt;/h3>
&lt;ul>
&lt;li>Просмотрите список всех часовых поясов:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-10-1">&lt;a class="lnlinks" href="#hl-10-1">1&lt;/a>&lt;/span>&lt;span class="cl">timedatectl list-timezones
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установите часовой пояс (например, UTC):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-11-1">&lt;a class="lnlinks" href="#hl-11-1">1&lt;/a>&lt;/span>&lt;span class="cl">timedatectl set-timezone Etc/UTC
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="синхронизация-времени">&lt;span class="section-num">3.5&lt;/span> Синхронизация времени&lt;/h3>
&lt;ul>
&lt;li>Запустите демон:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-12-1">&lt;a class="lnlinks" href="#hl-12-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> --now chronyd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Проверьте работу демона &lt;code>chronyd&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-13-1">&lt;a class="lnlinks" href="#hl-13-1">1&lt;/a>&lt;/span>&lt;span class="cl">chronyc -a tracking
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Включите сетевую синхронизацию времени:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-14-1">&lt;a class="lnlinks" href="#hl-14-1">1&lt;/a>&lt;/span>&lt;span class="cl">timedatectl set-ntp &lt;span class="nb">true&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Проверьте, работает ли он:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-15-1">&lt;a class="lnlinks" href="#hl-15-1">1&lt;/a>&lt;/span>&lt;span class="cl">timedatectl status
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="разрешение-имён">&lt;span class="section-num">3.6&lt;/span> Разрешение имён&lt;/h3>
&lt;h4 id="systemd-resolved">&lt;span class="section-num">3.6.1&lt;/span> systemd-resolved&lt;/h4>
&lt;ul>
&lt;li>Можно установить кеширующий локальный name-server &lt;code>systemd-resolved&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-16-1">&lt;a class="lnlinks" href="#hl-16-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install systemd-resolved
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Файл настройки: &lt;code>/etc/systemd/resolved.conf&lt;/code>.&lt;/li>
&lt;li>Можно в нём ничего не менять.&lt;/li>
&lt;li>Запустим службу:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-17-1">&lt;a class="lnlinks" href="#hl-17-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> --now systemd-resolved.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установите резольвер:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-18-1">&lt;a class="lnlinks" href="#hl-18-1">1&lt;/a>&lt;/span>&lt;span class="cl">ln -snf /run/systemd/resolve/stub-resolv.conf /etc/resolv.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Проверить работу можно командой:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-19-1">&lt;a class="lnlinks" href="#hl-19-1">1&lt;/a>&lt;/span>&lt;span class="cl">resolvectl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="повышение-комфорта-работы">&lt;span class="section-num">3.7&lt;/span> Повышение комфорта работы&lt;/h3>
&lt;ul>
&lt;li>Программы для удобства работы в консоли:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-20-1">&lt;a class="lnlinks" href="#hl-20-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install tmux perl-DateTime-HiRes mc kitty-terminfo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Программы мониторинга:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-21-1">&lt;a class="lnlinks" href="#hl-21-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install htop lsof
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Утилита для ssh:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-22-1">&lt;a class="lnlinks" href="#hl-22-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install mosh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Удобство работы с bash:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-23-1">&lt;a class="lnlinks" href="#hl-23-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install bash-completion bash-color-prompt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Разные утилиты:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-24-1">&lt;a class="lnlinks" href="#hl-24-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install wget git tar zstd p7zip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="отключение-графического-интерфейса">&lt;span class="section-num">3.8&lt;/span> Отключение графического интерфейса&lt;/h3>
&lt;ul>
&lt;li>Посмотрите, в каком режиме загружается сервер:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-25-1">&lt;a class="lnlinks" href="#hl-25-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl get-default
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Если результатом является &lt;code>graphical.target&lt;/code>, то отключите загрузку графического интерфейса.&lt;/li>
&lt;li>Переключите на загрузку в терминальном многопользовательском режиме:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-26-1">&lt;a class="lnlinks" href="#hl-26-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl set-default multi-user.target
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="безопасность">&lt;span class="section-num">3.9&lt;/span> Безопасность&lt;/h3>
&lt;h4 id="fail2ban">&lt;span class="section-num">3.9.1&lt;/span> Fail2ban&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>Защита от атак:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-27-1">&lt;a class="lnlinks" href="#hl-27-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install fail2ban
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Следует сконфигурировать (см. &lt;a href="https://yamadharma.github.io/ru/post/2023/10/30/fail2ban-basic-settings/">fail2ban. Основные настройки&lt;/a>) и запустить:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-28-1">&lt;a class="lnlinks" href="#hl-28-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> --now fail2ban.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Проверьте работу:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-29-1">&lt;a class="lnlinks" href="#hl-29-1">1&lt;/a>&lt;/span>&lt;span class="cl">tail -f /var/log/fail2ban.log
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="администрирование">&lt;span class="section-num">3.10&lt;/span> Администрирование&lt;/h3>
&lt;h4 id="автоматическое-обновление">&lt;span class="section-num">3.10.1&lt;/span> Автоматическое обновление&lt;/h4>
&lt;ul>
&lt;li>При необходимости можно использовать автоматическое обновление (см. &lt;a href="https://yamadharma.github.io/ru/post/2022/09/25/redhat-based-systems-auto-update/">Автообновление систем на базе деривативов RedHat&lt;/a>).&lt;/li>
&lt;li>Установка программного обеспечения:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-30-1">&lt;a class="lnlinks" href="#hl-30-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install dnf-automatic
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Задаёте необходимую конфигурацию в файле &lt;code>/etc/dnf/automatic.conf&lt;/code>.&lt;/li>
&lt;li>Запустите таймер:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-31-1">&lt;a class="lnlinks" href="#hl-31-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> --now dnf-automatic.timer
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="установка-дополнительного-программного-обеспечения">&lt;span class="section-num">4&lt;/span> Установка дополнительного программного обеспечения&lt;/h2>
&lt;ul>
&lt;li>Описываются дополнительные пакеты для специализированных серверов.&lt;/li>
&lt;/ul>
&lt;h3 id="утилиты">&lt;span class="section-num">4.1&lt;/span> Утилиты&lt;/h3>
&lt;h4 id="rsync">&lt;span class="section-num">4.1.1&lt;/span> rsync&lt;/h4>
&lt;ul>
&lt;li>Установим rsync:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-32-1">&lt;a class="lnlinks" href="#hl-32-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install rsync
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="безопасность">&lt;span class="section-num">4.2&lt;/span> Безопасность&lt;/h3>
&lt;h4 id="работа-с-let-s-encrypt">&lt;span class="section-num">4.2.1&lt;/span> Работа с Let&amp;rsquo;s Encrypt&lt;/h4>
&lt;ul>
&lt;li>Установим certbot:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-33-1">&lt;a class="lnlinks" href="#hl-33-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install certbot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установим модуль под Apache:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-34-1">&lt;a class="lnlinks" href="#hl-34-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install python3-certbot-apache
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Если используется Nginx, установим модуль под Nginx:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-35-1">&lt;a class="lnlinks" href="#hl-35-1">1&lt;/a>&lt;/span>&lt;span class="cl">install certbot python3-certbot-nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="синхронизация-времени">&lt;span class="section-num">4.3&lt;/span> Синхронизация времени&lt;/h3>
&lt;h4 id="systemd-timesyncd">&lt;span class="section-num">4.3.1&lt;/span> systemd-timesyncd&lt;/h4>
&lt;ul>
&lt;li>Можно использовать альтернативный метод синхронизации времени из пакета systemd.&lt;/li>
&lt;li>Установите демон синхронизации:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-36-1">&lt;a class="lnlinks" href="#hl-36-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install systemd-timesyncd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Запустите демон:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-37-1">&lt;a class="lnlinks" href="#hl-37-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> --now systemd-timesyncd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Включите сетевую синхронизацию времени:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-38-1">&lt;a class="lnlinks" href="#hl-38-1">1&lt;/a>&lt;/span>&lt;span class="cl">timedatectl set-ntp &lt;span class="nb">true&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Проверьте, работает ли он:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-39-1">&lt;a class="lnlinks" href="#hl-39-1">1&lt;/a>&lt;/span>&lt;span class="cl">timedatectl status
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Подробная информация:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-40-1">&lt;a class="lnlinks" href="#hl-40-1">1&lt;/a>&lt;/span>&lt;span class="cl">timedatectl timesync-status
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="сервер-сетевого-времени">&lt;span class="section-num">4.3.2&lt;/span> Сервер сетевого времени&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>В файле &lt;code>/etc/chrony.conf&lt;/code> Разрешите подключение клиентов из локальной сети:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="ln" id="hl-41-1">&lt;a class="lnlinks" href="#hl-41-1">1&lt;/a>&lt;/span>&lt;span class="cl">allow 192.168.0.0/16
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Запустите сервер сетевого времени:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-42-1">&lt;a class="lnlinks" href="#hl-42-1">1&lt;/a>&lt;/span>&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> --now chronyd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Проверьте пулы NTP:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-43-1">&lt;a class="lnlinks" href="#hl-43-1">1&lt;/a>&lt;/span>&lt;span class="cl">chronyc sources
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Проверьте состояние синхронизации NTP:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-44-1">&lt;a class="lnlinks" href="#hl-44-1">1&lt;/a>&lt;/span>&lt;span class="cl">chronyc tracking
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Чтобы принимать входящие запросы клиентов, разрешите службу NTP через брандмауэр:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-45-1">&lt;a class="lnlinks" href="#hl-45-1">1&lt;/a>&lt;/span>&lt;span class="cl">firewall-cmd --permanent --add-service&lt;span class="o">=&lt;/span>ntp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Перезапустите брандмауэр:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-46-1">&lt;a class="lnlinks" href="#hl-46-1">1&lt;/a>&lt;/span>&lt;span class="cl">firewall-cmd --reload
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="вариации-на-тему-стека-lamp--linux-apache-mysql-php">&lt;span class="section-num">4.4&lt;/span> Вариации на тему стека LAMP (Linux, Apache, MySQL, PHP)&lt;/h3>
&lt;ul>
&lt;li>Устанавливается, если необходимо поддерживать приложение на PHP.&lt;/li>
&lt;li>Обычно используются базы данных Mysql или Postgresql.&lt;/li>
&lt;/ul>
&lt;h4 id="apache">&lt;span class="section-num">4.4.1&lt;/span> Apache&lt;/h4>
&lt;ul>
&lt;li>Установка Apache:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-47-1">&lt;a class="lnlinks" href="#hl-47-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install httpd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установка поддержки HTTPS:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-48-1">&lt;a class="lnlinks" href="#hl-48-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install mod_ssl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="php">&lt;span class="section-num">4.4.2&lt;/span> PHP&lt;/h4>
&lt;ul>
&lt;li>Установим php:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-49-1">&lt;a class="lnlinks" href="#hl-49-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install php
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="mysql">&lt;span class="section-num">4.4.3&lt;/span> Mysql&lt;/h4>
&lt;ul>
&lt;li>Установим &lt;em>mariadb&lt;/em>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-50-1">&lt;a class="lnlinks" href="#hl-50-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install mariadb
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-50-2">&lt;a class="lnlinks" href="#hl-50-2">2&lt;/a>&lt;/span>&lt;span class="cl">dnf install mariadb-server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установим модуль для php:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-51-1">&lt;a class="lnlinks" href="#hl-51-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install php-mysqlnd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="администрирование">&lt;span class="section-num">4.5&lt;/span> Администрирование&lt;/h3>
&lt;h4 id="резервное-копирование">&lt;span class="section-num">4.5.1&lt;/span> Резервное копирование&lt;/h4>
&lt;ul>
&lt;li>Для резервного копирования используется &lt;em>restic&lt;/em>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-52-1">&lt;a class="lnlinks" href="#hl-52-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install restic
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="файловые-системы">&lt;span class="section-num">4.6&lt;/span> Файловые системы&lt;/h3>
&lt;h4 id="glusterfs">&lt;span class="section-num">4.6.1&lt;/span> GlusterFS&lt;/h4>
&lt;ul>
&lt;li>Установите пакет для последнего релиза GlusterFS (см. &lt;a href="https://wiki.centos.org/SpecialInterestGroup/Storage" target="_blank" rel="noopener">https://wiki.centos.org/SpecialInterestGroup/Storage&lt;/a>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-53-1">&lt;a class="lnlinks" href="#hl-53-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install centos-release-gluster
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Установка клиента GlusterFS:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-54-1">&lt;a class="lnlinks" href="#hl-54-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf install glusterfs
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-54-2">&lt;a class="lnlinks" href="#hl-54-2">2&lt;/a>&lt;/span>&lt;span class="cl">dnf install glusterfs-fuse
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="dns-сервера">&lt;span class="section-num">4.7&lt;/span> DNS сервера&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2023/05/23/dns-powerdns-recursor/">DNS. PowerDNS Recursor&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2023/09/19/dns-bind/">DNS. Bind&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="контроль-версий">&lt;span class="section-num">4.8&lt;/span> Контроль версий&lt;/h3>
&lt;h4 id="git">&lt;span class="section-num">4.8.1&lt;/span> git&lt;/h4>
&lt;ul>
&lt;li>Установите &lt;code>git&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-55-1">&lt;a class="lnlinks" href="#hl-55-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install git
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="cvs">&lt;span class="section-num">4.8.2&lt;/span> cvs&lt;/h4>
&lt;ul>
&lt;li>Установите &lt;code>cvs&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-56-1">&lt;a class="lnlinks" href="#hl-56-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y install cvs
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="средства-разработки">&lt;span class="section-num">4.9&lt;/span> Средства разработки&lt;/h3>
&lt;ul>
&lt;li>Установим группу средств разработки:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-57-1">&lt;a class="lnlinks" href="#hl-57-1">1&lt;/a>&lt;/span>&lt;span class="cl">dnf -y group install &lt;span class="s2">&amp;#34;Development Tools&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Porteus Kiosk</title><link>https://yamadharma.github.io/ru/post/2022/02/15/porteus-kiosk/</link><pubDate>Tue, 15 Feb 2022 11:36:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2022/02/15/porteus-kiosk/</guid><description>&lt;p>&lt;em>Porteus Kiosk&lt;/em> &amp;mdash; дистрибутив Linux, реализующий режим киоска (см. &lt;a href="https://yamadharma.github.io/ru/post/2022/02/15/kiosk-mode/">Режим киоска&lt;/a>).&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#поддерживаемые-архитектуры">&lt;span class="section-num">1.1&lt;/span> Поддерживаемые архитектуры&lt;/a>&lt;/li>
&lt;li>&lt;a href="#ограничения">&lt;span class="section-num">1.2&lt;/span> Ограничения&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#структура-дистрибутива">&lt;span class="section-num">2&lt;/span> Структура дистрибутива&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#модульная-структура">&lt;span class="section-num">2.1&lt;/span> Модульная структура&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#видео">&lt;span class="section-num">3&lt;/span> Видео&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#конфигурация-на-сервере">&lt;span class="section-num">3.1&lt;/span> Конфигурация на сервере&lt;/a>&lt;/li>
&lt;li>&lt;a href="#установка">&lt;span class="section-num">3.2&lt;/span> Установка&lt;/a>&lt;/li>
&lt;li>&lt;a href="#использование-после-установки">&lt;span class="section-num">3.3&lt;/span> Использование после установки&lt;/a>&lt;/li>
&lt;li>&lt;a href="#удалённый-доступ">&lt;span class="section-num">3.4&lt;/span> Удалённый доступ&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Сайт: &lt;a href="http://porteus-kiosk.org/" target="_blank" rel="noopener">http://porteus-kiosk.org/&lt;/a>&lt;/li>
&lt;li>Есть централизованные платные сервисы.&lt;/li>
&lt;/ul>
&lt;h3 id="поддерживаемые-архитектуры">&lt;span class="section-num">1.1&lt;/span> Поддерживаемые архитектуры&lt;/h3>
&lt;ul>
&lt;li>Поддерживается только архитектура &lt;em>x86_64&lt;/em>.&lt;/li>
&lt;/ul>
&lt;h3 id="ограничения">&lt;span class="section-num">1.2&lt;/span> Ограничения&lt;/h3>
&lt;ul>
&lt;li>Заблокирован доступ к скачиванию модулей дистрибутива из России.&lt;/li>
&lt;/ul>
&lt;h2 id="структура-дистрибутива">&lt;span class="section-num">2&lt;/span> Структура дистрибутива&lt;/h2>
&lt;h3 id="модульная-структура">&lt;span class="section-num">2.1&lt;/span> Модульная структура&lt;/h3>
&lt;ul>
&lt;li>Часть программного обеспечения реализовано в виде модулей.&lt;/li>
&lt;li>Можно собирать собственный вариант дистрибутива с необходимыми модулями.&lt;/li>
&lt;li>Список модулей:
&lt;ul>
&lt;li>Citrix Receiver.&lt;/li>
&lt;li>Дополнительные шрифты.&lt;/li>
&lt;li>Поддержка печати для локальных и сетевых принтеров.&lt;/li>
&lt;li>Поддержка загрузки по PXE.&lt;/li>
&lt;li>Службы SSH и VNC для удалённого управления и мониторинга киоска&lt;/li>
&lt;li>Поддержка UEFI.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="видео">&lt;span class="section-num">3&lt;/span> Видео&lt;/h2>
&lt;h3 id="конфигурация-на-сервере">&lt;span class="section-num">3.1&lt;/span> Конфигурация на сервере&lt;/h3>
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/3FmzjSAVHuc?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
>&lt;/iframe>
&lt;/div>
&lt;h3 id="установка">&lt;span class="section-num">3.2&lt;/span> Установка&lt;/h3>
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/gWEFRG4mOl4?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
>&lt;/iframe>
&lt;/div>
&lt;h3 id="использование-после-установки">&lt;span class="section-num">3.3&lt;/span> Использование после установки&lt;/h3>
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/TCykM713AjA?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
>&lt;/iframe>
&lt;/div>
&lt;h3 id="удалённый-доступ">&lt;span class="section-num">3.4&lt;/span> Удалённый доступ&lt;/h3>
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/ZAA-ftK5eA0?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
>&lt;/iframe>
&lt;/div></description></item><item><title>CentOS 8. Изменение адресов репозиториев</title><link>https://yamadharma.github.io/ru/post/2022/02/10/centos8-changing-repository-addresses/</link><pubDate>Thu, 10 Feb 2022 14:39:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2022/02/10/centos8-changing-repository-addresses/</guid><description>&lt;p>С 31 января 2022 года установка пакетов или обновление репозиториев в CentOS8 выдаёт ошибку.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#ошибка">&lt;span class="section-num">1&lt;/span> Ошибка&lt;/a>&lt;/li>
&lt;li>&lt;a href="#причины">&lt;span class="section-num">2&lt;/span> Причины&lt;/a>&lt;/li>
&lt;li>&lt;a href="#устранение">&lt;span class="section-num">3&lt;/span> Устранение&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="ошибка">&lt;span class="section-num">1&lt;/span> Ошибка&lt;/h2>
&lt;ul>
&lt;li>При работе с репозиториями в CentOS 8 появилась ошибка:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">Error: Failed to download metadata &lt;span class="k">for&lt;/span> repo &lt;span class="s1">&amp;#39;repo_name&amp;#39;&lt;/span>: Cannot prepare internal mirrorlist: No URLs in mirrorlist
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="причины">&lt;span class="section-num">2&lt;/span> Причины&lt;/h2>
&lt;ul>
&lt;li>31 января 2022 года удалены все пакеты для &lt;em>CentOS8&lt;/em> с официальных зеркал.&lt;/li>
&lt;li>Вызвано прекращением поддержки &lt;em>CentOS8&lt;/em> (см. &lt;a href="https://yamadharma.github.io/ru/post/2021/05/25/replacing-centos/">Замена Centos&lt;/a>).&lt;/li>
&lt;li>Теперь они перенесены на &lt;a href="https://vault.centos.org" target="_blank" rel="noopener">https://vault.centos.org&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h2 id="устранение">&lt;span class="section-num">3&lt;/span> Устранение&lt;/h2>
&lt;ul>
&lt;li>Следует обновить файлы описания репозиториев в &lt;code>/etc/yum.repos.d&lt;/code>.&lt;/li>
&lt;li>Следует использовать &lt;code>vault.centos.org&lt;/code> вместо &lt;code>mirror.centos.org&lt;/code>.&lt;/li>
&lt;li>Предлагается выполнить следующие команды:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-1-1">&lt;a class="lnlinks" href="#hl-1-1">1&lt;/a>&lt;/span>&lt;span class="cl">sudo sed -i -e &lt;span class="s2">&amp;#34;s|mirrorlist=|#mirrorlist=|g&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-1-2">&lt;a class="lnlinks" href="#hl-1-2">2&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="se">&lt;/span>-e &lt;span class="s2">&amp;#34;s|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="ln" id="hl-1-3">&lt;a class="lnlinks" href="#hl-1-3">3&lt;/a>&lt;/span>&lt;span class="cl">&lt;span class="se">&lt;/span>-e &lt;span class="s2">&amp;#34;s|\$contentdir|centos|g&amp;#34;&lt;/span> /etc/yum.repos.d/CentOS-*
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Шрифты в Linux</title><link>https://yamadharma.github.io/ru/post/2021/10/27/linux-fonts/</link><pubDate>Wed, 27 Oct 2021 11:36:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2021/10/27/linux-fonts/</guid><description>&lt;p>Работа со шрифтами в Linux.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#установка-шрифтов-microsoft">&lt;span class="section-num">1&lt;/span> Установка шрифтов Microsoft&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#основные-шрифты-microsoft">&lt;span class="section-num">1.1&lt;/span> Основные шрифты Microsoft&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#шрифты-для-программирования">&lt;span class="section-num">2&lt;/span> Шрифты для программирования&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="установка-шрифтов-microsoft">&lt;span class="section-num">1&lt;/span> Установка шрифтов Microsoft&lt;/h2>
&lt;h3 id="основные-шрифты-microsoft">&lt;span class="section-num">1.1&lt;/span> Основные шрифты Microsoft&lt;/h3>
&lt;h4 id="ubuntu">&lt;span class="section-num">1.1.1&lt;/span> Ubuntu&lt;/h4>
&lt;ul>
&lt;li>Шрифты Microsoft не идут под свободной лицензией.&lt;/li>
&lt;li>Для работы с ними нужно установить соответствующий пакет:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="ln" id="hl-0-1">&lt;a class="lnlinks" href="#hl-0-1">1&lt;/a>&lt;/span>&lt;span class="cl">apt-get install ttf-mscorefonts-installer
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Вас попросят принять лицензию (EULA), после этого будут скачаны соответствующие шрифты (в виде архивов), распакованы и установлены в системе.&lt;/li>
&lt;li>Скачиваются они с проекта &lt;em>Corefonts&lt;/em> (&lt;a href="http://corefonts.sourceforge.net/" target="_blank" rel="noopener">http://corefonts.sourceforge.net/&lt;/a>).&lt;/li>
&lt;li>Обычно устанавливаются шрифты в каталог &lt;code>/usr/share/fonts/truetype/msttcorefonts&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h2 id="шрифты-для-программирования">&lt;span class="section-num">2&lt;/span> Шрифты для программирования&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2021/05/21/monospace-fonts/">Моноширинные шрифты&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Выбор дистрибутива Linux</title><link>https://yamadharma.github.io/ru/post/2021/08/08/choosing-linux-distribution/</link><pubDate>Sun, 08 Aug 2021 11:20:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2021/08/08/choosing-linux-distribution/</guid><description>&lt;p>Какой дистрибутив Linux выбрать.&lt;/p>
&lt;details class="toc-inpage d-print-none " open>
&lt;summary class="font-weight-bold">Содержание&lt;/summary>
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="#серверный-компьютерный-парк">&lt;span class="section-num">1&lt;/span> Серверный компьютерный парк&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#требования">&lt;span class="section-num">1.1&lt;/span> Требования&lt;/a>&lt;/li>
&lt;li>&lt;a href="#реализация">&lt;span class="section-num">1.2&lt;/span> Реализация&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#обучение">&lt;span class="section-num">2&lt;/span> Обучение&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#дисплейные-классы">&lt;span class="section-num">2.1&lt;/span> Дисплейные классы&lt;/a>&lt;/li>
&lt;li>&lt;a href="#домашние-компьютеры-студентов">&lt;span class="section-num">2.2&lt;/span> Домашние компьютеры студентов&lt;/a>&lt;/li>
&lt;li>&lt;a href="#специализированные-дистрибутивы-для-разных-предметов">&lt;span class="section-num">2.3&lt;/span> Специализированные дистрибутивы для разных предметов&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#личное-использование">&lt;span class="section-num">3&lt;/span> Личное использование&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#требования">&lt;span class="section-num">3.1&lt;/span> Требования&lt;/a>&lt;/li>
&lt;li>&lt;a href="#реализация">&lt;span class="section-num">3.2&lt;/span> Реализация&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/details>
&lt;h2 id="серверный-компьютерный-парк">&lt;span class="section-num">1&lt;/span> Серверный компьютерный парк&lt;/h2>
&lt;h3 id="требования">&lt;span class="section-num">1.1&lt;/span> Требования&lt;/h3>
&lt;ul>
&lt;li>Стабильность дистрибутива.&lt;/li>
&lt;li>Всё должно делаться само.&lt;/li>
&lt;li>Как можно больше автоматизации.&lt;/li>
&lt;/ul>
&lt;h3 id="реализация">&lt;span class="section-num">1.2&lt;/span> Реализация&lt;/h3>
&lt;ul>
&lt;li>Под описание подходят:
&lt;ul>
&lt;li>Debian;&lt;/li>
&lt;li>Ubuntu;&lt;/li>
&lt;li>Red Hat.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>В качестве основного дистрибутива была принята CentOS.&lt;/li>
&lt;li>В связи с пертурбациями вокруг CentOS (см. &lt;a href="https://yamadharma.github.io/ru/post/2021/05/25/replacing-centos/">Замена Centos&lt;/a>), предполагается замена на Rocky Linux.&lt;/li>
&lt;/ul>
&lt;h2 id="обучение">&lt;span class="section-num">2&lt;/span> Обучение&lt;/h2>
&lt;h3 id="дисплейные-классы">&lt;span class="section-num">2.1&lt;/span> Дисплейные классы&lt;/h3>
&lt;h4 id="требования">&lt;span class="section-num">2.1.1&lt;/span> Требования&lt;/h4>
&lt;h4 id="реализация">&lt;span class="section-num">2.1.2&lt;/span> Реализация&lt;/h4>
&lt;ul>
&lt;li>В дисплейных классах развёрнут дистрибутив Gentoo.&lt;/li>
&lt;li>Это позволяет настраивать систему так, как будет нужным.&lt;/li>
&lt;/ul>
&lt;h3 id="домашние-компьютеры-студентов">&lt;span class="section-num">2.2&lt;/span> Домашние компьютеры студентов&lt;/h3>
&lt;h3 id="специализированные-дистрибутивы-для-разных-предметов">&lt;span class="section-num">2.3&lt;/span> Специализированные дистрибутивы для разных предметов&lt;/h3>
&lt;h2 id="личное-использование">&lt;span class="section-num">3&lt;/span> Личное использование&lt;/h2>
&lt;h3 id="требования">&lt;span class="section-num">3.1&lt;/span> Требования&lt;/h3>
&lt;ul>
&lt;li>Гибкость.&lt;/li>
&lt;li>Возможность поставить любую программу, любой версии.&lt;/li>
&lt;/ul>
&lt;h3 id="реализация">&lt;span class="section-num">3.2&lt;/span> Реализация&lt;/h3>
&lt;ul>
&lt;li>Для личного использования применяю Gentoo.&lt;/li>
&lt;/ul></description></item><item><title>Мне отмщение и аз воздам</title><link>https://yamadharma.github.io/ru/post/2007/09/15/mne-otmschenie-i-az-vozdam/</link><pubDate>Sat, 15 Sep 2007 19:57:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2007/09/15/mne-otmschenie-i-az-vozdam/</guid><description>&lt;p>SCO объявили себя банкротами.&lt;/p></description></item><item><title>К вопросу о настройке маршрутизатора ASUS WL-500gP</title><link>https://yamadharma.github.io/ru/post/2007/01/14/k-voprosu-o-nastrojke-marshrutizatora-asus-wl-500gp/</link><pubDate>Sun, 14 Jan 2007 18:18:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2007/01/14/k-voprosu-o-nastrojke-marshrutizatora-asus-wl-500gp/</guid><description>&lt;p>При настройке возникли следующие проблемы.&lt;/p>
&lt;ol>
&lt;li>Нужно было догадаться, что сервер доступа в настройках называется Heart-Beat Server.&lt;/li>
&lt;li>Задавать маршрутизацию можно либо на на внутреннем eth (LAN), либо на внешнем ppp (WAN). Таким образом, получить доступ к домашней сети провайдера оказалось невозможным. Пришлось качать альтернативную прошивку (&lt;a href="http://oleg.wl500g.info/%29" target="_blank" rel="noopener">http://oleg.wl500g.info/)&lt;/a>, в которой возможно (кроме кучи других бонусов) задавать маршрутную таблицу на внешнем eth (MAN) интерфейсе.&lt;/li>
&lt;/ol></description></item><item><title>Работа с видео</title><link>https://yamadharma.github.io/ru/post/2007/01/10/rabota-s-video/</link><pubDate>Wed, 10 Jan 2007 22:59:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2007/01/10/rabota-s-video/</guid><description>&lt;p>Выделим несколько задач работы с видео.&lt;/p>
&lt;ol>
&lt;li>Кодирование DVD (DVD-riping). Критерии выбора ПО:
&lt;ul>
&lt;li>крайняя простота использования;&lt;/li>
&lt;li>поддержка разных кодеков, особенно H.264;&lt;/li>
&lt;li>работа с несколькими звуковыми дорожками и несколькими субтитрами;&lt;/li>
&lt;li>поддержка разных видео-контейнеров.
Пока пользуюсь &lt;a href="http://ogmrip.sourceforge.net/" target="_blank" rel="noopener">OGMRip&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Простая обработка видео. Основные задачи: обрезка, наложение фильтров, кодирование. Наиболее оптимальным  представляется &lt;a href="http://www.avidemux.org/" target="_blank" rel="noopener">avidemux&lt;/a>.&lt;/li>
&lt;li>Линейный и нелинейный монтаж. Использую пока следующие программы: &lt;a href="http://www.kinodv.org/" target="_blank" rel="noopener">kino&lt;/a> (для задач попроще) и &lt;a href="http://heroinewarrior.com/cinelerra.php3" target="_blank" rel="noopener">cinelerra&lt;/a> (более сложные задачи). Также рекомендуются: &lt;a href="http://kdenlive.sourceforge.net/" target="_blank" rel="noopener">KDEnlive&lt;/a>, &lt;a href="http://www.pitivi.org/" target="_blank" rel="noopener">PiTiVi&lt;/a>.&lt;/li>
&lt;/ol></description></item><item><title>Менеджеры изображений. F-spot.</title><link>https://yamadharma.github.io/ru/post/2006/12/06/menedzhery-izobrazhenij-f-spot/</link><pubDate>Wed, 06 Dec 2006 16:48:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2006/12/06/menedzhery-izobrazhenij-f-spot/</guid><description>&lt;p>Можно разделить менеджеры изображений на по методу упорядочивания содержимого:&lt;/p>
&lt;ul>
&lt;li>на основе каталогов;&lt;/li>
&lt;li>на основе меток.&lt;/li>
&lt;/ul>
&lt;p>Наиболее известный из последних &amp;mdash; Picasa (&lt;a href="http://picasa.google.com" target="_blank" rel="noopener">http://picasa.google.com&lt;/a>).&lt;br>
F-spot (&lt;a href="http://f-spot.org" target="_blank" rel="noopener">http://f-spot.org&lt;/a>) использует эту же парадигму.&lt;br>
Особенности F-spot.&lt;/p>
&lt;ol>
&lt;li>Не индексирует весь диск автоматически. Нужно добавлять необходимые каталоги или файлы (можно и с фотокамеры).&lt;/li>
&lt;li>При импорте изображений логично сразу присвоить им метку.&lt;/li>
&lt;li>При импорте отмечен пункт &amp;ldquo;копировать файлы в каталог Pictures&amp;rdquo;. Я отключаю эту возможность. К сожалению, выбор не сохраняется.&lt;/li>
&lt;li>Метки могут иметь иерархическую структуру. Изображению можно присвоить несколько меток.&lt;/li>
&lt;li>Из программы можно экспортировать изображения в &lt;a href="http://www.flickr.com/" title="http://www.flickr.com" target="_blank" rel="noopener">Flickr&lt;/a> (&lt;a href="http://www.flickr.com/" target="_blank" rel="noopener">http://www.flickr.com&lt;/a>), &lt;a href="http://picasaweb.google.com/" title="http://picasaweb.google.com" target="_blank" rel="noopener">Picasa Web&lt;/a> (&lt;a href="http://picasaweb.google.com" target="_blank" rel="noopener">http://picasaweb.google.com&lt;/a>), а также на сайты с движком &lt;a href="http://gallery.sourceforge.net/" title="http://gallery.sourceforge.net/" target="_blank" rel="noopener">Gallery&lt;/a> (&lt;a href="http://o.r.i.g.i.n.a.l.%20%28http//jimmac.musichall.cz/original.php%29" target="_blank" rel="noopener">http://gallery.sourceforge.net&lt;/a>) и &lt;a href="http://jimmac.musichall.cz/original.php" title="http://jimmac.musichall.cz/original.php" target="_blank" rel="noopener">O.r.i.g.i.n.a.l.&lt;/a> (&lt;a href="http://o.r.i.g.i.n.a.l.%20%28http//jimmac.musichall.cz/original.php%29" target="_blank" rel="noopener">http://jimmac.musichall.cz/original.php&lt;/a>).&lt;/li>
&lt;li>Завёл аккаунт на Flickr, экспортировал изображение. Метки тоже экспортировались.&lt;/li>
&lt;/ol>
&lt;p> &lt;/p></description></item><item><title>Gnash</title><link>https://yamadharma.github.io/ru/post/2006/11/11/23-44-00/</link><pubDate>Sat, 11 Nov 2006 23:44:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2006/11/11/23-44-00/</guid><description>&lt;p>Поставил gnash из cvs. Встал. Наконец заработал звук.&lt;/p></description></item><item><title>amd64 и flash</title><link>https://yamadharma.github.io/ru/post/2006/09/24/amd64-i-flash/</link><pubDate>Sun, 24 Sep 2006 15:19:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2006/09/24/amd64-i-flash/</guid><description>&lt;p>Попробовал использовать сначала &lt;code>nspluginwrapper&lt;/code>. Работает хорошо. Через &lt;code>qemu&lt;/code>. Но &lt;code>qemu&lt;/code>, откомпилированный &lt;code>gcc-4&lt;/code>, не работает. Поэтому пришлось перейти на &lt;code>gnash&lt;/code>. Snapshot августовский не откомпилировался. Июньский нормально, но нет звука. Поставил из cvs &amp;mdash; проблемы с прозрачностью. Звука тоже нет.&lt;/p></description></item><item><title>Юбилей</title><link>https://yamadharma.github.io/ru/post/2006/08/25/23-12-00/</link><pubDate>Fri, 25 Aug 2006 23:12:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2006/08/25/23-12-00/</guid><description>&lt;p>25 августа исполняется 15 лет Linux&amp;rsquo;у.&lt;/p></description></item><item><title>Gentoo: конвертация из x86 в x86_64 (2)</title><link>https://yamadharma.github.io/ru/post/2006/08/21/gentoo-konvertatsija-iz-x86-v-x86-64-2/</link><pubDate>Mon, 21 Aug 2006 12:19:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2006/08/21/gentoo-konvertatsija-iz-x86-v-x86-64-2/</guid><description>&lt;ol>
&lt;li>Провозившись с данной проблемой выходные (и частично неделю),
провёл конвертацию.&lt;/li>
&lt;li>Оказалось, что всё очень просто.&lt;/li>
&lt;li>Однако, после начала обновления системы (&lt;code>emerge -e system&lt;/code>), стали
отваливаться приложения (не могут подгрузить библиотеки).&lt;/li>
&lt;li>К сожалению, в новом профайле не поддерживается построение
библиотек под несколько архитектур (может, просто я не знаю).&lt;/li>
&lt;li>Хотя в консоли всё функционирует нормально.&lt;/li>
&lt;li>Скоро, надеюсь, всё конвертну.&lt;/li>
&lt;/ol></description></item><item><title>Gentoo: конвертация из x86 в x86_64</title><link>https://yamadharma.github.io/ru/post/2006/08/18/gentoo-konvertatsija-iz-x86-v-x86-64/</link><pubDate>Fri, 18 Aug 2006 09:21:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2006/08/18/gentoo-konvertatsija-iz-x86-v-x86-64/</guid><description>&lt;ol>
&lt;li>На недавно обновлённом компьютере (до этого был Pentium III)
крутится 32-битная ОС (Gentoo Linux) (Hurd и Plan9 не учитываю).&lt;/li>
&lt;li>Решил конвертнуть в 64-битную. Однако документации по этому вопросу
не нашёл.&lt;/li>
&lt;li>Так-что решил заняться самодеятельностью. Как получится, напишу об этом (с приложением скриптов).&lt;/li>
&lt;/ol></description></item></channel></rss>