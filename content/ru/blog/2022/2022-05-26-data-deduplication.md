---
title: "Дедупликация данных"
author: ["Dmitry S. Kulyabov"]
date: 2022-05-26T13:31:00+03:00
lastmod: 2023-07-12T18:10:00+03:00
tags: ["sysadmin"]
categories: ["computer-science"]
draft: false
slug: "data-deduplication"
---

Дедупликация данных.

<!--more-->

{{< toc >}}


## <span class="section-num">1</span> Общая информация {#общая-информация}

-   Дедупликация данных есть процесс, при котором устраняются избыточные копии информации.
-   Снижаются текущие расходы на хранение информации.
-   Дедупликация позволяет сохранять на носителях исключительно одну уникальную единицу информации.
-   У дедупликации данных есть несколько уровней детализации:
    -   байты;
    -   файлы;
    -   блоки.


## <span class="section-num">2</span> Оценка метода {#оценка-метода}


### <span class="section-num">2.1</span> Положительные стороны дедупликации {#положительные-стороны-дедупликации}

-   Высокая эффективность хранения информации.
-   Выгодность применения при низкой пропускной способности сети.
-   Возможность чаще создавать бэкапы и хранить резервные копии данных дольше.


### <span class="section-num">2.2</span> Отрицательные стороны дедупликации {#отрицательные-стороны-дедупликации}

-   Возможность возникновения конфликта данных (коллизии), если одновременно пара разных блоков генерируют один и тот же хеш-ключ.


## <span class="section-num">3</span> Уровни детализации дедупликации {#уровни-детализации-дедупликации}


### <span class="section-num">3.1</span> Уровень блоков {#уровень-блоков}

-   Наиболее популярный метод дедупликации.
-   Проводится анализ данных по блокам, с дальнейшим сохранением лишь уникальных повторений информации для каждого отдельно взятого блока.
-   Блоком считается одна логическая единица информации с характерным размером, который может варьироваться.
-   Все данные при дедупликации на уровне блоков обрабатываются с применением хеширования.
-   Хеш-алгоритмы позволяют создавать и хранить в базе дедупликации определённую сигнатуру (идентификатор), которая соответствует каждому отдельно взятому уникальному блоку данных.
-   Разновидности блочной дедупликации:
    -   с переменной длиной блока;
    -   с постоянной длиной блока.


### <span class="section-num">3.2</span> Уровень файлов {#уровень-файлов}

-   Проводится сравнение нового файла с уже сохранённым.
-   Сохраняется только ссылка на файл.
-   Главное преимущество --- простота реализации.


### <span class="section-num">3.3</span> Уровень байтов {#уровень-байтов}

-   Проводится анализ данных по байтам.
-   Очень ресурсоёмко.


## <span class="section-num">4</span> Место выполнения дедупликации {#место-выполнения-дедупликации}

-   Выполнение дедупликации можно классифицировать по:
    -   месту выполнения;
    -   источнику данных (клиенту);
    -   стороне хранения (серверу).


### <span class="section-num">4.1</span> Дедупликация клиент-сервер {#дедупликация-клиент-сервер}

-   Необходимые процессы могут запускаться как на сервере, так и на клиенте.
-   Вычисляется хеш у каждого блока данных, после чего хеш отправляется на сервер в виде файла-списка различных хеш-ключей.
-   На сервере производится сравнение списка этих ключей, а затем клиенту отправляются блоки с данными.


### <span class="section-num">4.2</span> Дедупликация на клиенте {#дедупликация-на-клиенте}

-   Выполняется на источнике данных.
-   После завершения процесса данные будут отправлены на устройства хранения информации.
-   Высокая нагрузка на клиента (ОЗУ и процессор).
-   Низкие требования к пропускной способности сети.


### <span class="section-num">4.3</span> Дедупликация на сервере {#дедупликация-на-сервере}

-   Данные поступают на сервер в полностью необработанном виде (без кодирования и сжатия).


#### <span class="section-num">4.3.1</span> Аппаратный тип {#аппаратный-тип}

-   Устройство дедупликации представляет собой аппаратного решение, объединяющем логику дедупликации и процедуру восстановления данных.


#### <span class="section-num">4.3.2</span> Программный тип {#программный-тип}

-   Используется специальное программное обеспечения.


## <span class="section-num">5</span> Реализации {#реализации}

-   [Дедупликация файлов в Linux]({{< relref "2022-05-26-file-deduplication-linux" >}})
-   [Дедупликация файловой системы btrfs]({{< relref "2022-05-26-deduplication-btrfs-filesystem" >}})
