---
title: "GNS3 на Hyper-V"
author: ["Dmitry S. Kulyabov"]
date: 2022-11-29T14:05:00+03:00
lastmod: 2023-10-06T20:14:00+03:00
tags: ["education", "network"]
categories: ["computer-science"]
draft: false
slug: "gns3-hyperv"
---

<!--more-->

{{< toc >}}


## <span class="section-num">1</span> Общая информация {#общая-информация}

-   Начиная с Windows 10 и Windows Server 2016 поддерживается _nested virtualization_, т.е. возможно запускать гипервизоры внутри виртуальных машин.
-   В BIOS вашего ПК должна быть активирована технология виртуализации.


## <span class="section-num">2</span> Установка Hyper-V {#установка-hyper-v}

-   Добавим роль Hyper-V.
-   Откроем PowerShell от имени Администратора.
-   Введём команду:
    ```shell
    Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Hyper-V -All
    ```
-   Перезагружаем компьютер.
-   Проверим работоспособность.
-   Запустим диспетчер Hyper-V от имени администратора:
    ```shell
    virtmgmt.msc
    ```
-   Это можно сделать и из меню Пуск.
-   Должен запуститься графический диспетчер Hyper-V.


## <span class="section-num">3</span> Установка GNS3 {#установка-gns3}

-   Скачайте установочный образ `GNS3-<version>-all-in-one.exe` из репозитория <https://github.com/GNS3/gns3-gui/releases>/.
-   Из этого же репозитория скачайте образ виртуальной машины `GNS3.VM.Hyper-V.<version>.zip`.
-   Впрочем, её же может скачать и установщик.
-   После установки снимите галочку _Запуск GNS3_, поскольку GNS3 запускается от имени администратора и могут возникнуть проблемы с настройкой.


## <span class="section-num">4</span> Установка виртуальной машины {#установка-виртуальной-машины}

-   Распакуем архив с образом виртуальной машины.
-   Перейдём в папку с виртуальной машиной.
-   Разрешим запуск скриптов.
-   Откроем PowerShell от имени Администратора.
-   Выполним команду:
    ```shell
    set-executionpolicy RemoteSigned
    ```
-   Архив с виртуальной машиной уже содержит скрипт, который сам создаст виртуальную машину и добавит все настройки и выдаст вам ошибку, если расширения виртуализации не включены.
-   Запустим скрипт:
    ```shell
    create-vm.ps1
    ```
-   Отключим исполнение скриптов:
    ```shell
    set-executionpolicy Restricted
    ```


## <span class="section-num">5</span> Подключение GNS3 к виртуальной машине {#подключение-gns3-к-виртуальной-машине}

-   Запустите вручную созданную раньше виртуальную машину.
-   После успешной загрузки виртуальной машины будет выведено окно с информацией, где указан IP-адрес машины.
-   Запустите GNS3.
-   После первого запуска появится окно _Setup Wizard_.
-   Его можно запустить в любое время из меню _Help_.
-   Выберите пункт:
-   В поле _host_ вводим адрес нашего виртуального сервера, например 172.19.76.78.
-   Меняем порт на 80.
-   Нажимаем _Next_.


## <span class="section-num">6</span> Видео: Установка GNS3 на Hyper-V {#видео-установка-gns3-на-hyper-v}

{{< tabs tabTotal="2" >}}
{{< rtab tabName="RuTube" >}}

{{< rutube b8f77686a9ebc2bd59abe496a8078786 >}}

{{< /rtab >}}
{{< rtab tabName="Youtube" >}}

{{< youtube CBwoqmiMFC8 >}}

{{< /rtab >}}
{{< /tabs >}}
