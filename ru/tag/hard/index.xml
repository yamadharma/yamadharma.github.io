<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Hard | Д. С. Кулябов</title><link>https://yamadharma.github.io/ru/tag/hard/</link><atom:link href="https://yamadharma.github.io/ru/tag/hard/index.xml" rel="self" type="application/rss+xml"/><description>Hard</description><generator>Hugo Blox Builder (https://hugoblox.com)</generator><language>ru-ru</language><copyright>© 2025 Dmitry S. Kulyabov</copyright><lastBuildDate>Wed, 21 May 2025 14:00:00 +0300</lastBuildDate><image><url>https://yamadharma.github.io/media/icon_hu_c0ee34e0b47a9b95.png</url><title>Hard</title><link>https://yamadharma.github.io/ru/tag/hard/</link></image><item><title>Раскладка клавиатуры. keyd</title><link>https://yamadharma.github.io/ru/post/2025/05/21/keyboard-layout-keyd/</link><pubDate>Wed, 21 May 2025 14:00:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/05/21/keyboard-layout-keyd/</guid><description>&lt;p>Раскладка клавиатуры. keyd.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/rvaiya/keyd" target="_blank" rel="noopener">https://github.com/rvaiya/keyd&lt;/a>&lt;/li>
&lt;li>Поддержка ОС: Linux.&lt;/li>
&lt;li>Слои: Поддержка слоёв через модификаторы.&lt;/li>
&lt;li>Tap-hold: Базовая реализация через макросы.&lt;/li>
&lt;li>Макросы: Только комбинации клавиш.&lt;/li>
&lt;li>Интегрируется с X11 и Wayland через libinput, но требует настройки для виртуальных машин.&lt;/li>
&lt;li>Конфигурация: только маппирование клавиш.&lt;/li>
&lt;/ul></description></item><item><title>Клавиатура. Концепция SpaceFN</title><link>https://yamadharma.github.io/ru/post/2025/05/09/keyboard-concept-spacefn/</link><pubDate>Fri, 09 May 2025 13:15:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/05/09/keyboard-concept-spacefn/</guid><description>&lt;p>Клавиатура. Концепция SpaceFN.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#популярные-функции-для-дополнительного-слоя">&lt;span class="section-num">1.1&lt;/span> Популярные функции для дополнительного слоя&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#области-применения">&lt;span class="section-num">2&lt;/span> Области применения&lt;/a>&lt;/li>
&lt;li>&lt;a href="#преимущества">&lt;span class="section-num">3&lt;/span> Преимущества&lt;/a>&lt;/li>
&lt;li>&lt;a href="#недостатки-и-ограничения">&lt;span class="section-num">4&lt;/span> Недостатки и ограничения&lt;/a>&lt;/li>
&lt;li>&lt;a href="#рекомендации-по-настройке">&lt;span class="section-num">5&lt;/span> Рекомендации по настройке&lt;/a>&lt;/li>
&lt;li>&lt;a href="#реализации">&lt;span class="section-num">6&lt;/span> Реализации&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#xf86-input-evdev-spacefn">&lt;span class="section-num">6.1&lt;/span> xf86-input-evdev-spacefn&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#ресурсы">&lt;span class="section-num">7&lt;/span> Ресурсы&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>В подходе SpaceFN пробел является многофункциональной клавишей:
&lt;ul>
&lt;li>при коротком нажатии пробел работает как обычно;&lt;/li>
&lt;li>при удержании активируется дополнительный слой с новыми функциями.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Области применения: программирование, работа с текстом, навигация без мыши, использование на компактных клавиатурах.&lt;/li>
&lt;/ul>
&lt;h3 id="популярные-функции-для-дополнительного-слоя">&lt;span class="section-num">1.1&lt;/span> Популярные функции для дополнительного слоя&lt;/h3>
&lt;ul>
&lt;li>Навигация стрелками.&lt;/li>
&lt;li>Часто используемые символы.&lt;/li>
&lt;li>Цифры.&lt;/li>
&lt;li>Модификаторы.&lt;/li>
&lt;li>Специальные команды.&lt;/li>
&lt;/ul>
&lt;h2 id="области-применения">&lt;span class="section-num">2&lt;/span> Области применения&lt;/h2>
&lt;ul>
&lt;li>Программирование и работа с текстом
&lt;ul>
&lt;li>Навигация: стрелки на клавишах HJKL (как в Vim) или WASD для перемещения курсора без сдвига рук.&lt;/li>
&lt;li>Символы: частые символы (например, &lt;code>{}&lt;/code>, &lt;code>[]&lt;/code>, &lt;code>=+&lt;/code>) на основном слое, цифры на слое SpaceFN.&lt;/li>
&lt;li>Макросы: запуск скриптов или комбинаций клавиш через пробел + букву.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Компактные клавиатуры (60%, 40%)
&lt;ul>
&lt;li>Замена отсутствующих клавиш (F-ряда, навигационного блока) через слои.&lt;/li>
&lt;li>Пример: пробел + IJKL → стрелки, пробел + Q-P → цифры.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Эргономичные решения
&lt;ul>
&lt;li>Имитация разделенной клавиатуры: пробел + QWER и пробел + UIOP для двух половин.&lt;/li>
&lt;li>Снижение нагрузки на мизинцы (не нужно тянуться к далёким модификаторам).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Универсальные сценарии
&lt;ul>
&lt;li>Управление медиаплеером (пауза, громкость).&lt;/li>
&lt;li>Быстрый доступ к буферу обмена (Ctrl+C/V/X на слое).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="преимущества">&lt;span class="section-num">3&lt;/span> Преимущества&lt;/h2>
&lt;ul>
&lt;li>Эргономика
&lt;ul>
&lt;li>Руки остаются на домашней позиции, снижается нагрузка на запястья.&lt;/li>
&lt;li>Активация слоя большим пальцем (самый сильный палец).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Гибкость
&lt;ul>
&lt;li>Настройка под любые задачи: от навигации до запуска приложений.&lt;/li>
&lt;li>Совместимость с любыми клавиатурами, включая мембранные.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Простота освоения
&lt;ul>
&lt;li>Интуитивная логика: короткое нажатие = пробел, удержание = слой.&lt;/li>
&lt;li>Меньше ошибок при печати (не нужно запоминать сложные комбинации).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Экономия времени
&lt;ul>
&lt;li>Ускорение работы на 20-30% за счёт сокращения перемещений между клавишами.&lt;/li>
&lt;li>Пример: редактирование кода без переключения на мышь.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Доступность
&lt;ul>
&lt;li>Работает на любой стандартной клавиатуре.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Эффективность
&lt;ul>
&lt;li>Мгновенное повышение продуктивности.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Простота реализации
&lt;ul>
&lt;li>Легко настроить и освоить.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="недостатки-и-ограничения">&lt;span class="section-num">4&lt;/span> Недостатки и ограничения&lt;/h2>
&lt;ul>
&lt;li>Задержка регистрации пробела
&lt;ul>
&lt;li>Пробел срабатывает при отпускании клавиши, что может нарушить ритм быстрой печати.&lt;/li>
&lt;li>Решение: добавить пробел на слой SpaceFN для ручного повтора.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Проблемы в играх
&lt;ul>
&lt;li>Невозможность удерживать пробел для прыжков или действий (например, в платформерах).&lt;/li>
&lt;li>Обход: временное отключение SpaceFN через софт (AutoHotKey, QMK).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Усталость большого пальца
&lt;ul>
&lt;li>Длительное удержание пробела может вызвать дискомфорт.&lt;/li>
&lt;li>Советы: использовать мягкий переключатель (например, Cherry MX Red) или split-пробел.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Ограничения софта
&lt;ul>
&lt;li>Для не программируемых клавиатур требуются сторонние утилиты (KMonad для Linux, TouchCursor для Windows).&lt;/li>
&lt;li>На macOS настройка сложнее из-за ограничений системы.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>При выравнивании текста пробелами может потребоваться альтернативное решение.&lt;/li>
&lt;/ul>
&lt;h2 id="рекомендации-по-настройке">&lt;span class="section-num">5&lt;/span> Рекомендации по настройке&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>Инструменты:&lt;/p>
&lt;ul>
&lt;li>QMK/Vial для программируемых клавиатур.&lt;/li>
&lt;li>AutoHotKey (Windows) или Hammerspoon (macOS) для софтовой эмуляции.&lt;/li>
&lt;li>KMonad (кроссплатформенный).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Оптимальные тайминги:&lt;/p>
&lt;ul>
&lt;li>Время активации слоя: 150-200 мс (чтобы избежать случайных срабатываний).&lt;/li>
&lt;li>Таймаут autorepeat: отключить для слоя SpaceFN.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Пример слоя:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">Пробел + H ← | J ↓ | K ↑ | L →
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Пробел + W Ctrl+C | E Ctrl+V | R Ctrl+X
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Пробел + 1-0 → F1-F10
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="реализации">&lt;span class="section-num">6&lt;/span> Реализации&lt;/h2>
&lt;h3 id="xf86-input-evdev-spacefn">&lt;span class="section-num">6.1&lt;/span> xf86-input-evdev-spacefn&lt;/h3>
&lt;ul>
&lt;li>Описание: &lt;a href="https://www.ljosa.com/~ljosa/software/spacefn-xorg/" target="_blank" rel="noopener">https://www.ljosa.com/~ljosa/software/spacefn-xorg/&lt;/a>&lt;/li>
&lt;li>Репозиторий: &lt;a href="https://github.com/ljosa/xf86-input-evdev-spacefn" target="_blank" rel="noopener">https://github.com/ljosa/xf86-input-evdev-spacefn&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="ресурсы">&lt;span class="section-num">7&lt;/span> Ресурсы&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://kbd.news/The-SpaceFN-concept-2315.html" target="_blank" rel="noopener">https://kbd.news/The-SpaceFN-concept-2315.html&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://drop.com/talk/138510/what-is-space-fn-and-why-you-should-give-it-a-try" target="_blank" rel="noopener">https://drop.com/talk/138510/what-is-space-fn-and-why-you-should-give-it-a-try&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://geekhack.org/index.php?topic=51069.0" target="_blank" rel="noopener">https://geekhack.org/index.php?topic=51069.0&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Клавиатура. Раскладка Kenkyo</title><link>https://yamadharma.github.io/ru/post/2025/05/07/keyboard-layout-kenkyo/</link><pubDate>Wed, 07 May 2025 21:45:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/05/07/keyboard-layout-kenkyo/</guid><description>&lt;p>Клавиатура. Раскладка Kenkyo.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#принципы-дизайна">&lt;span class="section-num">2&lt;/span> Принципы дизайна&lt;/a>&lt;/li>
&lt;li>&lt;a href="#слои">&lt;span class="section-num">3&lt;/span> Слои&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#основной-слой--main">&lt;span class="section-num">3.1&lt;/span> Основной слой (Main)&lt;/a>&lt;/li>
&lt;li>&lt;a href="#слой-extend">&lt;span class="section-num">3.2&lt;/span> Слой Extend&lt;/a>&lt;/li>
&lt;li>&lt;a href="#слой-fumbol">&lt;span class="section-num">3.3&lt;/span> Слой Fumbol&lt;/a>&lt;/li>
&lt;li>&lt;a href="#аккорды--combos">&lt;span class="section-num">3.4&lt;/span> Аккорды (Combos)&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#пример-рабочего-процесса">&lt;span class="section-num">4&lt;/span> Пример рабочего процесса:&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/argenkiwi/kenkyo" target="_blank" rel="noopener">https://github.com/argenkiwi/kenkyo&lt;/a>&lt;/li>
&lt;li>Kenkyo &amp;mdash; это слоистая раскладка клавиатуры.&lt;/li>
&lt;li>Разработана для стандартных ANSI-клавиатур.&lt;/li>
&lt;li>Расширяет функциональность, сохраняя базовое поведение клавиатуры, что позволяет постепенно осваивать новые возможности без потери продуктивности.&lt;/li>
&lt;li>Принципы
&lt;ul>
&lt;li>Совместимость: не конфликтует со стандартной раскладкой.&lt;/li>
&lt;li>Эргономика: снижает нагрузку за счёт перераспределения функций.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Преимущества
&lt;ul>
&lt;li>Уменьшает движение рук за счёт слоёв и комбинаций.&lt;/li>
&lt;li>Совместима с любыми ANSI-клавиатурами (включая компактные 60-65%).&lt;/li>
&lt;li>Поддерживает «аккорды» (например, W+E = Esc, X+C = Tab).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Есть готовые конфигурационные файлы для kanata (см. &lt;a href="https://yamadharma.github.io/ru/post/2024/11/13/keymap-control-kanata/">Раскладка клавиатуры. kanata&lt;/a>) и keyd.&lt;/li>
&lt;/ul>
&lt;h2 id="принципы-дизайна">&lt;span class="section-num">2&lt;/span> Принципы дизайна&lt;/h2>
&lt;ul>
&lt;li>Эргономика: Часто используемые клавиши (Esc, Tab) доступны без движения рук.&lt;/li>
&lt;li>Совместимость: Не переопределяет стандартные сочетания (Ctrl+C, Ctrl+V работают как обычно).&lt;/li>
&lt;li>Прогрессивность: Можно начать с базовых функций (Extend), постепенно осваивая Fumbol.&lt;/li>
&lt;/ul>
&lt;h2 id="слои">&lt;span class="section-num">3&lt;/span> Слои&lt;/h2>
&lt;ul>
&lt;li>Main (основной): использует модификаторы на домашнем ряду (Home Row Modifiers) (см. &lt;a href="https://yamadharma.github.io/ru/post/2025/04/25/keyboard-home-row-mode/">Клавиатура. Раскладка Home Row Mode&lt;/a>).
&lt;ul>
&lt;li>Использует макет &lt;code>GASC&lt;/code> / &lt;code>◆⎇⇧⎈&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Extend: активируется пробелом (см. &lt;a href="https://yamadharma.github.io/ru/post/2025/05/09/keyboard-concept-spacefn/">Клавиатура. Концепция SpaceFN&lt;/a>), предоставляет доступ к навигации, медиа-клавишам и редактированию.&lt;/li>
&lt;li>Fumbol: включает цифры на домашнем ряду, F1-F12 и дополнительные символы.&lt;/li>
&lt;/ul>
&lt;h3 id="основной-слой--main">&lt;span class="section-num">3.1&lt;/span> Основной слой (Main)&lt;/h3>
&lt;ul>
&lt;li>Модификаторы на домашнем ряду (удерживаются для активации):
&lt;ul>
&lt;li>A, S, D, F → Meta (Win/Command), Alt, Shift, Control.&lt;/li>
&lt;li>J, K, L, ; → Control, Shift, Alt, Meta (симметрично для правой руки).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Нижний ряд:
&lt;ul>
&lt;li>Z, C, V → Control, AltGr, Fumbol (слой символов/чисел).&lt;/li>
&lt;li>M, ., / → Fumbol, AltGr, Control.
&lt;ul>
&lt;li>Удерживая C (AltGr), можно ввести символы вроде € или ¶, если они назначены.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;figure>&lt;img src="https://yamadharma.github.io/ox-hugo/20250507T214500-main.png"
alt="Рис. 1.: Основной слой (Main)">&lt;figcaption>
&lt;p>&lt;span class="figure-number">Рис. 1.: &lt;/span>Основной слой (Main)&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;h3 id="слой-extend">&lt;span class="section-num">3.2&lt;/span> Слой Extend&lt;/h3>
&lt;ul>
&lt;li>Активируется удержанием пробела (см. &lt;a href="https://yamadharma.github.io/ru/post/2025/05/09/keyboard-concept-spacefn/">Клавиатура. Концепция SpaceFN&lt;/a>).&lt;/li>
&lt;li>Правая рука:
&lt;ul>
&lt;li>H, J, K, L → ←, ↓, ↑, → (навигация).&lt;/li>
&lt;li>U, I, O → Home, PgUp, End.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Левая рука:
&lt;ul>
&lt;li>Q, W, E, R →&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Media: громкость, пауза и т.д.&lt;/li>
&lt;li>Пример: Удерживая пробел и нажав J, вы переместите курсор вниз.&lt;/li>
&lt;/ul>
&lt;figure>&lt;img src="https://yamadharma.github.io/ox-hugo/20250507T214500-extend.png"
alt="Рис. 2.: Слой Extend">&lt;figcaption>
&lt;p>&lt;span class="figure-number">Рис. 2.: &lt;/span>Слой Extend&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;h3 id="слой-fumbol">&lt;span class="section-num">3.3&lt;/span> Слой Fumbol&lt;/h3>
&lt;ul>
&lt;li>Активируется через удержание V/M или через Extend + B:&lt;/li>
&lt;li>Цифры на домашнем ряду:
&lt;ul>
&lt;li>A, S, D, F, G → 1, 2, 3, 4, 5.&lt;/li>
&lt;li>H, J, K, L, ; → 6, 7, 8, 9, 0.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Пример: Удерживая V (Fumbol) и нажав S, вы введете цифру 2.&lt;/li>
&lt;li>F-клавиши:
&lt;ul>
&lt;li>Верхний ряд (Q-P) → F1-F10.&lt;/li>
&lt;li>B, N → F11, F12.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;figure>&lt;img src="https://yamadharma.github.io/ox-hugo/20250507T214500-fumbol.png"
alt="Рис. 3.: Слой Fumbol">&lt;figcaption>
&lt;p>&lt;span class="figure-number">Рис. 3.: &lt;/span>Слой Fumbol&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;h3 id="аккорды--combos">&lt;span class="section-num">3.4&lt;/span> Аккорды (Combos)&lt;/h3>
&lt;ul>
&lt;li>Комбинации двух клавиш для быстрых действий:
&lt;ul>
&lt;li>W + E → Esc.&lt;/li>
&lt;li>I + O → Backspace.&lt;/li>
&lt;li>X + C → Tab.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Пример: Нажав X и C одновременно, вы вставите табуляцию.&lt;/li>
&lt;/ul>
&lt;h2 id="пример-рабочего-процесса">&lt;span class="section-num">4&lt;/span> Пример рабочего процесса:&lt;/h2>
&lt;ol>
&lt;li>Набираете текст → Используете основной слой.&lt;/li>
&lt;li>Нужно удалить слово → Удерживаете пробел (Extend) → Нажимаете I+O (Backspace).&lt;/li>
&lt;li>Вставить символ € → Удерживаете C (AltGr) → Нажимаете E.&lt;/li>
&lt;li>Переключиться на вкладку → Аккорд X+C (Tab).&lt;/li>
&lt;/ol></description></item><item><title>Клавиатура. Раскладка Colemak</title><link>https://yamadharma.github.io/ru/post/2025/05/06/ke%D1%83map-colemak/</link><pubDate>Tue, 06 May 2025 13:46:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/05/06/ke%D1%83map-colemak/</guid><description>&lt;p>Клавиатура. Раскладка Colemak.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#варианты">&lt;span class="section-num">2&lt;/span> Варианты&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#colemak-mod-dh">&lt;span class="section-num">2.1&lt;/span> Colemak Mod-DH&lt;/a>&lt;/li>
&lt;li>&lt;a href="#русские-варианты-colemak">&lt;span class="section-num">2.2&lt;/span> Русские варианты Colemak&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Сайт: &lt;a href="https://colemak.com/" target="_blank" rel="noopener">https://colemak.com/&lt;/a>&lt;/li>
&lt;li>Раскладка Colemak &amp;mdash; это альтернативная латинская раскладка клавиатуры, созданная в 2006 году Шаем Коулманом.&lt;/li>
&lt;li>Она занимает третье место по популярности после QWERTY и Дворжака.&lt;/li>
&lt;li>Обладает частичной совместимостью с QWERTY.
&lt;ul>
&lt;li>Сохраненяет позиций спецсимволов и клавиатурных сочетаний.&lt;/li>
&lt;li>Сохраняет многие клавиши QWERTY (например, Z, X, C, V).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Частота использования домашнего ряда на 40% выше, чем в QWERTY.&lt;/li>
&lt;li>Разгружены мизинцы.&lt;/li>
&lt;li>Применяется чередование рук.&lt;/li>
&lt;/ul>
&lt;h2 id="варианты">&lt;span class="section-num">2&lt;/span> Варианты&lt;/h2>
&lt;h3 id="colemak-mod-dh">&lt;span class="section-num">2.1&lt;/span> Colemak Mod-DH&lt;/h3>
&lt;ul>
&lt;li>Сайт: &lt;a href="https://colemakmods.github.io/mod-dh/" target="_blank" rel="noopener">https://colemakmods.github.io/mod-dh/&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="русские-варианты-colemak">&lt;span class="section-num">2.2&lt;/span> Русские варианты Colemak&lt;/h3></description></item><item><title>kanata. Клавиша Caps Lock</title><link>https://yamadharma.github.io/ru/post/2025/05/06/kanata-capslock/</link><pubDate>Tue, 06 May 2025 10:39:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/05/06/kanata-capslock/</guid><description>&lt;p>kanata. Клавиша Caps Lock.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#замена-caps-lock-на-escape">&lt;span class="section-num">2&lt;/span> Замена &lt;code>Caps Lock&lt;/code> на &lt;code>Escape&lt;/code>&lt;/a>&lt;/li>
&lt;li>&lt;a href="#замена-caps-lock-на-ctrl-и-escape">&lt;span class="section-num">3&lt;/span> Замена &lt;code>Caps Lock&lt;/code> на &lt;code>Ctrl&lt;/code> и &lt;code>Escape&lt;/code>&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#сопоставлением">&lt;span class="section-num">3.1&lt;/span> Сопоставлением&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2025/05/06/keyboard-capslock/">Клавиатура. Клавиша Caps Lock&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="замена-caps-lock-на-escape">&lt;span class="section-num">2&lt;/span> Замена &lt;code>Caps Lock&lt;/code> на &lt;code>Escape&lt;/code>&lt;/h2>
&lt;ul>
&lt;li>Заменим &lt;code>Caps Lock&lt;/code> на &lt;code>Escape&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">(defcfg)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">(defsrc)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">(deflayermap (base-layer)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> caps esc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="замена-caps-lock-на-ctrl-и-escape">&lt;span class="section-num">3&lt;/span> Замена &lt;code>Caps Lock&lt;/code> на &lt;code>Ctrl&lt;/code> и &lt;code>Escape&lt;/code>&lt;/h2>
&lt;ul>
&lt;li>Заменим &lt;code>Caps Lock&lt;/code> на комбинацию:
&lt;ul>
&lt;li>простое нажатие: &lt;code>Escape&lt;/code>;&lt;/li>
&lt;li>долгое нажатие &lt;code>Caps Lock&lt;/code> или &lt;code>Caps Lock&lt;/code> + другая клавиша: &lt;code>Ctrl&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="сопоставлением">&lt;span class="section-num">3.1&lt;/span> Сопоставлением&lt;/h3>
&lt;ul>
&lt;li>Сделаем на основе &lt;code>deflayermap&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defcfg&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defsrc&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">deflayermap&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">base-layer&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">caps&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold-press&lt;/span> &lt;span class="mi">200&lt;/span> &lt;span class="mi">200&lt;/span> &lt;span class="nv">esc&lt;/span> &lt;span class="nv">lctl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>*&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Сделаем с помощью карты клавиатуры:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">deflayer&lt;/span> &lt;span class="nv">base&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">grv&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="mi">7&lt;/span> &lt;span class="mi">8&lt;/span> &lt;span class="mi">9&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="nf">-&lt;/span> &lt;span class="nf">=&lt;/span> &lt;span class="nv">bspc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">tab&lt;/span> &lt;span class="nv">q&lt;/span> &lt;span class="nv">w&lt;/span> &lt;span class="nv">e&lt;/span> &lt;span class="nv">r&lt;/span> &lt;span class="no">t&lt;/span> &lt;span class="nv">y&lt;/span> &lt;span class="nv">u&lt;/span> &lt;span class="nv">i&lt;/span> &lt;span class="nv">o&lt;/span> &lt;span class="nv">p&lt;/span> &lt;span class="nv">[&lt;/span> &lt;span class="nv">]&lt;/span> &lt;span class="err">\&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">@cap&lt;/span> &lt;span class="nv">a&lt;/span> &lt;span class="nv">s&lt;/span> &lt;span class="nv">d&lt;/span> &lt;span class="nv">f&lt;/span> &lt;span class="nv">g&lt;/span> &lt;span class="nv">h&lt;/span> &lt;span class="nv">j&lt;/span> &lt;span class="nv">k&lt;/span> &lt;span class="nv">l&lt;/span> &lt;span class="c1">; &amp;#39; ret&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">lsft&lt;/span> &lt;span class="nv">z&lt;/span> &lt;span class="nv">x&lt;/span> &lt;span class="nv">c&lt;/span> &lt;span class="nv">v&lt;/span> &lt;span class="nv">b&lt;/span> &lt;span class="nv">n&lt;/span> &lt;span class="nv">m&lt;/span> &lt;span class="o">,&lt;/span> &lt;span class="o">.&lt;/span> &lt;span class="nf">/&lt;/span> &lt;span class="nv">rsft&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">lctl&lt;/span> &lt;span class="nv">lmet&lt;/span> &lt;span class="nv">lalt&lt;/span> &lt;span class="nv">spc&lt;/span> &lt;span class="nv">ralt&lt;/span> &lt;span class="nv">rmet&lt;/span> &lt;span class="nv">menu&lt;/span> &lt;span class="nv">rctl&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defalias&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">cap&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold-press&lt;/span> &lt;span class="nv">$tt&lt;/span> &lt;span class="nv">$ht&lt;/span> &lt;span class="nv">esc&lt;/span> &lt;span class="nv">lctl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Клавиатура. Клавиша Caps Lock</title><link>https://yamadharma.github.io/ru/post/2025/05/06/keyboard-capslock/</link><pubDate>Tue, 06 May 2025 10:26:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/05/06/keyboard-capslock/</guid><description>&lt;p>Клавиатура. Клавиша Caps Lock.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#варианты-перемапирования-клавиши-caps-lock">&lt;span class="section-num">2&lt;/span> Варианты перемапирования клавиши Caps Lock&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Caps Lock (сокращение от англ. capitals lock &amp;mdash; &lt;em>фиксация прописных букв&lt;/em>, иногда неофициально называется просто «Caps»).&lt;/li>
&lt;li>Клавиша компьютерной клавиатуры, предназначенная для фиксации смены регистра букв со строчных на прописные.&lt;/li>
&lt;/ul>
&lt;h2 id="варианты-перемапирования-клавиши-caps-lock">&lt;span class="section-num">2&lt;/span> Варианты перемапирования клавиши Caps Lock&lt;/h2>
&lt;ul>
&lt;li>Клавиша &lt;code>Ctrl&lt;/code>:
&lt;ul>
&lt;li>облегчить ввод комбинаций &lt;code>Ctrl+C&lt;/code>, &lt;code>Ctrl+V&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Второй &lt;code>Enter&lt;/code>:
&lt;ul>
&lt;li>сделать клавиатуру более удобной для левшей.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Второй &lt;code>Backspace&lt;/code>:
&lt;ul>
&lt;li>используется в Colemak.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Клавиша управления буфером обмена:
&lt;ul>
&lt;li>для замены cut/copy/paste.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Клавиша переключения раскладки.&lt;/li>
&lt;/ul></description></item><item><title>kanata. Настройка Caps Word</title><link>https://yamadharma.github.io/ru/post/2025/05/05/kanata-capsword/</link><pubDate>Mon, 05 May 2025 15:06:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/05/05/kanata-capsword/</guid><description>&lt;p>kanata. Настройка Caps Word.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#как-работает-caps-word">&lt;span class="section-num">1.1&lt;/span> Как работает Caps Word&lt;/a>&lt;/li>
&lt;li>&lt;a href="#ключевые-особенности">&lt;span class="section-num">1.2&lt;/span> Ключевые особенности&lt;/a>&lt;/li>
&lt;li>&lt;a href="#примеры-использования">&lt;span class="section-num">1.3&lt;/span> Примеры использования&lt;/a>&lt;/li>
&lt;li>&lt;a href="#преимущества-перед-caps-lock">&lt;span class="section-num">1.4&lt;/span> Преимущества перед Caps Lock&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#реализация">&lt;span class="section-num">2&lt;/span> Реализация&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#формат-использования">&lt;span class="section-num">2.1&lt;/span> Формат использования&lt;/a>&lt;/li>
&lt;li>&lt;a href="#описание">&lt;span class="section-num">2.2&lt;/span> Описание&lt;/a>&lt;/li>
&lt;li>&lt;a href="#caps-word-toggle">&lt;span class="section-num">2.3&lt;/span> caps-word-toggle&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#настройка">&lt;span class="section-num">3&lt;/span> Настройка&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#настройка-в-kanataqmk">&lt;span class="section-num">3.1&lt;/span> Настройка в Kanata/QMK&lt;/a>&lt;/li>
&lt;li>&lt;a href="#базовый-caps-word">&lt;span class="section-num">3.2&lt;/span> Базовый Caps Word&lt;/a>&lt;/li>
&lt;li>&lt;a href="#собственные-правила">&lt;span class="section-num">3.3&lt;/span> Собственные правила&lt;/a>&lt;/li>
&lt;li>&lt;a href="#активация-через-другую-клавишу">&lt;span class="section-num">3.4&lt;/span> Активация через другую клавишу&lt;/a>&lt;/li>
&lt;li>&lt;a href="#совмещение-с-модификаторами">&lt;span class="section-num">3.5&lt;/span> Совмещение с модификаторами&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Caps Word есть альтернатива классическому Caps Lock.&lt;/li>
&lt;li>Предназначенная для удобного ввода слов или фрагментов текста в верхнем регистре без необходимости удерживать клавиши.&lt;/li>
&lt;li>Автоматически активируется и деактивируется, экономя время и снижая нагрузку на руки.&lt;/li>
&lt;/ul>
&lt;h3 id="как-работает-caps-word">&lt;span class="section-num">1.1&lt;/span> Как работает Caps Word&lt;/h3>
&lt;ul>
&lt;li>Активация:
&lt;ul>
&lt;li>Двойной тап на Shift (или другую назначенную клавишу).&lt;/li>
&lt;li>Комбинация клавиш (например, Ctrl + Shift).&lt;/li>
&lt;li>Однократное нажатие на переназначенный Caps Lock.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Деактивация:
&lt;ul>
&lt;li>При вводе символа, не входящего в разрешённый список (например, пробел, запятая, цифра).&lt;/li>
&lt;li>По истечении таймаута.&lt;/li>
&lt;li>Явное отключение через повторное нажатие активатора.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="ключевые-особенности">&lt;span class="section-num">1.2&lt;/span> Ключевые особенности&lt;/h3>
&lt;ul>
&lt;li>Автоматизация: Не нужно постоянно держать Shift или включать/выключать Caps Lock.&lt;/li>
&lt;li>Гибкие правила:
&lt;ul>
&lt;li>Можно разрешить символы вроде &lt;code>_&lt;/code>, &lt;code>-&lt;/code>, цифры, чтобы Caps Word не прерывался.&lt;/li>
&lt;li>Пример: &lt;code>API_ENDPOINT_2024&lt;/code> &amp;mdash; все буквы автоматически вводятся в верхнем регистре.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Совместимость с модификаторами: Работает вместе с Ctrl, Alt, GUI (например, для горячих клавиш).&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="примеры-использования">&lt;span class="section-num">1.3&lt;/span> Примеры использования&lt;/h3>
&lt;ul>
&lt;li>Программирование:
&lt;ul>
&lt;li>Ввод констант (&lt;code>MAX_LENGTH&lt;/code>), макросов (&lt;code>DEBUG_MODE&lt;/code>), тегов (&lt;code>&amp;lt;HTML&amp;gt;&lt;/code>) без переключения регистра.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Документы:
&lt;ul>
&lt;li>Заголовки, аббревиатуры (СПб, NASA), акронимы.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Гейминг:
&lt;ul>
&lt;li>Быстрый ввод команд в чате (например, &lt;code>HELP&lt;/code>).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="преимущества-перед-caps-lock">&lt;span class="section-num">1.4&lt;/span> Преимущества перед Caps Lock&lt;/h3>
&lt;ul>
&lt;li>Не требует ручного выключения.&lt;/li>
&lt;li>Не мешает вводу символов в нижнем регистре после завершения слова.&lt;/li>
&lt;li>Эргономичнее для частого использования (например, в коде).&lt;/li>
&lt;/ul>
&lt;h2 id="реализация">&lt;span class="section-num">2&lt;/span> Реализация&lt;/h2>
&lt;h3 id="формат-использования">&lt;span class="section-num">2.1&lt;/span> Формат использования&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;code>caps-word&lt;/code> приводит kanata в состояние, когда набранные клавиши автоматически предваряются &lt;code>lsft&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Состояние сохраняется до тех пор, пока не будет прекращено по тайм-ауту или по нажатию клавиши, которая завершает состояние.&lt;/p>
&lt;ul>
&lt;li>Нажатие клавиши, не являющейся завершающей, обновляет длительность тайм-аута.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>При нажатии клавиша &lt;code>caps-word-toggle&lt;/code> завершит состояние Caps Word.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Синтаксис:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">caps-word&lt;/span> &lt;span class="nv">$timeout&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">caps-word-toggle&lt;/span> &lt;span class="nv">$timeout&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">caps-word-custom&lt;/span> &lt;span class="nv">$timeout&lt;/span> &lt;span class="nv">$shifted-list&lt;/span> &lt;span class="nv">$non-terminal-list&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">caps-word-custom-toggle&lt;/span> &lt;span class="nv">$timeout&lt;/span> &lt;span class="nv">$shifted-list&lt;/span> &lt;span class="nv">$non-terminal-list&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>$timeout&lt;/code> : количество миллисекунд, по истечении которых состояние заглавных слов заканчивается. Длительность обновляется при вводе не завершающего символа.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>$shifted-list&lt;/code> : список клавиш, которые будут использоваться для Caps Word.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>$non-terminal-list&lt;/code> : список клавиш, которые не набираются заглавными, но которые не прекращают состояние заглавных слов.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="описание">&lt;span class="section-num">2.2&lt;/span> Описание&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;code>caps-word&lt;/code> вызывает состояние, в котором в верхнем регистре набирается список активных ключей.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Ключи таковы: &lt;code>a-z&lt;/code> и &lt;code>-&lt;/code>, которые будут выведены как &lt;code>A-Z&lt;/code> и &lt;code>_&lt;/code> соответственно (при использовании английской раскладки).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Это поведение имеет преимущество перед обычным Caps Lock, потому что это автоматически заканчивается.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Его не нужно выключать вручную.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Также преводит &lt;code>-&lt;/code> в &lt;code>_&lt;/code>, чего не делает Caps Lock.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Состояние &lt;code>caps-word&lt;/code> заканчивается, когда клавиатура бездействует определённое время (1-й параметр), или нажата клавиша завершения.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Каждый ключ является завершающим ключом за исключением клавиш, которые пишутся с заглавной буквы и дополнительные ключи в этом списке:&lt;/p>
&lt;ul>
&lt;li>&lt;code>0-9&lt;/code>&lt;/li>
&lt;li>&lt;code>kp0-kp9&lt;/code>&lt;/li>
&lt;li>&lt;code>bspc del&lt;/code>&lt;/li>
&lt;li>&lt;code>up down left rght&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Можно использовать &lt;code>caps-word-custom&lt;/code> вместо &lt;code>caps-word&lt;/code> если необходимо вручную определить, какие клавиши будут написаны заглавными буквами (2-й параметр) и какими должны быть дополнительные нетерминальные и не заглавные клавиши (3-й параметр).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Пример:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defalias&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">cw&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">caps-word&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">;; This example is similar to the default caps-word behaviour but it moves the&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">;; 0-9 keys to the capitalized key list from the extra non-terminating key list.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">cwc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">caps-word-custom&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">2000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">a&lt;/span> &lt;span class="nv">b&lt;/span> &lt;span class="nv">c&lt;/span> &lt;span class="nv">d&lt;/span> &lt;span class="nv">e&lt;/span> &lt;span class="nv">f&lt;/span> &lt;span class="nv">g&lt;/span> &lt;span class="nv">h&lt;/span> &lt;span class="nv">i&lt;/span> &lt;span class="nv">j&lt;/span> &lt;span class="nv">k&lt;/span> &lt;span class="nv">l&lt;/span> &lt;span class="nv">m&lt;/span> &lt;span class="nv">n&lt;/span> &lt;span class="nv">o&lt;/span> &lt;span class="nv">p&lt;/span> &lt;span class="nv">q&lt;/span> &lt;span class="nv">r&lt;/span> &lt;span class="nv">s&lt;/span> &lt;span class="no">t&lt;/span> &lt;span class="nv">u&lt;/span> &lt;span class="nv">v&lt;/span> &lt;span class="nv">w&lt;/span> &lt;span class="nv">x&lt;/span> &lt;span class="nv">y&lt;/span> &lt;span class="nv">z&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="mi">7&lt;/span> &lt;span class="mi">8&lt;/span> &lt;span class="mi">9&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">kp0&lt;/span> &lt;span class="nv">kp1&lt;/span> &lt;span class="nv">kp2&lt;/span> &lt;span class="nv">kp3&lt;/span> &lt;span class="nv">kp4&lt;/span> &lt;span class="nv">kp5&lt;/span> &lt;span class="nv">kp6&lt;/span> &lt;span class="nv">kp7&lt;/span> &lt;span class="nv">kp8&lt;/span> &lt;span class="nv">kp9&lt;/span> &lt;span class="nv">bspc&lt;/span> &lt;span class="nv">del&lt;/span> &lt;span class="nv">up&lt;/span> &lt;span class="nv">down&lt;/span> &lt;span class="nv">left&lt;/span> &lt;span class="nv">rght&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="caps-word-toggle">&lt;span class="section-num">2.3&lt;/span> caps-word-toggle&lt;/h3>
&lt;ul>
&lt;li>По умолчанию повторное нажатие &lt;code>caps-word&lt;/code> будет держать &lt;code>caps-word&lt;/code> активным.&lt;/li>
&lt;li>&lt;code>caps-word-toggle&lt;/code> завершит &lt;code>caps-word&lt;/code>, если он в данный момент активен, в противном случае &lt;code>caps-word&lt;/code> будет активирован в обычном режиме.&lt;/li>
&lt;li>Пример:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defalias&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">cwt&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">caps-word-toggle&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">cct&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">caps-word-custom-toggle&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">2000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">a&lt;/span> &lt;span class="nv">b&lt;/span> &lt;span class="nv">c&lt;/span> &lt;span class="nv">d&lt;/span> &lt;span class="nv">e&lt;/span> &lt;span class="nv">f&lt;/span> &lt;span class="nv">g&lt;/span> &lt;span class="nv">h&lt;/span> &lt;span class="nv">i&lt;/span> &lt;span class="nv">j&lt;/span> &lt;span class="nv">k&lt;/span> &lt;span class="nv">l&lt;/span> &lt;span class="nv">m&lt;/span> &lt;span class="nv">n&lt;/span> &lt;span class="nv">o&lt;/span> &lt;span class="nv">p&lt;/span> &lt;span class="nv">q&lt;/span> &lt;span class="nv">r&lt;/span> &lt;span class="nv">s&lt;/span> &lt;span class="no">t&lt;/span> &lt;span class="nv">u&lt;/span> &lt;span class="nv">v&lt;/span> &lt;span class="nv">w&lt;/span> &lt;span class="nv">x&lt;/span> &lt;span class="nv">y&lt;/span> &lt;span class="nv">z&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="mi">7&lt;/span> &lt;span class="mi">8&lt;/span> &lt;span class="mi">9&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">kp0&lt;/span> &lt;span class="nv">kp1&lt;/span> &lt;span class="nv">kp2&lt;/span> &lt;span class="nv">kp3&lt;/span> &lt;span class="nv">kp4&lt;/span> &lt;span class="nv">kp5&lt;/span> &lt;span class="nv">kp6&lt;/span> &lt;span class="nv">kp7&lt;/span> &lt;span class="nv">kp8&lt;/span> &lt;span class="nv">kp9&lt;/span> &lt;span class="nv">bspc&lt;/span> &lt;span class="nv">del&lt;/span> &lt;span class="nv">up&lt;/span> &lt;span class="nv">down&lt;/span> &lt;span class="nv">left&lt;/span> &lt;span class="nv">rght&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="настройка">&lt;span class="section-num">3&lt;/span> Настройка&lt;/h2>
&lt;h3 id="настройка-в-kanataqmk">&lt;span class="section-num">3.1&lt;/span> Настройка в Kanata/QMK&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">; Kanata-конфиг: Caps Word на двойной тап Shift&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defalias&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">capsword&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">caps-word&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">; Таймаут 2000 мс&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">shift&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold&lt;/span> &lt;span class="mi">200&lt;/span> &lt;span class="mi">200&lt;/span> &lt;span class="nv">@capsword&lt;/span> &lt;span class="nv">lsft&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">; Двойной тап → активация&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-C" data-lang="C">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// QMK-реализация (для кастомных клавиатур)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">bool&lt;/span> &lt;span class="nf">process_caps_word&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">uint16_t&lt;/span> &lt;span class="n">keycode&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nf">is_caps_word_on&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">keycode&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">KC_SPC&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">keycode&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">KC_ENT&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">caps_word_off&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// Деактивация на пробел/энтер
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h3 id="базовый-caps-word">&lt;span class="section-num">3.2&lt;/span> Базовый Caps Word&lt;/h3>
&lt;ul>
&lt;li>Активируется двойным тапом на Shift, автоматически отключается при вводе символа, не являющегося буквой:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defalias&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">capsword&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">caps-word&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">; 2000 мс таймаут&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">shift&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold&lt;/span> &lt;span class="mi">200&lt;/span> &lt;span class="mi">200&lt;/span> &lt;span class="nv">@capsword&lt;/span> &lt;span class="nv">lsft&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">; Двойной тап на Shift → Caps Word&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="собственные-правила">&lt;span class="section-num">3.3&lt;/span> Собственные правила&lt;/h3>
&lt;ul>
&lt;li>Добавьте исключения для символов вроде подчёркивания или цифр, чтобы Caps Word не отключался:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defalias&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">capsword&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">caps-word&lt;/span> &lt;span class="mi">2000&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">allow-chars&lt;/span> &lt;span class="s">&amp;#34;a-zA-Z0-9_&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1">; Разрешить цифры и подчёркивание&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="активация-через-другую-клавишу">&lt;span class="section-num">3.4&lt;/span> Активация через другую клавишу&lt;/h3>
&lt;ul>
&lt;li>Например, через CapsLock:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defalias&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">capsword&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">caps-word&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">caps&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold&lt;/span> &lt;span class="mi">200&lt;/span> &lt;span class="mi">200&lt;/span> &lt;span class="nv">@capsword&lt;/span> &lt;span class="nv">caps&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">; Тап на CapsLock → Caps Word&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="совмещение-с-модификаторами">&lt;span class="section-num">3.5&lt;/span> Совмещение с модификаторами&lt;/h3>
&lt;ul>
&lt;li>Используйте Caps Word вместе с Home Row Mods:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defalias&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">capsword&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">caps-word&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">shift&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold&lt;/span> &lt;span class="mi">150&lt;/span> &lt;span class="mi">300&lt;/span> &lt;span class="nv">@capsword&lt;/span> &lt;span class="nv">lsft&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">; Удержание → Shift, двойной тап → Caps Word&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;hr></description></item><item><title>kanata. Настройка Home Row Mods</title><link>https://yamadharma.github.io/ru/post/2025/05/01/kanata-home-row-mods/</link><pubDate>Thu, 01 May 2025 20:10:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/05/01/kanata-home-row-mods/</guid><description>&lt;p>kanata. Настройка Home Row Mods (см. &lt;a href="https://yamadharma.github.io/ru/post/2025/04/25/keyboard-home-row-mode/">Клавиатура. Раскладка Home Row Mode&lt;/a>).&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#основные-функции">&lt;span class="section-num">1.1&lt;/span> Основные функции&lt;/a>&lt;/li>
&lt;li>&lt;a href="#оптимизация-для-быстрого-набора">&lt;span class="section-num">1.2&lt;/span> Оптимизация для быстрого набора&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#простая-конфигурация">&lt;span class="section-num">2&lt;/span> Простая конфигурация&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Для настройки Home Row Mods в Kanata используйте комбинации &lt;code>tap-hold&lt;/code>.&lt;/li>
&lt;li>Для разных пальцев можно задать разные значения, если одни пальцы медленнее других.&lt;/li>
&lt;li>Если модификаторы срабатывают некорректно, увеличьте &lt;code>hold-time&lt;/code> или используйте &lt;code>tap-hold-release-keys&lt;/code> для обработки комбинаций.&lt;/li>
&lt;/ul>
&lt;h3 id="основные-функции">&lt;span class="section-num">1.1&lt;/span> Основные функции&lt;/h3>
&lt;ul>
&lt;li>&lt;code>tap-time&lt;/code> : время, после которого нажатие считается тапом (обычно 100–200 мс).&lt;/li>
&lt;li>&lt;code>hold-time&lt;/code> : время, после которого нажатие активирует модификатор (например, 250–300 мс).&lt;/li>
&lt;/ul>
&lt;h3 id="оптимизация-для-быстрого-набора">&lt;span class="section-num">1.2&lt;/span> Оптимизация для быстрого набора&lt;/h3>
&lt;ul>
&lt;li>&lt;code>tap-hold-press&lt;/code> или &lt;code>tap-hold-release-keys&lt;/code> : активируют модификатор мгновенно, если нажата другая клавиша.&lt;/li>
&lt;li>Это предотвращает залипание модификаторов при быстрой печати.&lt;/li>
&lt;/ul>
&lt;h2 id="простая-конфигурация">&lt;span class="section-num">2&lt;/span> Простая конфигурация&lt;/h2>
&lt;ul>
&lt;li>Простая конфигурация.&lt;/li>
&lt;li>Используется макет &lt;code>GACS&lt;/code> / &lt;code>◆⎇⎈⇧&lt;/code>.
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">;; Basic home row mods example using QWERTY&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">;; For a more complex but perhaps usable configuration,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">;; see home-row-mod-advanced.kbd&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defcfg&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">process-unmapped-keys&lt;/span> &lt;span class="nv">yes&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defsrc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">a&lt;/span> &lt;span class="nv">s&lt;/span> &lt;span class="nv">d&lt;/span> &lt;span class="nv">f&lt;/span> &lt;span class="nv">j&lt;/span> &lt;span class="nv">k&lt;/span> &lt;span class="nv">l&lt;/span> &lt;span class="c1">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nb">defvar&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">;; Note: consider using different time values for your different fingers.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">;; For example, your pinkies might be slower to release keys and index&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">;; fingers faster.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">tap-time&lt;/span> &lt;span class="mi">200&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">hold-time&lt;/span> &lt;span class="mi">150&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defalias&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">a&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold&lt;/span> &lt;span class="nv">$tap-time&lt;/span> &lt;span class="nv">$hold-time&lt;/span> &lt;span class="nv">a&lt;/span> &lt;span class="nv">lmet&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">s&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold&lt;/span> &lt;span class="nv">$tap-time&lt;/span> &lt;span class="nv">$hold-time&lt;/span> &lt;span class="nv">s&lt;/span> &lt;span class="nv">lalt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">d&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold&lt;/span> &lt;span class="nv">$tap-time&lt;/span> &lt;span class="nv">$hold-time&lt;/span> &lt;span class="nv">d&lt;/span> &lt;span class="nv">lctl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">f&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold&lt;/span> &lt;span class="nv">$tap-time&lt;/span> &lt;span class="nv">$hold-time&lt;/span> &lt;span class="nv">f&lt;/span> &lt;span class="nv">lsft&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">j&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold&lt;/span> &lt;span class="nv">$tap-time&lt;/span> &lt;span class="nv">$hold-time&lt;/span> &lt;span class="nv">j&lt;/span> &lt;span class="nv">rsft&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">k&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold&lt;/span> &lt;span class="nv">$tap-time&lt;/span> &lt;span class="nv">$hold-time&lt;/span> &lt;span class="nv">k&lt;/span> &lt;span class="nv">rctl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">l&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold&lt;/span> &lt;span class="nv">$tap-time&lt;/span> &lt;span class="nv">$hold-time&lt;/span> &lt;span class="nv">l&lt;/span> &lt;span class="nv">ralt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">; (tap-hold $tap-time $hold-time ; rmet)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">deflayer&lt;/span> &lt;span class="nv">base&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">@a&lt;/span> &lt;span class="nv">@s&lt;/span> &lt;span class="nv">@d&lt;/span> &lt;span class="nv">@f&lt;/span> &lt;span class="nv">@j&lt;/span> &lt;span class="nv">@k&lt;/span> &lt;span class="nv">@l&lt;/span> &lt;span class="nv">@&lt;/span>&lt;span class="c1">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Клавиатура. Раскладка Miryoku</title><link>https://yamadharma.github.io/ru/post/2025/04/27/keyboard-miryoku-layout/</link><pubDate>Sun, 27 Apr 2025 20:11:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/04/27/keyboard-miryoku-layout/</guid><description>&lt;p>Клавиатура. Раскладка Miryoku.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#основные-особенности">&lt;span class="section-num">1.1&lt;/span> Основные особенности&lt;/a>&lt;/li>
&lt;li>&lt;a href="#плюсы">&lt;span class="section-num">1.2&lt;/span> Плюсы&lt;/a>&lt;/li>
&lt;li>&lt;a href="#минусы">&lt;span class="section-num">1.3&lt;/span> Минусы&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#слои-в-miryoku">&lt;span class="section-num">2&lt;/span> Слои в Miryoku&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#base--базовый">&lt;span class="section-num">2.1&lt;/span> &lt;strong>Base (Базовый)&lt;/strong>&lt;/a>&lt;/li>
&lt;li>&lt;a href="#nav--навигация">&lt;span class="section-num">2.2&lt;/span> &lt;strong>Nav (Навигация)&lt;/strong>&lt;/a>&lt;/li>
&lt;li>&lt;a href="#mouse--мышь">&lt;span class="section-num">2.3&lt;/span> Mouse (Мышь)&lt;/a>&lt;/li>
&lt;li>&lt;a href="#media--медиа">&lt;span class="section-num">2.4&lt;/span> Media (Медиа)&lt;/a>&lt;/li>
&lt;li>&lt;a href="#num--цифры">&lt;span class="section-num">2.5&lt;/span> Num (Цифры)&lt;/a>&lt;/li>
&lt;li>&lt;a href="#sym--символы">&lt;span class="section-num">2.6&lt;/span> Sym (Символы)&lt;/a>&lt;/li>
&lt;li>&lt;a href="#fun--функциональные-клавиши">&lt;span class="section-num">2.7&lt;/span> Fun (Функциональные клавиши)&lt;/a>&lt;/li>
&lt;li>&lt;a href="#adjust--настройки">&lt;span class="section-num">2.8&lt;/span> Adjust (Настройки)&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#реализации">&lt;span class="section-num">3&lt;/span> Реализации&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#kanata">&lt;span class="section-num">3.1&lt;/span> Kanata&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#trapier-miryoku-kanata">&lt;span class="section-num">3.1.1&lt;/span> trapier/miryoku_kanata&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#kmonad">&lt;span class="section-num">3.2&lt;/span> kmonad&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#manna-harbour-miryoku-kmonad">&lt;span class="section-num">3.2.1&lt;/span> manna-harbour/miryoku_kmonad&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Раскладка Miryoku &amp;mdash; эргономичная и минималистичная клавиатурная раскладка, разработанная для компактных клавиатур (обычно с 36–42 клавишами).&lt;/li>
&lt;li>Поддерживает различные прошивки (QMK, ZMK, KMK).&lt;/li>
&lt;/ul>
&lt;h3 id="основные-особенности">&lt;span class="section-num">1.1&lt;/span> Основные особенности&lt;/h3>
&lt;ul>
&lt;li>Эргономика: Клавиши расположены так, чтобы минимизировать движение пальцев, снижая нагрузку на руки.&lt;/li>
&lt;li>Универсальность: Совместима с разными типами клавиатур и прошивками.&lt;/li>
&lt;li>Многослойность: Использует слои для доступа к дополнительным функциям (цифры, символы, навигация) без увеличения количества клавиш.&lt;/li>
&lt;li>Документация: Подробные руководства и примеры конфигурации.&lt;/li>
&lt;/ul>
&lt;h3 id="плюсы">&lt;span class="section-num">1.2&lt;/span> Плюсы&lt;/h3>
&lt;ul>
&lt;li>Подходит для долгой работы за клавиатурой.&lt;/li>
&lt;li>Экономия места за счёт компактного дизайна.&lt;/li>
&lt;li>Активное сообщество и регулярные обновления.&lt;/li>
&lt;/ul>
&lt;h3 id="минусы">&lt;span class="section-num">1.3&lt;/span> Минусы&lt;/h3>
&lt;ul>
&lt;li>Требует времени для адаптации.&lt;/li>
&lt;li>Ограниченная совместимость с некоторыми играми или специализированным ПО.&lt;/li>
&lt;/ul>
&lt;h2 id="слои-в-miryoku">&lt;span class="section-num">2&lt;/span> Слои в Miryoku&lt;/h2>
&lt;ul>
&lt;li>В Miryoku используется система слоёв, которые позволяют компактно разместить все необходимые функции на небольшой клавиатуре.&lt;/li>
&lt;/ul>
&lt;h3 id="base--базовый">&lt;span class="section-num">2.1&lt;/span> &lt;strong>Base (Базовый)&lt;/strong>&lt;/h3>
&lt;ul>
&lt;li>Назначение: Основной слой для ввода букв (по умолчанию — Colemak-DH, но поддерживает QWERTY, Dvorak и другие).&lt;/li>
&lt;li>Особенности: Включает пробел, Backspace и клавиши-модификаторы (Shift, Ctrl и т.д.) на домашнем ряду.&lt;/li>
&lt;/ul>
&lt;h3 id="nav--навигация">&lt;span class="section-num">2.2&lt;/span> &lt;strong>Nav (Навигация)&lt;/strong>&lt;/h3>
&lt;ul>
&lt;li>Активация: Удержание клавиши левым большым пальцем.&lt;/li>
&lt;li>Содержит: Клавиши для перемещения (←↑↓→), Page Up/Down, Home/End, Tab.&lt;/li>
&lt;/ul>
&lt;h3 id="mouse--мышь">&lt;span class="section-num">2.3&lt;/span> Mouse (Мышь)&lt;/h3>
&lt;ul>
&lt;li>Активация: Удержание клавиши правым большим пальцем.&lt;/li>
&lt;li>Содержит: Управление курсором, клики (левый/правый), скроллинг.&lt;/li>
&lt;/ul>
&lt;h3 id="media--медиа">&lt;span class="section-num">2.4&lt;/span> Media (Медиа)&lt;/h3>
&lt;ul>
&lt;li>Активация: Комбинация клавиш большого пальца.&lt;/li>
&lt;li>Содержит: Регулировка громкости, пауза/воспроизведение, управление яркостью экрана.&lt;/li>
&lt;/ul>
&lt;h3 id="num--цифры">&lt;span class="section-num">2.5&lt;/span> Num (Цифры)&lt;/h3>
&lt;ul>
&lt;li>Назначение: Ввод чисел и математических операций (+, -, \*, /).&lt;/li>
&lt;li>Особенности: Расположение цифр оптимизировано под частоту использования (например, 1–5 на левой руке, 6–0 на правой).&lt;/li>
&lt;/ul>
&lt;h3 id="sym--символы">&lt;span class="section-num">2.6&lt;/span> Sym (Символы)&lt;/h3>
&lt;ul>
&lt;li>Содержит: Скобки, кавычки, знаки препинания (например, &lt;code>!&lt;/code>, &lt;code>@&lt;/code>, &lt;code>#&lt;/code>), а также символы для программирования (например, &lt;code>{ }&lt;/code>, &lt;code>[ ]&lt;/code> ).&lt;/li>
&lt;/ul>
&lt;h3 id="fun--функциональные-клавиши">&lt;span class="section-num">2.7&lt;/span> Fun (Функциональные клавиши)&lt;/h3>
&lt;ul>
&lt;li>Назначение: Доступ к F1-–F12, Print Screen, Pause/Break.&lt;/li>
&lt;/ul>
&lt;h3 id="adjust--настройки">&lt;span class="section-num">2.8&lt;/span> Adjust (Настройки)&lt;/h3>
&lt;ul>
&lt;li>Активация: Комбинация клавиш обоими большими пальцами.&lt;/li>
&lt;li>Содержит: Переключение между раскладками (Colemak/QWERTY), сброс клавиатуры, активацию режима DFU для прошивки.&lt;/li>
&lt;/ul>
&lt;h2 id="реализации">&lt;span class="section-num">3&lt;/span> Реализации&lt;/h2>
&lt;h3 id="kanata">&lt;span class="section-num">3.1&lt;/span> Kanata&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/11/13/keymap-control-kanata/">Раскладка клавиатуры. kanata&lt;/a>&lt;/li>
&lt;/ul>
&lt;h4 id="trapier-miryoku-kanata">&lt;span class="section-num">3.1.1&lt;/span> trapier/miryoku_kanata&lt;/h4>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/trapier/miryoku_kanata" target="_blank" rel="noopener">https://github.com/trapier/miryoku_kanata&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="kmonad">&lt;span class="section-num">3.2&lt;/span> kmonad&lt;/h3>
&lt;h4 id="manna-harbour-miryoku-kmonad">&lt;span class="section-num">3.2.1&lt;/span> manna-harbour/miryoku_kmonad&lt;/h4>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/manna-harbour/miryoku_kmonad" target="_blank" rel="noopener">https://github.com/manna-harbour/miryoku_kmonad&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Пример конфигурации раскладки клавиатуры</title><link>https://yamadharma.github.io/ru/post/2025/04/23/kanata-configuration-example/</link><pubDate>Wed, 23 Apr 2025 18:33:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/04/23/kanata-configuration-example/</guid><description>&lt;p>Моя раскладка клавиатуры.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#стандартная-клавиатура">&lt;span class="section-num">1&lt;/span> Стандартная клавиатура&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#настройка-на-основе-kanata">&lt;span class="section-num">1.1&lt;/span> Настройка на основе kanata&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#общие-настройки">&lt;span class="section-num">1.1.1&lt;/span> Общие настройки&lt;/a>&lt;/li>
&lt;li>&lt;a href="#структура-раскладки">&lt;span class="section-num">1.1.2&lt;/span> Структура раскладки&lt;/a>&lt;/li>
&lt;li>&lt;a href="#шаблон-модификаторов">&lt;span class="section-num">1.1.3&lt;/span> Шаблон модификаторов&lt;/a>&lt;/li>
&lt;li>&lt;a href="#слой-main">&lt;span class="section-num">1.1.4&lt;/span> Слой main&lt;/a>&lt;/li>
&lt;li>&lt;a href="#слой-extend">&lt;span class="section-num">1.1.5&lt;/span> Слой extend&lt;/a>&lt;/li>
&lt;li>&lt;a href="#слой-fumbol">&lt;span class="section-num">1.1.6&lt;/span> Слой fumbol&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="стандартная-клавиатура">&lt;span class="section-num">1&lt;/span> Стандартная клавиатура&lt;/h2>
&lt;ul>
&lt;li>Настройка для полной клавиатуры.&lt;/li>
&lt;li>Сделана на основе Kenkyo (см. &lt;a href="https://yamadharma.github.io/ru/post/2025/05/07/keyboard-layout-kenkyo/">Клавиатура. Раскладка Kenkyo&lt;/a>).&lt;/li>
&lt;/ul>
&lt;h3 id="настройка-на-основе-kanata">&lt;span class="section-num">1.1&lt;/span> Настройка на основе kanata&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/11/13/keymap-control-kanata/">Раскладка клавиатуры. kanata&lt;/a>&lt;/li>
&lt;/ul>
&lt;h4 id="общие-настройки">&lt;span class="section-num">1.1.1&lt;/span> Общие настройки&lt;/h4>
&lt;ul>
&lt;li>Базовая конфигурация.&lt;/li>
&lt;li>Разрешаем использование команд оболочки.
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defcfg&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">danger-enable-cmd&lt;/span> &lt;span class="nv">yes&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Определяем переменные.
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nb">defvar&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">streak-count&lt;/span> &lt;span class="mi">3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">streak-time&lt;/span> &lt;span class="mi">325&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">tap-timeout&lt;/span> &lt;span class="mi">200&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">hold-timeout&lt;/span> &lt;span class="mi">500&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">chord-timeout&lt;/span> &lt;span class="mi">50&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">tt&lt;/span> &lt;span class="nv">$tap-timeout&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">ht&lt;/span> &lt;span class="nv">$hold-timeout&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="структура-раскладки">&lt;span class="section-num">1.1.2&lt;/span> Структура раскладки&lt;/h4>
&lt;ul>
&lt;li>Структура раскладки:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defsrc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">grv&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="mi">7&lt;/span> &lt;span class="mi">8&lt;/span> &lt;span class="mi">9&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="nf">-&lt;/span> &lt;span class="nf">=&lt;/span> &lt;span class="nv">bspc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">tab&lt;/span> &lt;span class="nv">q&lt;/span> &lt;span class="nv">w&lt;/span> &lt;span class="nv">e&lt;/span> &lt;span class="nv">r&lt;/span> &lt;span class="no">t&lt;/span> &lt;span class="nv">y&lt;/span> &lt;span class="nv">u&lt;/span> &lt;span class="nv">i&lt;/span> &lt;span class="nv">o&lt;/span> &lt;span class="nv">p&lt;/span> &lt;span class="nv">[&lt;/span> &lt;span class="nv">]&lt;/span> &lt;span class="err">\&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">caps&lt;/span> &lt;span class="nv">a&lt;/span> &lt;span class="nv">s&lt;/span> &lt;span class="nv">d&lt;/span> &lt;span class="nv">f&lt;/span> &lt;span class="nv">g&lt;/span> &lt;span class="nv">h&lt;/span> &lt;span class="nv">j&lt;/span> &lt;span class="nv">k&lt;/span> &lt;span class="nv">l&lt;/span> &lt;span class="c1">; &amp;#39; ret&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">lsft&lt;/span> &lt;span class="nv">z&lt;/span> &lt;span class="nv">x&lt;/span> &lt;span class="nv">c&lt;/span> &lt;span class="nv">v&lt;/span> &lt;span class="nv">b&lt;/span> &lt;span class="nv">n&lt;/span> &lt;span class="nv">m&lt;/span> &lt;span class="o">,&lt;/span> &lt;span class="o">.&lt;/span> &lt;span class="nf">/&lt;/span> &lt;span class="nv">rsft&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">lctl&lt;/span> &lt;span class="nv">lmet&lt;/span> &lt;span class="nv">lalt&lt;/span> &lt;span class="nv">spc&lt;/span> &lt;span class="nv">ralt&lt;/span> &lt;span class="nv">rmet&lt;/span> &lt;span class="nv">menu&lt;/span> &lt;span class="nv">rctl&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="шаблон-модификаторов">&lt;span class="section-num">1.1.3&lt;/span> Шаблон модификаторов&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>Цель: реализация Tap-Hold модификаторов (клавиша работает как символ при коротком нажатии и как модификатор при удержании).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Задаём шаблон:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">deftemplate&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nf">char&lt;/span> &lt;span class="nf">mod&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">switch&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">((&lt;/span>&lt;span class="nv">key-timing&lt;/span> &lt;span class="nv">$streak-count&lt;/span> &lt;span class="nv">less-than&lt;/span> &lt;span class="nv">$streak-time&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="nv">$char&lt;/span> &lt;span class="nf">break&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">()&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold-release-timeout&lt;/span> &lt;span class="nv">$tap-timeout&lt;/span> &lt;span class="nv">$hold-timeout&lt;/span> &lt;span class="nv">$char&lt;/span> &lt;span class="nv">$mod&lt;/span> &lt;span class="nv">$char&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">break&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Параметры:
&lt;ul>
&lt;li>&lt;code>key-timing $streak-count less-than $streak-time&lt;/code> — проверяет, нажата ли предыдущая клавиша (3-я по счёту) менее 250 мс назад. Если да, модификатор игнорируется, чтобы избежать ложных срабатываний при быстрой печати.&lt;/li>
&lt;li>Проверка &lt;code>key-timing&lt;/code> снижает ошибки при быстрой печати.&lt;/li>
&lt;li>&lt;code>tap-hold-release-timeout $tap-timeout $hold-timeout&lt;/code>:
&lt;ul>
&lt;li>&lt;code>$tap-timeout&lt;/code> : время (мс) удержания для активации модификатора;&lt;/li>
&lt;li>&lt;code>$hold-timeout&lt;/code> : таймаут (мс) для возврата к символу, если модификатор не использован.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="слой-main">&lt;span class="section-num">1.1.4&lt;/span> Слой main&lt;/h4>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Виртуальные клавиши&lt;/p>
&lt;ul>
&lt;li>Зададим виртуальные клавиши.&lt;/li>
&lt;/ul>
&lt;!--listend-->
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defvirtualkeys&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Виртуальная клавиша shift&lt;/p>
&lt;ul>
&lt;li>Позволяет временно переключиться на базовый слой и активировать &lt;code>Shift&lt;/code> для ввода заглавных букв/символов.&lt;/li>
&lt;li>&lt;code>shift&lt;/code> &amp;ndash;— аналог включения &lt;code>Caps Lock&lt;/code>.&lt;/li>
&lt;/ul>
&lt;!--listend-->
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">shift&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">multi&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">layer-switch&lt;/span> &lt;span class="nv">main&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">lsft&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;code>(layer-switch main)&lt;/code> : активирует слой main (базовый слой) при нажатии клавиши &lt;code>shift&lt;/code>.&lt;/li>
&lt;li>&lt;code>lsft&lt;/code> : при удержании даёт левый Shift.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="2">
&lt;li>
&lt;p>Клавиша сброса&lt;/p>
&lt;ul>
&lt;li>Сбрасывает состояние:
&lt;ul>
&lt;li>Отключает &lt;code>shift&lt;/code> (если он активен).&lt;/li>
&lt;li>Гарантирует, что после использования &lt;code>shift&lt;/code> система вернётся к базовому слою без «залипания» модификаторов.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>clear&lt;/code> &amp;ndash;— аналог выключения &lt;code>Caps Lock&lt;/code>.&lt;/li>
&lt;/ul>
&lt;!--listend-->
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">clear&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">multi&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">layer-switch&lt;/span> &lt;span class="nv">main&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">on-press&lt;/span> &lt;span class="nv">release-virtualkey&lt;/span> &lt;span class="nv">shift&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>При нажатии клавиши &lt;code>clear&lt;/code>:
&lt;ul>
&lt;li>&lt;code>(layer-switch main)&lt;/code> : возвращает на базовый слой;&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>(on-press release-virtualkey shift)&lt;/code> : отпускает виртуальную клавишу &lt;code>shift&lt;/code> (если она была нажата).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="2">
&lt;li>
&lt;p>Аккорды основного слоя&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>w&lt;/code> + &lt;code>e&lt;/code>: &lt;code>Esc&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defchords&lt;/span> &lt;span class="nv">mtl&lt;/span> &lt;span class="nv">$chord-timeout&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">w&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="nv">w&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span> &lt;span class="nv">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">e&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">w&lt;/span> &lt;span class="nv">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">esc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>i&lt;/code> + &lt;code>o&lt;/code>: &lt;code>BackSpace&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defchords&lt;/span> &lt;span class="nv">mtr&lt;/span> &lt;span class="nv">$chord-timeout&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">i&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="nv">i&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span> &lt;span class="nv">o&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">o&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">i&lt;/span> &lt;span class="nv">o&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">bspc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>x&lt;/code> + &lt;code>c&lt;/code>: &lt;code>Tab&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>x&lt;/code> при удержании : &lt;code>AltGr&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defchords&lt;/span> &lt;span class="nv">mbl&lt;/span> &lt;span class="nv">$chord-timeout&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">x&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="nv">x&lt;/span> &lt;span class="nv">ralt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span> &lt;span class="nv">c&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">c&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">x&lt;/span> &lt;span class="nv">c&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">tab&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>,&lt;/code> + &lt;code>.&lt;/code>: &lt;code>Enter&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>.&lt;/code> при удержании : &lt;code>AltGr&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defchords&lt;/span> &lt;span class="nv">mbr&lt;/span> &lt;span class="nv">$chord-timeout&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span> &lt;span class="o">.&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="o">.&lt;/span> &lt;span class="nv">ralt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="o">.&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">ret&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="3">
&lt;li>
&lt;p>Карта слоя&lt;/p>
&lt;ul>
&lt;li>Зададим уровень &lt;code>main&lt;/code> через &lt;code>deflayermap&lt;/code>.&lt;/li>
&lt;li>Подключим ранее определённые аккорды:&lt;/li>
&lt;/ul>
&lt;!--listend-->
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">deflayermap&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">main&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">w&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">chord&lt;/span> &lt;span class="nv">mtl&lt;/span> &lt;span class="nv">w&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">e&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">chord&lt;/span> &lt;span class="nv">mtl&lt;/span> &lt;span class="nv">e&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">i&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">chord&lt;/span> &lt;span class="nv">mtr&lt;/span> &lt;span class="nv">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">o&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">chord&lt;/span> &lt;span class="nv">mtr&lt;/span> &lt;span class="nv">o&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">x&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">chord&lt;/span> &lt;span class="nv">mbl&lt;/span> &lt;span class="nv">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">c&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">chord&lt;/span> &lt;span class="nv">mbl&lt;/span> &lt;span class="nv">c&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">chord&lt;/span> &lt;span class="nv">mbr&lt;/span> &lt;span class="o">,&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">.&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">chord&lt;/span> &lt;span class="nv">mbr&lt;/span> &lt;span class="o">.&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Home Row Mods&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2025/05/01/kanata-home-row-mods/">kanata. Настройка Home Row Mods&lt;/a>&lt;/li>
&lt;li>Используется макет &lt;code>GACS&lt;/code> / &lt;code>◆⎇⎈⇧&lt;/code>.&lt;/li>
&lt;li>Добавим описание Home Row Mods:&lt;/li>
&lt;/ul>
&lt;!--listend-->
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">a&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="nv">a&lt;/span> &lt;span class="nv">lmet&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">s&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="nv">s&lt;/span> &lt;span class="nv">lalt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">d&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="nv">d&lt;/span> &lt;span class="nv">lctl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">f&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="nv">f&lt;/span> &lt;span class="nv">lsft&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">j&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="nv">j&lt;/span> &lt;span class="nv">rsft&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">k&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="nv">k&lt;/span> &lt;span class="nv">rctl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">l&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="nv">l&lt;/span> &lt;span class="nv">lalt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">; (t! charmod ; rmet)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="2">
&lt;li>
&lt;p>Дополнительные управляющие клавиши&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">z&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="nv">z&lt;/span> &lt;span class="nv">lctl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">/&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="nf">/&lt;/span> &lt;span class="nv">rctl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="3">
&lt;li>
&lt;p>Переключение на слой fumbol&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">v&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="nv">v&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">layer-while-held&lt;/span> &lt;span class="nv">fumbol&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">m&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="nv">m&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">layer-while-held&lt;/span> &lt;span class="nv">fumbol&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="4">
&lt;li>
&lt;p>Замена &lt;code>Caps Lock&lt;/code> на &lt;code>Ctrl&lt;/code> и &lt;code>Escape&lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2025/05/06/kanata-capslock/">kanata. Клавиша Caps Lock&lt;/a>&lt;/li>
&lt;li>Заменим &lt;code>Caps Lock&lt;/code> на комбинацию:
&lt;ul>
&lt;li>простое нажатие: &lt;code>Escape&lt;/code>;&lt;/li>
&lt;li>долгое нажатие &lt;code>Caps Lock&lt;/code> или &lt;code>Caps Lock&lt;/code> + другая клавиша: &lt;code>Ctrl&lt;/code>.
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">;;;; CapsLock -&amp;gt; Esc, Ctrl&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">;; caps (t! charmod esc lctl)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">caps&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold-press&lt;/span> &lt;span class="nv">$tt&lt;/span> &lt;span class="nv">$ht&lt;/span> &lt;span class="nv">esc&lt;/span> &lt;span class="nv">lctl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="5">
&lt;li>
&lt;p>Использование XKB для переключения раскладок&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2025/04/21/kanata-russian-layout/">kanata. Русская раскладка&lt;/a>&lt;/li>
&lt;li>Используется XKB для переключения раскладок (см. &lt;a href="https://yamadharma.github.io/ru/post/2025/04/22/keyboard-xkb/">Клавиатура. xkb&lt;/a>).&lt;/li>
&lt;li>Несколько команд объединяются с помощью функции &lt;code>multi&lt;/code>.&lt;/li>
&lt;li>Для переключения на английский используем правый &lt;code>Alt&lt;/code>.&lt;/li>
&lt;li>Для переключения на русский язык используется левый &lt;code>Alt&lt;/code>.
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">;;; Switch language&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">;;;; ralt -&amp;gt; RU; lalt -&amp;gt; EN&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Переключение с помощью команды оболочки&lt;/p>
&lt;ul>
&lt;li>Переключаем с помощью команд оболочки (для Sway).
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">;; ralt (tap-hold-press $tt $ht (cmd swaymsg input &amp;#39;type:keyboard&amp;#39; xkb_layout ru) ralt)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">;; lalt (tap-hold-press $tt $ht (cmd swaymsg input &amp;#39;type:keyboard&amp;#39; xkb_layout us) lalt)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>При этом перестаёт работать переключение языка на уровне окна (&lt;a href="https://github.com/artemsen/swaykbdd" target="_blank" rel="noopener">https://github.com/artemsen/swaykbdd&lt;/a>).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="2">
&lt;li>
&lt;p>Переключение путём отправки комбинации клавиш&lt;/p>
&lt;ul>
&lt;li>Установим опцию xkb:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">xkb_layout &amp;#34;us,ru&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">xkb_options &amp;#34;grp:lctrl_lwin_rctrl_menu&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Комбинация &lt;code>Ctrl+Left Win&lt;/code> переключает на первую раскладку.&lt;/li>
&lt;li>Комбинация &lt;code>Ctrl+Menu&lt;/code> переключает на вторую раскладку.&lt;/li>
&lt;li>Переключаем путём отправки комбинации клавиш:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">ralt&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold-press&lt;/span> &lt;span class="nv">$tt&lt;/span> &lt;span class="nv">$ht&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">multi&lt;/span> &lt;span class="nv">rctl&lt;/span> &lt;span class="nv">menu&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">ralt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">lalt&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold-press&lt;/span> &lt;span class="nv">$tt&lt;/span> &lt;span class="nv">$ht&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">multi&lt;/span> &lt;span class="nv">lctl&lt;/span> &lt;span class="nv">lmeta&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">lalt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="6">
&lt;li>
&lt;p>Использование пробела для переключения уровней&lt;/p>
&lt;ul>
&lt;li>Определяем поведение клавиши пробела (&lt;code>spc&lt;/code>) с использованием Tap-Hold модификатора.&lt;/li>
&lt;/ul>
&lt;!--listend-->
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">spc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="nv">spc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">multi&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">layer-switch&lt;/span> &lt;span class="nv">extend&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">on-release&lt;/span> &lt;span class="nv">tap-virtualkey&lt;/span> &lt;span class="nv">clear&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;code>t! charmod&lt;/code> &amp;mdash; Tap-Hold модификатор:
&lt;ul>
&lt;li>Короткое нажатие (tap) → отправляет &lt;code>spc&lt;/code> (пробел).&lt;/li>
&lt;li>Удержание (hold) → активирует слой &lt;code>extend&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>multi&lt;/code> &amp;mdash; выполняет несколько действий последовательно:
&lt;ul>
&lt;li>&lt;code>(layer-switch extend)&lt;/code> &amp;mdash; переключает на слой &lt;code>extend&lt;/code> при удержании.&lt;/li>
&lt;li>&lt;code>(on-release tap-virtualkey clear)&lt;/code> &amp;mdash; при отпускании клавиши отправляет виртуальную клавишу &lt;code>clear&lt;/code>:
&lt;ul>
&lt;li>возвращает слой к &lt;code>main&lt;/code>;&lt;/li>
&lt;li>Отпускает все активные модификаторы (например, &lt;code>Shift&lt;/code>).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Пример:
&lt;ul>
&lt;li>Удерживаете пробел → попадаете на слой &lt;code>extend&lt;/code>, где клавиши &lt;code>HJKL&lt;/code> могут работать как стрелки (←↓↑→).&lt;/li>
&lt;li>Отпускаете пробел → автоматически возвращаетесь на базовый слой &lt;code>main&lt;/code>, и модификаторы (вроде Shift) сбрасываются.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Преимущества:
&lt;ul>
&lt;li>Пробел становится многофункциональной клавишей:
&lt;ul>
&lt;li>Не занимает дополнительные клавиши для переключения слоёв.&lt;/li>
&lt;li>Избегает залипания слоя &lt;code>extend&lt;/code> после использования.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Подходит для навигации в тексте/коде без смещения рук с домашнего ряда.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="7">
&lt;li>
&lt;p>Завершение&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h4 id="слой-extend">&lt;span class="section-num">1.1.5&lt;/span> Слой extend&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">deflayermap&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">extend&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">e&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">layer-switch&lt;/span> &lt;span class="nv">fumbol&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">r&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">on-press&lt;/span> &lt;span class="nv">press-virtualkey&lt;/span> &lt;span class="nv">shift&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">y&lt;/span> &lt;span class="nv">ins&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">u&lt;/span> &lt;span class="nv">home&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">i&lt;/span> &lt;span class="nv">up&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">o&lt;/span> &lt;span class="nv">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">p&lt;/span> &lt;span class="nv">pgup&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">a&lt;/span> &lt;span class="nv">lmet&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">s&lt;/span> &lt;span class="nv">lalt&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">d&lt;/span> &lt;span class="nv">lsft&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">f&lt;/span> &lt;span class="nv">lctl&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">g&lt;/span> &lt;span class="nv">comp&lt;/span> &lt;span class="c1">;; Enable if not MacOS.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">h&lt;/span> &lt;span class="nv">esc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">j&lt;/span> &lt;span class="nv">left&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">k&lt;/span> &lt;span class="nv">down&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">l&lt;/span> &lt;span class="nv">rght&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">; pgdn&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">z&lt;/span> &lt;span class="nv">mute&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">x&lt;/span> &lt;span class="nv">vold&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">c&lt;/span> &lt;span class="nv">volu&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">v&lt;/span> &lt;span class="nv">pp&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">n&lt;/span> &lt;span class="nv">tab&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">m&lt;/span> &lt;span class="nv">bspc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">,&lt;/span> &lt;span class="nv">spc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">.&lt;/span> &lt;span class="nv">del&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">/&lt;/span> &lt;span class="nv">ret&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="слой-fumbol">&lt;span class="section-num">1.1.6&lt;/span> Слой fumbol&lt;/h4>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Аккорды слоя&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defchords&lt;/span> &lt;span class="nv">ftl&lt;/span> &lt;span class="nv">$chord-timeout&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">w&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="nv">f2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span> &lt;span class="nv">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">f3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">w&lt;/span> &lt;span class="nv">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">esc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defchords&lt;/span> &lt;span class="nv">ftr&lt;/span> &lt;span class="nv">$chord-timeout&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">i&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="nv">f8&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span> &lt;span class="nv">o&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">f9&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">i&lt;/span> &lt;span class="nv">o&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">bspc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defchords&lt;/span> &lt;span class="nv">fbl&lt;/span> &lt;span class="nv">$chord-timeout&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">x&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="o">`&lt;/span> &lt;span class="nv">ralt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span> &lt;span class="nv">c&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">-&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">x&lt;/span> &lt;span class="nv">c&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">tab&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defchords&lt;/span> &lt;span class="nv">fbr&lt;/span> &lt;span class="nv">$chord-timeout&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="nv">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span> &lt;span class="o">.&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="nv">]&lt;/span> &lt;span class="nv">ralt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="o">.&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">ret&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="2">
&lt;li>
&lt;p>Карта слоя&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">deflayermap&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">fumbol&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">q&lt;/span> &lt;span class="nv">f1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">w&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">chord&lt;/span> &lt;span class="nv">ftl&lt;/span> &lt;span class="nv">w&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">e&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">chord&lt;/span> &lt;span class="nv">ftl&lt;/span> &lt;span class="nv">e&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">r&lt;/span> &lt;span class="nv">f4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="no">t&lt;/span> &lt;span class="nv">f5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">y&lt;/span> &lt;span class="nv">f6&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">u&lt;/span> &lt;span class="nv">f7&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">i&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">chord&lt;/span> &lt;span class="nv">ftr&lt;/span> &lt;span class="nv">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">o&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">chord&lt;/span> &lt;span class="nv">ftr&lt;/span> &lt;span class="nv">o&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">p&lt;/span> &lt;span class="nv">f10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">[&lt;/span> &lt;span class="nv">f11&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">]&lt;/span> &lt;span class="nv">f12&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">\ f13&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">a&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="nv">lmet&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">s&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="nv">lalt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">d&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="nv">lsft&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">f&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="nv">lctl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">g&lt;/span> &lt;span class="mi">5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">h&lt;/span> &lt;span class="mi">6&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">j&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="mi">7&lt;/span> &lt;span class="nv">rctl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">k&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="mi">8&lt;/span> &lt;span class="nv">rsft&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">l&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="mi">9&lt;/span> &lt;span class="nv">lalt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">; (t! charmod 0 rmet)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">z&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="nv">lsgt&lt;/span> &lt;span class="nv">lctl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">x&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">chord&lt;/span> &lt;span class="nv">fbl&lt;/span> &lt;span class="nv">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">c&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">chord&lt;/span> &lt;span class="nv">fbl&lt;/span> &lt;span class="nv">c&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">v&lt;/span> &lt;span class="nf">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">b&lt;/span> &lt;span class="nv">f11&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">n&lt;/span> &lt;span class="nv">f12&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">m&lt;/span> &lt;span class="o">&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">chord&lt;/span> &lt;span class="nv">fbr&lt;/span> &lt;span class="o">,&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">.&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">chord&lt;/span> &lt;span class="nv">fbr&lt;/span> &lt;span class="o">.&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">/&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">charmod&lt;/span> &lt;span class="nv">\ lctl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol></description></item><item><title>Клавиатура. xkb</title><link>https://yamadharma.github.io/ru/post/2025/04/22/keyboard-xkb/</link><pubDate>Tue, 22 Apr 2025 14:17:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/04/22/keyboard-xkb/</guid><description>&lt;p>Клавиатура. xkb.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-инфорация">&lt;span class="section-num">1&lt;/span> Общая инфорация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#переключение-раскладок">&lt;span class="section-num">2&lt;/span> Переключение раскладок&lt;/a>&lt;/li>
&lt;li>&lt;a href="#третий-уровень-символов--level3">&lt;span class="section-num">3&lt;/span> Третий уровень символов (level3)&lt;/a>&lt;/li>
&lt;li>&lt;a href="#compose-key">&lt;span class="section-num">4&lt;/span> Compose Key&lt;/a>&lt;/li>
&lt;li>&lt;a href="#переназначение-клавиш">&lt;span class="section-num">5&lt;/span> Переназначение клавиш&lt;/a>&lt;/li>
&lt;li>&lt;a href="#управление-из-командной-строки">&lt;span class="section-num">6&lt;/span> Управление из командной строки&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#настройки-в-x11">&lt;span class="section-num">6.1&lt;/span> Настройки в x11&lt;/a>&lt;/li>
&lt;li>&lt;a href="#настройки-в-sway">&lt;span class="section-num">6.2&lt;/span> Настройки в sway&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="общая-инфорация">&lt;span class="section-num">1&lt;/span> Общая инфорация&lt;/h2>
&lt;h2 id="переключение-раскладок">&lt;span class="section-num">2&lt;/span> Переключение раскладок&lt;/h2>
&lt;ul>
&lt;li>Клавиши-модификаторы:
&lt;ul>
&lt;li>&lt;code>grp:alt_shift_toggle&lt;/code> &amp;mdash; Alt + Shift;&lt;/li>
&lt;li>&lt;code>grp:ctrl_shift_toggle&lt;/code> &amp;mdash; Ctrl + Shift;&lt;/li>
&lt;li>&lt;code>grp:win_switch&lt;/code> &amp;mdash; Клавиша Super (Win);&lt;/li>
&lt;li>&lt;code>grp:menu_toggle&lt;/code> &amp;mdash; Клавиша Menu;&lt;/li>
&lt;li>&lt;code>grp:caps_toggle&lt;/code> &amp;mdash; Caps Lock (одиночное нажатие);&lt;/li>
&lt;li>&lt;code>grp:shift_caps_toggle&lt;/code> &amp;mdash; Shift + Caps Lock;&lt;/li>
&lt;li>&lt;code>grp:alt_space_toggle&lt;/code> &amp;mdash; Alt + Space;&lt;/li>
&lt;li>&lt;code>grp:lswitch&lt;/code> &amp;mdash; Правый Ctrl (циклическое переключение);&lt;/li>
&lt;li>&lt;code>grp:rswitch&lt;/code> &amp;mdash; Правый Alt (циклическое переключение);&lt;/li>
&lt;li>&lt;code>grp:toggle&lt;/code> &amp;mdash; Fn + специальная клавиша (зависит от модели)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Экзотические комбинации:
&lt;ul>
&lt;li>&lt;code>grp:lalt_lshift_toggle&lt;/code> &amp;mdash; Левый Alt + Левый Shift;&lt;/li>
&lt;li>&lt;code>grp:alt_caps_toggle&lt;/code> &amp;mdash; Alt + Caps Lock;&lt;/li>
&lt;li>&lt;code>grp:sclk_toggle&lt;/code> &amp;mdash; Scroll Lock;&lt;/li>
&lt;li>&lt;code>grp:ctrl_alt_toggle&lt;/code> &amp;mdash; Ctrl + Alt;&lt;/li>
&lt;li>&lt;code>grp:rctrl_switch&lt;/code> &amp;mdash; Правый Ctrl (удерживать)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Индикация:
&lt;ul>
&lt;li>&lt;code>grp_led:scroll&lt;/code> &amp;mdash; Индикация через Scroll Lock LED;&lt;/li>
&lt;li>&lt;code>grp_led:caps&lt;/code> &amp;mdash; Индикация через Caps Lock LED;&lt;/li>
&lt;li>&lt;code>grp_led:num&lt;/code> &amp;mdash; Индикация через Num Lock LED&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="третий-уровень-символов--level3">&lt;span class="section-num">3&lt;/span> Третий уровень символов (level3)&lt;/h2>
&lt;ul>
&lt;li>Активация:
&lt;ul>
&lt;li>&lt;code>lv3:ralt_switch&lt;/code> &amp;mdash; Правый Alt (AltGr);&lt;/li>
&lt;li>&lt;code>lv3:switch&lt;/code> &amp;mdash; Клавиша Menu;&lt;/li>
&lt;li>&lt;code>lv3:win_switch&lt;/code> &amp;mdash; Win + AltGr;&lt;/li>
&lt;li>&lt;code>lv3:caps_switch&lt;/code> &amp;mdash; Caps Lock (удерживать);&lt;/li>
&lt;li>&lt;code>lv3:enter_switch&lt;/code> &amp;mdash; Enter (удерживать);&lt;/li>
&lt;li>&lt;code>lv3:bksl_switch&lt;/code> &amp;mdash; Backslash (удерживать);&lt;/li>
&lt;li>&lt;code>lv3:lsgt_switch&lt;/code> &amp;mdash; Клавиша &amp;ldquo;&amp;lt; &amp;gt; |&amp;rdquo; (удерживать)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="compose-key">&lt;span class="section-num">4&lt;/span> Compose Key&lt;/h2>
&lt;ul>
&lt;li>&lt;code>compose:ralt&lt;/code> &amp;mdash; Правый Alt;&lt;/li>
&lt;li>&lt;code>compose:rwin&lt;/code> &amp;mdash; Правая Win;&lt;/li>
&lt;li>&lt;code>compose:lwin&lt;/code> &amp;mdash; Левая Win;&lt;/li>
&lt;li>&lt;code>compose:menu&lt;/code> &amp;mdash; Клавиша Menu;&lt;/li>
&lt;li>&lt;code>compose:caps&lt;/code> &amp;mdash; Caps Lock;&lt;/li>
&lt;li>&lt;code>compose:prsc&lt;/code> &amp;mdash; Print Screen&lt;/li>
&lt;/ul>
&lt;h2 id="переназначение-клавиш">&lt;span class="section-num">5&lt;/span> Переназначение клавиш&lt;/h2>
&lt;ul>
&lt;li>&lt;code>ctrl:nocaps&lt;/code> &amp;mdash; Caps Lock → Ctrl;&lt;/li>
&lt;li>&lt;code>ctrl:swapcaps&lt;/code> &amp;mdash; Поменять местами Caps Lock и Ctrl;&lt;/li>
&lt;li>&lt;code>altwin:swap_alt_win&lt;/code> &amp;mdash; Alt ↔ Win;&lt;/li>
&lt;li>&lt;code>altwin:menu&lt;/code> &amp;mdash; Win → Menu;&lt;/li>
&lt;li>&lt;code>caps:swapescape&lt;/code> &amp;mdash; Caps Lock ↔ Esc&lt;/li>
&lt;/ul>
&lt;h2 id="управление-из-командной-строки">&lt;span class="section-num">6&lt;/span> Управление из командной строки&lt;/h2>
&lt;ul>
&lt;li>Просмотр всех доступных параметров:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">localectl list-x11-keymap-options
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="настройки-в-x11">&lt;span class="section-num">6.1&lt;/span> Настройки в x11&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Переключение раскладок через Caps Lock + Shift с индикацией через Scroll Lock LED:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">setxkbmap -option &lt;span class="s2">&amp;#34;grp:shift_caps_toggle,grp_led:scroll&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Третий уровень на правом Alt + Compose на Menu:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">setxkbmap -option &lt;span class="s2">&amp;#34;lv3:ralt_switch,compose:menu&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Замена Caps Lock на Ctrl + завершение Xorg через Ctrl+Alt+Backspace:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">setxkbmap -option &lt;span class="s2">&amp;#34;ctrl:nocaps,terminate:ctrl_alt_bksp&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="настройки-в-sway">&lt;span class="section-num">6.2&lt;/span> Настройки в sway&lt;/h3>
&lt;ul>
&lt;li>Переключить на английский:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">swaymsg input &lt;span class="s1">&amp;#39;type:keyboard&amp;#39;&lt;/span> xkb_layout us
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Переключить на русский:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">swaymsg input &lt;span class="s1">&amp;#39;type:keyboard&amp;#39;&lt;/span> xkb_layout ru
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>kanata. Русская раскладка</title><link>https://yamadharma.github.io/ru/post/2025/04/21/kanata-russian-layout/</link><pubDate>Mon, 21 Apr 2025 16:44:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/04/21/kanata-russian-layout/</guid><description>&lt;p>kanata. Русская раскладка&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#варианты">&lt;span class="section-num">1&lt;/span> Варианты&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#использование-xkb-для-переключения-раскладок">&lt;span class="section-num">1.1&lt;/span> Использование XKB для переключения раскладок&lt;/a>&lt;/li>
&lt;li>&lt;a href="#использование-unicode">&lt;span class="section-num">1.2&lt;/span> Использование Unicode&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="варианты">&lt;span class="section-num">1&lt;/span> Варианты&lt;/h2>
&lt;h3 id="использование-xkb-для-переключения-раскладок">&lt;span class="section-num">1.1&lt;/span> Использование XKB для переключения раскладок&lt;/h3>
&lt;ul>
&lt;li>Один из подходов &amp;mdash; использование XKB для переключения раскладок (см. &lt;a href="https://yamadharma.github.io/ru/post/2025/04/22/keyboard-xkb/">Клавиатура. xkb&lt;/a>).&lt;/li>
&lt;li>Это не всегда удобно.&lt;/li>
&lt;li>Примерная конфигурация.&lt;/li>
&lt;/ul>
&lt;!--listend-->
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defcfg&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">danger-enable-cmd&lt;/span> &lt;span class="nv">yes&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nb">defvar&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">tap-timeout&lt;/span> &lt;span class="mi">100&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">hold-timeout&lt;/span> &lt;span class="mi">200&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">tt&lt;/span> &lt;span class="nv">$tap-timeout&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">ht&lt;/span> &lt;span class="nv">$hold-timeout&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defsrc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">grv&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="mi">7&lt;/span> &lt;span class="mi">8&lt;/span> &lt;span class="mi">9&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="nf">-&lt;/span> &lt;span class="nf">=&lt;/span> &lt;span class="nv">bspc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">tab&lt;/span> &lt;span class="nv">q&lt;/span> &lt;span class="nv">w&lt;/span> &lt;span class="nv">e&lt;/span> &lt;span class="nv">r&lt;/span> &lt;span class="no">t&lt;/span> &lt;span class="nv">y&lt;/span> &lt;span class="nv">u&lt;/span> &lt;span class="nv">i&lt;/span> &lt;span class="nv">o&lt;/span> &lt;span class="nv">p&lt;/span> &lt;span class="nv">[&lt;/span> &lt;span class="nv">]&lt;/span> &lt;span class="err">\&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">caps&lt;/span> &lt;span class="nv">a&lt;/span> &lt;span class="nv">s&lt;/span> &lt;span class="nv">d&lt;/span> &lt;span class="nv">f&lt;/span> &lt;span class="nv">g&lt;/span> &lt;span class="nv">h&lt;/span> &lt;span class="nv">j&lt;/span> &lt;span class="nv">k&lt;/span> &lt;span class="nv">l&lt;/span> &lt;span class="c1">; &amp;#39; ret&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">lsft&lt;/span> &lt;span class="nv">z&lt;/span> &lt;span class="nv">x&lt;/span> &lt;span class="nv">c&lt;/span> &lt;span class="nv">v&lt;/span> &lt;span class="nv">b&lt;/span> &lt;span class="nv">n&lt;/span> &lt;span class="nv">m&lt;/span> &lt;span class="o">,&lt;/span> &lt;span class="o">.&lt;/span> &lt;span class="nf">/&lt;/span> &lt;span class="nv">rsft&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">lctl&lt;/span> &lt;span class="nv">lmet&lt;/span> &lt;span class="nv">lalt&lt;/span> &lt;span class="nv">spc&lt;/span> &lt;span class="nv">ralt&lt;/span> &lt;span class="nv">rmet&lt;/span> &lt;span class="nv">menu&lt;/span> &lt;span class="nv">rctl&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">deflayer&lt;/span> &lt;span class="nv">qwerty&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">grv&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="mi">7&lt;/span> &lt;span class="mi">8&lt;/span> &lt;span class="mi">9&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="nf">-&lt;/span> &lt;span class="nf">=&lt;/span> &lt;span class="nv">bspc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">tab&lt;/span> &lt;span class="nv">q&lt;/span> &lt;span class="nv">w&lt;/span> &lt;span class="nv">e&lt;/span> &lt;span class="nv">r&lt;/span> &lt;span class="no">t&lt;/span> &lt;span class="nv">y&lt;/span> &lt;span class="nv">u&lt;/span> &lt;span class="nv">i&lt;/span> &lt;span class="nv">o&lt;/span> &lt;span class="nv">p&lt;/span> &lt;span class="nv">[&lt;/span> &lt;span class="nv">]&lt;/span> &lt;span class="err">\&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">caps&lt;/span> &lt;span class="nv">a&lt;/span> &lt;span class="nv">s&lt;/span> &lt;span class="nv">d&lt;/span> &lt;span class="nv">f&lt;/span> &lt;span class="nv">g&lt;/span> &lt;span class="nv">h&lt;/span> &lt;span class="nv">j&lt;/span> &lt;span class="nv">k&lt;/span> &lt;span class="nv">l&lt;/span> &lt;span class="c1">; &amp;#39; ret&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">lsft&lt;/span> &lt;span class="nv">z&lt;/span> &lt;span class="nv">x&lt;/span> &lt;span class="nv">c&lt;/span> &lt;span class="nv">v&lt;/span> &lt;span class="nv">b&lt;/span> &lt;span class="nv">n&lt;/span> &lt;span class="nv">m&lt;/span> &lt;span class="o">,&lt;/span> &lt;span class="o">.&lt;/span> &lt;span class="nf">/&lt;/span> &lt;span class="nv">rsft&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">lctl&lt;/span> &lt;span class="nv">lmet&lt;/span> &lt;span class="nv">lalt&lt;/span> &lt;span class="nv">spc&lt;/span> &lt;span class="nv">ralt&lt;/span> &lt;span class="nv">rmet&lt;/span> &lt;span class="nv">menu&lt;/span> &lt;span class="nv">@rctl_ext&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">deflayer&lt;/span> &lt;span class="nv">russian&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">grv&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="mi">7&lt;/span> &lt;span class="mi">8&lt;/span> &lt;span class="mi">9&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="nf">-&lt;/span> &lt;span class="nf">=&lt;/span> &lt;span class="nv">bspc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">tab&lt;/span> &lt;span class="nv">q&lt;/span> &lt;span class="nv">w&lt;/span> &lt;span class="nv">e&lt;/span> &lt;span class="nv">r&lt;/span> &lt;span class="no">t&lt;/span> &lt;span class="nv">y&lt;/span> &lt;span class="nv">u&lt;/span> &lt;span class="nv">i&lt;/span> &lt;span class="nv">o&lt;/span> &lt;span class="nv">p&lt;/span> &lt;span class="nv">[&lt;/span> &lt;span class="nv">]&lt;/span> &lt;span class="err">\&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">caps&lt;/span> &lt;span class="nv">a&lt;/span> &lt;span class="nv">s&lt;/span> &lt;span class="nv">d&lt;/span> &lt;span class="nv">f&lt;/span> &lt;span class="nv">g&lt;/span> &lt;span class="nv">h&lt;/span> &lt;span class="nv">j&lt;/span> &lt;span class="nv">k&lt;/span> &lt;span class="nv">l&lt;/span> &lt;span class="c1">; &amp;#39; ret&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">lsft&lt;/span> &lt;span class="nv">z&lt;/span> &lt;span class="nv">x&lt;/span> &lt;span class="nv">c&lt;/span> &lt;span class="nv">v&lt;/span> &lt;span class="nv">b&lt;/span> &lt;span class="nv">n&lt;/span> &lt;span class="nv">m&lt;/span> &lt;span class="o">,&lt;/span> &lt;span class="o">.&lt;/span> &lt;span class="nf">/&lt;/span> &lt;span class="nv">rsft&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">@lctl_ext&lt;/span> &lt;span class="nv">lmet&lt;/span> &lt;span class="nv">lalt&lt;/span> &lt;span class="nv">spc&lt;/span> &lt;span class="nv">ralt&lt;/span> &lt;span class="nv">rmet&lt;/span> &lt;span class="nv">menu&lt;/span> &lt;span class="nv">rctl&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Несколько команд объединяются с помощью функции &lt;code>multi&lt;/code>.&lt;/li>
&lt;li>Вариант переключения с помощью команд оболочки.
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defalias&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">rctl_ext&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold-press&lt;/span> &lt;span class="nv">$tt&lt;/span> &lt;span class="nv">$ht&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">multi&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">cmd&lt;/span> &lt;span class="nv">swaymsg&lt;/span> &lt;span class="nv">input&lt;/span> &lt;span class="ss">&amp;#39;type:keyboard&lt;/span>&lt;span class="o">&amp;#39;&lt;/span> &lt;span class="nv">xkb_layout&lt;/span> &lt;span class="nv">ru&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">layer-switch&lt;/span> &lt;span class="nv">russian&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="nv">rctl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">lctl_ext&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold-press&lt;/span> &lt;span class="nv">$tt&lt;/span> &lt;span class="nv">$ht&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">multi&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">cmd&lt;/span> &lt;span class="nv">swaymsg&lt;/span> &lt;span class="nv">input&lt;/span> &lt;span class="ss">&amp;#39;type:keyboard&lt;/span>&lt;span class="o">&amp;#39;&lt;/span> &lt;span class="nv">xkb_layout&lt;/span> &lt;span class="nv">us&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">layer-switch&lt;/span> &lt;span class="nv">qwerty&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="nv">lctl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>В качестве альтернативы можно предложить переключения с помощью клавиатурных сочетаний, используемых операционной системой:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defalias&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">rctl_ext&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold-press&lt;/span> &lt;span class="nv">$tt&lt;/span> &lt;span class="nv">$ht&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">multi&lt;/span> &lt;span class="nv">lsft&lt;/span> &lt;span class="nv">lalt&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">layer-switch&lt;/span> &lt;span class="nv">russian&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="nv">rctl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">lctl_ext&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold-press&lt;/span> &lt;span class="nv">$tt&lt;/span> &lt;span class="nv">$ht&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">multi&lt;/span> &lt;span class="nv">lsft&lt;/span> &lt;span class="nv">lalt&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">layer-switch&lt;/span> &lt;span class="nv">qwerty&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="nv">lctl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Здесь мы использовали комбинацию &lt;code>Shift+Alt&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h3 id="использование-unicode">&lt;span class="section-num">1.2&lt;/span> Использование Unicode&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Другой вариант — использование Unicode или макросов с Compose-последовательностями.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Предлагается использовать слой с латинскими символами, которые преобразуются в русские через XKB или Compose-последовательности.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Необходимо настроить XKB для корректной работы.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Для примера настроим переключение слоя через CapsLock.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Вот пример конфигурации Kanata для поддержки русского языка через отдельный слой с использованием Unicode-символов:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defsrc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">grv&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="mi">7&lt;/span> &lt;span class="mi">8&lt;/span> &lt;span class="mi">9&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="nf">-&lt;/span> &lt;span class="nf">=&lt;/span> &lt;span class="nv">bspc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">tab&lt;/span> &lt;span class="nv">q&lt;/span> &lt;span class="nv">w&lt;/span> &lt;span class="nv">e&lt;/span> &lt;span class="nv">r&lt;/span> &lt;span class="no">t&lt;/span> &lt;span class="nv">y&lt;/span> &lt;span class="nv">u&lt;/span> &lt;span class="nv">i&lt;/span> &lt;span class="nv">o&lt;/span> &lt;span class="nv">p&lt;/span> &lt;span class="nv">[&lt;/span> &lt;span class="nv">]&lt;/span> &lt;span class="err">\&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">caps&lt;/span> &lt;span class="nv">a&lt;/span> &lt;span class="nv">s&lt;/span> &lt;span class="nv">d&lt;/span> &lt;span class="nv">f&lt;/span> &lt;span class="nv">g&lt;/span> &lt;span class="nv">h&lt;/span> &lt;span class="nv">j&lt;/span> &lt;span class="nv">k&lt;/span> &lt;span class="nv">l&lt;/span> &lt;span class="c1">; &amp;#39; ret&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">lsft&lt;/span> &lt;span class="nv">z&lt;/span> &lt;span class="nv">x&lt;/span> &lt;span class="nv">c&lt;/span> &lt;span class="nv">v&lt;/span> &lt;span class="nv">b&lt;/span> &lt;span class="nv">n&lt;/span> &lt;span class="nv">m&lt;/span> &lt;span class="o">,&lt;/span> &lt;span class="o">.&lt;/span> &lt;span class="nf">/&lt;/span> &lt;span class="nv">rsft&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">lctl&lt;/span> &lt;span class="nv">lmet&lt;/span> &lt;span class="nv">lalt&lt;/span> &lt;span class="nv">spc&lt;/span> &lt;span class="nv">ralt&lt;/span> &lt;span class="nv">rmet&lt;/span> &lt;span class="nv">rctl&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">deflayer&lt;/span> &lt;span class="nv">querty&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">grv&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="mi">7&lt;/span> &lt;span class="mi">8&lt;/span> &lt;span class="mi">9&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="nf">-&lt;/span> &lt;span class="nf">=&lt;/span> &lt;span class="nv">bspc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">tab&lt;/span> &lt;span class="nv">q&lt;/span> &lt;span class="nv">w&lt;/span> &lt;span class="nv">e&lt;/span> &lt;span class="nv">r&lt;/span> &lt;span class="no">t&lt;/span> &lt;span class="nv">y&lt;/span> &lt;span class="nv">u&lt;/span> &lt;span class="nv">i&lt;/span> &lt;span class="nv">o&lt;/span> &lt;span class="nv">p&lt;/span> &lt;span class="nv">[&lt;/span> &lt;span class="nv">]&lt;/span> &lt;span class="err">\&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">@ru_switch&lt;/span> &lt;span class="nv">a&lt;/span> &lt;span class="nv">s&lt;/span> &lt;span class="nv">d&lt;/span> &lt;span class="nv">f&lt;/span> &lt;span class="nv">g&lt;/span> &lt;span class="nv">h&lt;/span> &lt;span class="nv">j&lt;/span> &lt;span class="nv">k&lt;/span> &lt;span class="nv">l&lt;/span> &lt;span class="c1">; &amp;#39; ret&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">lsft&lt;/span> &lt;span class="nv">z&lt;/span> &lt;span class="nv">x&lt;/span> &lt;span class="nv">c&lt;/span> &lt;span class="nv">v&lt;/span> &lt;span class="nv">b&lt;/span> &lt;span class="nv">n&lt;/span> &lt;span class="nv">m&lt;/span> &lt;span class="o">,&lt;/span> &lt;span class="o">.&lt;/span> &lt;span class="nf">/&lt;/span> &lt;span class="nv">rsft&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">lctl&lt;/span> &lt;span class="nv">lmet&lt;/span> &lt;span class="nv">lalt&lt;/span> &lt;span class="nv">spc&lt;/span> &lt;span class="nv">ralt&lt;/span> &lt;span class="nv">rmet&lt;/span> &lt;span class="nv">rctl&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">deflayer&lt;/span> &lt;span class="nv">russian&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">ё&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="mi">7&lt;/span> &lt;span class="mi">8&lt;/span> &lt;span class="mi">9&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="nf">-&lt;/span> &lt;span class="nf">=&lt;/span> &lt;span class="nv">bspc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">tab&lt;/span> &lt;span class="nv">й&lt;/span> &lt;span class="nv">ц&lt;/span> &lt;span class="nv">у&lt;/span> &lt;span class="nv">к&lt;/span> &lt;span class="nv">е&lt;/span> &lt;span class="nv">н&lt;/span> &lt;span class="nv">г&lt;/span> &lt;span class="nv">ш&lt;/span> &lt;span class="nv">щ&lt;/span> &lt;span class="nv">з&lt;/span> &lt;span class="nv">х&lt;/span> &lt;span class="nv">ъ&lt;/span> &lt;span class="err">\&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">@en_switch&lt;/span> &lt;span class="nv">ф&lt;/span> &lt;span class="nv">ы&lt;/span> &lt;span class="nv">в&lt;/span> &lt;span class="nv">а&lt;/span> &lt;span class="nv">п&lt;/span> &lt;span class="nv">р&lt;/span> &lt;span class="nv">о&lt;/span> &lt;span class="nv">л&lt;/span> &lt;span class="nv">д&lt;/span> &lt;span class="nv">ж&lt;/span> &lt;span class="nv">э&lt;/span> &lt;span class="nv">ret&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">lsft&lt;/span> &lt;span class="nv">я&lt;/span> &lt;span class="nv">ч&lt;/span> &lt;span class="nv">с&lt;/span> &lt;span class="nv">м&lt;/span> &lt;span class="nv">и&lt;/span> &lt;span class="nv">т&lt;/span> &lt;span class="nv">ь&lt;/span> &lt;span class="nv">б&lt;/span> &lt;span class="nv">ю&lt;/span> &lt;span class="o">.&lt;/span> &lt;span class="nv">rsft&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">lctl&lt;/span> &lt;span class="nv">lmet&lt;/span> &lt;span class="nv">lalt&lt;/span> &lt;span class="nv">spc&lt;/span> &lt;span class="nv">ralt&lt;/span> &lt;span class="nv">rmet&lt;/span> &lt;span class="nv">rctl&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defalias&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">ru_switch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">layer-switch&lt;/span> &lt;span class="nv">russian&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">ru_switch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">layer-switch&lt;/span> &lt;span class="nv">english&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">ё&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">unicode&lt;/span> &lt;span class="nv">ё&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>В консоли не работает.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Отправляет символ как unicode-последовательность. Явно видны задержки.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Для работы потребуется:&lt;/p>
&lt;ul>
&lt;li>Установить русскую раскладку в системе&lt;/li>
&lt;li>Настроить переключение слоя через сочетание клавиш (в примере CapsLock)&lt;/li>
&lt;li>Добавить Unicode-маппинг для всех необходимых символов&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Особенности реализации:&lt;/p>
&lt;ul>
&lt;li>Использует отдельный слой для русской раскладки&lt;/li>
&lt;li>Переключение между слоями через модификатор CapsLock&lt;/li>
&lt;li>Прямая отправка Unicode-символов через (unicode xxxx)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Раскладка клавиатуры. kanata</title><link>https://yamadharma.github.io/ru/post/2024/11/13/keymap-control-kanata/</link><pubDate>Wed, 13 Nov 2024 14:42:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/11/13/keymap-control-kanata/</guid><description>&lt;p>Раскладка клавиатуры. kanata.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#сервисы">&lt;span class="section-num">1.1&lt;/span> Сервисы&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#установка">&lt;span class="section-num">2&lt;/span> Установка&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#gentoo">&lt;span class="section-num">2.1&lt;/span> Gentoo&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#настройки-доступа-для-linux">&lt;span class="section-num">3&lt;/span> Настройки доступа для Linux&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#группа-uinput">&lt;span class="section-num">3.1&lt;/span> Группа uinput&lt;/a>&lt;/li>
&lt;li>&lt;a href="#добавьте-пользователя-в-нужные-группы">&lt;span class="section-num">3.2&lt;/span> Добавьте пользователя в нужные группы&lt;/a>&lt;/li>
&lt;li>&lt;a href="#права-доступа-к-файлу-устройства">&lt;span class="section-num">3.3&lt;/span> Права доступа к файлу устройства&lt;/a>&lt;/li>
&lt;li>&lt;a href="#загрузите-модуль-ядра">&lt;span class="section-num">3.4&lt;/span> Загрузите модуль ядра&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#отслеживание-приложений">&lt;span class="section-num">4&lt;/span> Отслеживание приложений&lt;/a>&lt;/li>
&lt;li>&lt;a href="#пример-разделов-файла-конфигурации">&lt;span class="section-num">5&lt;/span> Пример разделов файла конфигурации&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#defcfg">&lt;span class="section-num">5.1&lt;/span> defcfg&lt;/a>&lt;/li>
&lt;li>&lt;a href="#defsrc">&lt;span class="section-num">5.2&lt;/span> defsrc&lt;/a>&lt;/li>
&lt;li>&lt;a href="#deflayer">&lt;span class="section-num">5.3&lt;/span> deflayer&lt;/a>&lt;/li>
&lt;li>&lt;a href="#defvar">&lt;span class="section-num">5.4&lt;/span> defvar&lt;/a>&lt;/li>
&lt;li>&lt;a href="#defalias">&lt;span class="section-num">5.5&lt;/span> defalias&lt;/a>&lt;/li>
&lt;li>&lt;a href="#аккорды--defchords">&lt;span class="section-num">5.6&lt;/span> Аккорды (defchords)&lt;/a>&lt;/li>
&lt;li>&lt;a href="#аккорды--defchordsv2">&lt;span class="section-num">5.7&lt;/span> Аккорды (defchordsv2)&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#синтаксис-defchordsv2">&lt;span class="section-num">5.7.1&lt;/span> Синтаксис &lt;code>defchordsv2&lt;/code>&lt;/a>&lt;/li>
&lt;li>&lt;a href="#примеры-использования">&lt;span class="section-num">5.7.2&lt;/span> Примеры использования&lt;/a>&lt;/li>
&lt;li>&lt;a href="#особенности">&lt;span class="section-num">5.7.3&lt;/span> Особенности&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#примеры-конфигураций">&lt;span class="section-num">6&lt;/span> Примеры конфигураций&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/jtroo/kanata" target="_blank" rel="noopener">https://github.com/jtroo/kanata&lt;/a>&lt;/li>
&lt;li>Документация:
&lt;ul>
&lt;li>&lt;a href="https://github.com/jtroo/kanata/blob/main/docs/config.adoc" target="_blank" rel="noopener">https://github.com/jtroo/kanata/blob/main/docs/config.adoc&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://jtroo.github.io/config.html" target="_blank" rel="noopener">https://jtroo.github.io/config.html&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Поддержка ОС: Linux, Windows, MacOS.&lt;/li>
&lt;li>Язык реализации: Rust.&lt;/li>
&lt;/ul>
&lt;h3 id="сервисы">&lt;span class="section-num">1.1&lt;/span> Сервисы&lt;/h3>
&lt;ul>
&lt;li>Онлайн симулятор kanata: &lt;a href="https://jtroo.github.io/" target="_blank" rel="noopener">https://jtroo.github.io/&lt;/a>.&lt;/li>
&lt;li>Можно загрузить свою конфигурацию и проверить.&lt;/li>
&lt;/ul>
&lt;h2 id="установка">&lt;span class="section-num">2&lt;/span> Установка&lt;/h2>
&lt;h3 id="gentoo">&lt;span class="section-num">2.1&lt;/span> Gentoo&lt;/h3>
&lt;ul>
&lt;li>Репозиторий karma (см. &lt;a href="https://yamadharma.github.io/ru/post/2024/05/25/gentoo-karma-repository/">Gentoo. Репозиторий karma&lt;/a>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">emerge app-misc/kanata
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="настройки-доступа-для-linux">&lt;span class="section-num">3&lt;/span> Настройки доступа для Linux&lt;/h2>
&lt;ul>
&lt;li>В Linux kanata должна иметь доступ к подсистемам &lt;code>input&lt;/code> и &lt;code>uinput&lt;/code> для работы с событиями.&lt;/li>
&lt;/ul>
&lt;h3 id="группа-uinput">&lt;span class="section-num">3.1&lt;/span> Группа uinput&lt;/h3>
&lt;ul>
&lt;li>Проверьте наличие группы &lt;code>uinput&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">getent group &lt;span class="p">|&lt;/span> grep uinput
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Если группы нет, создайте её:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo groupadd uinput
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="добавьте-пользователя-в-нужные-группы">&lt;span class="section-num">3.2&lt;/span> Добавьте пользователя в нужные группы&lt;/h3>
&lt;ul>
&lt;li>Нужно добавить пользователей в группы &lt;code>input&lt;/code> и &lt;code>uinput&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo usermod -aG input &lt;span class="nv">$USER&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo usermod -aG uinput &lt;span class="nv">$USER&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Убедитесь, что пользователь добавлен в группы:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">groups
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Возможно, вам придётся выйти из системы и залогиниться обратно.&lt;/li>
&lt;/ul>
&lt;h3 id="права-доступа-к-файлу-устройства">&lt;span class="section-num">3.3&lt;/span> Права доступа к файлу устройства&lt;/h3>
&lt;ul>
&lt;li>Добавьте правило udev (в &lt;code>/etc/udev/rules.d&lt;/code> или &lt;code>/lib/udev/rules.d&lt;/code>):
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">KERNEL==&amp;#34;uinput&amp;#34;, MODE=&amp;#34;0660&amp;#34;, GROUP=&amp;#34;uinput&amp;#34;, OPTIONS+=&amp;#34;static_node=uinput&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Перечитайте права доступа:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo udevadm control --reload &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> udevadm trigger --verbose --sysname-match&lt;span class="o">=&lt;/span>uniput
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="загрузите-модуль-ядра">&lt;span class="section-num">3.4&lt;/span> Загрузите модуль ядра&lt;/h3>
&lt;ul>
&lt;li>Вручную это можно сделать так:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo modprobe uinput
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Для автоматической загрузки добавьте в файл &lt;code>/etc/modules-load.d/uinput.conf&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">uinput
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="отслеживание-приложений">&lt;span class="section-num">4&lt;/span> Отслеживание приложений&lt;/h2>
&lt;ul>
&lt;li>Можно отслеживать приложения.&lt;/li>
&lt;li>С помощью дополнительного демона, зависящего от графического окружения.&lt;/li>
&lt;li>Демон передаёт kanata название слоя, основанное на приложении.&lt;/li>
&lt;li>Linux
&lt;ul>
&lt;li>hyprkan: &lt;a href="https://github.com/mdSlash/hyprkan" target="_blank" rel="noopener">https://github.com/mdSlash/hyprkan&lt;/a>&lt;/li>
&lt;li>nata : &lt;a href="https://github.com/mdSlash/nata" target="_blank" rel="noopener">https://github.com/mdSlash/nata&lt;/a>&lt;/li>
&lt;li>qanata : &lt;a href="https://github.com/veyxov/qanata" target="_blank" rel="noopener">https://github.com/veyxov/qanata&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>macOS
&lt;ul>
&lt;li>kanata-vk-agent : &lt;a href="https://github.com/devsunb/kanata-vk-agent" target="_blank" rel="noopener">https://github.com/devsunb/kanata-vk-agent&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Windows
&lt;ul>
&lt;li>komokana : &lt;a href="https://github.com/LGUG2Z/komokana" target="_blank" rel="noopener">https://github.com/LGUG2Z/komokana&lt;/a>&lt;/li>
&lt;li>kanawin : &lt;a href="https://github.com/Aqaao/kanawin" target="_blank" rel="noopener">https://github.com/Aqaao/kanawin&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="пример-разделов-файла-конфигурации">&lt;span class="section-num">5&lt;/span> Пример разделов файла конфигурации&lt;/h2>
&lt;ul>
&lt;li>Файла конфигурации по умолчанию &lt;code>~/.config/kanata/kanata.kbd&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="defcfg">&lt;span class="section-num">5.1&lt;/span> defcfg&lt;/h3>
&lt;ul>
&lt;li>В этом разделе хранятся «глобальные» параметры, которые применяются ко всему Kanata.&lt;/li>
&lt;li>Например, настроим, чтобы обрабатывалась каждая нажатая клавишу, независимо от того, указана ли она в конфигурации явно.&lt;/li>
&lt;li>Будем отслеживать, на каком слое происходит работа.&lt;/li>
&lt;/ul>
&lt;!--listend-->
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defcfg&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">process-unmapped-keys&lt;/span> &lt;span class="nv">yes&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">log-layer-changes&lt;/span> &lt;span class="nv">yes&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="defsrc">&lt;span class="section-num">5.2&lt;/span> defsrc&lt;/h3>
&lt;ul>
&lt;li>Этот раздел может появляться в конфигурации только один раз.&lt;/li>
&lt;li>Он сообщает Kanata, какие исходные клавиши следует ожидать для сопоставления.&lt;/li>
&lt;li>Можно Задавать только интересующие нас клавиши.
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defsrc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">esc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">grv&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">caps&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">a&lt;/span> &lt;span class="nv">s&lt;/span> &lt;span class="nv">d&lt;/span> &lt;span class="nv">f&lt;/span> &lt;span class="nv">g&lt;/span> &lt;span class="nv">h&lt;/span> &lt;span class="nv">j&lt;/span> &lt;span class="nv">k&lt;/span> &lt;span class="nv">l&lt;/span> &lt;span class="nv">scln&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">lalt&lt;/span> &lt;span class="nv">spc&lt;/span> &lt;span class="nv">ralt&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="deflayer">&lt;span class="section-num">5.3&lt;/span> deflayer&lt;/h3>
&lt;ul>
&lt;li>Можно определить много слоёв и активировать их нажатием клавиш.&lt;/li>
&lt;li>Например, определим два слоя: всегда активный слой, который означает клавиши, которые я хочу постоянно переназначать, чтобы делать что-то другое, и второй слой, который активируется только тогда, когда я удерживаю &lt;code>caps lock&lt;/code>.&lt;/li>
&lt;li>Переназначаемые клавиши должны быть в том же порядке, что и исходный слой выше.&lt;/li>
&lt;li>Символ &lt;code>_&lt;/code> задаёт прозрачные ключи, их отображение не изменяется и передаётся прозрачно.&lt;/li>
&lt;li>&lt;code>@&lt;/code> обозначает псевдоним.&lt;/li>
&lt;li>В этом примере слой по умолчанию изменяет функциональность всех клавиш, за исключением &lt;code>g&lt;/code>, &lt;code>h&lt;/code>, и &lt;code>spc&lt;/code> потому, что они прозрачны.&lt;/li>
&lt;li>Левый &lt;code>alt&lt;/code> меняется на &lt;code>escape&lt;/code>.&lt;/li>
&lt;li>Правый &lt;code>alt&lt;/code> меняется на &lt;code>backspace&lt;/code>.&lt;/li>
&lt;li>В слое &lt;code>cap-Mod&lt;/code> клавиши &lt;code>h&lt;/code>, &lt;code>j&lt;/code>, &lt;code>k&lt;/code>, &lt;code>l&lt;/code> становятся клавишами со стрелками.
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">deflayer&lt;/span> &lt;span class="nv">default&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">@esc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">@grv&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">@cap&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">@a&lt;/span> &lt;span class="nv">@s&lt;/span> &lt;span class="nv">@d&lt;/span> &lt;span class="nv">@f&lt;/span> &lt;span class="nv">_&lt;/span> &lt;span class="nv">_&lt;/span> &lt;span class="nv">@j&lt;/span> &lt;span class="nv">@k&lt;/span> &lt;span class="nv">@l&lt;/span> &lt;span class="nv">@scln&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">esc&lt;/span> &lt;span class="nv">_&lt;/span> &lt;span class="nv">bspc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">deflayer&lt;/span> &lt;span class="nv">cap-mod&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">_&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">_&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">_&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">_&lt;/span> &lt;span class="nv">_&lt;/span> &lt;span class="nv">_&lt;/span> &lt;span class="nv">_&lt;/span> &lt;span class="nv">_&lt;/span> &lt;span class="nv">left&lt;/span> &lt;span class="nv">down&lt;/span> &lt;span class="nv">up&lt;/span> &lt;span class="nv">rght&lt;/span> &lt;span class="nv">_&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">_&lt;/span> &lt;span class="nv">_&lt;/span> &lt;span class="nv">_&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="defvar">&lt;span class="section-num">5.4&lt;/span> defvar&lt;/h3>
&lt;ul>
&lt;li>Kanata позволяет тонко настраивать поведение, указывая такие вещи, как длительность нажатия клавиши, чтобы она считалась «удержанной».&lt;/li>
&lt;li>Хотя можно вводить эти значения (в миллисекундах) каждый раз, проще определить их как переменную в одном месте и ссылаться на них повсюду.
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nb">defvar&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">tap-time&lt;/span> &lt;span class="mi">200&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">hold-time&lt;/span> &lt;span class="mi">250&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="defalias">&lt;span class="section-num">5.5&lt;/span> defalias&lt;/h3>
&lt;ul>
&lt;li>Здесь определяются все псевдонимы (&lt;code>@&lt;/code>).&lt;/li>
&lt;li>Псевдоним принимает форму: &lt;code>name-of-alias-without-@sign (type-of-functionality options-for-that-function multiple-options-are-space-separated)&lt;/code>.
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defalias&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">esc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold-press&lt;/span> &lt;span class="nv">$tap-time&lt;/span> &lt;span class="nv">$hold-time&lt;/span> &lt;span class="nv">esc&lt;/span> &lt;span class="nv">caps&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">grv&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold-press&lt;/span> &lt;span class="nv">$tap-time&lt;/span> &lt;span class="nv">$hold-time&lt;/span> &lt;span class="nv">S-grv&lt;/span> &lt;span class="nv">grv&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">capsword&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">caps-word&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">cap&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold-press&lt;/span> &lt;span class="nv">$tap-time&lt;/span> &lt;span class="nv">$hold-time&lt;/span> &lt;span class="nv">@capsword&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">layer-toggle&lt;/span> &lt;span class="nv">cap-mod&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">a&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold&lt;/span> &lt;span class="nv">$tap-time&lt;/span> &lt;span class="nv">$hold-time&lt;/span> &lt;span class="nv">a&lt;/span> &lt;span class="nv">lmet&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">s&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold&lt;/span> &lt;span class="nv">$tap-time&lt;/span> &lt;span class="nv">$hold-time&lt;/span> &lt;span class="nv">s&lt;/span> &lt;span class="nv">lalt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">d&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold&lt;/span> &lt;span class="nv">$tap-time&lt;/span> &lt;span class="nv">$hold-time&lt;/span> &lt;span class="nv">d&lt;/span> &lt;span class="nv">lsft&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">f&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold&lt;/span> &lt;span class="nv">$tap-time&lt;/span> &lt;span class="nv">$hold-time&lt;/span> &lt;span class="nv">f&lt;/span> &lt;span class="nv">lctl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">j&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold&lt;/span> &lt;span class="nv">$tap-time&lt;/span> &lt;span class="nv">$hold-time&lt;/span> &lt;span class="nv">j&lt;/span> &lt;span class="nv">rctl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">k&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold&lt;/span> &lt;span class="nv">$tap-time&lt;/span> &lt;span class="nv">$hold-time&lt;/span> &lt;span class="nv">k&lt;/span> &lt;span class="nv">rsft&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">l&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold&lt;/span> &lt;span class="nv">$tap-time&lt;/span> &lt;span class="nv">$hold-time&lt;/span> &lt;span class="nv">l&lt;/span> &lt;span class="nv">lalt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">scln&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">tap-hold&lt;/span> &lt;span class="nv">$tap-time&lt;/span> &lt;span class="nv">$hold-time&lt;/span> &lt;span class="nv">scln&lt;/span> &lt;span class="nv">lmet&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>&lt;code>tap-hold&lt;/code> : позволяет нам определить, что происходит, когда мы нажимаем клавишу, а когда удерживаем.&lt;/li>
&lt;li>&lt;code>tap-hold&lt;/code> имеет 4 варианта:
&lt;ul>
&lt;li>&lt;code>$tap-time&lt;/code> количество миллисекунд, в течение которых клавиша может быть нажата, при этом нажатие будет считаться одним нажатием;&lt;/li>
&lt;li>&lt;code>$hold-time&lt;/code> количество миллисекунд, в течение которых клавиша должна оставаться нажатой, чтобы она считалась удержанием;&lt;/li>
&lt;li>код клавиши, который мы хотим, чтобы Каната использовала при нажатии;&lt;/li>
&lt;li>код клавиши, который Каната должен использовать при удержании клавиши.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>tap-hold-press&lt;/code> похоже на &lt;code>tap-hold&lt;/code>, но помогает лучше управлять моментами нажатия.&lt;/li>
&lt;li>&lt;code>caps-word&lt;/code> : функция, которая позволяет вам вводить CAPITALIZED_WORDS и автоматически отключает CAPS, если это не буква или подчеркивание.&lt;/li>
&lt;/ul>
&lt;h3 id="аккорды--defchords">&lt;span class="section-num">5.6&lt;/span> Аккорды (defchords)&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Простые аккорды без гибких таймаутов и release-поведения.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Позволяют выполнять различные действия в зависимости от того, какая конкретная комбинация клавиш ввода нажимаются вместе.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Такая неупорядоченная комбинация клавиш называется &lt;em>аккорд&lt;/em>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Входные аккорды настраиваются аналогично &lt;code>defalias&lt;/code> с двумя дополнительными параметрами в начале каждой группы &lt;code>defchords&lt;/code>:&lt;/p>
&lt;ul>
&lt;li>название группы;&lt;/li>
&lt;li>значение тайм-аута, по истечении которого аккорд срабатывает, если он не был сработан при отпускании клавиши.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Пример:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defsrc&lt;/span> &lt;span class="nv">a&lt;/span> &lt;span class="nv">b&lt;/span> &lt;span class="nv">c&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">deflayer&lt;/span> &lt;span class="nv">default&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">@cha&lt;/span> &lt;span class="nv">@chb&lt;/span> &lt;span class="nv">@chc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defalias&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">cha&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">chord&lt;/span> &lt;span class="nv">example&lt;/span> &lt;span class="nv">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">chb&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">chord&lt;/span> &lt;span class="nv">example&lt;/span> &lt;span class="nv">b&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">chc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">chord&lt;/span> &lt;span class="nv">example&lt;/span> &lt;span class="nv">c&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defchords&lt;/span> &lt;span class="nv">example&lt;/span> &lt;span class="mi">500&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">a&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="nv">a&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span> &lt;span class="nv">b&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="nv">b&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">a&lt;/span> &lt;span class="nv">c&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">C-v&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">a&lt;/span> &lt;span class="nv">b&lt;/span> &lt;span class="nv">c&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">@three&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Первый элемент каждой пары определяет клавиши, составляющие данный аккорд.&lt;/li>
&lt;li>Второй элемент каждой пары &amp;ndash;— это действие, которое должно быть выполнено.&lt;/li>
&lt;li>В отличие от &lt;code>defseq&lt;/code>, эти ключи не соответствуют напрямую реальным ключам и являются просто произвольными метками, которые имеют смысл в контексте аккорда.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="аккорды--defchordsv2">&lt;span class="section-num">5.7&lt;/span> Аккорды (defchordsv2)&lt;/h3>
&lt;ul>
&lt;li>Расширенные настройки, интеграция с макросами, управление слоями.&lt;/li>
&lt;/ul>
&lt;h4 id="синтаксис-defchordsv2">&lt;span class="section-num">5.7.1&lt;/span> Синтаксис &lt;code>defchordsv2&lt;/code>&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>Синтаксис &lt;code>defchordsv2&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defchordsv2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">participating-keys1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">action1&lt;/span> &lt;span class="nv">timeout1&lt;/span> &lt;span class="nv">release-behaviour1&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">disabled-layers1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">participating-keysN&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">actionN&lt;/span> &lt;span class="nv">timeoutN&lt;/span> &lt;span class="nv">release-behaviourN&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">disabled-layersN&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Каждый аккорд задаётся 5-кортежем:&lt;/p>
&lt;ul>
&lt;li>&lt;code>participating-keys&lt;/code> &amp;mdash; список клавиш, участвующих в аккорде (например, &lt;code>(d a y)&lt;/code>).&lt;/li>
&lt;li>&lt;code>action&lt;/code> &amp;mdash; действие, выполняемое при активации (макрос, переключение слоя и т.д.).&lt;/li>
&lt;li>&lt;code>timeout&lt;/code> &amp;mdash; время (в мс), в течение которого клавиши должны быть нажаты для активации.&lt;/li>
&lt;li>&lt;code>release-behaviour&lt;/code> &amp;mdash; поведение при отпускании клавиш:
&lt;ul>
&lt;li>&lt;code>first-release&lt;/code>: аккорд активируется при отпускании любой клавиши.&lt;/li>
&lt;li>&lt;code>last-release&lt;/code>: аккорд активируется при отпускании всех клавиш.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>disabled-layers&lt;/code> &amp;mdash; слои, где аккорд не работает (например, &lt;code>()&lt;/code> для всех слоёв).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="примеры-использования">&lt;span class="section-num">5.7.2&lt;/span> Примеры использования&lt;/h4>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;ol>
&lt;li>Простой аккорд для ввода слова&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defchordsv2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">h&lt;/span> &lt;span class="nv">l&lt;/span> &lt;span class="nv">o&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">macro&lt;/span> &lt;span class="nv">h&lt;/span> &lt;span class="nv">e&lt;/span> &lt;span class="nv">l&lt;/span> &lt;span class="nv">l&lt;/span> &lt;span class="nv">o&lt;/span> &lt;span class="nv">spc&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">200&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">first-release&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Клавиши: &lt;code>h + l + o&lt;/code>.&lt;/li>
&lt;li>Действие: вводит &amp;ldquo;hello &amp;quot; (с пробелом).&lt;/li>
&lt;li>Таймаут: 200 мс.&lt;/li>
&lt;li>Активация: при отпускании любой клавиши.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="2">
&lt;li>
&lt;ol start="2">
&lt;li>Аккорд с управлением регистром&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-lisp" data-lang="lisp">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defvirtualkeys&lt;/span> &lt;span class="nv">rls-sft&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">multi&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">release-key&lt;/span> &lt;span class="nv">lsft&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">release-key&lt;/span> &lt;span class="nv">rsft&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nv">defchordsv2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">d&lt;/span> &lt;span class="nv">a&lt;/span> &lt;span class="nv">y&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nv">macro&lt;/span> &lt;span class="nv">sldr&lt;/span> &lt;span class="nv">d&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">t!&lt;/span> &lt;span class="nv">rls-sft&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nv">a&lt;/span> &lt;span class="nv">y&lt;/span> &lt;span class="nv">spc&lt;/span> &lt;span class="nv">nop0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">200&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">first-release&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Клавиши: &lt;code>d + a + y&lt;/code>.&lt;/li>
&lt;li>Действие:
&lt;ul>
&lt;li>&lt;code>(t! rls-sft)&lt;/code> &amp;mdash; отпускает Shift.&lt;/li>
&lt;li>Вводит &amp;ldquo;day &amp;quot; (с пробелом).&lt;/li>
&lt;li>&lt;code>nop0&lt;/code> &amp;mdash; блокирует исходные клавиши.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4 id="особенности">&lt;span class="section-num">5.7.3&lt;/span> Особенности&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>Обратное сопоставление&lt;/p>
&lt;ul>
&lt;li>Для работы с текстовыми словарями (как в ZipChord) требуется ручное сопоставление символов с клавишами &lt;code>defsrc&lt;/code>, что может быть недетерминированным при пересечении слоёв.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Интеграция с макросами&lt;/p>
&lt;ul>
&lt;li>Аккорды часто используют &lt;code>macro&lt;/code> для:
&lt;ul>
&lt;li>Ввода текста с пробелами: &lt;code>(macro hello spc)&lt;/code> → &amp;ldquo;hello &amp;ldquo;.&lt;/li>
&lt;li>Управления модификаторами: &lt;code>(t! rls-sft)&lt;/code> для сброса Shift.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Ограничения&lt;/p>
&lt;ul>
&lt;li>Минимум 2 клавиши в аккорде.&lt;/li>
&lt;li>Нет встроенной поддержки автоматического пробела/заглавных букв &amp;mdash; это настраивается вручную через макросы.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="примеры-конфигураций">&lt;span class="section-num">6&lt;/span> Примеры конфигураций&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2025/05/06/kanata-capslock/">kanata. Клавиша Caps Lock&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2025/04/21/kanata-russian-layout/">kanata. Русская раскладка&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2025/04/23/kanata-configuration-example/">Пример конфигурации раскладки клавиатуры&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2025/05/01/kanata-home-row-mods/">kanata. Настройка Home Row Mods&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2025/05/05/kanata-capsword/">kanata. Настройка Caps Word&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>NAS. TerraMaster</title><link>https://yamadharma.github.io/ru/post/2024/11/10/nas-terramaster/</link><pubDate>Sun, 10 Nov 2024 18:35:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/11/10/nas-terramaster/</guid><description>&lt;p>NAS. TerraMaster.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#модели">&lt;span class="section-num">2&lt;/span> Модели&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#terramaster-f6-424">&lt;span class="section-num">2.1&lt;/span> TERRAMASTER F6-424&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#особые-функции">&lt;span class="section-num">3&lt;/span> Особые функции&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#traid">&lt;span class="section-num">3.1&lt;/span> TRAID&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#traid">&lt;span class="section-num">3.1.1&lt;/span> TRAID&lt;/a>&lt;/li>
&lt;li>&lt;a href="#traid-plus">&lt;span class="section-num">3.1.2&lt;/span> TRAID+&lt;/a>&lt;/li>
&lt;li>&lt;a href="#переход-с-traid-на-traid-plus">&lt;span class="section-num">3.1.3&lt;/span> Переход с TRAID на TRAID+&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#файловая-система-hyperlock-worm">&lt;span class="section-num">3.2&lt;/span> Файловая система HyperLock WORM&lt;/a>&lt;/li>
&lt;li>&lt;a href="#hyper-cache">&lt;span class="section-num">3.3&lt;/span> Hyper Cache&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#рекомендации-по-настройке-hyper-cache">&lt;span class="section-num">3.3.1&lt;/span> Рекомендации по настройке Hyper Cache&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#tfss">&lt;span class="section-num">3.4&lt;/span> TFSS&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#программное-обеспечение">&lt;span class="section-num">4&lt;/span> Программное обеспечение&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#qbittorrent">&lt;span class="section-num">4.1&lt;/span> qBittorrent&lt;/a>&lt;/li>
&lt;li>&lt;a href="#plex-media-server">&lt;span class="section-num">4.2&lt;/span> Plex Media Server&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#entware">&lt;span class="section-num">5&lt;/span> Entware&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#установка">&lt;span class="section-num">5.1&lt;/span> Установка&lt;/a>&lt;/li>
&lt;li>&lt;a href="#программное-обеспечение">&lt;span class="section-num">5.2&lt;/span> Программное обеспечение&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#git">&lt;span class="section-num">5.2.1&lt;/span> git&lt;/a>&lt;/li>
&lt;li>&lt;a href="#syncthing">&lt;span class="section-num">5.2.2&lt;/span> Syncthing&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#файловая-система">&lt;span class="section-num">6&lt;/span> Файловая система&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#data">&lt;span class="section-num">6.1&lt;/span> data&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#видеофайлы-для-plex">&lt;span class="section-num">6.1.1&lt;/span> Видеофайлы для plex&lt;/a>&lt;/li>
&lt;li>&lt;a href="#торренты--qbittorrent">&lt;span class="section-num">6.1.2&lt;/span> Торренты (qBittorrent)&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#администрирование">&lt;span class="section-num">7&lt;/span> Администрирование&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#btrfs">&lt;span class="section-num">7.1&lt;/span> btrfs&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#стандартные-операции">&lt;span class="section-num">8&lt;/span> Стандартные операции&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#увеличение-количества-жёстких-дисков">&lt;span class="section-num">8.1&lt;/span> Увеличение количества жёстких дисков&lt;/a>&lt;/li>
&lt;li>&lt;a href="#замена-жёсткого-диска">&lt;span class="section-num">8.2&lt;/span> Замена жёсткого диска&lt;/a>&lt;/li>
&lt;li>&lt;a href="#миграция-пула-носителей">&lt;span class="section-num">8.3&lt;/span> Миграция пула носителей&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#ресурсы">&lt;span class="section-num">9&lt;/span> Ресурсы&lt;/a>&lt;/li>
&lt;li>&lt;a href="#опыт-использования">&lt;span class="section-num">10&lt;/span> Опыт использования&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#terramaster-f6-424">&lt;span class="section-num">10.1&lt;/span> TerraMaster F6-424&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#установленное-программное-обеспечение">&lt;span class="section-num">10.1.1&lt;/span> Установленное программное обеспечение&lt;/a>&lt;/li>
&lt;li>&lt;a href="#первичное-подключение">&lt;span class="section-num">10.1.2&lt;/span> &lt;span class="timestamp-wrapper">&lt;span class="timestamp">[2024-12-01 Вс] &lt;/span>&lt;/span> Первичное подключение&lt;/a>&lt;/li>
&lt;li>&lt;a href="#добавление-диска">&lt;span class="section-num">10.1.3&lt;/span> &lt;span class="timestamp-wrapper">&lt;span class="timestamp">[2024-12-12 Чт] &lt;/span>&lt;/span> Добавление диска&lt;/a>&lt;/li>
&lt;li>&lt;a href="#замена-диска">&lt;span class="section-num">10.1.4&lt;/span> &lt;span class="timestamp-wrapper">&lt;span class="timestamp">[2024-12-13 Пт] &lt;/span>&lt;/span> Замена диска&lt;/a>&lt;/li>
&lt;li>&lt;a href="#расширение-тома">&lt;span class="section-num">10.1.5&lt;/span> &lt;span class="timestamp-wrapper">&lt;span class="timestamp">[2024-12-14 Сб] &lt;/span>&lt;/span> Расширение тома&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Сайт: &lt;a href="https://www.terra-master.com/ru/" target="_blank" rel="noopener">https://www.terra-master.com/ru/&lt;/a>&lt;/li>
&lt;li>AliExpress. TERRAMASTER Store (official): &lt;a href="https://aliexpress.ru/store/910372071" target="_blank" rel="noopener">https://aliexpress.ru/store/910372071&lt;/a>&lt;/li>
&lt;li>Сопутствующие программы: &lt;a href="https://support.terra-master.com/download" target="_blank" rel="noopener">https://support.terra-master.com/download&lt;/a>&lt;/li>
&lt;li>Список совместимости компонентов: &lt;a href="https://www.terra-master.com/ru/compatibility/" target="_blank" rel="noopener">https://www.terra-master.com/ru/compatibility/&lt;/a>&lt;/li>
&lt;li>Программные пакеты сообщества: &lt;a href="https://tmnascommunity.eu/" target="_blank" rel="noopener">https://tmnascommunity.eu/&lt;/a>&lt;/li>
&lt;li>4pda: &lt;a href="https://4pda.to/forum/index.php?showtopic=1025592" target="_blank" rel="noopener">https://4pda.to/forum/index.php?showtopic=1025592&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="модели">&lt;span class="section-num">2&lt;/span> Модели&lt;/h2>
&lt;h3 id="terramaster-f6-424">&lt;span class="section-num">2.1&lt;/span> TERRAMASTER F6-424&lt;/h3>
&lt;ul>
&lt;li>AliExpress: &lt;a href="https://aliexpress.ru/item/1005007676504890.html" target="_blank" rel="noopener">https://aliexpress.ru/item/1005007676504890.html&lt;/a>&lt;/li>
&lt;li>Описание: &lt;a href="https://www.terra-master.com/ru/f6-424.html" target="_blank" rel="noopener">https://www.terra-master.com/ru/f6-424.html&lt;/a>&lt;/li>
&lt;li>Спецификация: &lt;a href="https://www.terra-master.com/ru/f6-424.html?page=menu&amp;amp;mid=1588" target="_blank" rel="noopener">https://www.terra-master.com/ru/f6-424.html?page=menu&amp;mid=1588&lt;/a>&lt;/li>
&lt;li>Обзоры:
&lt;ul>
&lt;li>&lt;a href="https://bafista.ru/terramaster-f4-424-max/" target="_blank" rel="noopener">https://bafista.ru/terramaster-f4-424-max/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://bafista.ru/obzor-i-testirovanie-terramaster-f4-424/" target="_blank" rel="noopener">https://bafista.ru/obzor-i-testirovanie-terramaster-f4-424/&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Processor Model: N95 Quad Core CPU&lt;/li>
&lt;li>System Memory: 8GB DDR5 RAM&lt;/li>
&lt;li>Корзин для дисков: 6 шт.&lt;/li>
&lt;li>Диски: 2.5&amp;quot;, 3.5&amp;quot;.&lt;/li>
&lt;li>Безвинтовая установка дисков 3.5&amp;quot;.&lt;/li>
&lt;li>Видео-интерфейс: HDMI.&lt;/li>
&lt;li>54100,00 ₽&lt;/li>
&lt;/ul>
&lt;h2 id="особые-функции">&lt;span class="section-num">3&lt;/span> Особые функции&lt;/h2>
&lt;h3 id="traid">&lt;span class="section-num">3.1&lt;/span> TRAID&lt;/h3>
&lt;ul>
&lt;li>Краткое описание: &lt;a href="https://www.terra-master.com/ru/terramaster-traid" target="_blank" rel="noopener">https://www.terra-master.com/ru/terramaster-traid&lt;/a>&lt;/li>
&lt;li>Калькулятор дисков: &lt;a href="https://support.terra-master.com/raidcalculation/" target="_blank" rel="noopener">https://support.terra-master.com/raidcalculation/&lt;/a>&lt;/li>
&lt;/ul>
&lt;h4 id="traid">&lt;span class="section-num">3.1.1&lt;/span> TRAID&lt;/h4>
&lt;ul>
&lt;li>1 диск: JBOD&lt;/li>
&lt;li>2 диска: RAID1&lt;/li>
&lt;li>3 и более дисков: RAID5&lt;/li>
&lt;/ul>
&lt;h4 id="traid-plus">&lt;span class="section-num">3.1.2&lt;/span> TRAID+&lt;/h4>
&lt;ul>
&lt;li>4 и более дисков: RAID6&lt;/li>
&lt;/ul>
&lt;h4 id="переход-с-traid-на-traid-plus">&lt;span class="section-num">3.1.3&lt;/span> Переход с TRAID на TRAID+&lt;/h4>
&lt;ul>
&lt;li>Переход на TRAID+ возможен, если в массиве уже есть три жестких диска или более.&lt;/li>
&lt;li>В массив необходимо добавить жесткие диски.&lt;/li>
&lt;li>Не выключайте TNAS.&lt;/li>
&lt;li>Вставьте один или несколько новых жёстких дисков.&lt;/li>
&lt;li>Перейдите в меню «Панель управления &amp;gt; Управление хранилищем &amp;gt; Пул носителей &amp;gt; Изменить»&lt;/li>
&lt;li>Выберите «Перейти».&lt;/li>
&lt;/ul>
&lt;h3 id="файловая-система-hyperlock-worm">&lt;span class="section-num">3.2&lt;/span> Файловая система HyperLock WORM&lt;/h3>
&lt;ul>
&lt;li>Информация: &lt;a href="https://www.terra-master.com/ru/hyperlock-worm/" target="_blank" rel="noopener">https://www.terra-master.com/ru/hyperlock-worm/&lt;/a>&lt;/li>
&lt;li>Файловая система однократной записи.&lt;/li>
&lt;/ul>
&lt;h3 id="hyper-cache">&lt;span class="section-num">3.3&lt;/span> Hyper Cache&lt;/h3>
&lt;ul>
&lt;li>Решение по кешированию на основе SSD-дисков.&lt;/li>
&lt;li>Описание: &lt;a href="https://www.terra-master.com/ru/hyper-cache/" target="_blank" rel="noopener">https://www.terra-master.com/ru/hyper-cache/&lt;/a>&lt;/li>
&lt;/ul>
&lt;h4 id="рекомендации-по-настройке-hyper-cache">&lt;span class="section-num">3.3.1&lt;/span> Рекомендации по настройке Hyper Cache&lt;/h4>
&lt;ul>
&lt;li>SSD-кэш при работе использует оперативную память.&lt;/li>
&lt;li>Система не позволит сделать кэш большого объёма при недостатке оперативной памяти.&lt;/li>
&lt;/ul>
&lt;div class="table-caption">
&lt;span class="table-number">&amp;#1058;&amp;#1072;&amp;#1073;&amp;#1083;&amp;#1080;&amp;#1094;&amp;#1072; 1:&lt;/span>
Максимальный размер SSD-кэша в зависимости от объёма оперативной памяти
&lt;/div>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>RAM, ГБ&lt;/th>
&lt;th>Размер SSD-кэша, ГБ&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1 ГБ&lt;/td>
&lt;td>50&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2 ГБ&lt;/td>
&lt;td>160&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4 ГБ&lt;/td>
&lt;td>320&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>6 ГБ&lt;/td>
&lt;td>500&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>8 ГБ&lt;/td>
&lt;td>800&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>10 ГБ&lt;/td>
&lt;td>1000&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>12 ГБ&lt;/td>
&lt;td>1280&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>16 ГБ&lt;/td>
&lt;td>1600&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>32 ГБ&lt;/td>
&lt;td>3200&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="tfss">&lt;span class="section-num">3.4&lt;/span> TFSS&lt;/h3>
&lt;ul>
&lt;li>Страница: &lt;a href="https://www.terra-master.com/ru/tfss" target="_blank" rel="noopener">https://www.terra-master.com/ru/tfss&lt;/a>&lt;/li>
&lt;li>Создание снепшотов btrfs.&lt;/li>
&lt;/ul>
&lt;h2 id="программное-обеспечение">&lt;span class="section-num">4&lt;/span> Программное обеспечение&lt;/h2>
&lt;h3 id="qbittorrent">&lt;span class="section-num">4.1&lt;/span> qBittorrent&lt;/h3>
&lt;ul>
&lt;li>В стандартном репозитории.&lt;/li>
&lt;li>Более новые версии в репозитории сообщества: &lt;a href="https://tmnascommunity.eu/download/qbittorrent/" target="_blank" rel="noopener">https://tmnascommunity.eu/download/qbittorrent/&lt;/a>.&lt;/li>
&lt;li>Учётные данные при запуске:
&lt;ul>
&lt;li>username: admin&lt;/li>
&lt;li>password: adminadmin&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="plex-media-server">&lt;span class="section-num">4.2&lt;/span> Plex Media Server&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2025/01/27/plex-media-server/">Plex Media Server&lt;/a>&lt;/li>
&lt;li>В стандартном репозитории.&lt;/li>
&lt;/ul>
&lt;h2 id="entware">&lt;span class="section-num">5&lt;/span> Entware&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/12/20/entware-software-repository/">Репозиторий программного обеспечения Entware&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="установка">&lt;span class="section-num">5.1&lt;/span> Установка&lt;/h3>
&lt;ul>
&lt;li>Подключиться по ssh.&lt;/li>
&lt;li>Создать каталог для установки:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">mkdir -p /Volume1/@entware/opt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Подключить каталог &lt;code>/opt&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">ln -s /Volume1/@entware/opt /opt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Скачать и запустить установщик:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">wget -O - http://bin.entware.net/x64-k3.2/installer/generic.sh &lt;span class="p">|&lt;/span> /bin/sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Сделать ссылку на менеджер пакетов:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">ln -s /opt/bin/opkg /usr/bin/opkg
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Отредактировать &lt;code>/root/.bashrc&lt;/code>, добавив к &lt;code>PATH&lt;/code> &lt;code>/opt/bin:/opt/sbin&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$PATH&lt;/span>:/opt/bin:/opt/sbin
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Перечитайте &lt;code>/etc/profile&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> /etc/profile
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Обновите список пакетов:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">opkg update
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Обновите пакеты:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">opkg upgrade
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="программное-обеспечение">&lt;span class="section-num">5.2&lt;/span> Программное обеспечение&lt;/h3>
&lt;h4 id="git">&lt;span class="section-num">5.2.1&lt;/span> git&lt;/h4>
&lt;ul>
&lt;li>Для работы с git:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">opkg install git git-http
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="syncthing">&lt;span class="section-num">5.2.2&lt;/span> Syncthing&lt;/h4>
&lt;ul>
&lt;li>Установить:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">opkg install syncthing
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Запустить:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">/opt/etc/init.d/S92syncthing start
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Сконфигурируйте через броузер:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">http://&amp;lt;your device ip&amp;gt;:8384/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="файловая-система">&lt;span class="section-num">6&lt;/span> Файловая система&lt;/h2>
&lt;h3 id="data">&lt;span class="section-num">6.1&lt;/span> data&lt;/h3>
&lt;ul>
&lt;li>Всё хранится в &lt;code>/Volume1/data&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h4 id="видеофайлы-для-plex">&lt;span class="section-num">6.1.1&lt;/span> Видеофайлы для plex&lt;/h4>
&lt;ul>
&lt;li>Создайте необходимые каталоги:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">mkdir -p /Volume1/data/&lt;span class="o">{&lt;/span>torent,video,movie,tvshow&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Задайте права:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">setfacl -m u:plex:rwx /Volume1/data
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setfacl -d -m u:plex:rwx /Volume1/data
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setfacl -R -m u:plex:rwx /Volume1/data/&lt;span class="o">{&lt;/span>torent,video,movie,tvshow&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setfacl -R -d -m u:plex:rwx /Volume1/data/&lt;span class="o">{&lt;/span>torent,video,movie,tvshow&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="торренты--qbittorrent">&lt;span class="section-num">6.1.2&lt;/span> Торренты (qBittorrent)&lt;/h4>
&lt;ul>
&lt;li>Создайте необходимые каталоги:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">mkdir -p /Volume1/data/torent/torrent
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Задайте права:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">setfacl -m u:qbittorrent:rwx /Volume1/data
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setfacl -d -m u:qbittorrent:rwx /Volume1/data
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setfacl -R -m u:qbittorrent:rwx /Volume1/data/torent
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setfacl -R -d -m u:qbittorrent:rwx /Volume1/data/torent
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="администрирование">&lt;span class="section-num">7&lt;/span> Администрирование&lt;/h2>
&lt;h3 id="btrfs">&lt;span class="section-num">7.1&lt;/span> btrfs&lt;/h3>
&lt;ul>
&lt;li>Обновите утилиты:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">opkg install btrfs-progs
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="стандартные-операции">&lt;span class="section-num">8&lt;/span> Стандартные операции&lt;/h2>
&lt;h3 id="увеличение-количества-жёстких-дисков">&lt;span class="section-num">8.1&lt;/span> Увеличение количества жёстких дисков&lt;/h3>
&lt;ul>
&lt;li>Информация: &lt;a href="https://www.terra-master.com/ru/terramaster-traid" target="_blank" rel="noopener">https://www.terra-master.com/ru/terramaster-traid&lt;/a>&lt;/li>
&lt;li>Не выключая TNAS, вставьте новый жесткий диск.&lt;/li>
&lt;li>Перейдите в меню «Панель управления &amp;gt; Диспетчер хранилища &amp;gt; Пул носителей &amp;gt; Редактировать».&lt;/li>
&lt;li>Выберите &lt;em>Добавить жёсткие диски в RAID&lt;/em>.&lt;/li>
&lt;/ul>
&lt;h3 id="замена-жёсткого-диска">&lt;span class="section-num">8.2&lt;/span> Замена жёсткого диска&lt;/h3>
&lt;ul>
&lt;li>Информация: &lt;a href="https://www.terra-master.com/ru/terramaster-traid" target="_blank" rel="noopener">https://www.terra-master.com/ru/terramaster-traid&lt;/a>&lt;/li>
&lt;li>Ёмкость вновь добавленного диска должна быть как минимум такой же, как и диск наименьшей емкости в TRAID.&lt;/li>
&lt;li>Не выключая TNAS, извлеките один из дисков, а затем вставьте диск большей емкости.&lt;/li>
&lt;li>Перейдите в меню «Панель управления &amp;gt; Диспетчер хранилища &amp;gt; Пул носителей &amp;gt; Редактировать».&lt;/li>
&lt;li>Выберите «Восстановить».&lt;/li>
&lt;/ul>
&lt;h3 id="миграция-пула-носителей">&lt;span class="section-num">8.3&lt;/span> Миграция пула носителей&lt;/h3>
&lt;ul>
&lt;li>Информация: &lt;a href="https://www.terra-master.com/ru/storage-pool-migration" target="_blank" rel="noopener">https://www.terra-master.com/ru/storage-pool-migration&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="ресурсы">&lt;span class="section-num">9&lt;/span> Ресурсы&lt;/h2>
&lt;ul>
&lt;li>Сайт по сравнению NAS: &lt;a href="https://nascompares.com/tag/terramaster-nas/" target="_blank" rel="noopener">https://nascompares.com/tag/terramaster-nas/&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="опыт-использования">&lt;span class="section-num">10&lt;/span> Опыт использования&lt;/h2>
&lt;h3 id="terramaster-f6-424">&lt;span class="section-num">10.1&lt;/span> TerraMaster F6-424&lt;/h3>
&lt;h4 id="установленное-программное-обеспечение">&lt;span class="section-num">10.1.1&lt;/span> Установленное программное обеспечение&lt;/h4>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Plex Media Server&lt;/p>
&lt;ul>
&lt;li>В стандартном репозитории.&lt;/li>
&lt;/ul>
&lt;!--list-separator-->
&lt;ol>
&lt;li>
&lt;p>Права на файловую систему&lt;/p>
&lt;ul>
&lt;li>Установим права на файловую систему:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">setfacl -m u:plex:r-x /Volume1/data
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setfacl -d -m u:plex:r-x /Volume1/data
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setfacl -R -m u:plex:rwx /Volume1/data/&lt;span class="o">{&lt;/span>tvshow,movie,music&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setfacl -R -d -m u:plex:rwx /Volume1/data/&lt;span class="o">{&lt;/span>tvshow,movie,music&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="2">
&lt;li>
&lt;p>qBittorrent&lt;/p>
&lt;ul>
&lt;li>В стандартном репозитории.&lt;/li>
&lt;li>Более новые версии в репозитории сообщества: &lt;a href="https://tmnascommunity.eu/download/qbittorrent/" target="_blank" rel="noopener">https://tmnascommunity.eu/download/qbittorrent/&lt;/a>.&lt;/li>
&lt;li>Учётные данные при запуске:
&lt;ul>
&lt;li>username: admin&lt;/li>
&lt;li>password: adminadmin&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;!--list-separator-->
&lt;ol start="3">
&lt;li>
&lt;p>Deduplication Manager&lt;/p>
&lt;ul>
&lt;li>В стандартном репозитории.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4 id="первичное-подключение">&lt;span class="section-num">10.1.2&lt;/span> &lt;span class="timestamp-wrapper">&lt;span class="timestamp">[2024-12-01 Вс] &lt;/span>&lt;/span> Первичное подключение&lt;/h4>
&lt;ul>
&lt;li>В консоли не смог залогиниться.&lt;/li>
&lt;li>Посмотрел ip-адрес (на сервере DHCP, но можно было и в консоли).&lt;/li>
&lt;li>В web-интерфейсе было только сообщение, что нет дисков. Никаких кнопочек не было.&lt;/li>
&lt;li>Поставил диск (маленький, на 4 TB).&lt;/li>
&lt;li>В web-интерфейсе была запрошена инициализация.&lt;/li>
&lt;li>Включился счётчик на 60 секунд.&lt;/li>
&lt;li>Появилось предупреждение, что через 60 секунд будут применены настройки по умолчанию.&lt;/li>
&lt;li>Для своих настроек следовало нажать интерфейсную кнопку &lt;code>Esc&lt;/code>.&lt;/li>
&lt;li>Попросил загрузить загрузчик.&lt;/li>
&lt;li>Попросил выбрать жёсткий диск.&lt;/li>
&lt;li>Попросил загрузить пакет TOS (операционная система).&lt;/li>
&lt;li>Проведена была инициализация диска.&lt;/li>
&lt;li>Было сообщено о перезагрузке (включился счётчик на 5 минут).&lt;/li>
&lt;li>Принял лицензионное соглашение.&lt;/li>
&lt;li>Система запросила имя хоста и имя и пароль администратора.&lt;/li>
&lt;li>Имя &lt;code>admin&lt;/code> не было принято, поскольку оно зарезервировано.&lt;/li>
&lt;li>Разные вариации на тему &lt;code>admin&lt;/code> были отброшены, как небезопасные.&lt;/li>
&lt;li>Был запрошен почтовый адрес для отправки вспомогательного кода.&lt;/li>
&lt;li>Но почту система отправить не смогла.&lt;/li>
&lt;li>Пропустил это шаг.&lt;/li>
&lt;li>Попал в интерфейс администрирования системы.&lt;/li>
&lt;li>Было сообщено, что пул не инициализирован.&lt;/li>
&lt;li>Было предложено настроить пул.&lt;/li>
&lt;li>Создал на одном диске TRAID.&lt;/li>
&lt;li>Было запрошено создание тома и файловой системы.&lt;/li>
&lt;li>От файловой системы &lt;em>HyperLock WORM&lt;/em> отказался (не стал включать поддержку).&lt;/li>
&lt;li>Установил BTRFS (см. &lt;a href="https://yamadharma.github.io/ru/post/2021/08/27/btrfs-file-system/">Файловая система btrfs&lt;/a>).&lt;/li>
&lt;/ul>
&lt;h4 id="добавление-диска">&lt;span class="section-num">10.1.3&lt;/span> &lt;span class="timestamp-wrapper">&lt;span class="timestamp">[2024-12-12 Чт] &lt;/span>&lt;/span> Добавление диска&lt;/h4>
&lt;ul>
&lt;li>Купил 2 жёстких диска.&lt;/li>
&lt;li>Жесткий диск 18TB SATA 6Gb/s Seagate ST18000NM000J&lt;/li>
&lt;li>На диске было 2.6GB (фактически, только система).&lt;/li>
&lt;li>Поскольку на исходном диске ничего, кроме системы, и не было, то можно было бы заменить диски и переинициализировать систему.&lt;/li>
&lt;li>Но решил попробовать, как будет выполняться штатная замена дисков.&lt;/li>
&lt;li>Поставил один диск.&lt;/li>
&lt;li>Добавил его в web-интерфейсе.&lt;/li>
&lt;li>Запустилась перестройка диска.&lt;/li>
&lt;li>Сообщило, что на это потребуется больше 5 часов.&lt;/li>
&lt;li>Размер хранилища остался 3.63TB.&lt;/li>
&lt;/ul>
&lt;h4 id="замена-диска">&lt;span class="section-num">10.1.4&lt;/span> &lt;span class="timestamp-wrapper">&lt;span class="timestamp">[2024-12-13 Пт] &lt;/span>&lt;/span> Замена диска&lt;/h4>
&lt;ul>
&lt;li>Перешёл в меню &lt;em>Панель управления &amp;gt; Жёсткий диск &amp;gt; Жёсткий диск&lt;/em>.&lt;/li>
&lt;li>Выбрал диск на 4TB.&lt;/li>
&lt;li>Диск был помечен как системный.&lt;/li>
&lt;li>Выбрал операцию &lt;em>Удалить&lt;/em>.&lt;/li>
&lt;li>Появилось сообщение, что диск удалять нельзя, поскольку нет дублирования.&lt;/li>
&lt;li>Извлёк диск.&lt;/li>
&lt;li>Поставил новый.&lt;/li>
&lt;li>Перешёл в меню &lt;em>Панель управления &amp;gt; Диспетчер хранилища &amp;gt; Пул носителей&lt;/em>.&lt;/li>
&lt;li>Выбрал операцию &lt;em>Редактировать&lt;/em>.&lt;/li>
&lt;li>Выбрал пункт &lt;em>Восстановить RAID&lt;/em>.&lt;/li>
&lt;li>В интерфейсе пропали все диски.&lt;/li>
&lt;li>В консоли подключиться стало невозможно.&lt;/li>
&lt;li>Перегрузил NAS.&lt;/li>
&lt;li>Система предложила восстановить загрузчик.&lt;/li>
&lt;li>После перегрузки включилась пищалка.&lt;/li>
&lt;li>Интерфейсе попросили ввести имя хоста, пользователя, пароль.&lt;/li>
&lt;li>После этого сообщили о деградированном RAID.&lt;/li>
&lt;li>Я выбрал опцию в настройках &lt;em>Быстрое восстановление RAID&lt;/em>.&lt;/li>
&lt;li>Запустил перестройку RAID.&lt;/li>
&lt;/ul>
&lt;h4 id="расширение-тома">&lt;span class="section-num">10.1.5&lt;/span> &lt;span class="timestamp-wrapper">&lt;span class="timestamp">[2024-12-14 Сб] &lt;/span>&lt;/span> Расширение тома&lt;/h4>
&lt;ul>
&lt;li>Синхронизация RAID закончилась.&lt;/li>
&lt;li>Перешёл в меню &lt;em>Панель управления &amp;gt; Том &amp;gt; Том 1&lt;/em>.&lt;/li>
&lt;li>Выбрал кнопку &lt;em>Подробнее&lt;/em>.&lt;/li>
&lt;li>Выбрал подменю &lt;em>Сжатие файловой системы&lt;/em>.&lt;/li>
&lt;li>Включил сжатие файловой системы.&lt;/li>
&lt;li>Выбрал кнопку &lt;em>Редактировать&lt;/em>.&lt;/li>
&lt;li>Увеличил файловую систему до максимума.&lt;/li>
&lt;li>Получилось 16.36TB.&lt;/li>
&lt;/ul></description></item><item><title>Emacs. Проблема мизинца</title><link>https://yamadharma.github.io/ru/post/2024/10/17/emacs-pinki-problem/</link><pubDate>Thu, 17 Oct 2024 11:06:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/10/17/emacs-pinki-problem/</guid><description>&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#возможные-решения">&lt;span class="section-num">2&lt;/span> Возможные решения&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>На клавиатурах для LISP-машин клавиша &lt;code>Ctrl&lt;/code> размещалась там, где сейчас &lt;code>Alt&lt;/code>.&lt;/li>
&lt;li>Сейчас подобную раскладку имеет Mac.&lt;/li>
&lt;li>А там, где сейчас &lt;code>Ctrl&lt;/code>, находилась клавиша &lt;code>Meta&lt;/code>.&lt;/li>
&lt;li>В этом случае &lt;code>Ctrl&lt;/code> обычно нажимался большим пальцем.&lt;/li>
&lt;li>Сейчас &lt;code>Ctrl&lt;/code> приходится нажимать мизинцем.&lt;/li>
&lt;li>Это породило мем среди пользователей emacs: &lt;em>pinki problem&lt;/em>.&lt;/li>
&lt;/ul>
&lt;h2 id="возможные-решения">&lt;span class="section-num">2&lt;/span> Возможные решения&lt;/h2>
&lt;ul>
&lt;li>Переместить &lt;code>Ctrl&lt;/code> на &lt;code>CapsLock&lt;/code>.&lt;/li>
&lt;li>Поменять местами &lt;code>Ctrl&lt;/code> и &lt;code>Alt&lt;/code>, превратив их по сути в &lt;code>Meta&lt;/code> и &lt;code>Ctrl&lt;/code>.&lt;/li>
&lt;/ul></description></item><item><title>Mesh-системы</title><link>https://yamadharma.github.io/ru/post/2024/10/07/mesh-systems/</link><pubDate>Mon, 07 Oct 2024 16:27:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/10/07/mesh-systems/</guid><description>&lt;p>Mesh-системы.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#варианты-систем">&lt;span class="section-num">2&lt;/span> Варианты систем&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#tp-link-deco-p9">&lt;span class="section-num">2.1&lt;/span> TP-Link Deco P9&lt;/a>&lt;/li>
&lt;li>&lt;a href="#huawei-wi-fi-mesh-3-ws8100">&lt;span class="section-num">2.2&lt;/span> Huawei Wi-Fi Mesh 3 WS8100&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">2.2.1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#характеристики">&lt;span class="section-num">2.2.2&lt;/span> Характеристики&lt;/a>&lt;/li>
&lt;li>&lt;a href="#особенности">&lt;span class="section-num">2.2.3&lt;/span> Особенности&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#опыт-использования">&lt;span class="section-num">3&lt;/span> Опыт использования&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#huawei-wi-fi-mesh-3-ws8100">&lt;span class="section-num">3.1&lt;/span> Huawei Wi-Fi Mesh 3 WS8100&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#настройка">&lt;span class="section-num">3.1.1&lt;/span> Настройка&lt;/a>&lt;/li>
&lt;li>&lt;a href="#конфигурация-по-умолчанию">&lt;span class="section-num">3.1.2&lt;/span> Конфигурация по умолчанию&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Предназначена для обеспечения непрерывного покрытия Wi-Fi.&lt;/li>
&lt;li>Устройство, подключённое к маршрутизатору, является основным.&lt;/li>
&lt;li>Остальные устройства (узлы) принимают и ретранслируют сигнал основного устройства.&lt;/li>
&lt;li>Протоколы mesh-систем:
&lt;ul>
&lt;li>802.11v позволяет гаджетам обмениваться информацией о состоянии сети, тем самым подбирая оптимальную точку доступа (должен поддерживаться клиентами);&lt;/li>
&lt;li>802.11k даёт точке доступа возможность оценить качество связи и перенаправить устройство на другую точку;&lt;/li>
&lt;li>802.11r сокращает время аутентификации, так как позволяет хранить ключи шифрования.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="варианты-систем">&lt;span class="section-num">2&lt;/span> Варианты систем&lt;/h2>
&lt;h3 id="tp-link-deco-p9">&lt;span class="section-num">2.1&lt;/span> TP-Link Deco P9&lt;/h3>
&lt;ul>
&lt;li>Гибридного типа.&lt;/li>
&lt;li>WiFi 5.&lt;/li>
&lt;li>Скорость портов : 1 Гбит/с.&lt;/li>
&lt;li>Количество портов Ethernet : 2.&lt;/li>
&lt;li>Стандарты Wi-Fi : — 802.11a/b/g/n/ac.&lt;/li>
&lt;/ul>
&lt;h3 id="huawei-wi-fi-mesh-3-ws8100">&lt;span class="section-num">2.2&lt;/span> Huawei Wi-Fi Mesh 3 WS8100&lt;/h3>
&lt;h4 id="общая-информация">&lt;span class="section-num">2.2.1&lt;/span> Общая информация&lt;/h4>
&lt;ul>
&lt;li>Описание на сайте производителя: &lt;a href="https://consumer.huawei.com/ru/routers/wifi-mesh3/" target="_blank" rel="noopener">https://consumer.huawei.com/ru/routers/wifi-mesh3/&lt;/a>&lt;/li>
&lt;li>Инструкция: &lt;a href="https://manuals.plus/ru/huawei/ws8100-wifi-mesh-3-manual" target="_blank" rel="noopener">https://manuals.plus/ru/huawei/ws8100-wifi-mesh-3-manual&lt;/a>&lt;/li>
&lt;li>Обзор: &lt;a href="https://www.ixbt.com/nw/huawei-wifi-mesh-3-review.html" target="_blank" rel="noopener">https://www.ixbt.com/nw/huawei-wifi-mesh-3-review.html&lt;/a>&lt;/li>
&lt;li>4pda: &lt;a href="https://4pda.to/forum/index.php?showtopic=1043380" target="_blank" rel="noopener">https://4pda.to/forum/index.php?showtopic=1043380&lt;/a>&lt;/li>
&lt;/ul>
&lt;h4 id="характеристики">&lt;span class="section-num">2.2.2&lt;/span> Характеристики&lt;/h4>
&lt;ul>
&lt;li>Входной интерфейс: 10/100/1000BASE-T&lt;/li>
&lt;li>Частоты Wi-Fi: 2.4 ГГц, 5 ГГц&lt;/li>
&lt;li>Стандарты Wi-Fi 802.11: a/ b/ g/ n/ ac/ ax&lt;/li>
&lt;li>Класс Wi-Fi: AX3000&lt;/li>
&lt;li>Порты: 10/100BASE-TX х 3, 10/100/1000BASE-TX х 3&lt;/li>
&lt;li>Антенны: 4х внутренние&lt;/li>
&lt;/ul>
&lt;h4 id="особенности">&lt;span class="section-num">2.2.3&lt;/span> Особенности&lt;/h4>
&lt;ul>
&lt;li>На верхней панели расположена зона NFC для подключения мобильных устройств.&lt;/li>
&lt;li>Каждый узел имеет по три гигабитных проводных порта. В зависимости от режима работы и варианта подключения, они выполняют функции WAN или LAN.&lt;/li>
&lt;/ul>
&lt;h2 id="опыт-использования">&lt;span class="section-num">3&lt;/span> Опыт использования&lt;/h2>
&lt;h3 id="huawei-wi-fi-mesh-3-ws8100">&lt;span class="section-num">3.1&lt;/span> Huawei Wi-Fi Mesh 3 WS8100&lt;/h3>
&lt;h4 id="настройка">&lt;span class="section-num">3.1.1&lt;/span> Настройка&lt;/h4>
&lt;ul>
&lt;li>Предлагается использовать приложение &lt;em>AI Life&lt;/em>.
&lt;ul>
&lt;li>Для этого на основании устройства нанесён qr-код.&lt;/li>
&lt;li>Данное приложение дублирует (в упрощённой форме) функциональность web-интерфейса.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Адрес по умолчанию: 192.168.3.1&lt;/li>
&lt;li>Система настраивает собственный NAT.
&lt;ul>
&lt;li>Отключить его не удастся.&lt;/li>
&lt;li>То есть всегда настраивается как маршрутизатор.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="конфигурация-по-умолчанию">&lt;span class="section-num">3.1.2&lt;/span> Конфигурация по умолчанию&lt;/h4>
&lt;ul>
&lt;li>По умолчанию один модуль (который становится основным) подключён к маршрутизатору.&lt;/li>
&lt;li>Остальные подключаются по WiFi.&lt;/li>
&lt;li>При настройке основного модуля следует рядом (в радиусе 1 метра) разместить другие модули.&lt;/li>
&lt;li>На них будет скопирована настраиваемая конфигурация.&lt;/li>
&lt;/ul></description></item><item><title>Huawei. Протокол VCMP</title><link>https://yamadharma.github.io/ru/post/2024/09/21/huawei-vcmp/</link><pubDate>Sat, 21 Sep 2024 12:49:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/09/21/huawei-vcmp/</guid><description>&lt;p>Huawei. Протокол VCMP.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#домен-vcmp">&lt;span class="section-num">2&lt;/span> Домен VCMP&lt;/a>&lt;/li>
&lt;li>&lt;a href="#роли-vcmp">&lt;span class="section-num">3&lt;/span> Роли VCMP&lt;/a>&lt;/li>
&lt;li>&lt;a href="#конфигурация">&lt;span class="section-num">4&lt;/span> Конфигурация&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#настройка">&lt;span class="section-num">4.1&lt;/span> Настройка&lt;/a>&lt;/li>
&lt;li>&lt;a href="#управление">&lt;span class="section-num">4.2&lt;/span> Управление&lt;/a>&lt;/li>
&lt;li>&lt;a href="#информация">&lt;span class="section-num">4.3&lt;/span> Информация&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Протокол управления VLAN.&lt;/li>
&lt;li>Используется для реализации централизованного управления и обслуживания VLAN.&lt;/li>
&lt;li>VCMP есть собственный протокол Huawei, который работает на канальном уровне для передачи информации VLAN и обеспечивает согласованность информации VLAN в сети уровня 2.&lt;/li>
&lt;li>Аналогичен протоколу Cisco VTP.&lt;/li>
&lt;/ul>
&lt;h2 id="домен-vcmp">&lt;span class="section-num">2&lt;/span> Домен VCMP&lt;/h2>
&lt;ul>
&lt;li>Домен VCMP состоит из коммутаторов, имеющих одинаковое доменное имя VCMP и подключённых через транковые или гибридные интерфейсы.&lt;/li>
&lt;li>Все коммутаторы в домене VCMP должны использовать одно и то же имя домена, и каждый коммутатор может присоединиться только к одному домену VCMP.&lt;/li>
&lt;li>Коммутаторы в разных доменах VCMP не могут синхронизировать информацию VLAN.&lt;/li>
&lt;li>Домен VCMP определяет область действия административного коммутатора и управляемых коммутаторов.&lt;/li>
&lt;li>Коммутаторы в домене VCMP управляются административным коммутатором.&lt;/li>
&lt;li>В домене VCMP имеется только один административный коммутатор и несколько управляемых коммутаторов.&lt;/li>
&lt;li>Прозрачные и тихие коммутаторы VCMP не принадлежат ни одному домену VCMP.&lt;/li>
&lt;/ul>
&lt;h2 id="роли-vcmp">&lt;span class="section-num">3&lt;/span> Роли VCMP&lt;/h2>
&lt;ul>
&lt;li>Сервер (Server).
&lt;ul>
&lt;li>Сервер VCMP синхронизирует информацию VLAN с другими коммутаторами в локальном домене VCMP.&lt;/li>
&lt;li>Если сети VLAN создаются или удаляются, а также имена или описания VLAN изменяются на сервере VCMP, конфигурации синхронизируются с другими коммутаторами в домене VCMP.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Клиент (Client).
&lt;ul>
&lt;li>Клиент VCMP принадлежит указанному домену VCMP и синхронизирует информацию VLAN с сервером VCMP.&lt;/li>
&lt;li>Если сети VLAN создаются или удаляются либо имена или описания VLAN изменяются на клиенте VCMP, конфигурации не синхронизируются с другими коммутаторами в домене VCMP.&lt;/li>
&lt;li>Информация VLAN на клиенте VCMP перезаписывается информацией, отправленной сервером VCMP.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Прозрачный (Transparent).
&lt;ul>
&lt;li>Прозрачный коммутатор VCMP не влияет на другие коммутаторы в локальном домене VCMP и не зависит от поведения управления VCMP.&lt;/li>
&lt;li>Прозрачный коммутатор VCMP прозрачно пересылает пакеты VCMP только по транковым или гибридным каналам.&lt;/li>
&lt;li>Если VLAN создаются или удаляются, а также имена или описания VLAN изменяются на прозрачном коммутаторе VCMP, информация VLAN на прозрачном коммутаторе VCMP не влияет на информацию на сервере VCMP и не синхронизируется с другими коммутаторами в домене VCMP.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Тихий (Silent).
&lt;ul>
&lt;li>Тихий коммутатор VCMP не влияет на другие коммутаторы в локальном домене VCMP и не зависит от поведения управления VCMP.&lt;/li>
&lt;li>Предотвращает передачу пакетов VCMP из домена VCMP в другие домены VCMP.&lt;/li>
&lt;li>Отбрасывает полученные пакеты VCMP.&lt;/li>
&lt;li>Если VLAN создаются или удаляются, а также имена или описания VLAN изменяются на тихом коммутаторе VCMP, информация VLAN на тихом коммутаторе VCMP не влияет на информацию на сервере VCMP и не синхронизируется с другими коммутаторами в домене VCMP.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="конфигурация">&lt;span class="section-num">4&lt;/span> Конфигурация&lt;/h2>
&lt;h3 id="настройка">&lt;span class="section-num">4.1&lt;/span> Настройка&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Аутентификация в домене:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">vcmp authentication sha2-256 password &amp;lt;пароль&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Установка идентификатора сервера:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">vcmp device-id &amp;lt;идентификатор&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Домен VCMP:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">vcmp domain &amp;lt;домен&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Установка роли коммутатора:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">vcmp role &amp;lt;роль&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Роли могут быть следующими:
&lt;ul>
&lt;li>&lt;code>client&lt;/code>&lt;/li>
&lt;li>&lt;code>server&lt;/code>&lt;/li>
&lt;li>&lt;code>silent&lt;/code>&lt;/li>
&lt;li>&lt;code>transparent&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="управление">&lt;span class="section-num">4.2&lt;/span> Управление&lt;/h3>
&lt;ul>
&lt;li>Сброс настроек на клиенте:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">reset vcmp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="информация">&lt;span class="section-num">4.3&lt;/span> Информация&lt;/h3>
&lt;ul>
&lt;li>Статус vcmp:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">display vcmp status
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Изменения VLAN:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">display vcmp track
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Варианты микроархитектуры x86</title><link>https://yamadharma.github.io/ru/post/2024/09/20/microarchitecture-level-x86-64/</link><pubDate>Fri, 20 Sep 2024 20:16:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/09/20/microarchitecture-level-x86-64/</guid><description>&lt;p>Варианты микроархитектуры x86-64.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#варианты-микроархитектуры">&lt;span class="section-num">1&lt;/span> Варианты микроархитектуры&lt;/a>&lt;/li>
&lt;li>&lt;a href="#программное-определение-варианта-микроархитектуры">&lt;span class="section-num">2&lt;/span> Программное определение варианта микроархитектуры&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#флаг-процессора">&lt;span class="section-num">2.1&lt;/span> Флаг процессора&lt;/a>&lt;/li>
&lt;li>&lt;a href="#glibc">&lt;span class="section-num">2.2&lt;/span> glibc&lt;/a>&lt;/li>
&lt;li>&lt;a href="#x86-64-level">&lt;span class="section-num">2.3&lt;/span> x86-64-level&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="варианты-микроархитектуры">&lt;span class="section-num">1&lt;/span> Варианты микроархитектуры&lt;/h2>
&lt;ul>
&lt;li>Пропишем именование уровней и соответствующие расширения макроархитектуры.&lt;/li>
&lt;li>x86-64-v1 : CMOV, CX8, FPU, FXSR, MMX, OSFXSR, SCE, SSE, SSE2;&lt;/li>
&lt;li>x86-64-v2 : CMPXCHG16B, LAHF-SAHF, POPCNT, SSE3, SSE4_1, SSE4_2, SSSE3;&lt;/li>
&lt;li>x86-64-v3 : AVX, AVX2, BMI1, BMI2, F16C, FMA, LZCNT, MOVBE, OSXSAVE;&lt;/li>
&lt;li>x86-64-v4 : AVX512F, AVX512BW, AVX512CD, AVX512DQ, AVX512VL.&lt;/li>
&lt;/ul>
&lt;h2 id="программное-определение-варианта-микроархитектуры">&lt;span class="section-num">2&lt;/span> Программное определение варианта микроархитектуры&lt;/h2>
&lt;h3 id="флаг-процессора">&lt;span class="section-num">2.1&lt;/span> Флаг процессора&lt;/h3>
&lt;ul>
&lt;li>Флаги процессора можно определить через &lt;code>/proc&lt;/code>-файловую систему:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">cat /proc/cpuinfo &lt;span class="p">|&lt;/span> grep &lt;span class="s2">&amp;#34;^flags.*&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> uniq
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="glibc">&lt;span class="section-num">2.2&lt;/span> glibc&lt;/h3>
&lt;ul>
&lt;li>Можно запустить линкер:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">/lib64/ld-linux-x86-64.so.2 --help &lt;span class="p">|&lt;/span> grep supported
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="x86-64-level">&lt;span class="section-num">2.3&lt;/span> x86-64-level&lt;/h3>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/HenrikBengtsson/x86-64-level" target="_blank" rel="noopener">https://github.com/HenrikBengtsson/x86-64-level&lt;/a>&lt;/li>
&lt;li>По сути своей является скриптом, проверяющим наличие определённых флагов у процессора.&lt;/li>
&lt;/ul></description></item><item><title>Клавиатуры. Ergohaven</title><link>https://yamadharma.github.io/ru/post/2024/08/11/keyboards-ergohaven/</link><pubDate>Sun, 11 Aug 2024 08:52:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/08/11/keyboards-ergohaven/</guid><description>&lt;p>Производитель клавиатур Ergohaven.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Сайт:
&lt;ul>
&lt;li>&lt;a href="https://ru.ergohaven.xyz/" target="_blank" rel="noopener">https://ru.ergohaven.xyz/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ergohaven.xyz/" target="_blank" rel="noopener">https://ergohaven.xyz/&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Видеоканал: &lt;a href="https://www.youtube.com/@ergohaven" target="_blank" rel="noopener">https://www.youtube.com/@ergohaven&lt;/a>&lt;/li>
&lt;li>Блог: &lt;a href="https://blog.ergohaven.xyz/ru" target="_blank" rel="noopener">https://blog.ergohaven.xyz/ru&lt;/a>&lt;/li>
&lt;li>Магазин: &lt;a href="https://ru.ergohaven.xyz/shop" target="_blank" rel="noopener">https://ru.ergohaven.xyz/shop&lt;/a>&lt;/li>
&lt;li>Российские производители.&lt;/li>
&lt;li>Производят кастомные клавиатуры.&lt;/li>
&lt;li>Делают сами.&lt;/li>
&lt;/ul></description></item><item><title>Консоль linux. Kmscon</title><link>https://yamadharma.github.io/ru/post/2024/06/25/linux-console-kmscon/</link><pubDate>Tue, 25 Jun 2024 12:08:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/06/25/linux-console-kmscon/</guid><description>&lt;p>Консоль linux. Kmscon.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#функции">&lt;span class="section-num">1.1&lt;/span> Функции&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#установка">&lt;span class="section-num">2&lt;/span> Установка&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#gentoo">&lt;span class="section-num">2.1&lt;/span> Gentoo&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#включение-kmscon">&lt;span class="section-num">3&lt;/span> Включение kmscon&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#включение-на-всех-терминалах">&lt;span class="section-num">3.1&lt;/span> Включение на всех терминалах&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#файлы-настройки">&lt;span class="section-num">4&lt;/span> Файлы настройки&lt;/a>&lt;/li>
&lt;li>&lt;a href="#поддержка-hidpi">&lt;span class="section-num">5&lt;/span> Поддержка HiDPI&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>Эмулятор терминала.&lt;/li>
&lt;li>Основан на kernel mode setting Linux.&lt;/li>
&lt;li>Попытка заменить реализацию VT в ядре консолью пользовательского пространства.&lt;/li>
&lt;li>Автор не работает над программой.&lt;/li>
&lt;li>Стабильного ментейнера нет.&lt;/li>
&lt;li>Репозиторий текущий: &lt;a href="https://github.com/aetf/kmscon" target="_blank" rel="noopener">https://github.com/aetf/kmscon&lt;/a>&lt;/li>
&lt;li>Репозитории исторические:
&lt;ul>
&lt;li>&lt;a href="https://cgit.freedesktop.org/~dvdhrm/kmscon/" target="_blank" rel="noopener">https://cgit.freedesktop.org/~dvdhrm/kmscon/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/MacSlow/kmscon" target="_blank" rel="noopener">https://github.com/MacSlow/kmscon&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="функции">&lt;span class="section-num">1.1&lt;/span> Функции&lt;/h3>
&lt;ul>
&lt;li>Полная реализация vt220–vt510.&lt;/li>
&lt;li>Полная поддержка интернационализации:
&lt;ul>
&lt;li>поддерживает Юникод, CJK;&lt;/li>
&lt;li>обработка клавиатуры через &lt;em>libxkbcommon&lt;/em>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Аппаратное ускорение рендеринга.&lt;/li>
&lt;/ul>
&lt;h2 id="установка">&lt;span class="section-num">2&lt;/span> Установка&lt;/h2>
&lt;h3 id="gentoo">&lt;span class="section-num">2.1&lt;/span> Gentoo&lt;/h3>
&lt;ul>
&lt;li>В основном репозитории:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">emerge sys-apps/kmscon
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="включение-kmscon">&lt;span class="section-num">3&lt;/span> Включение kmscon&lt;/h2>
&lt;ul>
&lt;li>Обычно для tty1 существует специальная конфигурация systemd.
&lt;ul>
&lt;li>Можно продолжать запускать традиционный agetty на tty1 и запускать kmscon на всех остальных виртуальных терминалах.&lt;/li>
&lt;li>Можно запустить kmscon как на tty1, так и на других VT.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Чтобы включить kmscon на tty1, отключите &lt;code>getty@tty1.service&lt;/code> и включить &lt;code>kmsconvt@tty1.service&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h3 id="включение-на-всех-терминалах">&lt;span class="section-num">3.1&lt;/span> Включение на всех терминалах&lt;/h3>
&lt;ul>
&lt;li>Чтобы включить kmscon на всех виртуальных терминалах, выполните:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">ln -s /usr/lib/systemd/system/kmsconvt&lt;span class="se">\@&lt;/span>.service /etc/systemd/system/autovt&lt;span class="se">\@&lt;/span>.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Это заставит &lt;code>systemd-login&lt;/code> использовать &lt;code>kmsconvt@.service&lt;/code> вместо &lt;code>getty@.service&lt;/code> для новых VT.&lt;/li>
&lt;li>Если &lt;code>kmscon&lt;/code> не может запуститься по какой-либо причине, будет запущен &lt;code>getty@.service&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h2 id="файлы-настройки">&lt;span class="section-num">4&lt;/span> Файлы настройки&lt;/h2>
&lt;ul>
&lt;li>Для настройки используются файлы:
&lt;ul>
&lt;li>&lt;code>/etc/kmscon/kmscon.conf&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="поддержка-hidpi">&lt;span class="section-num">5&lt;/span> Поддержка HiDPI&lt;/h2>
&lt;ul>
&lt;li>Можно изменить размер шрифта на лету с помощью &lt;code>Ctrl++&lt;/code>, &lt;code>Ctrl+Shift+=&lt;/code>, &lt;code>Ctrl+-&lt;/code>.&lt;/li>
&lt;li>Можно установить &lt;code>font-dpi&lt;/code> и &lt;code>font-size&lt;/code> в &lt;code>/etc/kmscon/kmscon.conf&lt;/code>:
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">font-dpi=192
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Монитор</title><link>https://yamadharma.github.io/ru/post/2024/05/18/monitor/</link><pubDate>Sat, 18 May 2024 16:05:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/05/18/monitor/</guid><description>&lt;p>Монитор.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#выбор-монитора">&lt;span class="section-num">1&lt;/span> Выбор монитора&lt;/a>&lt;/li>
&lt;li>&lt;a href="#текущий-монитор">&lt;span class="section-num">2&lt;/span> Текущий монитор&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#thunderobot-silver-wing-ku27f144m">&lt;span class="section-num">2.1&lt;/span> Thunderobot Silver Wing KU27F144M&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="выбор-монитора">&lt;span class="section-num">1&lt;/span> Выбор монитора&lt;/h2>
&lt;ul>
&lt;li>Критерии выбора монитора:
&lt;ul>
&lt;li>поддержка разрешения 4K (для записи скринкастов):
&lt;ul>
&lt;li>3840x2160px@60Hz&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>поддержка частоты 120&amp;ndash;144Гц (для повседневной работы):
&lt;ul>
&lt;li>1920x1080px@120Hz&lt;/li>
&lt;li>2560x1440px@144Hz&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="текущий-монитор">&lt;span class="section-num">2&lt;/span> Текущий монитор&lt;/h2>
&lt;h3 id="thunderobot-silver-wing-ku27f144m">&lt;span class="section-num">2.1&lt;/span> Thunderobot Silver Wing KU27F144M&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://thunderobot.ru/catalog/monitors/KU27F144M/" target="_blank" rel="noopener">https://thunderobot.ru/catalog/monitors/KU27F144M/&lt;/a>&lt;/li>
&lt;li>79 990 ₽&lt;/li>
&lt;li>Параметры дисплея
&lt;ul>
&lt;li>Диагональ экрана: 27″&lt;/li>
&lt;li>Тип панели: IPS Mini LED&lt;/li>
&lt;li>Соотношение сторон: 16:9&lt;/li>
&lt;li>Поддержка HDR: Да&lt;/li>
&lt;li>Разрешение: 3840 x 2160&lt;/li>
&lt;li>Яркость (нит): 1000&lt;/li>
&lt;li>Углы обзора (Гориз./Верт.): 178° / 178°&lt;/li>
&lt;li>Глубина цвета: 8 бит&lt;/li>
&lt;li>Время отклика: 5 мс (Overdrive)&lt;/li>
&lt;li>Частота обновления дисплея: 144 Гц&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Интерфейсы:
&lt;ul>
&lt;li>HDMI 2.0: 2&lt;/li>
&lt;li>DP 1.4: 1&lt;/li>
&lt;li>USB: USB-A x2, USB-C x1, USB-B x1&lt;/li>
&lt;li>Аудиовыход mini jack: Есть&lt;/li>
&lt;li>Встроенные динамики: 2 x 3 Вт&lt;/li>
&lt;li>USB-C, мощность 90 Вт&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>KVM-переключение для нескольких устройств&lt;/li>
&lt;li>Вращение дисплея: 90°&lt;/li>
&lt;li>Настройка высоты: 0&amp;ndash;90 мм&lt;/li>
&lt;li>VESA: 100 x 100&lt;/li>
&lt;li>Адаптер питания: внешний&lt;/li>
&lt;li>Габариты
&lt;ul>
&lt;li>Габариты с подставкой, мм: 617 x 292 x 524&lt;/li>
&lt;li>Габариты без подставки, мм: 617 x 71.8 x 366&lt;/li>
&lt;li>Габариты упаковки, мм: 835 x 215 x 495&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Вес
&lt;ul>
&lt;li>Вес без упаковки, кг: 6.75&lt;/li>
&lt;li>Вес без подставки, кг: 5.3&lt;/li>
&lt;li>Вес в упаковке, кг: 9.6&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Кабели в комплекте
&lt;ul>
&lt;li>Длина кабеля питания: 1.5 м&lt;/li>
&lt;li>Версия кабеля HDMI в комплекте: 2.1&lt;/li>
&lt;li>Версия кабеля DP в комплекте: 1.4&lt;/li>
&lt;li>Длина кабеля DP: 1.5 м&lt;/li>
&lt;li>Кабель USB A-B, длина: 1.5 м&lt;/li>
&lt;li>Кабель USB-C, длина: 1.8 м&lt;/li>
&lt;li>Adaptive Sync: Да&lt;/li>
&lt;li>Overdrive: Да&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Программное управление раскладкой клавиатуры</title><link>https://yamadharma.github.io/ru/post/2024/03/27/software-keymap-control/</link><pubDate>Wed, 27 Mar 2024 21:28:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/03/27/software-keymap-control/</guid><description>&lt;p>Программное управление раскладкой клавиатуры.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#программные-пакеты">&lt;span class="section-num">1&lt;/span> Программные пакеты&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#kanata">&lt;span class="section-num">1.1&lt;/span> kanata&lt;/a>&lt;/li>
&lt;li>&lt;a href="#kmonad">&lt;span class="section-num">1.2&lt;/span> kmonad&lt;/a>&lt;/li>
&lt;li>&lt;a href="#ktrl">&lt;span class="section-num">1.3&lt;/span> ktrl&lt;/a>&lt;/li>
&lt;li>&lt;a href="#kbremap">&lt;span class="section-num">1.4&lt;/span> kbremap&lt;/a>&lt;/li>
&lt;li>&lt;a href="#xcape">&lt;span class="section-num">1.5&lt;/span> xcape&lt;/a>&lt;/li>
&lt;li>&lt;a href="#karabiner-elements">&lt;span class="section-num">1.6&lt;/span> karabiner-elements&lt;/a>&lt;/li>
&lt;li>&lt;a href="#capsicain">&lt;span class="section-num">1.7&lt;/span> capsicain&lt;/a>&lt;/li>
&lt;li>&lt;a href="#keyd">&lt;span class="section-num">1.8&lt;/span> keyd&lt;/a>&lt;/li>
&lt;li>&lt;a href="#xremap">&lt;span class="section-num">1.9&lt;/span> xremap&lt;/a>&lt;/li>
&lt;li>&lt;a href="#keymapper">&lt;span class="section-num">1.10&lt;/span> keymapper&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#firmware">&lt;span class="section-num">2&lt;/span> Firmware&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#qmk">&lt;span class="section-num">2.1&lt;/span> QMK&lt;/a>&lt;/li>
&lt;li>&lt;a href="#keyberon">&lt;span class="section-num">2.2&lt;/span> keyberon&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#логическое-управление-раскладкой">&lt;span class="section-num">3&lt;/span> Логическое управление раскладкой&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="программные-пакеты">&lt;span class="section-num">1&lt;/span> Программные пакеты&lt;/h2>
&lt;h3 id="kanata">&lt;span class="section-num">1.1&lt;/span> kanata&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/11/13/keymap-control-kanata/">Раскладка клавиатуры. kanata&lt;/a>&lt;/li>
&lt;li>Репозиторий: &lt;a href="https://github.com/jtroo/kanata" target="_blank" rel="noopener">https://github.com/jtroo/kanata&lt;/a>&lt;/li>
&lt;li>Поддержка ОС: Linux, Windows, MacOS.&lt;/li>
&lt;li>Язык реализации: Rust.&lt;/li>
&lt;/ul>
&lt;h3 id="kmonad">&lt;span class="section-num">1.2&lt;/span> kmonad&lt;/h3>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/kmonad/kmonad" target="_blank" rel="noopener">https://github.com/kmonad/kmonad&lt;/a>&lt;/li>
&lt;li>Поддержка ОС: Linux, Windows, MacOS.&lt;/li>
&lt;li>Язык реализации: Huskell.&lt;/li>
&lt;/ul>
&lt;h3 id="ktrl">&lt;span class="section-num">1.3&lt;/span> ktrl&lt;/h3>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/ItayGarin/ktrl" target="_blank" rel="noopener">https://github.com/ItayGarin/ktrl&lt;/a>&lt;/li>
&lt;li>Поддержка ОС: Linux.&lt;/li>
&lt;li>Позиционирует себя как реализация QMK под Linux.&lt;/li>
&lt;/ul>
&lt;h3 id="kbremap">&lt;span class="section-num">1.4&lt;/span> kbremap&lt;/h3>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/timokroeger/kbremap" target="_blank" rel="noopener">https://github.com/timokroeger/kbremap&lt;/a>&lt;/li>
&lt;li>Поддержка ОС: Windows.&lt;/li>
&lt;/ul>
&lt;h3 id="xcape">&lt;span class="section-num">1.5&lt;/span> xcape&lt;/h3>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/alols/xcape" target="_blank" rel="noopener">https://github.com/alols/xcape&lt;/a>&lt;/li>
&lt;li>Поддержка ОС: Linux.&lt;/li>
&lt;li>Позволяет использовать клавишу-модификатор в при нажатии и отжатии.&lt;/li>
&lt;/ul>
&lt;h3 id="karabiner-elements">&lt;span class="section-num">1.6&lt;/span> karabiner-elements&lt;/h3>
&lt;ul>
&lt;li>Сайт: &lt;a href="https://karabiner-elements.pqrs.org/" target="_blank" rel="noopener">https://karabiner-elements.pqrs.org/&lt;/a>&lt;/li>
&lt;li>Репозиторий: &lt;a href="https://github.com/pqrs-org/Karabiner-Elements" target="_blank" rel="noopener">https://github.com/pqrs-org/Karabiner-Elements&lt;/a>&lt;/li>
&lt;li>Поддержка ОС: MacOS.&lt;/li>
&lt;/ul>
&lt;h3 id="capsicain">&lt;span class="section-num">1.7&lt;/span> capsicain&lt;/h3>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/cajhin/capsicain" target="_blank" rel="noopener">https://github.com/cajhin/capsicain&lt;/a>&lt;/li>
&lt;li>Поддержка ОС: Windows.&lt;/li>
&lt;li>Переназначает клавиши и комбинации клавиш-модификаторов на низком уровне.&lt;/li>
&lt;/ul>
&lt;h3 id="keyd">&lt;span class="section-num">1.8&lt;/span> keyd&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2025/05/21/keyboard-layout-keyd/">Раскладка клавиатуры. keyd&lt;/a>&lt;/li>
&lt;li>Репозиторий: &lt;a href="https://github.com/rvaiya/keyd" target="_blank" rel="noopener">https://github.com/rvaiya/keyd&lt;/a>&lt;/li>
&lt;li>Поддержка ОС: Linux.&lt;/li>
&lt;li>Слои: Поддержка слоёв через модификаторы.&lt;/li>
&lt;li>Tap-hold: Базовая реализация через макросы.&lt;/li>
&lt;li>Макросы: Только комбинации клавиш.&lt;/li>
&lt;li>Интегрируется с X11 и Wayland через libinput, но требует настройки для виртуальных машин.&lt;/li>
&lt;/ul>
&lt;h3 id="xremap">&lt;span class="section-num">1.9&lt;/span> xremap&lt;/h3>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/xremap/xremap" target="_blank" rel="noopener">https://github.com/xremap/xremap&lt;/a>&lt;/li>
&lt;li>Поддержка ОС: Linux.&lt;/li>
&lt;li>Вдохновлена клавиатурными последовательностями Emacs, а не слоями QMK/режимами Vim.&lt;/li>
&lt;/ul>
&lt;h3 id="keymapper">&lt;span class="section-num">1.10&lt;/span> keymapper&lt;/h3>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/houmain/keymapper" target="_blank" rel="noopener">https://github.com/houmain/keymapper&lt;/a>&lt;/li>
&lt;li>Поддержка ОС: Linux, Windows, MacOS.&lt;/li>
&lt;/ul>
&lt;h2 id="firmware">&lt;span class="section-num">2&lt;/span> Firmware&lt;/h2>
&lt;h3 id="qmk">&lt;span class="section-num">2.1&lt;/span> QMK&lt;/h3>
&lt;ul>
&lt;li>Сайт: &lt;a href="https://qmk.fm/" target="_blank" rel="noopener">https://qmk.fm/&lt;/a>&lt;/li>
&lt;li>Документация: &lt;a href="https://docs.qmk.fm/" target="_blank" rel="noopener">https://docs.qmk.fm/&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="keyberon">&lt;span class="section-num">2.2&lt;/span> keyberon&lt;/h3>
&lt;ul>
&lt;li>Репозиторий: &lt;a href="https://github.com/TeXitoi/keyberon" target="_blank" rel="noopener">https://github.com/TeXitoi/keyberon&lt;/a>&lt;/li>
&lt;li>Язык реализации: Rust.&lt;/li>
&lt;/ul>
&lt;h2 id="логическое-управление-раскладкой">&lt;span class="section-num">3&lt;/span> Логическое управление раскладкой&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2025/04/22/keyboard-xkb/">Клавиатура. xkb&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Раскладки клавиатур</title><link>https://yamadharma.github.io/ru/post/2024/03/27/keymap/</link><pubDate>Wed, 27 Mar 2024 21:23:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/03/27/keymap/</guid><description>&lt;p>Раскладки клавиатур.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#управление-раскладками">&lt;span class="section-num">1&lt;/span> Управление раскладками&lt;/a>&lt;/li>
&lt;li>&lt;a href="#варианты-раскладок">&lt;span class="section-num">2&lt;/span> Варианты раскладок&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="управление-раскладками">&lt;span class="section-num">1&lt;/span> Управление раскладками&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/03/27/software-keymap-control/">Программное управление раскладкой клавиатуры&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="варианты-раскладок">&lt;span class="section-num">2&lt;/span> Варианты раскладок&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2025/04/25/keyboard-home-row-mode/">Клавиатура. Раскладка Home Row Mode&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2025/04/27/keyboard-miryoku-layout/">Клавиатура. Раскладка Miryoku&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2025/05/06/keyboard-capslock/">Клавиатура. Клавиша Caps Lock&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2025/05/06/ke%D1%83map-colemak/">Клавиатура. Раскладка Colemak&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2025/05/07/keyboard-layout-kenkyo/">Клавиатура. Раскладка Kenkyo&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2025/05/09/keyboard-concept-spacefn/">Клавиатура. Концепция SpaceFN&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Физические раскладки клавиатур</title><link>https://yamadharma.github.io/ru/post/2024/03/27/physical-keyboard-layouts/</link><pubDate>Wed, 27 Mar 2024 21:19:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/03/27/physical-keyboard-layouts/</guid><description>&lt;p>Физические раскладки клавиатур.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">&lt;/nav>
&lt;/div>
&lt;/details></description></item><item><title>Формфакторы клавиатур</title><link>https://yamadharma.github.io/ru/post/2024/03/27/keyboard-shapes/</link><pubDate>Wed, 27 Mar 2024 21:16:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/03/27/keyboard-shapes/</guid><description>&lt;p>Формфакторы клавиатур.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">&lt;/nav>
&lt;/div>
&lt;/details></description></item><item><title>Раздельные клавиатуры</title><link>https://yamadharma.github.io/ru/post/2024/03/27/split-keyboards/</link><pubDate>Wed, 27 Mar 2024 21:07:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/03/27/split-keyboards/</guid><description>&lt;p>Раздельные клавиатуры.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">&lt;/nav>
&lt;/div>
&lt;/details></description></item><item><title>Клавиатуры</title><link>https://yamadharma.github.io/ru/post/2023/10/11/keyboards/</link><pubDate>Wed, 11 Oct 2023 16:49:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2023/10/11/keyboards/</guid><description>&lt;p>Клавиатуры.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#форматы">&lt;span class="section-num">1&lt;/span> Форматы&lt;/a>&lt;/li>
&lt;li>&lt;a href="#раскладки">&lt;span class="section-num">2&lt;/span> Раскладки&lt;/a>&lt;/li>
&lt;li>&lt;a href="#магазины">&lt;span class="section-num">3&lt;/span> Магазины&lt;/a>&lt;/li>
&lt;li>&lt;a href="#ресурсы">&lt;span class="section-num">4&lt;/span> Ресурсы&lt;/a>&lt;/li>
&lt;li>&lt;a href="#тренажёры">&lt;span class="section-num">5&lt;/span> Тренажёры&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="форматы">&lt;span class="section-num">1&lt;/span> Форматы&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/03/27/split-keyboards/">Раздельные клавиатуры&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/03/27/keyboard-shapes/">Формфакторы клавиатуры&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/03/27/physical-keyboard-layouts/">Физические раскладки клавиатур&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="раскладки">&lt;span class="section-num">2&lt;/span> Раскладки&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/03/27/keymap/">Раскладки клавиатур&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/03/27/software-keymap-control/">Программное управление раскладкой клавиатуры&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="магазины">&lt;span class="section-num">3&lt;/span> Магазины&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://keychron-russia.com/" target="_blank" rel="noopener">https://keychron-russia.com/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://geekboards.ru/" target="_blank" rel="noopener">https://geekboards.ru/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://yamadharma.github.io/ru/post/2024/08/11/keyboards-ergohaven/">Клавиатуры. Ergohaven&lt;/a>
&lt;ul>
&lt;li>Российские производители.&lt;/li>
&lt;li>Делают кастомные клавиатуры своей разработки.&lt;/li>
&lt;li>Выпускают малыми партиями.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="ресурсы">&lt;span class="section-num">4&lt;/span> Ресурсы&lt;/h2>
&lt;ul>
&lt;li>Клававики: &lt;a href="https://klava.wiki/" target="_blank" rel="noopener">https://klava.wiki/&lt;/a>
&lt;ul>
&lt;li>Вики про эргономичные клавиатуры и раскладки, технологии их создания и улучшения.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="тренажёры">&lt;span class="section-num">5&lt;/span> Тренажёры&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://monkeytype.com/" target="_blank" rel="noopener">https://monkeytype.com/&lt;/a>
&lt;ul>
&lt;li>Один из самых популярных тренажёров.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Формат Small Form-factor Pluggable (SFP)</title><link>https://yamadharma.github.io/ru/post/2023/03/19/small-form-factor-pluggable/</link><pubDate>Sun, 19 Mar 2023 16:38:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2023/03/19/small-form-factor-pluggable/</guid><description>&lt;p>Формат сменных модулей для сетевых интерфейсов.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#sfp">&lt;span class="section-num">1&lt;/span> SFP&lt;/a>&lt;/li>
&lt;li>&lt;a href="#sfp-plus">&lt;span class="section-num">2&lt;/span> SFP+&lt;/a>&lt;/li>
&lt;li>&lt;a href="#sfp28">&lt;span class="section-num">3&lt;/span> SFP28&lt;/a>&lt;/li>
&lt;li>&lt;a href="#qsfp-plus">&lt;span class="section-num">4&lt;/span> QSFP+&lt;/a>&lt;/li>
&lt;li>&lt;a href="#qsfp28">&lt;span class="section-num">5&lt;/span> QSFP28&lt;/a>&lt;/li>
&lt;li>&lt;a href="#xfp">&lt;span class="section-num">6&lt;/span> XFP&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="sfp">&lt;span class="section-num">1&lt;/span> SFP&lt;/h2>
&lt;ul>
&lt;li>SFP (small form-factor pluggable) заменил модули GBIC (Gigabit interface converter).&lt;/li>
&lt;li>Размер составляет 1/2 от модуля GBIC.&lt;/li>
&lt;li>Скорость передачи данных SFP колеблется от 100 Мбит/с до 4 Гбит/с.&lt;/li>
&lt;li>SFP основан на протоколе SFF-8472.&lt;/li>
&lt;/ul>
&lt;h2 id="sfp-plus">&lt;span class="section-num">2&lt;/span> SFP+&lt;/h2>
&lt;ul>
&lt;li>SFP+ (small form-factor pluggable plus) &amp;mdash; расширенная версия SFP, поддерживающая 8 Гбит/с Fibre Channel, 10 Gigabit Ethernet и стандарт оптической транспортной сети OTU2.&lt;/li>
&lt;li>SFP+ также предлагает прямое подключение для соединения двух портов SFP+ без дополнительных оптических модулей.&lt;/li>
&lt;li>SFP и SFP+ модули идентичны по размеру и внешнему виду.&lt;/li>
&lt;li>SFP+ соответствует протоколам SFF-8431 и SFF-8432.&lt;/li>
&lt;li>В порт SFP+ можно установить SFP модуль.&lt;/li>
&lt;li>SFP+ модуль нельзя подключить к порту SFP.&lt;/li>
&lt;/ul>
&lt;h2 id="sfp28">&lt;span class="section-num">3&lt;/span> SFP28&lt;/h2>
&lt;ul>
&lt;li>SFP28 (small form-factor pluggable 28) &amp;mdash; расширенная версия SFP+.&lt;/li>
&lt;li>SFP28 и SFP+ имеют одинаковый размер, но SFP28 поддерживает 25 Гбит/с на одном канале.&lt;/li>
&lt;li>Расположение контактов разъёмов SFP28 и SFP+ совместимо.&lt;/li>
&lt;li>SFP28 будет работать с SFP+ модулями с пониженной скоростью.&lt;/li>
&lt;/ul>
&lt;h2 id="qsfp-plus">&lt;span class="section-num">4&lt;/span> QSFP+&lt;/h2>
&lt;ul>
&lt;li>QSFP+ есть эволюция QSFP (quad small form-factor pluggable).&lt;/li>
&lt;li>QSFP может поддерживать 4 канала одновременно, и каждый канал может обрабатывать скорость передачи данных 1 Гбит/с, поэтому он называется Quad SFP.&lt;/li>
&lt;li>QSFP+ поддерживает четыре канала 10 Гбит/с.&lt;/li>
&lt;li>Эти 4 канала могут быть объединены в один канал.&lt;/li>
&lt;li>QSFP+ может заменить 4 стандартных SFP+ модулей.&lt;/li>
&lt;/ul>
&lt;h2 id="qsfp28">&lt;span class="section-num">5&lt;/span> QSFP28&lt;/h2>
&lt;ul>
&lt;li>QSFP28 (quad small form-factor pluggable 28) обеспечивает четыре канала высокоскоростных дифференциальных сигналов со скоростями передачи данных от 25 Гбит/с до 40 Гбит/с.&lt;/li>
&lt;/ul>
&lt;h2 id="xfp">&lt;span class="section-num">6&lt;/span> XFP&lt;/h2>
&lt;ul>
&lt;li>XFP (10-гигабитный Small Form Factor Pluggable) &amp;mdash; протоколо-независимый оптический трансивер.&lt;/li>
&lt;li>По размерам XFP больше, чем SFP.&lt;/li>
&lt;/ul></description></item><item><title>Критерии выбора персонального компьютера</title><link>https://yamadharma.github.io/ru/post/2022/07/21/criteria-choosing-personal-computer/</link><pubDate>Thu, 21 Jul 2022 20:17:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2022/07/21/criteria-choosing-personal-computer/</guid><description>&lt;p>Критерии выбора персонального компьютера.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#область-применения">&lt;span class="section-num">1&lt;/span> Область применения&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#универсальные">&lt;span class="section-num">1.1&lt;/span> Универсальные&lt;/a>&lt;/li>
&lt;li>&lt;a href="#для-развлечения--мультимедийные">&lt;span class="section-num">1.2&lt;/span> Для развлечения (мультимедийные)&lt;/a>&lt;/li>
&lt;li>&lt;a href="#игровые">&lt;span class="section-num">1.3&lt;/span> Игровые&lt;/a>&lt;/li>
&lt;li>&lt;a href="#рабочие-станции">&lt;span class="section-num">1.4&lt;/span> Рабочие станции&lt;/a>&lt;/li>
&lt;li>&lt;a href="#пафосные">&lt;span class="section-num">1.5&lt;/span> Пафосные&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#комплектация">&lt;span class="section-num">2&lt;/span> Комплектация&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#диск">&lt;span class="section-num">2.1&lt;/span> Диск&lt;/a>&lt;/li>
&lt;li>&lt;a href="#оперативная-память">&lt;span class="section-num">2.2&lt;/span> Оперативная память&lt;/a>&lt;/li>
&lt;li>&lt;a href="#экран">&lt;span class="section-num">2.3&lt;/span> Экран&lt;/a>&lt;/li>
&lt;li>&lt;a href="#видеокарта">&lt;span class="section-num">2.4&lt;/span> Видеокарта&lt;/a>&lt;/li>
&lt;li>&lt;a href="#интерфейсы">&lt;span class="section-num">2.5&lt;/span> Интерфейсы&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#цена">&lt;span class="section-num">3&lt;/span> Цена&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="область-применения">&lt;span class="section-num">1&lt;/span> Область применения&lt;/h2>
&lt;h3 id="универсальные">&lt;span class="section-num">1.1&lt;/span> Универсальные&lt;/h3>
&lt;h3 id="для-развлечения--мультимедийные">&lt;span class="section-num">1.2&lt;/span> Для развлечения (мультимедийные)&lt;/h3>
&lt;h3 id="игровые">&lt;span class="section-num">1.3&lt;/span> Игровые&lt;/h3>
&lt;h3 id="рабочие-станции">&lt;span class="section-num">1.4&lt;/span> Рабочие станции&lt;/h3>
&lt;h3 id="пафосные">&lt;span class="section-num">1.5&lt;/span> Пафосные&lt;/h3>
&lt;ul>
&lt;li>Чаще всего фирмы Apple.&lt;/li>
&lt;/ul>
&lt;h2 id="комплектация">&lt;span class="section-num">2&lt;/span> Комплектация&lt;/h2>
&lt;h3 id="диск">&lt;span class="section-num">2.1&lt;/span> Диск&lt;/h3>
&lt;ul>
&lt;li>Только SSD.
&lt;ul>
&lt;li>Ёмкость &amp;mdash; не менее 512 GB.&lt;/li>
&lt;li>На данный момент оптимальный размер &amp;mdash; 1 TB.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>HDD может использоваться для архивного хранения, но не для работы.&lt;/li>
&lt;/ul>
&lt;h3 id="оперативная-память">&lt;span class="section-num">2.2&lt;/span> Оперативная память&lt;/h3>
&lt;ul>
&lt;li>Минимальный объём &amp;mdash; 16 GB.&lt;/li>
&lt;li>Оптимальный объём &amp;mdash; 32 GB.&lt;/li>
&lt;li>Рекомендуемый объём &amp;mdash; 64 GB.&lt;/li>
&lt;/ul>
&lt;h3 id="экран">&lt;span class="section-num">2.3&lt;/span> Экран&lt;/h3>
&lt;ul>
&lt;li>Разрешение:
&lt;ul>
&lt;li>Минимальное: 1920x1080 (&lt;em>Full HD&lt;/em>).&lt;/li>
&lt;li>Рекомендуемое: 4K &amp;mdash; 3840×2160 (Ultra HD 4K).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Частота обновления:
&lt;ul>
&lt;li>Минимальная: 60 Гц.&lt;/li>
&lt;li>Рекомендуемая: 144Гц (минимум 120 Гц).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Диагональ:
&lt;ul>
&lt;li>27&amp;rsquo;&amp;rsquo;&amp;ndash;32&amp;rsquo;'.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Тип матрицы
&lt;ul>
&lt;li>Лучше не брать &lt;em>TN+Film&lt;/em>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="видеокарта">&lt;span class="section-num">2.4&lt;/span> Видеокарта&lt;/h3>
&lt;ul>
&lt;li>Начальный уровень:
&lt;ul>
&lt;li>Интегрированная видеокарта (Intel, AMD).&lt;/li>
&lt;li>GeForce GTX 1650.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Средний уровень:
&lt;ul>
&lt;li>GeForce GTX 1660 SUPER, GeForce RTX 2070 SUPER.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Высокий уровень:
&lt;ul>
&lt;li>GeForce RTX 2080 SUPER.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="интерфейсы">&lt;span class="section-num">2.5&lt;/span> Интерфейсы&lt;/h3>
&lt;ul>
&lt;li>USB:
&lt;ul>
&lt;li>не менее двух разъемов USB 3.0/3.1 формата USB-A;&lt;/li>
&lt;li>желательно наличие USB-C.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Разъём M.2.&lt;/li>
&lt;li>Ethernet 1000 Gbps или 10000 Gbps.&lt;/li>
&lt;li>WiFi &amp;mdash; полезен.&lt;/li>
&lt;li>Bluetooth &amp;mdash; полезен.&lt;/li>
&lt;li>HDMI 2.1.&lt;/li>
&lt;li>Displayport 2.0.&lt;/li>
&lt;/ul>
&lt;h2 id="цена">&lt;span class="section-num">3&lt;/span> Цена&lt;/h2>
&lt;ul>
&lt;li>Нижняя граница цены на приемлемый системный блок &amp;mdash; $1200.&lt;/li>
&lt;/ul></description></item><item><title>Контейнер для жесткого диска Zalman ZM-VE300</title><link>https://yamadharma.github.io/ru/post/2022/06/06/zalman-zm-ve300/</link><pubDate>Mon, 06 Jun 2022 14:53:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2022/06/06/zalman-zm-ve300/</guid><description>&lt;p>Контейнер для жесткого диска Zalman ZM-VE300.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#принципы-работы">&lt;span class="section-num">2&lt;/span> Принципы работы&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#основная-функциональность">&lt;span class="section-num">2.1&lt;/span> Основная функциональность&lt;/a>&lt;/li>
&lt;li>&lt;a href="#дополнительные-трюки">&lt;span class="section-num">2.2&lt;/span> Дополнительные трюки&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#замена-прошивки">&lt;span class="section-num">3&lt;/span> Замена прошивки&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#общая-информация">&lt;span class="section-num">3.1&lt;/span> Общая информация&lt;/a>&lt;/li>
&lt;li>&lt;a href="#установка-прошивки-от-iodd-2531">&lt;span class="section-num">3.2&lt;/span> Установка прошивки от iODD-2531&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#прагматика">&lt;span class="section-num">3.2.1&lt;/span> Прагматика&lt;/a>&lt;/li>
&lt;li>&lt;a href="#версии-прошивки">&lt;span class="section-num">3.2.2&lt;/span> Версии прошивки&lt;/a>&lt;/li>
&lt;li>&lt;a href="#файлы-прошивки">&lt;span class="section-num">3.2.3&lt;/span> Файлы прошивки&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="общая-информация">&lt;span class="section-num">1&lt;/span> Общая информация&lt;/h2>
&lt;ul>
&lt;li>USB-бокс для портативного жёсткого диска (HDD) с виртуальным CD-ROM приводом.&lt;/li>
&lt;li>Умеют монтировать лежащие в папке &lt;code>_iso&lt;/code> образы на виртуальный привод.&lt;/li>
&lt;li>Варианты устройства: Zalman ZM-VE200, ZM-VE200SE, ZM-VE300, ZM-VE400.&lt;/li>
&lt;li>Является копией устройства, выпускаемого под оригинальным названием iODD-2531 (&lt;a href="http://iodd.kr/wordpress/product/iodd-2531/" target="_blank" rel="noopener">http://iodd.kr/wordpress/product/iodd-2531/&lt;/a>).&lt;/li>
&lt;li>Документация:
&lt;ul>
&lt;li>Краткая инструкция (русский язык): &lt;a href="https://mcgrp.ru/files/viewer/615328/1" target="_blank" rel="noopener">https://mcgrp.ru/files/viewer/615328/1&lt;/a>.&lt;/li>
&lt;li>Краткая инструкция (английский язык): &lt;a href="https://mcgrp.ru/files/viewer/111279/1" target="_blank" rel="noopener">https://mcgrp.ru/files/viewer/111279/1&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="принципы-работы">&lt;span class="section-num">2&lt;/span> Принципы работы&lt;/h2>
&lt;h3 id="основная-функциональность">&lt;span class="section-num">2.1&lt;/span> Основная функциональность&lt;/h3>
&lt;ul>
&lt;li>Образы следует помещать в папку &lt;code>_iso&lt;/code>.&lt;/li>
&lt;li>Поддерживается не более 31 образа в папке &lt;code>_iso&lt;/code>.&lt;/li>
&lt;li>В папке &lt;code>_iso&lt;/code> можно создавать каталоги.&lt;/li>
&lt;li>В каждом каталоге может быть не более 31 образа.&lt;/li>
&lt;/ul>
&lt;h3 id="дополнительные-трюки">&lt;span class="section-num">2.2&lt;/span> Дополнительные трюки&lt;/h3>
&lt;ul>
&lt;li>Если удерживать кнопку резервного копирования (&lt;em>BackUp&lt;/em>) при подключении, то автоматически включится защита от записи.&lt;/li>
&lt;li>Если удерживать левую кнопку при подключении, то автоматом защита будет снята&lt;/li>
&lt;li>Если при работе колёсико повернуть вниз и удерживать, то будет произведена подготовка к безопасному отключению устройства. Тот-же эффект будет от нажатия и удерживания кнопки резервного копирования (&lt;em>BackUp&lt;/em>).&lt;/li>
&lt;li>Если при работе колёсико повернуть вверх и удерживать, то будет произведено сканирование директории &lt;code>_iso&lt;/code>.&lt;/li>
&lt;li>Если кнопка резервного копирования (&lt;em>BackUp&lt;/em>) нажата в &lt;em>Меню&lt;/em>, она перемещает на 1 уровень вверх.&lt;/li>
&lt;li>Также кнопка резервного копирования может использоваться для резервного копирования данных (если установлена и запущена программа резервного копирования).&lt;/li>
&lt;li>Запоминается последний смонтированный образ только при условии безопасного отключения устройства.&lt;/li>
&lt;/ul>
&lt;h2 id="замена-прошивки">&lt;span class="section-num">3&lt;/span> Замена прошивки&lt;/h2>
&lt;h3 id="общая-информация">&lt;span class="section-num">3.1&lt;/span> Общая информация&lt;/h3>
&lt;ul>
&lt;li>Прошивки подразделяются на сделанные для NTFS и для FAT32/exFAT.&lt;/li>
&lt;li>Нужно выбрать используемую файловую систему заранее.&lt;/li>
&lt;li>Перепрошивка устройства не удаляет содержимое жесткого диска.&lt;/li>
&lt;/ul>
&lt;h3 id="установка-прошивки-от-iodd-2531">&lt;span class="section-num">3.2&lt;/span> Установка прошивки от iODD-2531&lt;/h3>
&lt;h4 id="прагматика">&lt;span class="section-num">3.2.1&lt;/span> Прагматика&lt;/h4>
&lt;ul>
&lt;li>Прошивки iODD-2531 более свежие.&lt;/li>
&lt;li>Из-за разницы в идентификаторах устройств программа для обновления прошивки Zalman ZM-VE300 не воспринимает файлы от прошивки iODD-2531, а программа для обновления прошивки iODD-2531 не видит подключенное устройство Zalman ZM-VE300.&lt;/li>
&lt;/ul>
&lt;h4 id="версии-прошивки">&lt;span class="section-num">3.2.2&lt;/span> Версии прошивки&lt;/h4>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Номер&lt;/th>
&lt;th>Дата&lt;/th>
&lt;th>Улучшения&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1555N/F&lt;/td>
&lt;td>2016-03-28&lt;/td>
&lt;td>Совместимость: VHD, RMD, Rufus.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1558N/F&lt;/td>
&lt;td>2016-04-23&lt;/td>
&lt;td>Добавлена опция &amp;lsquo;Menu-&amp;gt;Advanced-&amp;gt;Instant Save&amp;rsquo;. Если флажок установлен, то при выборе файла ISO информация о загрузке будет сохранена мгновенно.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1600N/F&lt;/td>
&lt;td>2016-07-14&lt;/td>
&lt;td>Улучшение видимости ЖК-дисплея&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="файлы-прошивки">&lt;span class="section-num">3.2.3&lt;/span> Файлы прошивки&lt;/h4>
&lt;ul>
&lt;li>Оригинальные файлы iODD-2531: &lt;a href="http://iodd.kr/wordpress/product/iodd-2531/" target="_blank" rel="noopener">http://iodd.kr/wordpress/product/iodd-2531/&lt;/a>.&lt;/li>
&lt;li>Необходим исправленный прошивальщик (см. &lt;a href="https://www.manhunter.ru/software/1207_kak_ustanovit_proshivku_ot_iodd_2531_na_zalman_ve_300.html" target="_blank" rel="noopener">https://www.manhunter.ru/software/1207_kak_ustanovit_proshivku_ot_iodd_2531_na_zalman_ve_300.html&lt;/a>).&lt;/li>
&lt;li>Можно использовать прошивальщик от предыдущих версий для прошивки новых.&lt;/li>
&lt;li>Комплекты прошивки R1558 (исправленный прошивальщик):
&lt;ul>
&lt;li>FAT: &lt;a href="http://list.ivsor.net/iodd/iODD_2531_user_fw_writer_04%28R1558F%29_x86.rar" target="_blank" rel="noopener">http://list.ivsor.net/iodd/iODD_2531_user_fw_writer_04(R1558F)_x86.rar&lt;/a>.&lt;/li>
&lt;li>NTFS: &lt;a href="http://list.ivsor.net/iodd/iODD_2531_user_fw_writer_04%28R1558N%29_x86.rar" target="_blank" rel="noopener">http://list.ivsor.net/iodd/iODD_2531_user_fw_writer_04(R1558N)_x86.rar&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Комплекты прошивки R1600 (исправленный прошивальщик):
&lt;ul>
&lt;li>NTFS: &lt;a href="https://www.manhunter.ru/download/27308/iODD.2531.to.ZM.VE300.Firmware.Upgrade.R1600N.zip" target="_blank" rel="noopener">https://www.manhunter.ru/download/27308/iODD.2531.to.ZM.VE300.Firmware.Upgrade.R1600N.zip&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Критерии выбора ноутбука</title><link>https://yamadharma.github.io/ru/post/2022/04/30/criteria-choosing-laptop/</link><pubDate>Sat, 30 Apr 2022 20:06:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2022/04/30/criteria-choosing-laptop/</guid><description>&lt;p>Как выбрать ноутбук.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#размеры">&lt;span class="section-num">1&lt;/span> Размеры&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#портативные">&lt;span class="section-num">1.1&lt;/span> Портативные&lt;/a>&lt;/li>
&lt;li>&lt;a href="#переносные">&lt;span class="section-num">1.2&lt;/span> Переносные&lt;/a>&lt;/li>
&lt;li>&lt;a href="#стационарные">&lt;span class="section-num">1.3&lt;/span> Стационарные&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#область-применения">&lt;span class="section-num">2&lt;/span> Область применения&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#универсальные">&lt;span class="section-num">2.1&lt;/span> Универсальные&lt;/a>&lt;/li>
&lt;li>&lt;a href="#для-развлечения--мультимедийные">&lt;span class="section-num">2.2&lt;/span> Для развлечения (мультимедийные)&lt;/a>&lt;/li>
&lt;li>&lt;a href="#игровые">&lt;span class="section-num">2.3&lt;/span> Игровые&lt;/a>&lt;/li>
&lt;li>&lt;a href="#рабочие-станции">&lt;span class="section-num">2.4&lt;/span> Рабочие станции&lt;/a>&lt;/li>
&lt;li>&lt;a href="#пафосные">&lt;span class="section-num">2.5&lt;/span> Пафосные&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#комплектация">&lt;span class="section-num">3&lt;/span> Комплектация&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#диск">&lt;span class="section-num">3.1&lt;/span> Диск&lt;/a>&lt;/li>
&lt;li>&lt;a href="#оперативная-память">&lt;span class="section-num">3.2&lt;/span> Оперативная память&lt;/a>&lt;/li>
&lt;li>&lt;a href="#экран">&lt;span class="section-num">3.3&lt;/span> Экран&lt;/a>&lt;/li>
&lt;li>&lt;a href="#тип-матрицы">&lt;span class="section-num">3.4&lt;/span> Тип матрицы&lt;/a>&lt;/li>
&lt;li>&lt;a href="#видеокарта">&lt;span class="section-num">3.5&lt;/span> Видеокарта&lt;/a>&lt;/li>
&lt;li>&lt;a href="#интерфейсы">&lt;span class="section-num">3.6&lt;/span> Интерфейсы&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#цена">&lt;span class="section-num">4&lt;/span> Цена&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="размеры">&lt;span class="section-num">1&lt;/span> Размеры&lt;/h2>
&lt;h3 id="портативные">&lt;span class="section-num">1.1&lt;/span> Портативные&lt;/h3>
&lt;ul>
&lt;li>Вес 1&amp;ndash;1,5 кг.&lt;/li>
&lt;li>Размер экрана: 13,3&amp;quot;&amp;ndash;14&amp;quot;.&lt;/li>
&lt;li>Можно возить с собой.&lt;/li>
&lt;/ul>
&lt;h3 id="переносные">&lt;span class="section-num">1.2&lt;/span> Переносные&lt;/h3>
&lt;ul>
&lt;li>Вес до 2,5 кг.&lt;/li>
&lt;li>Размер экрана: 15&amp;quot;&amp;ndash;17&amp;quot;.&lt;/li>
&lt;li>Можно переносить в пределах помещения.&lt;/li>
&lt;/ul>
&lt;h3 id="стационарные">&lt;span class="section-num">1.3&lt;/span> Стационарные&lt;/h3>
&lt;ul>
&lt;li>Вес 3 кг и выше.&lt;/li>
&lt;li>Размер экрана: 17&amp;quot; и выше.&lt;/li>
&lt;li>Стоит на столе.&lt;/li>
&lt;li>Обычно игровые или рабочие станции.&lt;/li>
&lt;/ul>
&lt;h2 id="область-применения">&lt;span class="section-num">2&lt;/span> Область применения&lt;/h2>
&lt;h3 id="универсальные">&lt;span class="section-num">2.1&lt;/span> Универсальные&lt;/h3>
&lt;h3 id="для-развлечения--мультимедийные">&lt;span class="section-num">2.2&lt;/span> Для развлечения (мультимедийные)&lt;/h3>
&lt;h3 id="игровые">&lt;span class="section-num">2.3&lt;/span> Игровые&lt;/h3>
&lt;h3 id="рабочие-станции">&lt;span class="section-num">2.4&lt;/span> Рабочие станции&lt;/h3>
&lt;h3 id="пафосные">&lt;span class="section-num">2.5&lt;/span> Пафосные&lt;/h3>
&lt;ul>
&lt;li>Чаще всего фирмы Apple.&lt;/li>
&lt;/ul>
&lt;h2 id="комплектация">&lt;span class="section-num">3&lt;/span> Комплектация&lt;/h2>
&lt;h3 id="диск">&lt;span class="section-num">3.1&lt;/span> Диск&lt;/h3>
&lt;ul>
&lt;li>Только SSD.
&lt;ul>
&lt;li>Ёмкость &amp;mdash; не менее 512 GB.&lt;/li>
&lt;li>На данный момент оптимальный размер &amp;mdash; 1 TB.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>HDD может использоваться для архивного хранения, но не для работы.&lt;/li>
&lt;/ul>
&lt;h3 id="оперативная-память">&lt;span class="section-num">3.2&lt;/span> Оперативная память&lt;/h3>
&lt;ul>
&lt;li>Минимальный объём &amp;mdash; 8 GB.&lt;/li>
&lt;li>Оптимальный объём &amp;mdash; 16 GB.&lt;/li>
&lt;li>Рекомендуемый объём &amp;mdash; 32 GB.&lt;/li>
&lt;/ul>
&lt;h3 id="экран">&lt;span class="section-num">3.3&lt;/span> Экран&lt;/h3>
&lt;ul>
&lt;li>Разрешение &amp;mdash; достаточно 1920x1080 (&lt;em>Full HD&lt;/em>).&lt;/li>
&lt;li>Более высокое разрешение не является необходимым.
&lt;ul>
&lt;li>Проблематично использовать. Плохая поддержка в операционных системах.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="тип-матрицы">&lt;span class="section-num">3.4&lt;/span> Тип матрицы&lt;/h3>
&lt;ul>
&lt;li>Лучше не брать &lt;em>TN+Film&lt;/em>.&lt;/li>
&lt;/ul>
&lt;h3 id="видеокарта">&lt;span class="section-num">3.5&lt;/span> Видеокарта&lt;/h3>
&lt;ul>
&lt;li>С интегрированной видеокартой (Intel, AMD) меньше проблем.&lt;/li>
&lt;li>Дискретные видеокарты подходят для специального применения (инженерные расчёты, графика, игры).&lt;/li>
&lt;li>Видеокарты &lt;em>Nvidia&lt;/em> плохо поддерживаются в Linux (не в Windows).&lt;/li>
&lt;/ul>
&lt;h3 id="интерфейсы">&lt;span class="section-num">3.6&lt;/span> Интерфейсы&lt;/h3>
&lt;ul>
&lt;li>USB
&lt;ul>
&lt;li>USB-A &amp;mdash; чем больше, тем лучше.&lt;/li>
&lt;li>USB-C &amp;mdash; пока мало такой переферии.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Ethernet &amp;mdash; чаще всего присутствует стационарных моделях.&lt;/li>
&lt;li>WiFi &amp;mdash; необходим.&lt;/li>
&lt;li>Bluetooth &amp;mdash; полезен.&lt;/li>
&lt;li>HDMI &amp;mdash; если собираетесь выводить видео на экран или проектор.&lt;/li>
&lt;li>При недостатке интерфейсов есть смысл купить расширитель (док-станцию).&lt;/li>
&lt;/ul>
&lt;h2 id="цена">&lt;span class="section-num">4&lt;/span> Цена&lt;/h2>
&lt;ul>
&lt;li>Нижняя граница цены на приемлемый ноутбук &amp;mdash; $1800.&lt;/li>
&lt;/ul></description></item><item><title>Процессор Apple M1</title><link>https://yamadharma.github.io/ru/post/2021/02/08/chip-apple-m1/</link><pubDate>Mon, 08 Feb 2021 19:53:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2021/02/08/chip-apple-m1/</guid><description>&lt;p>При своём появлении процессор &lt;em>Apple M1&lt;/em> вызвал фурор.&lt;/p>
&lt;details class="print:hidden xl:hidden" >
&lt;summary>Содержание&lt;/summary>
&lt;div class="text-sm">
&lt;nav id="TableOfContents">
&lt;ul>
&lt;li>&lt;a href="#информация-по-apple-m1">&lt;span class="section-num">1&lt;/span> Информация по Apple M1:&lt;/a>&lt;/li>
&lt;li>&lt;a href="#особенности-процессора-apple-m1">&lt;span class="section-num">2&lt;/span> Особенности процессора Apple M1&lt;/a>&lt;/li>
&lt;li>&lt;a href="#особенности-тестов-по-компьютерам-apple-m1">&lt;span class="section-num">3&lt;/span> Особенности тестов по компьютерам Apple M1&lt;/a>&lt;/li>
&lt;li>&lt;a href="#процессоры-arm-и-другие-операционные-системы">&lt;span class="section-num">4&lt;/span> Процессоры ARM и другие операционные системы&lt;/a>&lt;/li>
&lt;/ul>
&lt;/nav>
&lt;/div>
&lt;/details>
&lt;h2 id="информация-по-apple-m1">&lt;span class="section-num">1&lt;/span> Информация по Apple M1:&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://ru.wikipedia.org/wiki/Apple_M1" target="_blank" rel="noopener">https://ru.wikipedia.org/wiki/Apple_M1&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.apple.com/ru/mac/m1/" target="_blank" rel="noopener">https://www.apple.com/ru/mac/m1/&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="особенности-процессора-apple-m1">&lt;span class="section-num">2&lt;/span> Особенности процессора Apple M1&lt;/h2>
&lt;ul>
&lt;li>Процессор Apple M1 является не универсальным процессором, а SoC (системой на чипе). Он содержит:
&lt;ul>
&lt;li>Ядра архитектуры ARM.&lt;/li>
&lt;li>Графический контроллер.&lt;/li>
&lt;li>Контроллер обработки сигналов (DSP).&lt;/li>
&lt;li>Контроллер обработки изображения (ISP).&lt;/li>
&lt;li>Матричный контроллер для работы с нейронными сетями (NPU).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="особенности-тестов-по-компьютерам-apple-m1">&lt;span class="section-num">3&lt;/span> Особенности тестов по компьютерам Apple M1&lt;/h2>
&lt;ul>
&lt;li>Компьютеры на процессоре Apple M1 обходят подобные компьютеры на Intel при кодировании видео. Тут не соревнование процессоров, а соревнование специализированного контроллера обработки изображений и универсального процессора.&lt;/li>
&lt;/ul>
&lt;h2 id="процессоры-arm-и-другие-операционные-системы">&lt;span class="section-num">4&lt;/span> Процессоры ARM и другие операционные системы&lt;/h2>
&lt;ul>
&lt;li>Вряд ли другие операционные системы смогут пойти по пути Apple.
&lt;ul>
&lt;li>Прямой перенос на Apple M1 не даст никакого преимущества. Вряд ли Apple будет делиться спецификацией контроллеров ли делать драйвера. А обратный инжиниринг &amp;mdash; не самая лучшая стратегия.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item></channel></rss>