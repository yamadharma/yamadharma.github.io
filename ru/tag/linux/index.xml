<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Linux | Д. С. Кулябов</title><link>https://yamadharma.github.io/ru/tag/linux/</link><atom:link href="https://yamadharma.github.io/ru/tag/linux/index.xml" rel="self" type="application/rss+xml"/><description>Linux</description><generator>Hugo Blox Builder (https://hugoblox.com)</generator><language>ru-ru</language><copyright>© 2025 Dmitry S. Kulyabov</copyright><lastBuildDate>Thu, 21 Aug 2025 11:50:00 +0300</lastBuildDate><image><url>https://yamadharma.github.io/media/icon_hu_3756dbc1adf0ae14.png</url><title>Linux</title><link>https://yamadharma.github.io/ru/tag/linux/</link></image><item><title>Лабораторная работа Установка ОС Linux</title><link>https://yamadharma.github.io/ru/teaching/os-intro/lab/lab-linux-install/</link><pubDate>Mon, 04 Apr 2022 13:40:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/teaching/os-intro/lab/lab-linux-install/</guid><description>&lt;p&gt;Лабораторная работа &lt;em&gt;Установка ОС Linux&lt;/em&gt;.&lt;/p&gt;
&lt;h2 id="цель-работы"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Цель работы&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Целью данной работы является приобретение практических навыков установки операционной системы на виртуальную машину, настройки минимально необходимых для дальнейшей работы сервисов.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="указания-к-работе"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Указания к работе&lt;/h2&gt;
&lt;h3 id="техническое-обеспечение"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Техническое обеспечение&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Лабораторная работа подразумевает установку на виртуальную машину VirtualBox (
) операционной системы Linux (дистрибутив Fedora).&lt;/li&gt;
&lt;li&gt;Выполнение работы возможно как в дисплейном классе факультета физико-математических и естественных наук РУДН, так и дома. Описание выполнения работы приведено для дисплейного класса со следующими характеристиками техники:
&lt;ul&gt;
&lt;li&gt;Intel Core i3-550 3.2 GHz, 4 GB оперативной памяти, 80 GB свободного места на жёстком диске;&lt;/li&gt;
&lt;li&gt;ОС Linux Gentoo (
);&lt;/li&gt;
&lt;li&gt;VirtualBox версии 7.0 или новее.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Для установки в виртуальную машину используется дистрибутив Linux Fedora (
), вариант с менеджером окон &lt;em&gt;sway&lt;/em&gt; (
).&lt;/li&gt;
&lt;li&gt;При выполнении лабораторной работы на своей технике вам необходимо скачать необходимый образ операционной системы (
).&lt;/li&gt;
&lt;li&gt;В дисплейных классах можно воспользоваться образом в каталоге &lt;code&gt;/afs/dk.sci.pfu.edu.ru/common/files/iso&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Для определённости в описании будем использовать версию &lt;code&gt;Fedora-Sway-Live-x86_64-41-1.4.iso&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="соглашения-об-именовании"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Соглашения об именовании&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;При выполнении работ следует придерживаться следующих правил именования:
&lt;ul&gt;
&lt;li&gt;Пользователь внутри виртуальной машины должен иметь имя, совпадающее с учётной записью студента, выполняющего лабораторную работу.&lt;/li&gt;
&lt;li&gt;Имя хоста вашей виртуальной машины должно совпадать с учётной записью студента, выполняющего лабораторную работу.&lt;/li&gt;
&lt;li&gt;Имя виртуальной машины должно совпадать с учётной записью студента, выполняющего лабораторную работу.&lt;/li&gt;
&lt;li&gt;В дисплейных классах вы можете посмотреть имя вашей учётной записи, набрав в терминале команду:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;id -un
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;При установке на своей технике необходимо использовать имя вашей учётной записи дисплейных классов. Например, если студента зовут Остап Сулейманович Бендер, то его учётная запись имеет вид &lt;code&gt;osbender&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="последовательность-выполнения-работы"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Последовательность выполнения работы&lt;/h2&gt;
&lt;h3 id="варианты-создания-образа-виртуальной-машины"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Варианты создания образа виртуальной машины&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Предлагается несколько вариантов установки ОС Linux на основе следующих программных эмуляторов:
&lt;ul&gt;
&lt;li&gt;qemu;&lt;/li&gt;
&lt;li&gt;virtualbox.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="установка-linux-на-qemu"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Установка Linux на qemu&lt;/h3&gt;
&lt;h4 id="общая-информация"&gt;&lt;span class="section-num"&gt;3.2.1&lt;/span&gt; Общая информация&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Данный вариант установки возможен, если у Вас установлено программное обеспечение Qemu (
).&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="выполнение-в-дисплейном-классе"&gt;&lt;span class="section-num"&gt;3.2.2&lt;/span&gt; Выполнение в дисплейном классе&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Загрузите в дисплейном классе операционную систему Linux. Осуществите вход в систему.&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Настройка каталога для виртуальных машин&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Запустите терминал. Перейдите в каталог &lt;code&gt;/var/tmp&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /var/tmp
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Создайте каталог с именем пользователя (совпадающий с логином студента в дисплейном классе). Для этого можно использовать команду:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir /var/tmp/&lt;span class="sb"&gt;`&lt;/span&gt;id -un&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Дальнейшую работу проводите в этом каталоге.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="создание-образа"&gt;&lt;span class="section-num"&gt;3.2.3&lt;/span&gt; Создание образа&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Создадим образ виртуального диска: &lt;code&gt;60GB&lt;/code&gt;, формат &lt;code&gt;qcow2&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qemu-img create -f qcow2 fedora-sway.qcow2 60G
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Запустите виртуальную машину:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qemu-system-x86_64 -boot &lt;span class="nv"&gt;menu&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;on -m &lt;span class="m"&gt;2048&lt;/span&gt; -cpu max -smp &lt;span class="m"&gt;4&lt;/span&gt; &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -cdrom Fedora-Sway-Live-x86_64-41-1.4.iso &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -drive &lt;span class="nv"&gt;file&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;fedora-sway.qcow2,format&lt;span class="o"&gt;=&lt;/span&gt;qcow2,if&lt;span class="o"&gt;=&lt;/span&gt;virtio,aio&lt;span class="o"&gt;=&lt;/span&gt;native,cache&lt;span class="o"&gt;=&lt;/span&gt;none &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -bios /usr/share/edk2-ovmf/OVMF_CODE.fd &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -enable-kvm -machine q35 -device intel-iommu &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -device virtio-balloon &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -chardev qemu-vdagent,id&lt;span class="o"&gt;=&lt;/span&gt;vdagent0,name&lt;span class="o"&gt;=&lt;/span&gt;vdagent,clipboard&lt;span class="o"&gt;=&lt;/span&gt;on,mouse&lt;span class="o"&gt;=&lt;/span&gt;off &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -display default,show-cursor&lt;span class="o"&gt;=&lt;/span&gt;on &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -vga none -device virtio-gpu-pci
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Видео-устройств подключено на видеокарту компьютера.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Выберите &lt;code&gt;Start Fedora-Sway-Live 41&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Загрузится графический режим.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Если вы запускаете из-под Sway, включите &lt;code&gt;Passthrough mode&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Также можно использовать режим захвата, переключая его по комбинации &lt;code&gt;Ctrl+Alt+g&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установите систему.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="после-установки-виртуальной-машины"&gt;&lt;span class="section-num"&gt;3.2.4&lt;/span&gt; После установки виртуальной машины&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Для удобства создайте командный файл &lt;code&gt;fedora-sway-start.sh&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;touch fedora-sway-start.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chmod +x fedora-sway-start.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;В файл запишите команду для запуска:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qemu-system-x86_64 -boot &lt;span class="nv"&gt;menu&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;on &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -m &lt;span class="m"&gt;2048&lt;/span&gt; -mem-path /dev/hugepages &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -cpu max -smp &lt;span class="m"&gt;4&lt;/span&gt; &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -drive &lt;span class="nv"&gt;file&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;fedora-sway.qcow2,format&lt;span class="o"&gt;=&lt;/span&gt;qcow2,if&lt;span class="o"&gt;=&lt;/span&gt;virtio,aio&lt;span class="o"&gt;=&lt;/span&gt;native,cache&lt;span class="o"&gt;=&lt;/span&gt;none &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -bios /usr/share/edk2-ovmf/OVMF_CODE.fd &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -enable-kvm -machine q35 -device intel-iommu &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -device virtio-balloon &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -device virtio-serial &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -chardev spicevmc,id&lt;span class="o"&gt;=&lt;/span&gt;vdagent,debug&lt;span class="o"&gt;=&lt;/span&gt;0,name&lt;span class="o"&gt;=&lt;/span&gt;vdagent &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -device virtserialport,chardev&lt;span class="o"&gt;=&lt;/span&gt;vdagent,name&lt;span class="o"&gt;=&lt;/span&gt;com.redhat.spice.0 &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -chardev qemu-vdagent,id&lt;span class="o"&gt;=&lt;/span&gt;vdagent0,name&lt;span class="o"&gt;=&lt;/span&gt;vdagent,clipboard&lt;span class="o"&gt;=&lt;/span&gt;on,mouse&lt;span class="o"&gt;=&lt;/span&gt;on &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -display default,show-cursor&lt;span class="o"&gt;=&lt;/span&gt;on &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -vga none -device virtio-gpu-pci
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 1:&lt;/span&gt;
fedora-sway-start.sh
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="видео-установка-linux-на-qemu"&gt;&lt;span class="section-num"&gt;3.2.5&lt;/span&gt; Видео: Установка Linux на qemu&lt;/h4&gt;
&lt;link rel="stylesheet" href="https://yamadharma.github.io/css/flick/jquery-ui.min.2145606a4147a5c2562a0afa9e996323dcbd14469acf347b81292370e967b906.css" integrity="sha256-IUVgakFHpcJWKgr6npljI9y9FEaazzR7gSkjcOlnuQY="&gt;
&lt;script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"&gt;
&lt;/script&gt;
&lt;script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jqueryui/1.14.1/jquery-ui.min.js"&gt;
&lt;/script&gt;
&lt;script&gt;
$(function() {
$( "#tabs, #tabs1, #tabs2, #tabs3, #tabs4, #tabs5, #tabs6, #tabs7, #tabs8" ).tabs();
});
&lt;/script&gt;
&lt;div id = "tabs"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href = "#tab-1"&gt;
RuTube
&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href = "#tab-2"&gt;
Платформа
&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href = "#tab-3"&gt;
VKvideo
&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href = "#tab-4"&gt;
Youtube
&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div id ="tab-0"&gt;
&lt;/div&gt;
&lt;div id ="tab-1"&gt;
&lt;div class="embed video-player"&gt;
&lt;iframe class="rutube-player" type="text/html"
width="647" height="364"
src="https://rutube.ru/play/embed/50903a2181f564a0a207ace60067ad3d"
webkitAllowFullScreen mozallowfullscreen allowFullScreen
allow="clipboard-write" frameborder="0"&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id ="tab-2"&gt;
&lt;div class="embed video-player"&gt;
&lt;iframe class="plvideo-player" type="text/html"
width="647" height="364"
src="https://plvideo.ru/embed/W5741K4QRBi1"
allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id ="tab-3"&gt;
&lt;div class="embed video-player"&gt;
&lt;iframe class="vkvideo-player" type="text/html"
src="https://vkvideo.ru/video_ext.php?oid=606414976&amp;id=456239663&amp;hd=2"
width="647" height="364" allow="autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;" frameborder="0" allowfullscreen&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id ="tab-4"&gt;
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"&gt;
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/zdGOCVWmnWo?autoplay=0&amp;amp;controls=1&amp;amp;end=0&amp;amp;loop=0&amp;amp;mute=0&amp;amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
Установка Linux на qemu
&lt;h3 id="установка-linux-на-virtualbox"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Установка Linux на Virtualbox&lt;/h3&gt;
&lt;h4 id="выполнение-в-дисплейном-классе"&gt;&lt;span class="section-num"&gt;3.3.1&lt;/span&gt; Выполнение в дисплейном классе&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Загрузите в дисплейном классе операционную систему Linux. Осуществите вход в систему.&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Настройка каталога для виртуальных машин&lt;/p&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Создание необходимых каталогов&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Запустите терминал. Перейдите в каталог &lt;code&gt;/var/tmp&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /var/tmp
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Создайте каталог с именем пользователя (совпадающий с логином студента в дисплейном классе). Для этого можно использовать команду:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir /var/tmp/&lt;span class="sb"&gt;`&lt;/span&gt;id -un&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Проверьте в свойствах VirtualBox &lt;strong&gt;месторасположение каталога для виртуальных машин&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/var/tmp/имя_пользователя
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Здесь &lt;code&gt;имя_пользователя&lt;/code&gt; &amp;mdash; логин (учётная запись) студента в дисплейном классе. Если указан другой каталог, то требуется изменить его.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;Папка виртуальных машин&lt;/p&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Значения по умолчанию&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Linux: &lt;code&gt;$HOME/VirtualBox VMs&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;Графический интерфейс&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В меню выберите &lt;em&gt;Файл&lt;/em&gt;, &lt;em&gt;Настройки&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Выберите &lt;em&gt;Общие&lt;/em&gt;, поле &lt;em&gt;Папка для машин по умолчанию&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Установите новое значение, например &lt;code&gt;/var/tmp/имя_пользователя&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Нажмите ОК, чтобы сохранить изменения.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="3"&gt;
&lt;li&gt;
&lt;p&gt;Командная строка&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Зададим отображение информации о настройках VirtualBox на английском.&lt;/li&gt;
&lt;li&gt;Поэтому следует задать кодировку для отображения свойств VirtualBox:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vboxmanage setproperty language C
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установим папку для виртуальных машине в &lt;code&gt;/var/tmp/имя_пользователя&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vboxmanage setproperty machinefolder /var/tmp/&lt;span class="k"&gt;$(&lt;/span&gt;id -un&lt;span class="k"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Поверьте, что папка виртуальных машин по умолчанию изменена:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vboxmanage list systemproperties &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="s2"&gt;&amp;#34;Default machine folder:&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Следующая команда выдаст только каталог:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vboxmanage list systemproperties &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="s2"&gt;&amp;#34;Default machine folder:&amp;#34;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; cut -d&lt;span class="s2"&gt;&amp;#34;:&amp;#34;&lt;/span&gt; -f2 &lt;span class="p"&gt;|&lt;/span&gt; tr -d &lt;span class="s1"&gt;&amp;#39; &amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="4"&gt;
&lt;li&gt;
&lt;p&gt;Установочный образ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Перенесите установочный образ в папку &lt;code&gt;/var/tmp/имя_пользователя/iso&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir -p &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;vboxmanage list systemproperties &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="s1"&gt;&amp;#39;Default machine folder:&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; cut -d&lt;span class="s1"&gt;&amp;#39;:&amp;#39;&lt;/span&gt; -f2 &lt;span class="p"&gt;|&lt;/span&gt; tr -d &lt;span class="s1"&gt;&amp;#39; &amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;/iso&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mv Fedora-Sway-Live-x86_64-39-1.5.iso &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;vboxmanage list systemproperties &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="s1"&gt;&amp;#39;Default machine folder:&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; cut -d&lt;span class="s1"&gt;&amp;#39;:&amp;#39;&lt;/span&gt; -f2 &lt;span class="p"&gt;|&lt;/span&gt; tr -d &lt;span class="s1"&gt;&amp;#39; &amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;/iso&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;Настройка хост-клавиши&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Хост-клавишей по умолчанию является правый &lt;code&gt;Ctrl&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;По умолчанию в дисплейных классах на клавише правый &lt;code&gt;Ctrl&lt;/code&gt; находится переключатель языка ввода.&lt;/li&gt;
&lt;li&gt;Эти значения могут конфликтовать.&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Графический интерфейс&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В меню выберите &lt;em&gt;Файл&lt;/em&gt;, &lt;em&gt;Настройки&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Выберите &lt;em&gt;Ввод&lt;/em&gt;, вкладка &lt;em&gt;Виртуальная машина&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Выберите &lt;em&gt;Сочетание клавиш&lt;/em&gt; в строке &lt;em&gt;Хост-комбинация&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Нажмите новое сочетание клавиш.&lt;/li&gt;
&lt;li&gt;Нажмите ОК, чтобы сохранить изменения.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;Командная строка&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Проверьте текущую комбинацию для хост-клавиши:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;VBoxManage getextradata global GUI/Input/HostKeyCombination
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;По умолчанию установлена комбинация &lt;code&gt;65508&lt;/code&gt;, соответствующая правой клавише &lt;code&gt;Ctrl&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установите нужную клавишу (в примере клавиша &lt;em&gt;Menu&lt;/em&gt;):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;VBoxManage setextradata global GUI/Input/HostKeyCombination &lt;span class="m"&gt;65383&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Комбинации клавиш можно, например, посмотреть на странице
.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="создание-виртуальной-машины"&gt;&lt;span class="section-num"&gt;3.3.2&lt;/span&gt; Создание виртуальной машины&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Для использования графического интерфейса запустите менеджер виртуальных машин, введя в командной строке:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;VirtualBox &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Создайте новую виртуальную машину в графическом интерфейсе или в командной строке.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В командной строке:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vboxmanage createvm --name &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;id -un&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;_os-intro&amp;#34;&lt;/span&gt; --ostype Fedora_64 --register
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Укажите имя виртуальной машины (ваш логин в дисплейном классе), тип операционной системы &amp;mdash; Linux, Fedora.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Укажите размер основной памяти виртуальной машины &amp;mdash; от 2048 МБ.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В командной строке:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vboxmanage modifyvm &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;id -un&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;_os-intro&amp;#34;&lt;/span&gt; --memory &lt;span class="m"&gt;2048&lt;/span&gt; --acpi on --nic1 nat
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Задайте конфигурацию жёсткого диска &amp;mdash; загрузочный, VDI (VirtualBox Disk Image), динамический виртуальный диск.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Задайте размер диска &amp;mdash; 80 ГБ (или больше), его расположение &amp;mdash; в данном случае &lt;code&gt;/var/tmp/имя_пользователя/имя_машины/имя_машины.vdi&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В командной строке:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vboxmanage createhd --filename &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;vboxmanage list systemproperties &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="s1"&gt;&amp;#39;Default machine folder:&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; cut -d&lt;span class="s1"&gt;&amp;#39;:&amp;#39;&lt;/span&gt; -f2 &lt;span class="p"&gt;|&lt;/span&gt; tr -d &lt;span class="s1"&gt;&amp;#39; &amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;/&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;id -un&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;_os-intro/&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;id -un&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;_os-intro.vdi&amp;#34;&lt;/span&gt; --size &lt;span class="m"&gt;80000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Выберите в VirtualBox Вашей виртуальной машины. Добавьте новый привод оптических дисков и выберите образ.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В командной строке:
&lt;ul&gt;
&lt;li&gt;Подключите загрузку с DVD:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vboxmanage modifyvm &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;id -un&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;_os-intro&amp;#34;&lt;/span&gt; --boot1 dvd
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Добавьте IDE-контроллер:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vboxmanage storagectl &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;id -un&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;_os-intro&amp;#34;&lt;/span&gt; --name &lt;span class="s2"&gt;&amp;#34;IDE Controller&amp;#34;&lt;/span&gt; --add ide --controller PIIX4
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установите созданный вами файл VDI в качестве первого виртуального жесткого диска новой виртуальной машины:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vboxmanage storageattach &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;id -un&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;_os-intro&amp;#34;&lt;/span&gt; --storagectl &lt;span class="s2"&gt;&amp;#34;IDE Controller&amp;#34;&lt;/span&gt; --port &lt;span class="m"&gt;0&lt;/span&gt; --device &lt;span class="m"&gt;0&lt;/span&gt; --type hdd --medium &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;vboxmanage list systemproperties &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="s1"&gt;&amp;#39;Default machine folder:&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; cut -d&lt;span class="s1"&gt;&amp;#39;:&amp;#39;&lt;/span&gt; -f2 &lt;span class="p"&gt;|&lt;/span&gt; tr -d &lt;span class="s1"&gt;&amp;#39; &amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;/&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;id -un&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;_os-intro/&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;id -un&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;_os-intro.vdi&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Подключите к виртуальной машине ISO-файл:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vboxmanage storageattach &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;id -un&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;_os-intro&amp;#34;&lt;/span&gt; --storagectl &lt;span class="s2"&gt;&amp;#34;IDE Controller&amp;#34;&lt;/span&gt; --port &lt;span class="m"&gt;0&lt;/span&gt; --device &lt;span class="m"&gt;1&lt;/span&gt; --type dvddrive --medium &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;vboxmanage list systemproperties &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="s1"&gt;&amp;#39;Default machine folder:&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; cut -d&lt;span class="s1"&gt;&amp;#39;:&amp;#39;&lt;/span&gt; -f2 &lt;span class="p"&gt;|&lt;/span&gt; tr -d &lt;span class="s1"&gt;&amp;#39; &amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;/iso/Fedora-Sway-Live-x86_64-39-1.5.iso&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;При установке на собственной технике используйте скачанный образ операционной системы Fedora.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;В качестве графического контроллера поставьте VMSVGA.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В командной строке:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vboxmanage modifyvm &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;id -un&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;_os-intro&amp;#34;&lt;/span&gt; --graphicscontroller&lt;span class="o"&gt;=&lt;/span&gt;vmsvga
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Включите ускорение 3D.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В командной строке:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vboxmanage modifyvm &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;id -un&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;_os-intro&amp;#34;&lt;/span&gt; --accelerate-3d&lt;span class="o"&gt;=&lt;/span&gt;on
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Если есть проблемы при отображении, загрузитесь в режиме базовой графики.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Включите общий буфер обмена и перетаскивание объектов между хостом и гостевой ОС.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В командной строке:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vboxmanage modifyvm &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;id -un&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;_os-intro&amp;#34;&lt;/span&gt; --clipboard-mode&lt;span class="o"&gt;=&lt;/span&gt;bidirectional --drag-and-drop&lt;span class="o"&gt;=&lt;/span&gt;bidirectional
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Включите поддержку UEFI.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В командной строке:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vboxmanage modifyvm &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;id -un&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;_os-intro&amp;#34;&lt;/span&gt; --firmware&lt;span class="o"&gt;=&lt;/span&gt;efi
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="видео-создание-виртуальной-машины"&gt;&lt;span class="section-num"&gt;3.3.3&lt;/span&gt; Видео: Создание виртуальной машины&lt;/h4&gt;
&lt;link rel="stylesheet" href="https://yamadharma.github.io/css/flick/jquery-ui.min.2145606a4147a5c2562a0afa9e996323dcbd14469acf347b81292370e967b906.css" integrity="sha256-IUVgakFHpcJWKgr6npljI9y9FEaazzR7gSkjcOlnuQY="&gt;
&lt;script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"&gt;
&lt;/script&gt;
&lt;script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jqueryui/1.14.1/jquery-ui.min.js"&gt;
&lt;/script&gt;
&lt;script&gt;
$(function() {
$( "#tabs, #tabs1, #tabs2, #tabs3, #tabs4, #tabs5, #tabs6, #tabs7, #tabs8" ).tabs();
});
&lt;/script&gt;
&lt;div id = "tabs"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href = "#tab-1"&gt;
RuTube
&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href = "#tab-2"&gt;
Youtube
&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div id ="tab-0"&gt;
&lt;/div&gt;
&lt;div id ="tab-1"&gt;
&lt;div class="embed video-player"&gt;
&lt;iframe class="rutube-player" type="text/html"
width="647" height="364"
src="https://rutube.ru/play/embed/f4e38867368ced9e13556341023c2c03"
webkitAllowFullScreen mozallowfullscreen allowFullScreen
allow="clipboard-write" frameborder="0"&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id ="tab-2"&gt;
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"&gt;
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/9_Vt7R57Yw4?autoplay=0&amp;amp;controls=1&amp;amp;end=0&amp;amp;loop=0&amp;amp;mute=0&amp;amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
Создание виртуальной машины
&lt;h4 id="после-установки-виртуальной-машины"&gt;&lt;span class="section-num"&gt;3.3.4&lt;/span&gt; После установки виртуальной машины&lt;/h4&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Установка драйверов для VirtualBox&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Войдите в ОС под заданной вами при установке учётной записью.&lt;/li&gt;
&lt;li&gt;Нажмите комбинацию &lt;em&gt;Win+Enter&lt;/em&gt; для запуска терминала.&lt;/li&gt;
&lt;li&gt;Запустите терминальный мультиплексор &lt;em&gt;tmux&lt;/em&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tmux
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Переключитесь на роль супер-пользователя:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo -i
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установите средства разработки:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y group install development-tools
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установите пакет &lt;em&gt;DKMS&lt;/em&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install dkms
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;В меню виртуальной машины подключите образ диска дополнений гостевой ОС.&lt;/li&gt;
&lt;li&gt;Подмонтируйте диск:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount /dev/sr0 /media
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установите драйвера:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/media/VBoxLinuxAdditions.run
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Перегрузите виртуальную машину:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;reboot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;Подключение общей папки&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Внутри виртуальной машины добавьте своего пользователя в группу &lt;code&gt;vboxsf&lt;/code&gt; (вместо &lt;code&gt;username&lt;/code&gt; укажите ваш логин):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;gpasswd -a username vboxsf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;В хостовой системе подключите разделяемую папку:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vboxmanage sharedfolder add &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;id -un&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;_os-intro&amp;#34;&lt;/span&gt; --name&lt;span class="o"&gt;=&lt;/span&gt;work --hostpath&lt;span class="o"&gt;=&lt;/span&gt;work --automount
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Перегрузите виртуальную машину:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;reboot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Папка будет монтироваться в &lt;code&gt;/media/sf_work&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="установка-операционной-системы"&gt;&lt;span class="section-num"&gt;3.4&lt;/span&gt; Установка операционной системы&lt;/h3&gt;
&lt;h4 id="запуск-приложения-для-установки-системы"&gt;&lt;span class="section-num"&gt;3.4.1&lt;/span&gt; Запуск приложения для установки системы&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Загрузите LiveCD.&lt;/li&gt;
&lt;li&gt;Появится интерфейс начальной конфигурации.&lt;/li&gt;
&lt;li&gt;Нажмите &lt;em&gt;Enter&lt;/em&gt; для создания конфигурации по умолчанию.&lt;/li&gt;
&lt;li&gt;Нажмите &lt;em&gt;Enter&lt;/em&gt;, чтобы выбрать в качестве модификатора клавишу &lt;em&gt;Win&lt;/em&gt; (она же клавиша &lt;em&gt;Super&lt;/em&gt;).&lt;/li&gt;
&lt;li&gt;В файле конфигурации эта клавиша будет обозначена как &lt;code&gt;$Mod&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Нажмите комбинацию &lt;em&gt;Win+Enter&lt;/em&gt; для запуска терминала.&lt;/li&gt;
&lt;li&gt;В терминале запустите &lt;code&gt;liveinst&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Для перехода к раскладке окон с табами нажмите &lt;em&gt;Win+w&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="установка-системы-на-диск"&gt;&lt;span class="section-num"&gt;3.4.2&lt;/span&gt; Установка системы на диск&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Выберите язык интерфейса и перейдите к настройкам установки операционной системы.&lt;/li&gt;
&lt;li&gt;При необходимости скорректируйте часовой пояс, раскладку клавиатуры (рекомендуется в качестве языка по умолчанию указать английский язык).&lt;/li&gt;
&lt;li&gt;Место установки ОС оставьте без изменения.&lt;/li&gt;
&lt;li&gt;Установите имя и пароль для пользователя &lt;code&gt;root&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Установите имя и пароль для Вашего пользователя.&lt;/li&gt;
&lt;li&gt;Задайте сетевое имя Вашего компьютера.&lt;/li&gt;
&lt;li&gt;После завершения установки операционной системы корректно перезапустите виртуальную машину.&lt;/li&gt;
&lt;li&gt;В VirtualBox оптический диск должен отключиться автоматически, но если это не произошло, то необходимо отключить носитель информации с образом.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="видео-установка-операционной-системы"&gt;&lt;span class="section-num"&gt;3.4.3&lt;/span&gt; Видео: Установка операционной системы&lt;/h4&gt;
&lt;link rel="stylesheet" href="https://yamadharma.github.io/css/flick/jquery-ui.min.2145606a4147a5c2562a0afa9e996323dcbd14469acf347b81292370e967b906.css" integrity="sha256-IUVgakFHpcJWKgr6npljI9y9FEaazzR7gSkjcOlnuQY="&gt;
&lt;script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"&gt;
&lt;/script&gt;
&lt;script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jqueryui/1.14.1/jquery-ui.min.js"&gt;
&lt;/script&gt;
&lt;script&gt;
$(function() {
$( "#tabs, #tabs1, #tabs2, #tabs3, #tabs4, #tabs5, #tabs6, #tabs7, #tabs8" ).tabs();
});
&lt;/script&gt;
&lt;div id = "tabs"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href = "#tab-1"&gt;
RuTube
&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href = "#tab-2"&gt;
Youtube
&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div id ="tab-0"&gt;
&lt;/div&gt;
&lt;div id ="tab-1"&gt;
&lt;div class="embed video-player"&gt;
&lt;iframe class="rutube-player" type="text/html"
width="647" height="364"
src="https://rutube.ru/play/embed/603fc8f3cf968d3c4151073aa7a4789f"
webkitAllowFullScreen mozallowfullscreen allowFullScreen
allow="clipboard-write" frameborder="0"&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id ="tab-2"&gt;
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"&gt;
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/XYYbl5ABN9Q?autoplay=0&amp;amp;controls=1&amp;amp;end=0&amp;amp;loop=0&amp;amp;mute=0&amp;amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
Установка операционной системы
&lt;h3 id="после-установки"&gt;&lt;span class="section-num"&gt;3.5&lt;/span&gt; После установки&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Войдите в ОС под заданной вами при установке учётной записью.&lt;/li&gt;
&lt;li&gt;Нажмите комбинацию &lt;em&gt;Win+Enter&lt;/em&gt; для запуска терминала.&lt;/li&gt;
&lt;li&gt;Переключитесь на роль супер-пользователя:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo -i
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="исправления"&gt;&lt;span class="section-num"&gt;3.5.1&lt;/span&gt; Исправления&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Запретите устанавливать заблокированный openh264:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf config-manager setopt fedora-cisco-openh264.enabled&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf clean all
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="обновления"&gt;&lt;span class="section-num"&gt;3.5.2&lt;/span&gt; Обновления&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установите средства разработки:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y group install development-tools
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Обновить все пакеты
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="повышение-комфорта-работы"&gt;&lt;span class="section-num"&gt;3.5.3&lt;/span&gt; Повышение комфорта работы&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Программы для удобства работы в консоли:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y install tmux mc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Другой вариант консоли:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y install kitty
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="автоматическое-обновление"&gt;&lt;span class="section-num"&gt;3.5.4&lt;/span&gt; Автоматическое обновление&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;При необходимости можно использовать автоматическое обновление (см.
).&lt;/li&gt;
&lt;li&gt;Установка программного обеспечения:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y install dnf-automatic
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Задаёте необходимую конфигурацию в файле &lt;code&gt;/etc/dnf/automatic.conf&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Запустите таймер:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now dnf-automatic.timer
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="отключение-selinux"&gt;&lt;span class="section-num"&gt;3.5.5&lt;/span&gt; Отключение SELinux&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;В данном курсе мы не будем рассматривать работу с системой безопасности SELinux.&lt;/li&gt;
&lt;li&gt;Поэтому отключим его.&lt;/li&gt;
&lt;li&gt;В файле &lt;code&gt;/etc/selinux/config&lt;/code&gt; замените значение
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;SELINUX=enforcing
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;на значение
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;SELINUX=permissive
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Перегрузите виртуальную машину:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo systemctl reboot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="настройка-раскладки-клавиатуры"&gt;&lt;span class="section-num"&gt;3.6&lt;/span&gt; Настройка раскладки клавиатуры&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Войдите в ОС под заданной вами при установке учётной записью.&lt;/li&gt;
&lt;li&gt;Нажмите комбинацию &lt;em&gt;Win+Enter&lt;/em&gt; для запуска терминала.&lt;/li&gt;
&lt;li&gt;Запустите терминальный мультиплексор &lt;em&gt;tmux&lt;/em&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tmux
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Создайте конфигурационный файл &lt;code&gt;~/.config/sway/config.d/95-system-keyboard-config.conf&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir -p ~/.config/sway
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;touch ~/.config/sway/config.d/95-system-keyboard-config.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Отредактируйте конфигурационный файл &lt;code&gt;~/.config/sway/config.d/95-system-keyboard-config.conf&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;exec_always /usr/libexec/sway-systemd/locale1-xkb-config --oneshot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Переключитесь на роль супер-пользователя:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo -i
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Отредактируйте конфигурационный файл &lt;code&gt;/etc/X11/xorg.conf.d/00-keyboard.conf&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Section &amp;#34;InputClass&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; Identifier &amp;#34;system-keyboard&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; MatchIsKeyboard &amp;#34;on&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; Option &amp;#34;XkbLayout&amp;#34; &amp;#34;us,ru&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; Option &amp;#34;XkbVariant&amp;#34; &amp;#34;,winkeys&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; Option &amp;#34;XkbOptions&amp;#34; &amp;#34;grp:rctrl_toggle,compose:ralt,terminate:ctrl_alt_bksp&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;EndSection
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Для этого можно использовать файловый менеджер &lt;code&gt;mc&lt;/code&gt; и его встроенный редактор.&lt;/li&gt;
&lt;li&gt;Перегрузите виртуальную машину:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo systemctl reboot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="видео-настройка-раскладки-клавиатуры"&gt;&lt;span class="section-num"&gt;3.6.1&lt;/span&gt; Видео: Настройка раскладки клавиатуры&lt;/h4&gt;
&lt;link rel="stylesheet" href="https://yamadharma.github.io/css/flick/jquery-ui.min.2145606a4147a5c2562a0afa9e996323dcbd14469acf347b81292370e967b906.css" integrity="sha256-IUVgakFHpcJWKgr6npljI9y9FEaazzR7gSkjcOlnuQY="&gt;
&lt;script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"&gt;
&lt;/script&gt;
&lt;script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jqueryui/1.14.1/jquery-ui.min.js"&gt;
&lt;/script&gt;
&lt;script&gt;
$(function() {
$( "#tabs, #tabs1, #tabs2, #tabs3, #tabs4, #tabs5, #tabs6, #tabs7, #tabs8" ).tabs();
});
&lt;/script&gt;
&lt;div id = "tabs"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href = "#tab-1"&gt;
RuTube
&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href = "#tab-2"&gt;
Youtube
&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div id ="tab-0"&gt;
&lt;/div&gt;
&lt;div id ="tab-1"&gt;
&lt;div class="embed video-player"&gt;
&lt;iframe class="rutube-player" type="text/html"
width="647" height="364"
src="https://rutube.ru/play/embed/f1004d77e929bfb0f856f8aa471aa67c"
webkitAllowFullScreen mozallowfullscreen allowFullScreen
allow="clipboard-write" frameborder="0"&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id ="tab-2"&gt;
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"&gt;
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/ayLha0dDiQw?autoplay=0&amp;amp;controls=1&amp;amp;end=0&amp;amp;loop=0&amp;amp;mute=0&amp;amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
Настройка раскладки клавиатуры
&lt;h3 id="установка-имени-пользователя-и-названия-хоста"&gt;&lt;span class="section-num"&gt;3.7&lt;/span&gt; Установка имени пользователя и названия хоста&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Если при установке виртуальной машины вы задали имя пользователя или имя хоста, не удовлетворяющее соглашению об именовании, то вам необходимо исправить это.&lt;/li&gt;
&lt;li&gt;Запустите виртуальную машину и залогиньтесь.&lt;/li&gt;
&lt;li&gt;Нажмите комбинацию &lt;em&gt;Win+Enter&lt;/em&gt; для запуска терминала.&lt;/li&gt;
&lt;li&gt;Запустите терминальный мультиплексор &lt;em&gt;tmux&lt;/em&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tmux
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Переключитесь на роль супер-пользователя:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo -i
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Создайте пользователя (вместо &lt;code&gt;username&lt;/code&gt; укажите ваш логин в дисплейном классе):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;adduser -G wheel username
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Задайте пароль для пользователя (вместо &lt;code&gt;username&lt;/code&gt; укажите ваш логин в дисплейном классе):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;passwd username
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установите имя хоста (вместо &lt;code&gt;username&lt;/code&gt; укажите ваш логин в дисплейном классе):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;hostnamectl set-hostname username
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Проверьте, что имя хоста установлено верно:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;hostnamectl
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="видео-имя-пользователя-и-хоста"&gt;&lt;span class="section-num"&gt;3.7.1&lt;/span&gt; Видео: Имя пользователя и хоста&lt;/h4&gt;
&lt;link rel="stylesheet" href="https://yamadharma.github.io/css/flick/jquery-ui.min.2145606a4147a5c2562a0afa9e996323dcbd14469acf347b81292370e967b906.css" integrity="sha256-IUVgakFHpcJWKgr6npljI9y9FEaazzR7gSkjcOlnuQY="&gt;
&lt;script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"&gt;
&lt;/script&gt;
&lt;script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jqueryui/1.14.1/jquery-ui.min.js"&gt;
&lt;/script&gt;
&lt;script&gt;
$(function() {
$( "#tabs, #tabs1, #tabs2, #tabs3, #tabs4, #tabs5, #tabs6, #tabs7, #tabs8" ).tabs();
});
&lt;/script&gt;
&lt;div id = "tabs"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href = "#tab-1"&gt;
RuTube
&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href = "#tab-2"&gt;
Youtube
&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div id ="tab-0"&gt;
&lt;/div&gt;
&lt;div id ="tab-1"&gt;
&lt;div class="embed video-player"&gt;
&lt;iframe class="rutube-player" type="text/html"
width="647" height="364"
src="https://rutube.ru/play/embed/a1a2bac5dbd805b11d5d5390cdfcee50"
webkitAllowFullScreen mozallowfullscreen allowFullScreen
allow="clipboard-write" frameborder="0"&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id ="tab-2"&gt;
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"&gt;
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/zU1x8rx4JjA?autoplay=0&amp;amp;controls=1&amp;amp;end=0&amp;amp;loop=0&amp;amp;mute=0&amp;amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
Имя пользователя и хоста
&lt;h3 id="установка-программного-обеспечения-для-создания-документации"&gt;&lt;span class="section-num"&gt;3.8&lt;/span&gt; Установка программного обеспечения для создания документации&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Нажмите комбинацию &lt;em&gt;Win+Enter&lt;/em&gt; для запуска терминала.&lt;/li&gt;
&lt;li&gt;Запустите терминальный мультиплексор &lt;em&gt;tmux&lt;/em&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tmux
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Переключитесь на роль супер-пользователя:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo -i
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="работа-с-языком-разметки-markdown"&gt;&lt;span class="section-num"&gt;3.8.1&lt;/span&gt; Работа с языком разметки Markdown&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Средство &lt;code&gt;pandoc&lt;/code&gt; для работы с языком разметки Markdown.&lt;/li&gt;
&lt;li&gt;Установка с помощью менеджера пакетов:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y install pandoc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Для работы с перекрёстными ссылками мы используем пакет &lt;code&gt;pandoc-crossref&lt;/code&gt;.
&lt;ul&gt;
&lt;li&gt;Пакет &lt;code&gt;pandoc-crossref&lt;/code&gt; в стандартном репозитории отсутствует.&lt;/li&gt;
&lt;li&gt;Придётся ставить вручную, скачав с сайта
.&lt;/li&gt;
&lt;li&gt;При установке &lt;code&gt;pandoc-crossref&lt;/code&gt; следует обращать внимание, для какой версии &lt;code&gt;pandoc&lt;/code&gt; он скомпилён.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Лучше установить &lt;code&gt;pandoc&lt;/code&gt; и &lt;code&gt;pandoc-crossref&lt;/code&gt; вручную.
&lt;ul&gt;
&lt;li&gt;Скачайте необходимую версию &lt;code&gt;pandoc-crossref&lt;/code&gt; (
).&lt;/li&gt;
&lt;li&gt;Посмотрите, для какой версии откомпилён &lt;code&gt;pandoc-crossref&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Скачайте соответствующую версию &lt;code&gt;pandoc&lt;/code&gt; (
).&lt;/li&gt;
&lt;li&gt;Распакуйте архивы.&lt;/li&gt;
&lt;li&gt;Обе программы собраны в виде статически-линкованных бинарных файлов.&lt;/li&gt;
&lt;li&gt;Поместите их в каталог &lt;code&gt;/usr/local/bin&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="texlive"&gt;&lt;span class="section-num"&gt;3.8.2&lt;/span&gt; texlive&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установим дистрибутив TeXlive (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y install texlive-scheme-full
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="видео-установка-tex"&gt;&lt;span class="section-num"&gt;3.8.3&lt;/span&gt; Видео: Установка TeX&lt;/h4&gt;
&lt;link rel="stylesheet" href="https://yamadharma.github.io/css/flick/jquery-ui.min.2145606a4147a5c2562a0afa9e996323dcbd14469acf347b81292370e967b906.css" integrity="sha256-IUVgakFHpcJWKgr6npljI9y9FEaazzR7gSkjcOlnuQY="&gt;
&lt;script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"&gt;
&lt;/script&gt;
&lt;script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jqueryui/1.14.1/jquery-ui.min.js"&gt;
&lt;/script&gt;
&lt;script&gt;
$(function() {
$( "#tabs, #tabs1, #tabs2, #tabs3, #tabs4, #tabs5, #tabs6, #tabs7, #tabs8" ).tabs();
});
&lt;/script&gt;
&lt;div id = "tabs"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href = "#tab-1"&gt;
RuTube
&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href = "#tab-2"&gt;
Youtube
&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div id ="tab-0"&gt;
&lt;/div&gt;
&lt;div id ="tab-1"&gt;
&lt;div class="embed video-player"&gt;
&lt;iframe class="rutube-player" type="text/html"
width="647" height="364"
src="https://rutube.ru/play/embed/a60d71c8e5644c1fa42b445670fb43c8"
webkitAllowFullScreen mozallowfullscreen allowFullScreen
allow="clipboard-write" frameborder="0"&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id ="tab-2"&gt;
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"&gt;
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/65yj0KvKZGM?autoplay=0&amp;amp;controls=1&amp;amp;end=0&amp;amp;loop=0&amp;amp;mute=0&amp;amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
Установка TeX
&lt;h4 id="видео-после-установки-linux"&gt;&lt;span class="section-num"&gt;3.8.4&lt;/span&gt; Видео: После установки Linux&lt;/h4&gt;
&lt;link rel="stylesheet" href="https://yamadharma.github.io/css/flick/jquery-ui.min.2145606a4147a5c2562a0afa9e996323dcbd14469acf347b81292370e967b906.css" integrity="sha256-IUVgakFHpcJWKgr6npljI9y9FEaazzR7gSkjcOlnuQY="&gt;
&lt;script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"&gt;
&lt;/script&gt;
&lt;script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jqueryui/1.14.1/jquery-ui.min.js"&gt;
&lt;/script&gt;
&lt;script&gt;
$(function() {
$( "#tabs, #tabs1, #tabs2, #tabs3, #tabs4, #tabs5, #tabs6, #tabs7, #tabs8" ).tabs();
});
&lt;/script&gt;
&lt;div id = "tabs"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href = "#tab-1"&gt;
RuTube
&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href = "#tab-2"&gt;
Платформа
&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href = "#tab-3"&gt;
VKvideo
&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href = "#tab-4"&gt;
Youtube
&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div id ="tab-0"&gt;
&lt;/div&gt;
&lt;div id ="tab-1"&gt;
&lt;div class="embed video-player"&gt;
&lt;iframe class="rutube-player" type="text/html"
width="647" height="364"
src="https://rutube.ru/play/embed/4a71b855759392e4135cda667f30e86f"
webkitAllowFullScreen mozallowfullscreen allowFullScreen
allow="clipboard-write" frameborder="0"&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id ="tab-2"&gt;
&lt;div class="embed video-player"&gt;
&lt;iframe class="plvideo-player" type="text/html"
width="647" height="364"
src="https://plvideo.ru/embed/SwKzG-swMcwg"
allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id ="tab-3"&gt;
&lt;div class="embed video-player"&gt;
&lt;iframe class="vkvideo-player" type="text/html"
src="https://vkvideo.ru/video_ext.php?oid=606414976&amp;id=456239705&amp;hd=2"
width="647" height="364" allow="autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;" frameborder="0" allowfullscreen&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id ="tab-4"&gt;
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"&gt;
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/lhdLoxZ6T9c?autoplay=0&amp;amp;controls=1&amp;amp;end=0&amp;amp;loop=0&amp;amp;mute=0&amp;amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
После установки Linux
&lt;h2 id="домашнее-задание"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Домашнее задание&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Дождитесь загрузки графического окружения и откройте терминал. В окне терминала проанализируйте последовательность загрузки системы, выполнив команду &lt;code&gt;dmesg&lt;/code&gt;. Можно просто просмотреть вывод этой команды:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dmesg &lt;span class="p"&gt;|&lt;/span&gt; less
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Можно использовать поиск с помощью &lt;code&gt;grep&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dmesg &lt;span class="p"&gt;|&lt;/span&gt; grep -i &lt;span class="s2"&gt;&amp;#34;то, что ищем&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Получите следующую информацию.
&lt;ul&gt;
&lt;li&gt;Версия ядра Linux (Linux version).&lt;/li&gt;
&lt;li&gt;Частота процессора (Detected Mhz processor).&lt;/li&gt;
&lt;li&gt;Модель процессора (CPU0).&lt;/li&gt;
&lt;li&gt;Объём доступной оперативной памяти (Memory available).&lt;/li&gt;
&lt;li&gt;Тип обнаруженного гипервизора (Hypervisor detected).&lt;/li&gt;
&lt;li&gt;Тип файловой системы корневого раздела.&lt;/li&gt;
&lt;li&gt;Последовательность монтирования файловых систем.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="содержание-отчёта"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Содержание отчёта&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Отчёт должен включать:
&lt;ul&gt;
&lt;li&gt;титульный лист;&lt;/li&gt;
&lt;li&gt;формулировку задания работы;&lt;/li&gt;
&lt;li&gt;описание результатов выполнения задания:
&lt;ul&gt;
&lt;li&gt;краткое описание действия;&lt;/li&gt;
&lt;li&gt;вводимую команду или команды;&lt;/li&gt;
&lt;li&gt;результаты выполнения команд (снимок экрана);&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;выводы, согласованные с заданием работы;&lt;/li&gt;
&lt;li&gt;ответы на контрольные вопросы;&lt;/li&gt;
&lt;li&gt;отчёт о выполнении дополнительного задания.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="контрольные-вопросы"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Контрольные вопросы&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Какую информацию содержит учётная запись пользователя?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Укажите команды терминала и приведите примеры:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;для получения справки по команде;&lt;/li&gt;
&lt;li&gt;для перемещения по файловой системе;&lt;/li&gt;
&lt;li&gt;для просмотра содержимого каталога;&lt;/li&gt;
&lt;li&gt;для определения объёма каталога;&lt;/li&gt;
&lt;li&gt;для создания / удаления каталогов / файлов;&lt;/li&gt;
&lt;li&gt;для задания определённых прав на файл / каталог;&lt;/li&gt;
&lt;li&gt;для просмотра истории команд.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Что такое файловая система? Приведите примеры с краткой характеристикой.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Как посмотреть, какие файловые системы подмонтированы в ОС?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Как удалить зависший процесс?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;При ответах на контрольные вопросы рекомендуется ознакомиться с информацией из [&lt;a href="#citeproc_bib_item_1"&gt;1&lt;/a&gt;; &lt;a href="#citeproc_bib_item_1"&gt;1&lt;/a&gt;–&lt;a href="#citeproc_bib_item_7"&gt;7&lt;/a&gt;].&lt;/p&gt;
&lt;h2 id="библиография"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Библиография&lt;/h2&gt;
&lt;h2 id="литература"&gt;Литература&lt;/h2&gt;
&lt;div class="csl-bib-body"&gt;
&lt;div class="csl-entry"&gt;&lt;a id="citeproc_bib_item_1"&gt;&lt;/a&gt;1. Dash, P. Getting Started with Oracle VM VirtualBox / P. Dash. – Packt Publishing Ltd, 2013. – 86 сс.&lt;/div&gt;
&lt;div class="csl-entry"&gt;&lt;a id="citeproc_bib_item_2"&gt;&lt;/a&gt;2. Colvin, H. VirtualBox: An Ultimate Guide Book on Virtualization with VirtualBox. VirtualBox / H. Colvin. – CreateSpace Independent Publishing Platform, 2015. – 70 сс.&lt;/div&gt;
&lt;div class="csl-entry"&gt;&lt;a id="citeproc_bib_item_3"&gt;&lt;/a&gt;3. Vugt, S. van. Red Hat RHCSA/RHCE 7 cert guide : Red Hat Enterprise Linux 7 (EX200 and EX300) : Certification Guide. Red Hat RHCSA/RHCE 7 cert guide / S. van Vugt. – Pearson IT Certification, 2016. – 1008 сс.&lt;/div&gt;
&lt;div class="csl-entry"&gt;&lt;a id="citeproc_bib_item_4"&gt;&lt;/a&gt;4. Робачевский, А. Операционная система UNIX / А. Робачевский, С. Немнюгин, О. Стесик. – 2-е изд. – Санкт-Петербург : БХВ-Петербург, 2010. – 656 сс.&lt;/div&gt;
&lt;div class="csl-entry"&gt;&lt;a id="citeproc_bib_item_5"&gt;&lt;/a&gt;5. Немет, Э. Unix и Linux: руководство системного администратора. Unix и Linux / Э. Немет, Г. Снайдер, Т.Р. Хейн, Б. Уэйли. – 4-е изд. – Вильямс, 2014. – 1312 сс.&lt;/div&gt;
&lt;div class="csl-entry"&gt;&lt;a id="citeproc_bib_item_6"&gt;&lt;/a&gt;6. Колисниченко, Д.Н. Самоучитель системного администратора Linux : Системный администратор / Д.Н. Колисниченко. – Санкт-Петербург : БХВ-Петербург, 2011. – 544 сс.&lt;/div&gt;
&lt;div class="csl-entry"&gt;&lt;a id="citeproc_bib_item_7"&gt;&lt;/a&gt;7. Robbins, A. Bash Pocket Reference / A. Robbins. – O’Reilly Media, 2016. – 156 сс.&lt;/div&gt;
&lt;/div&gt;</description></item><item><title>Дисплейный менеджер gdm</title><link>https://yamadharma.github.io/ru/post/2025/08/21/display-manager-gdm/</link><pubDate>Thu, 21 Aug 2025 11:50:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/08/21/display-manager-gdm/</guid><description>&lt;p&gt;Дисплейный менеджер gdm.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Настройка&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#зеркалирование-экрана-на-hdmi-через-gdm"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Зеркалирование экрана на HDMI через GDM&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-зеркалирования-в-текущей-сессии--для-пользователя"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Настройка зеркалирования в текущей сессии (для пользователя)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-gdm-для-зеркалирования-на-экране-входа"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Настройка GDM для зеркалирования на экране входа&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;GDM &amp;mdash; это дисплейный менеджер для GNOME, графическая программа для логина пользователя.&lt;/li&gt;
&lt;li&gt;Использует Wayland или X Window System.&lt;/li&gt;
&lt;li&gt;По умолчанию, GDM запускается от лица непривилегированного пользователя и вход от имени root запрещён.&lt;/li&gt;
&lt;li&gt;Информация:
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="настройка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Настройка&lt;/h2&gt;
&lt;h3 id="зеркалирование-экрана-на-hdmi-через-gdm"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Зеркалирование экрана на HDMI через GDM&lt;/h3&gt;
&lt;h3 id="настройка-зеркалирования-в-текущей-сессии--для-пользователя"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Настройка зеркалирования в текущей сессии (для пользователя)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Откройте &lt;code&gt;Настройки&lt;/code&gt; → &lt;code&gt;Дисплеи&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Выберите режим &lt;code&gt;Зеркальное отображение&lt;/code&gt; (Mirror Displays).&lt;/li&gt;
&lt;li&gt;Нажмите &lt;code&gt;Применить&lt;/code&gt; и сохраните изменения.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="настройка-gdm-для-зеркалирования-на-экране-входа"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Настройка GDM для зеркалирования на экране входа&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;GDM использует отдельную конфигурацию.&lt;/li&gt;
&lt;li&gt;Чтобы применить зеркалирование на экране входа, скопируйте файл настроек мониторов из вашего пользователя в папку GDM:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo cp ~/.config/monitors.xml /var/lib/gdm/.config/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo chown gdm:gdm /var/lib/gdm/.config/monitors.xml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Gentoo. Поддержка бинарных пакетов</title><link>https://yamadharma.github.io/ru/post/2025/08/21/gentoo-binary-package-support/</link><pubDate>Thu, 21 Aug 2025 11:23:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/08/21/gentoo-binary-package-support/</guid><description>&lt;p&gt;Gentoo. Поддержка бинарных пакетов.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-хоста-бинарных-пакетов"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Настройка хоста бинарных пакетов&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#хост-бинарных-пакетов-на-основе-веб"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Хост бинарных пакетов на основе веб&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#caddy"&gt;&lt;span class="section-num"&gt;2.1.1&lt;/span&gt; Caddy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#экспорт-из-nfs"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Экспорт из NFS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Документация:
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="настройка-хоста-бинарных-пакетов"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Настройка хоста бинарных пакетов&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Portage поддерживает несколько протоколов для загрузки бинарных пакетов: FTP, FTPS, HTTP, HTTPS и SSH/SFTP.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="хост-бинарных-пакетов-на-основе-веб"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Хост бинарных пакетов на основе веб&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Основной подход для распространения бинарных пакетов это создать хост бинарных пакетов на основе веб.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="caddy"&gt;&lt;span class="section-num"&gt;2.1.1&lt;/span&gt; Caddy&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установка:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge www-servers/caddy
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Конфигурация (файл &lt;code&gt;/etc/caddy/Caddyfile&lt;/code&gt;):&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;:80 {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; root * /com/lib/portage/packages
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; file_server browse
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Запустите для проверки:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;caddy run --config /etc/caddy/Caddyfile
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Запустите сервис:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now caddy.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;На клиентских системах настройте переменную &lt;code&gt;PORTAGE_BINHOST&lt;/code&gt; в файле &lt;code&gt;/etc/portage/make.conf&lt;/code&gt;:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;PORTAGE_BINHOST=&amp;#34;http://binhost.example.com/packages&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="экспорт-из-nfs"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Экспорт из NFS&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;В случае использования хоста бинарных пакетов во внутренней сети, может быть проще экспортировать пакеты с помощью NFS, а затем смонтировать их на клиенте.&lt;/li&gt;
&lt;li&gt;Файл &lt;code&gt;/etc/exports&lt;/code&gt; может выглядеть так:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;var&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cache&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;binpkgs&lt;/span&gt; &lt;span class="mi"&gt;2001&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;db8&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;81&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;48&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ro&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;no_subtree_check&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;root_squash&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="mf"&gt;192.168&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mf"&gt;100.0&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;24&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ro&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;no_subtree_check&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;root_squash&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;На клиентах можно смонтировать каталог.&lt;/li&gt;
&lt;li&gt;Пример записи в файле /etc/fstab:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;binhost&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;var&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cache&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;binpkgs&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;var&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cache&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;binpkgs&lt;/span&gt; &lt;span class="n"&gt;nfs&lt;/span&gt; &lt;span class="n"&gt;defaults&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;В файле &lt;code&gt;/etc/portage/make.conf&lt;/code&gt; установите:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;PKGDIR&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;/var/cache/binpkgs&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Если PKGDIR смонтирован в сети, может быть полезно включить &lt;code&gt;FEATURES=&amp;quot;pkgdir-index-trusted&amp;quot;&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Эта функция отключает проверку всего &lt;code&gt;PKGDIR&lt;/code&gt; на предмет добавленных или удалённых пакетов и вместо этого доверяет содержимому &lt;code&gt;Packages&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Proxmox. Установка Rocky Linux</title><link>https://yamadharma.github.io/ru/post/2025/06/22/proxmox-install-rocky-linux/</link><pubDate>Sun, 22 Jun 2025 13:47:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/06/22/proxmox-install-rocky-linux/</guid><description>&lt;p&gt;Proxmox. Установка Rocky Linux.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка-rocky-linux-в-proxmox-из-командной-строки"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка Rocky Linux в Proxmox из командной строки&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка-rocky-linux-в-proxmox-из-командной-строки"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка Rocky Linux в Proxmox из командной строки&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Загрузите ISO-образ Rocky Linux:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Откройте терминал и подключитесь к серверу Proxmox.&lt;/li&gt;
&lt;li&gt;Загрузите ISO-образ на сервер Proxmox, если он ещё не загружен.&lt;/li&gt;
&lt;li&gt;Это можно сделать через веб-интерфейс Proxmox или с помощью команды:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;wget https://download.rockylinux.org/pub/rocky/10/isos/x86_64/Rocky-10.0-x86_64-minimal.iso -O /var/lib/vz/template/iso/Rocky-10.0-x86_64-minimal.iso
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Создайте виртуальную машину в Proxmox:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Посмотрите уже используемые идентификаторы виртуальных машин:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qm list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Создайте диск для виртуальной машины:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Используйте команду для создания VM:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qm create &amp;lt;VMID&amp;gt; --name &amp;lt;VMName&amp;gt; --agent &lt;span class="nv"&gt;enabled&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; --cpu host --memory &lt;span class="m"&gt;4096&lt;/span&gt; --cores &lt;span class="m"&gt;2&lt;/span&gt; --net0 &lt;span class="nv"&gt;bridge&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;vmbr0,model&lt;span class="o"&gt;=&lt;/span&gt;virtio,tag&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;100&lt;/span&gt; --scsi0 local-lvm:80 --scsihw virtio-scsi-pci --boot &lt;span class="nv"&gt;order&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;scsi0 --onboot yes
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Замените &lt;code&gt;&amp;lt;VMID&amp;gt;&lt;/code&gt; на уникальный идентификатор VM и &lt;code&gt;&amp;lt;VMName&amp;gt;&lt;/code&gt; на имя виртуальной машины.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Здесь VLAN=100&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Размер создаваемого диска &amp;mdash; 80G.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Настройте параметры виртуальной машины:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Можно добавить или исправить параметры, такие как количество ядер процессора, объём оперативной памяти и размер диска:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qm &lt;span class="nb"&gt;set&lt;/span&gt; &amp;lt;VMID&amp;gt; --cpu host --memory &lt;span class="m"&gt;8192&lt;/span&gt; --cores &lt;span class="m"&gt;4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Подключите ISO-образ к виртуальной машине:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qm &lt;span class="nb"&gt;set&lt;/span&gt; &amp;lt;VMID&amp;gt; --cdrom local:iso/Rocky-10.0-x86_64-minimal.iso
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Можно добавить дополнительный диск:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qm disk add &amp;lt;VMID&amp;gt; local-lvm:vm-&amp;lt;VMID&amp;gt;-disk-1 &lt;span class="nv"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;50G
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установите Rocky Linux интерактивно:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Запустите VM:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qm start &amp;lt;VMID&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Подключитесь к консоли VM через веб-интерфейс Proxmox и следуйте инструкциям по установке Rocky Linux.&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Guest agent&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Установите quemu-guest-agent (см.
).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;</description></item><item><title>Gentoo. Пакет installkernel</title><link>https://yamadharma.github.io/ru/post/2025/05/22/gentoo-installkernel/</link><pubDate>Thu, 22 May 2025 11:58:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/05/22/gentoo-installkernel/</guid><description>&lt;p&gt;Gentoo. Пакет installkernel.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#основные-команды"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Основные команды&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#конфигурация"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Конфигурация&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#layout"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; layout&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#compat"&gt;&lt;span class="section-num"&gt;3.1.1&lt;/span&gt; compat&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#efistub"&gt;&lt;span class="section-num"&gt;3.1.2&lt;/span&gt; efistub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#grub"&gt;&lt;span class="section-num"&gt;3.1.3&lt;/span&gt; grub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#bls"&gt;&lt;span class="section-num"&gt;3.1.4&lt;/span&gt; bls&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#uki"&gt;&lt;span class="section-num"&gt;3.1.5&lt;/span&gt; uki&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#initrd-generator"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; initrd_generator&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#uki-generator"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; uki_generator&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#особенности"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Особенности&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#dracut"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; dracut&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#hostonly"&gt;&lt;span class="section-num"&gt;4.1.1&lt;/span&gt; hostonly&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#сравнение-ukify-и-dracut"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Сравнение ukify и dracut&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#основные-возможности"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; Основные возможности&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-и-конфигурация"&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; Настройка и конфигурация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#особенности-использования"&gt;&lt;span class="section-num"&gt;5.3&lt;/span&gt; Особенности использования&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#совместимость-и-интеграция"&gt;&lt;span class="section-num"&gt;5.4&lt;/span&gt; Совместимость и интеграция&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#рекомендации-по-выбору"&gt;&lt;span class="section-num"&gt;5.5&lt;/span&gt; Рекомендации по выбору&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Wiki:
&lt;/li&gt;
&lt;li&gt;Installkernel &amp;ndash;— это набор скриптов для автоматической установки новых ядер и обновления загрузчика конфигурации.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="основные-команды"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Основные команды&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Установка ядра:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;kernel-install add KERNEL-VERSION KERNEL-IMAGE &lt;span class="o"&gt;[&lt;/span&gt;INITRD-FILE...&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Удаление ядра:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;kernel-install remove KERNEL-VERSION
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Просмотр установленных ядер:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;kernel-install list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установка всех ядер:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;kernel-install add-all
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Дополнительно можно использовать &lt;code&gt;eclean-kernel&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="конфигурация"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Конфигурация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Файлы конфигурации:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/etc/kernel/install.conf&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/usr/lib/kernel/install.conf&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;первый имеет приоритет над вторым.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Параметра конфигурации:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;layout=
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;initrd_generator=
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;uki_generator=
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="layout"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; layout&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Поддерживается спецификации загрузчика:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;тип 1 ( &lt;code&gt;layout=bls&lt;/code&gt; );&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;используется с &lt;code&gt;systemd-boot&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;рекомендуется включить USE-флаг &lt;code&gt;systemd-boot&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;создает файлы в формате, совместимом с &lt;code&gt;systemd-boot&lt;/code&gt;;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;тип 2 ( &lt;code&gt;layout=uki&lt;/code&gt; );&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;предназначен для использования в унифицированных образах ядра и поддерживается grub, systemd-boot, refind;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;для использования с GRUB ( &lt;code&gt;layout=grub&lt;/code&gt; );&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;чтобы использовать GRUB в сочетании с &lt;em&gt;Unified Kernel Images&lt;/em&gt;, используйте раскладку &lt;code&gt;uki&lt;/code&gt;;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;если USE-флаги grub , systemd-boot , efistub и uki отключены, используется макет, который обратно совместим с installkernel Debian (&lt;code&gt;layout=compat&lt;/code&gt;);&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;используется по умолчанию при отсутствии других USE-флагов;&lt;/li&gt;
&lt;li&gt;совместим с традиционным installkernel;&lt;/li&gt;
&lt;li&gt;обеспечивает обратную совместимость;&lt;/li&gt;
&lt;li&gt;рекомендуется для систем с нестандартными загрузчиками.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Макет &lt;code&gt;uki&lt;/code&gt; (включенный USE-флагом &lt;code&gt;uki&lt;/code&gt;) имеет приоритет над макетом &lt;code&gt;bls&lt;/code&gt; (включенным USE-флагом &lt;code&gt;systemd-boot&lt;/code&gt;), который, в свою очередь, имеет приоритет над макетом &lt;code&gt;grub&lt;/code&gt; (включенным USE-флагом &lt;code&gt;grub&lt;/code&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="compat"&gt;&lt;span class="section-num"&gt;3.1.1&lt;/span&gt; compat&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Макет compat очень похож на макет в традиционном installkernel Debian:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/boot/initramfs-xyz-gentoo-dist.img &lt;span class="c1"&gt;# Если USE=dracut (или другой генератор initramfs)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/boot/kernel-xyz-gentoo-dist
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="efistub"&gt;&lt;span class="section-num"&gt;3.1.2&lt;/span&gt; efistub&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Макет &lt;code&gt;efistub&lt;/code&gt; идентичен макету &lt;code&gt;compat&lt;/code&gt;, но перемещен в системный раздел EFI для загрузки EFI stub.&lt;/li&gt;
&lt;li&gt;Образ ядра имеет суффикс &lt;code&gt;.efi&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;ESP&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/EFI/Gentoo/initramfs-xyz-gentoo-dist.img &lt;span class="c1"&gt;# Если USE=dracut (или другой генератор initramfs)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;ESP&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/EFI/Gentoo/kernel-xyz-gentoo-dist.efi
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="grub"&gt;&lt;span class="section-num"&gt;3.1.3&lt;/span&gt; grub&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Макет grub идентичен макету compat с добавлением grub.cfg:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/boot/grub/grub.cfg
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/boot/initramfs-xyz-gentoo-dist.img &lt;span class="c1"&gt;# Если USE=dracut (или другой генератор initramfs)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/boot/kernel-xyz-gentoo-dist
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="bls"&gt;&lt;span class="section-num"&gt;3.1.4&lt;/span&gt; bls&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;The Bootloader Specification Type 1&lt;/li&gt;
&lt;li&gt;Используется в &lt;code&gt;systemd-boot&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;ESP&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/gentoo/xyz-gentoo-dist/initrd &lt;span class="c1"&gt;# Если USE=dracut (или другой генератор initramfs)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;ESP&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/gentoo/xyz-gentoo-dist/linux
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;ESP&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/loader/entries/gentoo-xyz-gentoo-dist.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="uki"&gt;&lt;span class="section-num"&gt;3.1.5&lt;/span&gt; uki&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;The Bootloader Specification Type 2:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/boot/grub/grub.cfg &lt;span class="c1"&gt;# Если USE=grub&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;ESP&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/EFI/Linux/gentoo-xyz-gentoo-dist.efi
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="initrd-generator"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; initrd_generator&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Параметр определяет, какой плагин должен использоваться для генерации &lt;code&gt;initramfs&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;В настоящее время единственным пакетом, который устанавливает такой плагин, является Dracut из &lt;code&gt;sys-kernel/dracut&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Если флаг &lt;code&gt;USE=dracut&lt;/code&gt; включён, этот параметр автоматически устанавливается в значение &lt;code&gt;dracut&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;В противном случае для этого параметра автоматически устанавливается значение &lt;code&gt;none&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="uki-generator"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; uki_generator&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Параметр управляет тем, какой плагин следует использовать для генерации унифицированного образа ядра.&lt;/li&gt;
&lt;li&gt;Пакеты предоставляют такой плагин:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sys-kernel/dracut&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;systemd&lt;/code&gt; (через флаг &lt;code&gt;ukify&lt;/code&gt; в &lt;code&gt;sys-apps/systemd&lt;/code&gt; и &lt;code&gt;sys-apps/systemd-utils&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Когда включен флаг &lt;code&gt;USE=ukify&lt;/code&gt;, этот параметр автоматически устанавливается в &lt;code&gt;ukify&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Когда флаг &lt;code&gt;USE=ukify&lt;/code&gt; отключен, но включены флаги &lt;code&gt;USE&lt;/code&gt; &lt;code&gt;dracut&lt;/code&gt; и &lt;code&gt;uki&lt;/code&gt;, этот параметр автоматически устанавливается в &lt;code&gt;dracut&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;В противном случае этот параметр автоматически устанавливается в &lt;code&gt;none&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="особенности"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Особенности&lt;/h2&gt;
&lt;h3 id="dracut"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; dracut&lt;/h3&gt;
&lt;h4 id="hostonly"&gt;&lt;span class="section-num"&gt;4.1.1&lt;/span&gt; hostonly&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Начиная с версии &lt;code&gt;sys-kernel/dracut-106&lt;/code&gt; значение по умолчанию для параметра &lt;code&gt;hostonly&lt;/code&gt; изменилось с отключенного на включенное.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;hostonly&lt;/code&gt; :настройка для Dracut, которая управляет тем, сколько данных будет включено в создаваемый образ initramfs.&lt;/li&gt;
&lt;li&gt;Когда она отключена, Dracut стремится сгенерировать образ initramfs, загружаемый на любом оборудовании.&lt;/li&gt;
&lt;li&gt;Когда этот параметр включен, Dracut стремится сгенерировать образ initramfs, содержащий только то, что необходимо для загрузки текущей системы.&lt;/li&gt;
&lt;li&gt;Настройка &lt;code&gt;hostonly&lt;/code&gt; может быть отключена с помощью в &lt;code&gt;/etc/dracut.conf.d/&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir -p /etc/dracut.conf.d
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;hostonly=no&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; /etc/dracut.conf.d/95-no-hostonly.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="сравнение-ukify-и-dracut"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Сравнение ukify и dracut&lt;/h2&gt;
&lt;h3 id="основные-возможности"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; Основные возможности&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Dracut
&lt;ul&gt;
&lt;li&gt;Создает как UKI (Unified Kernel Image), так и initramfs самостоятельно&lt;/li&gt;
&lt;li&gt;Имеет встроенный механизм создания initramfs&lt;/li&gt;
&lt;li&gt;Автоматически генерирует UKI при включении соответствующих флагов&lt;/li&gt;
&lt;li&gt;Поддерживает автоматическую установку в EFI System Partition&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Ukify
&lt;ul&gt;
&lt;li&gt;Создает только UKI, требует отдельный initramfs генератор&lt;/li&gt;
&lt;li&gt;Работает с любым initramfs, созданным сторонними инструментами&lt;/li&gt;
&lt;li&gt;Требует отдельной настройки initramfs через UgRD или Dracut&lt;/li&gt;
&lt;li&gt;Более гибкая интеграция с существующими initramfs&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="настройка-и-конфигурация"&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; Настройка и конфигурация&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Dracut
&lt;ul&gt;
&lt;li&gt;Конфигурация в файле &lt;code&gt;/etc/dracut.conf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Параметры командной строки ядра задаются в &lt;code&gt;/etc/dracut.conf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Для Secure Boot требуются настройки в &lt;code&gt;/etc/dracut.conf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Автоматическая генерация UKI при установке ядра&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Ukify
&lt;ul&gt;
&lt;li&gt;Конфигурация в файле &lt;code&gt;/etc/kernel/uki.conf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Параметры командной строки ядра задаются в &lt;code&gt;/etc/kernel/cmdline&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Для Secure Boot требуются настройки в &lt;code&gt;/etc/kernel/uki.conf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Необходимость отдельной настройки initramfs генератора&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="особенности-использования"&gt;&lt;span class="section-num"&gt;5.3&lt;/span&gt; Особенности использования&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Dracut
&lt;ul&gt;
&lt;li&gt;Однофайловая система &amp;mdash; все в одном инструменте&lt;/li&gt;
&lt;li&gt;Автоматическая генерация и установка UKI&lt;/li&gt;
&lt;li&gt;Встроенная поддержка Secure Boot&lt;/li&gt;
&lt;li&gt;Простота настройки через единый конфигурационный файл&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Ukify
&lt;ul&gt;
&lt;li&gt;Модульная система - можно комбинировать с разными initramfs генераторами&lt;/li&gt;
&lt;li&gt;Более гибкая настройка параметров UKI&lt;/li&gt;
&lt;li&gt;Интеграция с systemd-specific функциями&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="совместимость-и-интеграция"&gt;&lt;span class="section-num"&gt;5.4&lt;/span&gt; Совместимость и интеграция&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Dracut
&lt;ul&gt;
&lt;li&gt;Лучше интегрирован с традиционными системами&lt;/li&gt;
&lt;li&gt;Поддерживает большинство загрузчиков без дополнительной настройки&lt;/li&gt;
&lt;li&gt;Автоматически определяет и использует существующую конфигурацию&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Ukify
&lt;ul&gt;
&lt;li&gt;Лучше работает с systemd-based системами&lt;/li&gt;
&lt;li&gt;Оптимизирован для современных UEFI систем&lt;/li&gt;
&lt;li&gt;Требует дополнительной настройки при использовании нестандартных initramfs&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="рекомендации-по-выбору"&gt;&lt;span class="section-num"&gt;5.5&lt;/span&gt; Рекомендации по выбору&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Используйте Dracut, если:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Нужна простая и единая система управления UKI и initramfs&lt;/li&gt;
&lt;li&gt;Важна автоматическая генерация и установка&lt;/li&gt;
&lt;li&gt;Используется традиционный подход к настройке системы&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Используйте Ukify, если:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Нужна максимальная гибкость в выборе initramfs генератора&lt;/li&gt;
&lt;li&gt;Важна поддержка Measured Boot&lt;/li&gt;
&lt;li&gt;Используется современная systemd-based система&lt;/li&gt;
&lt;li&gt;Требуется интеграция с дополнительными функциями systemd&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Клавиатура. xkb</title><link>https://yamadharma.github.io/ru/post/2025/04/22/keyboard-xkb/</link><pubDate>Tue, 22 Apr 2025 14:17:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/04/22/keyboard-xkb/</guid><description>&lt;p&gt;Клавиатура. xkb.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-инфорация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая инфорация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#переключение-раскладок"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Переключение раскладок&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#третий-уровень-символов--level3"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Третий уровень символов (level3)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#compose-key"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Compose Key&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#переназначение-клавиш"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Переназначение клавиш&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#управление-из-командной-строки"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Управление из командной строки&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#настройки-в-x11"&gt;&lt;span class="section-num"&gt;6.1&lt;/span&gt; Настройки в x11&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройки-в-sway"&gt;&lt;span class="section-num"&gt;6.2&lt;/span&gt; Настройки в sway&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-инфорация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая инфорация&lt;/h2&gt;
&lt;h2 id="переключение-раскладок"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Переключение раскладок&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Клавиши-модификаторы:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;grp:alt_shift_toggle&lt;/code&gt; &amp;mdash; Alt + Shift;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grp:ctrl_shift_toggle&lt;/code&gt; &amp;mdash; Ctrl + Shift;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grp:win_switch&lt;/code&gt; &amp;mdash; Клавиша Super (Win);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grp:menu_toggle&lt;/code&gt; &amp;mdash; Клавиша Menu;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grp:caps_toggle&lt;/code&gt; &amp;mdash; Caps Lock (одиночное нажатие);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grp:shift_caps_toggle&lt;/code&gt; &amp;mdash; Shift + Caps Lock;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grp:alt_space_toggle&lt;/code&gt; &amp;mdash; Alt + Space;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grp:lswitch&lt;/code&gt; &amp;mdash; Правый Ctrl (циклическое переключение);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grp:rswitch&lt;/code&gt; &amp;mdash; Правый Alt (циклическое переключение);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grp:toggle&lt;/code&gt; &amp;mdash; Fn + специальная клавиша (зависит от модели)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Экзотические комбинации:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;grp:lalt_lshift_toggle&lt;/code&gt; &amp;mdash; Левый Alt + Левый Shift;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grp:alt_caps_toggle&lt;/code&gt; &amp;mdash; Alt + Caps Lock;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grp:sclk_toggle&lt;/code&gt; &amp;mdash; Scroll Lock;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grp:ctrl_alt_toggle&lt;/code&gt; &amp;mdash; Ctrl + Alt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grp:rctrl_switch&lt;/code&gt; &amp;mdash; Правый Ctrl (удерживать)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Индикация:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;grp_led:scroll&lt;/code&gt; &amp;mdash; Индикация через Scroll Lock LED;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grp_led:caps&lt;/code&gt; &amp;mdash; Индикация через Caps Lock LED;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grp_led:num&lt;/code&gt; &amp;mdash; Индикация через Num Lock LED&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="третий-уровень-символов--level3"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Третий уровень символов (level3)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Активация:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;lv3:ralt_switch&lt;/code&gt; &amp;mdash; Правый Alt (AltGr);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;lv3:switch&lt;/code&gt; &amp;mdash; Клавиша Menu;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;lv3:win_switch&lt;/code&gt; &amp;mdash; Win + AltGr;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;lv3:caps_switch&lt;/code&gt; &amp;mdash; Caps Lock (удерживать);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;lv3:enter_switch&lt;/code&gt; &amp;mdash; Enter (удерживать);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;lv3:bksl_switch&lt;/code&gt; &amp;mdash; Backslash (удерживать);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;lv3:lsgt_switch&lt;/code&gt; &amp;mdash; Клавиша &amp;ldquo;&amp;lt; &amp;gt; |&amp;rdquo; (удерживать)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="compose-key"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Compose Key&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;compose:ralt&lt;/code&gt; &amp;mdash; Правый Alt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;compose:rwin&lt;/code&gt; &amp;mdash; Правая Win;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;compose:lwin&lt;/code&gt; &amp;mdash; Левая Win;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;compose:menu&lt;/code&gt; &amp;mdash; Клавиша Menu;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;compose:caps&lt;/code&gt; &amp;mdash; Caps Lock;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;compose:prsc&lt;/code&gt; &amp;mdash; Print Screen&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="переназначение-клавиш"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Переназначение клавиш&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ctrl:nocaps&lt;/code&gt; &amp;mdash; Caps Lock → Ctrl;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ctrl:swapcaps&lt;/code&gt; &amp;mdash; Поменять местами Caps Lock и Ctrl;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;altwin:swap_alt_win&lt;/code&gt; &amp;mdash; Alt ↔ Win;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;altwin:menu&lt;/code&gt; &amp;mdash; Win → Menu;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;caps:swapescape&lt;/code&gt; &amp;mdash; Caps Lock ↔ Esc&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="управление-из-командной-строки"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Управление из командной строки&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Просмотр всех доступных параметров:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;localectl list-x11-keymap-options
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="настройки-в-x11"&gt;&lt;span class="section-num"&gt;6.1&lt;/span&gt; Настройки в x11&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Переключение раскладок через Caps Lock + Shift с индикацией через Scroll Lock LED:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;setxkbmap -option &lt;span class="s2"&gt;&amp;#34;grp:shift_caps_toggle,grp_led:scroll&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Третий уровень на правом Alt + Compose на Menu:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;setxkbmap -option &lt;span class="s2"&gt;&amp;#34;lv3:ralt_switch,compose:menu&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Замена Caps Lock на Ctrl + завершение Xorg через Ctrl+Alt+Backspace:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;setxkbmap -option &lt;span class="s2"&gt;&amp;#34;ctrl:nocaps,terminate:ctrl_alt_bksp&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="настройки-в-sway"&gt;&lt;span class="section-num"&gt;6.2&lt;/span&gt; Настройки в sway&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Переключить на английский:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;swaymsg input &lt;span class="s1"&gt;&amp;#39;type:keyboard&amp;#39;&lt;/span&gt; xkb_layout us
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Переключить на русский:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;swaymsg input &lt;span class="s1"&gt;&amp;#39;type:keyboard&amp;#39;&lt;/span&gt; xkb_layout ru
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Linux. Дистрибутив Turnkey</title><link>https://yamadharma.github.io/ru/post/2025/01/26/linux-distro-turnkey/</link><pubDate>Sun, 26 Jan 2025 19:48:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/01/26/linux-distro-turnkey/</guid><description>&lt;p&gt;Linux. Дистрибутив Turnkey.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#общая-структура-дистрибутивов"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Общая структура дистрибутивов&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#детали-использования-и-вход-в-систему-для-администрирования"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Детали использования и вход в систему для администрирования&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#нет-паролей-по-умолчанию"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Нет паролей по умолчанию&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ssl-сертификаты"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; SSL-сертификаты&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#администрирование"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Администрирование&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Сайт:
&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Набор подготовленных образов Linux с конкретными приложениями.&lt;/li&gt;
&lt;li&gt;Сделан на основе Debian 12.&lt;/li&gt;
&lt;li&gt;Поддерживается для установки на Proxmox (см.
).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="общая-структура-дистрибутивов"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Общая структура дистрибутивов&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Предлагатся для скачивания iso-образы.&lt;/li&gt;
&lt;li&gt;Образы включают в себя:
&lt;ul&gt;
&lt;li&gt;web-панель Webmin для администрирования системы;&lt;/li&gt;
&lt;li&gt;подключенный SSH и AJAX web shell.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="детали-использования-и-вход-в-систему-для-администрирования"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Детали использования и вход в систему для администрирования&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Замените &lt;code&gt;12.34.56.789&lt;/code&gt; действительным IP-адресом или именем хоста.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="нет-паролей-по-умолчанию"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Нет паролей по умолчанию&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;По соображениям безопасности нет паролей по умолчанию.&lt;/li&gt;
&lt;li&gt;Все пароли устанавливаются во время инициализации системы.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ssl-сертификаты"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; SSL-сертификаты&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Автоматически создаётся самоподписанный сертификат.&lt;/li&gt;
&lt;li&gt;Через меню &lt;em&gt;Confconsole Advanced menu&lt;/em&gt; можно создать сертификат Let&amp;rsquo;s Encypt SSL (см.
).&lt;/li&gt;
&lt;li&gt;Соединения:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;http://12.34.56.789/&lt;/code&gt; : не зашифрованное соединение;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;https://12.34.56.789/&lt;/code&gt; — соединение зашифровано с помощью самоподписанного SSL-сертификата.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="администрирование"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Администрирование&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Администратор системы : &lt;code&gt;root&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Web-подключение:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;https://12.34.56.789:12321/&lt;/code&gt; : панель управления системой;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;https://12.34.56.789:12320/&lt;/code&gt; : web-терминал командной строки.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ssh-клиент:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;ssh root@12.34.56.789
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;TUI конфигуратор:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;confconsole
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Командные оболочки Unix</title><link>https://yamadharma.github.io/ru/post/2025/01/01/unix-shells/</link><pubDate>Wed, 01 Jan 2025 16:06:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/01/01/unix-shells/</guid><description>&lt;p&gt;Командные оболочки Unix.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#командные-оболочки"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Командные оболочки&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#конфигурации-командных-оболочек"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Конфигурации командных оболочек&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="командные-оболочки"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Командные оболочки&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="конфигурации-командных-оболочек"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Конфигурации командных оболочек&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Linux. Установка в kvm</title><link>https://yamadharma.github.io/ru/post/2024/12/28/linux-installation-kvm/</link><pubDate>Sat, 28 Dec 2024 18:27:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/12/28/linux-installation-kvm/</guid><description>&lt;p&gt;Linux. Установка в kvm.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка-linux-на-qemu"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка Linux на qemu&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#создание-образа"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Создание образа&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#запуск-системы"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Запуск системы&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#видео-установка-linux-на-qemu"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Видео: Установка Linux на qemu&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка-linux-с-помощью-libvirt"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Установка Linux с помощью libvirt&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#libvirt"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Libvirt&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#создание-образа"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Создание образа&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#запуск"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Запуск&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Будем устанавливать (для определённости) в каталог &lt;code&gt;/var/vm/fedora-sway&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir -p /var/vm/fedora-sway
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Для примера будем устанавливать дистрибутив Fedora Sway (&lt;code&gt;Fedora-Sway-Live-x86_64-42-1.1.iso&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /var/vm/fedora-sway
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;wget https://download.fedoraproject.org/pub/fedora/linux/releases/42/Spins/x86_64/iso/Fedora-Sway-Live-x86_64-42-1.1.iso
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка-linux-на-qemu"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка Linux на qemu&lt;/h2&gt;
&lt;h3 id="создание-образа"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Создание образа&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Создадим образ виртуального диска: &lt;code&gt;80GB&lt;/code&gt;, формат &lt;code&gt;qcow2&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qemu-img create -f qcow2 fedora-sway.qcow2 80G
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Запустите виртуальную машину:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qemu-system-x86_64 -boot &lt;span class="nv"&gt;menu&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;on -m &lt;span class="m"&gt;2048&lt;/span&gt; -cpu max -smp &lt;span class="m"&gt;2&lt;/span&gt; &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -cdrom Fedora-Sway-Live-x86_64-42-1.1.iso &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -drive &lt;span class="nv"&gt;file&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;fedora-sway.qcow2,format&lt;span class="o"&gt;=&lt;/span&gt;qcow2,if&lt;span class="o"&gt;=&lt;/span&gt;virtio,aio&lt;span class="o"&gt;=&lt;/span&gt;native,cache&lt;span class="o"&gt;=&lt;/span&gt;none &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -bios /usr/share/edk2-ovmf/OVMF_CODE.fd &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -enable-kvm -machine q35 -device intel-iommu &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -device virtio-balloon &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -chardev qemu-vdagent,id&lt;span class="o"&gt;=&lt;/span&gt;vdagent0,name&lt;span class="o"&gt;=&lt;/span&gt;vdagent,clipboard&lt;span class="o"&gt;=&lt;/span&gt;on,mouse&lt;span class="o"&gt;=&lt;/span&gt;off &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -display default,show-cursor&lt;span class="o"&gt;=&lt;/span&gt;on &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -vga none -device virtio-gpu-pci
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Видео-устройств подключено на видеокарту компьютера.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Выберите &lt;code&gt;Start Fedora-Sway-Live 42&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Загрузится графический режим.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Если вы запускаете из-под Sway, включите &lt;code&gt;Passthrough mode&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Также можно использовать режим захвата, переключая его по комбинации &lt;code&gt;Ctrl+Alt+g&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установите систему.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;После установке остановите систему:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo systemctl halt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="запуск-системы"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Запуск системы&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для удобства создайте командный файл &lt;code&gt;fedora-sway-start.sh&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;touch fedora-sway-start.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chmod +x fedora-sway-start.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;В файл запишите команду для запуска:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qemu-system-x86_64 -boot &lt;span class="nv"&gt;menu&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;on -m &lt;span class="m"&gt;2048&lt;/span&gt; &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -cpu max -smp &lt;span class="m"&gt;2&lt;/span&gt; &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -drive &lt;span class="nv"&gt;file&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;fedora-sway.qcow2,format&lt;span class="o"&gt;=&lt;/span&gt;qcow2,if&lt;span class="o"&gt;=&lt;/span&gt;virtio,aio&lt;span class="o"&gt;=&lt;/span&gt;native,cache&lt;span class="o"&gt;=&lt;/span&gt;none &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -bios /usr/share/edk2-ovmf/OVMF_CODE.fd &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -enable-kvm -machine q35 -device intel-iommu &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -device virtio-balloon &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -device virtio-serial &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -chardev spicevmc,id&lt;span class="o"&gt;=&lt;/span&gt;vdagent,debug&lt;span class="o"&gt;=&lt;/span&gt;0,name&lt;span class="o"&gt;=&lt;/span&gt;vdagent &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -device virtio-serial,packed&lt;span class="o"&gt;=&lt;/span&gt;on,ioeventfd&lt;span class="o"&gt;=&lt;/span&gt;on &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -device virtserialport,name&lt;span class="o"&gt;=&lt;/span&gt;com.redhat.spice.0,chardev&lt;span class="o"&gt;=&lt;/span&gt;vdagent0 &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -chardev qemu-vdagent,id&lt;span class="o"&gt;=&lt;/span&gt;vdagent0,name&lt;span class="o"&gt;=&lt;/span&gt;vdagent,clipboard&lt;span class="o"&gt;=&lt;/span&gt;on,mouse&lt;span class="o"&gt;=&lt;/span&gt;off &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -display default,show-cursor&lt;span class="o"&gt;=&lt;/span&gt;on &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; -vga none -device virtio-gpu-pci
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 1:&lt;/span&gt;
fedora-sway-start.sh
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="видео-установка-linux-на-qemu"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Видео: Установка Linux на qemu&lt;/h3&gt;
&lt;link rel="stylesheet" href="https://yamadharma.github.io/css/flick/jquery-ui.min.2145606a4147a5c2562a0afa9e996323dcbd14469acf347b81292370e967b906.css" integrity="sha256-IUVgakFHpcJWKgr6npljI9y9FEaazzR7gSkjcOlnuQY="&gt;
&lt;script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"&gt;
&lt;/script&gt;
&lt;script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jqueryui/1.14.1/jquery-ui.min.js"&gt;
&lt;/script&gt;
&lt;script&gt;
$(function() {
$( "#tabs, #tabs1, #tabs2, #tabs3, #tabs4, #tabs5, #tabs6, #tabs7, #tabs8" ).tabs();
});
&lt;/script&gt;
&lt;div id = "tabs"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href = "#tab-1"&gt;
RuTube
&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href = "#tab-2"&gt;
Платформа
&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href = "#tab-3"&gt;
VKvideo
&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href = "#tab-4"&gt;
Youtube
&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div id ="tab-0"&gt;
&lt;/div&gt;
&lt;div id ="tab-1"&gt;
&lt;div class="embed video-player"&gt;
&lt;iframe class="rutube-player" type="text/html"
width="647" height="364"
src="https://rutube.ru/play/embed/50903a2181f564a0a207ace60067ad3d"
webkitAllowFullScreen mozallowfullscreen allowFullScreen
allow="clipboard-write" frameborder="0"&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id ="tab-2"&gt;
&lt;div class="embed video-player"&gt;
&lt;iframe class="plvideo-player" type="text/html"
width="647" height="364"
src="https://plvideo.ru/embed/W5741K4QRBi1"
allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id ="tab-3"&gt;
&lt;div class="embed video-player"&gt;
&lt;iframe class="vkvideo-player" type="text/html"
src="https://vkvideo.ru/video_ext.php?oid=606414976&amp;id=456239663&amp;hd=2"
width="647" height="364" allow="autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;" frameborder="0" allowfullscreen&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id ="tab-4"&gt;
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"&gt;
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/zdGOCVWmnWo?autoplay=0&amp;amp;controls=1&amp;amp;end=0&amp;amp;loop=0&amp;amp;mute=0&amp;amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
Установка Linux на qemu
&lt;h2 id="установка-linux-с-помощью-libvirt"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Установка Linux с помощью libvirt&lt;/h2&gt;
&lt;h3 id="libvirt"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Libvirt&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Можно использовать для управления образом libvirt (см.
)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="создание-образа"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Создание образа&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Создайте образ виртуального диска с помощью утилиты &lt;code&gt;qemu-img&lt;/code&gt; (&lt;code&gt;60GB&lt;/code&gt;, формат &lt;code&gt;qcow2&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qemu-img create -f qcow2 fedora-sway.qcow2 60G
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Запустите виртуальную машину:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;virt-install &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --connect qemu:///session &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --virt-type kvm &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --name fedora-sway &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --memory &lt;span class="m"&gt;2048&lt;/span&gt; &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --vcpus &lt;span class="m"&gt;2&lt;/span&gt; &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --boot uefi &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --cdrom Fedora-Sway-Live-x86_64-41-1.4.iso &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --disk &lt;span class="nv"&gt;bus&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;virtio,format&lt;span class="o"&gt;=&lt;/span&gt;qcow2,path&lt;span class="o"&gt;=&lt;/span&gt;fedora-sway.qcow2 &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --graphics spice,gl.enable&lt;span class="o"&gt;=&lt;/span&gt;yes,listen&lt;span class="o"&gt;=&lt;/span&gt;none &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --video virtio --channel spicevmc &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --network default,model&lt;span class="o"&gt;=&lt;/span&gt;virtio &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --os-variant fedora40
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Выберите &lt;code&gt;Start Fedora-Sway-Live 41&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Загрузится графический режим.&lt;/li&gt;
&lt;li&gt;Если вы запускаете из-под Sway, включите &lt;code&gt;Passthrough mode&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Установите систему.&lt;/li&gt;
&lt;li&gt;Выполните следующую команду на хосте, чтобы получить список определённых в данный момент доменов (флаг &lt;code&gt;--all&lt;/code&gt; перечисляет все домены):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;virsh list --all
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;После завершения установки выключите домен.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="запуск"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Запуск&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Запустить домен:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;virsh start fedora-sway
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Отключить домен:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;virsh shutdown fedora-sway
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Принудительно отключить домен:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;virsh destroy fedora-sway
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Подключиться к домену можно с помощью &lt;code&gt;virt-manager&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Уничтожить домен:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;virsh undefine fedora-sway --remove-all-storage
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Gentoo. Создание ebuild для Rust</title><link>https://yamadharma.github.io/ru/post/2024/11/02/gentoo-ebuild-rust/</link><pubDate>Sat, 02 Nov 2024 19:06:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/11/02/gentoo-ebuild-rust/</guid><description>&lt;p&gt;Gentoo. Создание ebuild для программ на Rust.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#pycargoebuild"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; pycargoebuild&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#использование"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Использование&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="pycargoebuild"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; pycargoebuild&lt;/h2&gt;
&lt;h3 id="общая-информация"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Общая информация&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Генератор ebuild с использованием инфраструктуры Cargo.&lt;/li&gt;
&lt;li&gt;Установка:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge app-portage/pycargoebuild
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="использование"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Использование&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Создать новый ebuild:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;pycargoebuild &amp;lt;package-directory&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;em&gt;package-directory&lt;/em&gt; : каталог, содержащий &lt;code&gt;Cargo.toml&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Создаётся файл ebuild в текущем каталоге.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Обновить существующий ebuild:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;pycargoebuild -i &amp;lt;current-file&amp;gt;.ebuild &amp;lt;package-directory&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Обновление деривативов RedHat</title><link>https://yamadharma.github.io/ru/post/2024/09/12/redhat-derivatives-update/</link><pubDate>Thu, 12 Sep 2024 12:48:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/09/12/redhat-derivatives-update/</guid><description>&lt;p&gt;Обновление деривативов RedHat.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#проект-elevate"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Проект ELevate&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#scientific-linux-7"&gt;&lt;span class="section-num"&gt;1.1.1&lt;/span&gt; Scientific Linux 7&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#предварительные-действия"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Предварительные действия&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#7-8"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; 7 → 8&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#обновление-centos-7-до-rocky-8"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Обновление Centos 7 до Rocky 8&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;2.1.1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#подготовка-к-обновлению"&gt;&lt;span class="section-num"&gt;2.1.2&lt;/span&gt; Подготовка к обновлению&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#обновление"&gt;&lt;span class="section-num"&gt;2.1.3&lt;/span&gt; Обновление&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#после-обновления"&gt;&lt;span class="section-num"&gt;2.1.4&lt;/span&gt; После обновления&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#8-9"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; 8 → 9&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#обновление-oracle-8-до-oracle-9"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Обновление Oracle 8 до Oracle 9&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;3.1.1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#подготовка-к-обновлению"&gt;&lt;span class="section-num"&gt;3.1.2&lt;/span&gt; Подготовка к обновлению&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#обновление"&gt;&lt;span class="section-num"&gt;3.1.3&lt;/span&gt; Обновление&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#после-обновления"&gt;&lt;span class="section-num"&gt;3.1.4&lt;/span&gt; После обновления&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#обновление-rocky-8-до-rocky-9"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Обновление Rocky 8 до Rocky 9&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;3.2.1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#подготовка-к-обновлению"&gt;&lt;span class="section-num"&gt;3.2.2&lt;/span&gt; Подготовка к обновлению&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#обновление"&gt;&lt;span class="section-num"&gt;3.2.3&lt;/span&gt; Обновление&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#после-обновления"&gt;&lt;span class="section-num"&gt;3.2.4&lt;/span&gt; После обновления&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#9-10"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; 9 → 10&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;h3 id="проект-elevate"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Проект ELevate&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Сайт:
&lt;/li&gt;
&lt;li&gt;Документация:
&lt;/li&gt;
&lt;li&gt;Поддерживает следующие пути обновления и миграции:
&lt;ul&gt;
&lt;li&gt;обновление с CentOS 6 до CentOS 7;&lt;/li&gt;
&lt;li&gt;обновление с CentOS 7 до AlmaLinux 8, CentOS Stream 8, Euro Linux 8, Oracle Linux 8 или Rocky Linux 8;&lt;/li&gt;
&lt;li&gt;обновление Scientific Linux 7 до AlmaLinux 8;&lt;/li&gt;
&lt;li&gt;обновление с 8.x до 9.x в том же дистрибутиве;&lt;/li&gt;
&lt;li&gt;миграция на Oracle Linux 9 доступна с утилитой Oracle Leapp.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="scientific-linux-7"&gt;&lt;span class="section-num"&gt;1.1.1&lt;/span&gt; Scientific Linux 7&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Scientific Linux 7 была последняя поддерживаемая версия.&lt;/li&gt;
&lt;li&gt;Они рекомендуют обновляться на AlmaLinux:
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="предварительные-действия"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Предварительные действия&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Определите версию операционной системы:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;cat /etc/os-release
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="7-8"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; 7 → 8&lt;/h2&gt;
&lt;h3 id="обновление-centos-7-до-rocky-8"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Обновление Centos 7 до Rocky 8&lt;/h3&gt;
&lt;h4 id="общая-информация"&gt;&lt;span class="section-num"&gt;2.1.1&lt;/span&gt; Общая информация&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Будем использовать проект Elevate.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="подготовка-к-обновлению"&gt;&lt;span class="section-num"&gt;2.1.2&lt;/span&gt; Подготовка к обновлению&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Возможно, придётся заменить репозитории:
&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Удалите внешние репозитории:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo yum -y remove epel-release
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo yum -y remove rpmforge-release
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo yum -y remove elrepo-release
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Обновите систему:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo yum -y upgrade
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Перегрузите машину:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo reboot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установите пакет &lt;em&gt;elevate-release&lt;/em&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo yum install -y http://repo.almalinux.org/elevate/elevate-release-latest-el&lt;span class="k"&gt;$(&lt;/span&gt;rpm --eval %rhel&lt;span class="k"&gt;)&lt;/span&gt;.noarch.rpm
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установите утилиты для миграции:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo yum install -y leapp-upgrade leapp-data-rocky
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Другие варианты установки: &lt;code&gt;centos&lt;/code&gt;, &lt;code&gt;almalinux&lt;/code&gt;, &lt;code&gt;eurolinux&lt;/code&gt;, &lt;code&gt;oraclelinux&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo yum install -y leapp-upgrade leapp-data-almalinux
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Лучше установить SELinux в &lt;code&gt;permissive&lt;/code&gt; в файле &lt;code&gt;/etc/selinux/config&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Перегрузите компьютер.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Восстановите метки SELinux:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo restorecon -vR /
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Удалите неподдерживаемые модули ядра:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo rmmod pata_acpi
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo rmmod floppy
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Проверьте возможность обновления:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo leapp preupgrade
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Отчёт находится в файле &lt;code&gt;/var/log/leapp/leapp-report.txt&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Там же находятся и рекомендации по устранению проблем.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Тут же будет список неподписанных пакетов, которые, скорее всего, вам придётся установить заново после обновления.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Также создаётся файл &lt;code&gt;/var/log/leapp/answerfile&lt;/code&gt;, где нужно подтвердить действия.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Подтвердите удаление модуля PAM PKCS#11:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo leapp answer --section remove_pam_pkcs11_module_check.confirm&lt;span class="o"&gt;=&lt;/span&gt;True
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;После исправления запустите утилиту опять. И так до устранения основных недостатков.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="обновление"&gt;&lt;span class="section-num"&gt;2.1.3&lt;/span&gt; Обновление&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;После подготовки сделайте обновление:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo leapp upgrade
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;После скачивания необходимых пакетов будет предложено перегрузить машину.&lt;/li&gt;
&lt;li&gt;После перезагрузки начнётся процесс обновления.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="после-обновления"&gt;&lt;span class="section-num"&gt;2.1.4&lt;/span&gt; После обновления&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Удалите старые пакеты от Centos7:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rpm -qa &lt;span class="p"&gt;|&lt;/span&gt; grep -E &lt;span class="s1"&gt;&amp;#39;el7[.-]&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; xargs rpm -e
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rpm -qa &lt;span class="p"&gt;|&lt;/span&gt; grep -E &lt;span class="s1"&gt;&amp;#39;sl7[.-]&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; xargs rpm -e
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Выполните последующие действия либо обновляйте до следующей версии.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установите внешние репозитории:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install epel-release
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Обновите необновлённые пакеты:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установите удалённые пакеты, например:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install fail2ban
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now fail2ban.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Если используете LVM, обновите метаданные:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo vgck --updatemetadata &amp;lt;volume_group_name&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Можно в виде скрипта:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;for&lt;/span&gt; i in &lt;span class="k"&gt;$(&lt;/span&gt;vgdisplay -A -c 2&amp;gt;/dev/null &lt;span class="p"&gt;|&lt;/span&gt; cut -f1 -d: &lt;span class="p"&gt;|&lt;/span&gt; xargs &lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; sudo vgck --updatemetadata &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;i&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установите SELinux в &lt;code&gt;enforcing&lt;/code&gt; в файле &lt;code&gt;/etc/selinux/config&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="8-9"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; 8 → 9&lt;/h2&gt;
&lt;h3 id="обновление-oracle-8-до-oracle-9"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Обновление Oracle 8 до Oracle 9&lt;/h3&gt;
&lt;h4 id="общая-информация"&gt;&lt;span class="section-num"&gt;3.1.1&lt;/span&gt; Общая информация&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Материалы:
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="подготовка-к-обновлению"&gt;&lt;span class="section-num"&gt;3.1.2&lt;/span&gt; Подготовка к обновлению&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Обновите систему:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установите утилиту &lt;em&gt;Leapp&lt;/em&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf install leapp-upgrade --enablerepo&lt;span class="o"&gt;=&lt;/span&gt;ol8_appstream,ol8_baseos_latest
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Лучше установить SELinux в &lt;code&gt;permissive&lt;/code&gt; в файле &lt;code&gt;/etc/selinux/config&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Перегрузите компьютер.&lt;/li&gt;
&lt;li&gt;Восстановите метки SELinux:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo restorecon -vR /
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Удалите внешние репозитории:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf remove epel-release
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Проверьте возможность обновления:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo leapp preupgrade --oraclelinux
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Отчёт находится в файле &lt;code&gt;/var/log/leapp/leapp-report.txt&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Там же находятся и рекомендации по устранению проблем.&lt;/li&gt;
&lt;li&gt;Тут же будет список неподписанных пакетов, которые, скорее всего, вам придётся установить заново после обновления.&lt;/li&gt;
&lt;li&gt;Также создаётся файл &lt;code&gt;/var/log/leapp/answerfile&lt;/code&gt;, где нужно подтвердить действия.&lt;/li&gt;
&lt;li&gt;После исправления запустите утилиту опять. И так до устранения основных недостатков.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="обновление"&gt;&lt;span class="section-num"&gt;3.1.3&lt;/span&gt; Обновление&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;После подготовки сделайте обновление:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo leapp upgrade --oraclelinux
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;После скачивания необходимых пакетов будет предложено перегрузить машину.&lt;/li&gt;
&lt;li&gt;После перезагрузки начнётся процесс обновления.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="после-обновления"&gt;&lt;span class="section-num"&gt;3.1.4&lt;/span&gt; После обновления&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Установите внешние репозитории:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install epel-release
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Обновите необновлённые пакеты:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установите удалённые пакеты, например:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install fail2ban
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now fail2ban.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Установите SELinux в &lt;code&gt;enforcing&lt;/code&gt; в файле &lt;code&gt;/etc/selinux/config&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Установите ядро Unbreakable Enterprise Kernel:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install kernel-uek kernel-uek-modules kernel-uek-modules-extra
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="обновление-rocky-8-до-rocky-9"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Обновление Rocky 8 до Rocky 9&lt;/h3&gt;
&lt;h4 id="общая-информация"&gt;&lt;span class="section-num"&gt;3.2.1&lt;/span&gt; Общая информация&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Будем использовать проект Elevate.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="подготовка-к-обновлению"&gt;&lt;span class="section-num"&gt;3.2.2&lt;/span&gt; Подготовка к обновлению&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Возможно, придётся заменить репозитории:
&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Обновите систему:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y upgrade
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Перегрузите машину:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo reboot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установите пакет &lt;em&gt;elevate-release&lt;/em&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf install -y http://repo.almalinux.org/elevate/elevate-release-latest-el&lt;span class="k"&gt;$(&lt;/span&gt;rpm --eval %rhel&lt;span class="k"&gt;)&lt;/span&gt;.noarch.rpm
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Отменить исключение пакетов, выполненное при предыдущем обновлении:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf config-manager --save --setopt &lt;span class="nv"&gt;exclude&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установите утилиты для миграции:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf install -y leapp-upgrade leapp-data-rocky
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Другие варианты установки: &lt;code&gt;centos&lt;/code&gt;, &lt;code&gt;almalinux&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo yum install -y leapp-upgrade leapp-data-almalinux
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Лучше установить SELinux в &lt;code&gt;permissive&lt;/code&gt; в файле &lt;code&gt;/etc/selinux/config&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Перегрузите компьютер.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Восстановите метки SELinux:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo restorecon -vR /
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Удалите внешние репозитории:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf remove epel-release
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Проверьте возможность обновления:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo leapp preupgrade
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Отчёт находится в файле &lt;code&gt;/var/log/leapp/leapp-report.txt&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Там же находятся и рекомендации по устранению проблем.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Тут же будет список неподписанных пакетов, которые, скорее всего, вам придётся установить заново после обновления.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Также создаётся файл &lt;code&gt;/var/log/leapp/answerfile&lt;/code&gt;, где нужно подтвердить действия.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Общие исправления для Rocky Linux 8.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Изменение конфигурации firewalld:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo sed -i &lt;span class="s2"&gt;&amp;#34;s/^AllowZoneDrifting=.*/AllowZoneDrifting=no/&amp;#34;&lt;/span&gt; /etc/firewalld/firewalld.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Удаление файла конфигурации сети для неподдерживаемого типа сетевого устройства:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rm /etc/sysconfig/network-scripts/ifcfg-&lt;span class="o"&gt;[&lt;/span&gt;device_name&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Обход требования проверки устройства VDO в файле ответов:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo leapp answer --section check_vdo.no_vdo_devices&lt;span class="o"&gt;=&lt;/span&gt;True
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Удалите неподдерживаемые модули ядра:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo rmmod ip_set
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;После исправления запустите утилиту опять. И так до устранения основных недостатков.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="обновление"&gt;&lt;span class="section-num"&gt;3.2.3&lt;/span&gt; Обновление&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Обычно пакеты &lt;code&gt;make-devel&lt;/code&gt; и &lt;code&gt;rocky-logos&lt;/code&gt; приводят к сбою обновления. Удалите их:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y remove make-devel
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y remove rocky-logos
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;После подготовки сделайте обновление:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo leapp upgrade
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;После скачивания необходимых пакетов будет предложено перегрузить машину.&lt;/li&gt;
&lt;li&gt;После перезагрузки начнётся процесс обновления.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="после-обновления"&gt;&lt;span class="section-num"&gt;3.2.4&lt;/span&gt; После обновления&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Удалите старые пакеты от Rocky Linux 8:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo rpm -qa &lt;span class="p"&gt;|&lt;/span&gt; grep -E &lt;span class="s1"&gt;&amp;#39;el8[.-]&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; xargs rpm -e
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Выполните последующие действия либо обновляйте до следующей версии.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установите внешние репозитории:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf config-manager --set-enabled crb
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y install epel-release
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo /usr/bin/crb &lt;span class="nb"&gt;enable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Обновите необновлённые пакеты:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установите удалённые пакеты, например:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y install fail2ban
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now fail2ban.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Если используете LVM, обновите метаданные:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo vgck --updatemetadata &amp;lt;volume_group_name&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Можно в виде скрипта:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;for&lt;/span&gt; i in &lt;span class="k"&gt;$(&lt;/span&gt;vgdisplay -A -c 2&amp;gt;/dev/null &lt;span class="p"&gt;|&lt;/span&gt; cut -f1 -d: &lt;span class="p"&gt;|&lt;/span&gt; xargs &lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; sudo vgck --updatemetadata &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;i&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установите SELinux в &lt;code&gt;enforcing&lt;/code&gt; в файле &lt;code&gt;/etc/selinux/config&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="9-10"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; 9 → 10&lt;/h2&gt;</description></item><item><title>Перенос виртуальной машины на Proxmox</title><link>https://yamadharma.github.io/ru/post/2024/09/04/migrating-virtual-machine-proxmox/</link><pubDate>Wed, 04 Sep 2024 16:58:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/09/04/migrating-virtual-machine-proxmox/</guid><description>&lt;p&gt;Перенос виртуальной машины на Proxmox.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#перенос-образа-kvm"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Перенос образа kvm&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#создание-виртуальной-машины"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Создание виртуальной машины&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#графический-интерфейс"&gt;&lt;span class="section-num"&gt;1.1.1&lt;/span&gt; Графический интерфейс&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#интерфейс-командной-строки"&gt;&lt;span class="section-num"&gt;1.1.2&lt;/span&gt; Интерфейс командной строки&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#копирование-образа-диска"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Копирование образа диска&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#импорт-диска"&gt;&lt;span class="section-num"&gt;1.3&lt;/span&gt; Импорт диска&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#загрузка-через-uefi"&gt;&lt;span class="section-num"&gt;1.4&lt;/span&gt; Загрузка через UEFI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#после-переноса"&gt;&lt;span class="section-num"&gt;1.5&lt;/span&gt; После переноса&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="перенос-образа-kvm"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Перенос образа kvm&lt;/h2&gt;
&lt;h3 id="создание-виртуальной-машины"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Создание виртуальной машины&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Создадим виртуальную машину в Proxmox с помощью графической утилиты или утилиты командной строки &lt;code&gt;qm&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="графический-интерфейс"&gt;&lt;span class="section-num"&gt;1.1.1&lt;/span&gt; Графический интерфейс&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Вкладка &lt;em&gt;General&lt;/em&gt;. Идентификатор виртуальной машины (VM ID) будет задан автоматически (следующий свободный).&lt;/li&gt;
&lt;li&gt;Вкладка &lt;em&gt;OS&lt;/em&gt;. Операционная система выбирает &lt;em&gt;Do Not Use Any Media&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Вкладка &lt;em&gt;Disk&lt;/em&gt;. Удалите диск по умолчанию &lt;code&gt;scsi0&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="интерфейс-командной-строки"&gt;&lt;span class="section-num"&gt;1.1.2&lt;/span&gt; Интерфейс командной строки&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Выберите свободный идентификатор машины:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qm list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Пусть идентификатор машины будет 111 (для определённости).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Рекомендуется использовать на всех виртуальных машинах &lt;em&gt;qemu agent&lt;/em&gt;, для обеспечения взаимодействия между гипервизором и виртуальной машиной (см.
).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Создадим виртуальную машину:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qm create &lt;span class="m"&gt;111&lt;/span&gt; --name vm111 --bootdisk scsi0 --net0 virtio,bridge&lt;span class="o"&gt;=&lt;/span&gt;vmbr0,firewall&lt;span class="o"&gt;=&lt;/span&gt;1,mtu&lt;span class="o"&gt;=&lt;/span&gt;1,tag&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;100&lt;/span&gt; --agent &lt;span class="nv"&gt;enabled&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; --scsihw virtio-scsi-pci
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;здесь у нас используется VLAN=100;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mtu=1&lt;/code&gt; : установить MTU таким же, как у родительского интерфейса (&lt;code&gt;vmbr0&lt;/code&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="копирование-образа-диска"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Копирование образа диска&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Необходимо выключить исходную виртуальную машину на хосте источнике.&lt;/li&gt;
&lt;li&gt;Найти образ жесткого диска, который используется в виртуальной машине.&lt;/li&gt;
&lt;li&gt;Пусть образ диска называется &lt;code&gt;kvm_disk.qcow2&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Скопируем образ на хост назначения (Proxmox):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;scp /var/lib/libvirt/images/kvm_disk.qcow2 proxmox.example.com:/var/lib/vz/images
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="импорт-диска"&gt;&lt;span class="section-num"&gt;1.3&lt;/span&gt; Импорт диска&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Импортируйте скопированный диск:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qm importdisk &lt;span class="m"&gt;111&lt;/span&gt; /var/lib/vz/images/kvm_disk.qcow2 local-lvm --format raw
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;В результате будет выдано имя получившегося диска в виде &lt;code&gt;unused0:local-lvm:vm-111-disk-0&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Подключите виртуальный диск к виртуальной машине:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qm &lt;span class="nb"&gt;set&lt;/span&gt; &lt;span class="m"&gt;111&lt;/span&gt; --scsi0 local-lvm:vm-111-disk-0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Подключить можно и через графический интерфейс.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Зададим порядок загрузки (SCSI диск):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qm &lt;span class="nb"&gt;set&lt;/span&gt; &lt;span class="m"&gt;111&lt;/span&gt; --boot &lt;span class="nv"&gt;order&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;scsi0&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Зададим тип CPU:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qm &lt;span class="nb"&gt;set&lt;/span&gt; &lt;span class="m"&gt;111&lt;/span&gt; --cpu &lt;span class="nv"&gt;cputype&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;host
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Подключим мышку:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qm &lt;span class="nb"&gt;set&lt;/span&gt; &lt;span class="m"&gt;111&lt;/span&gt; --tablet &lt;span class="m"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="загрузка-через-uefi"&gt;&lt;span class="section-num"&gt;1.4&lt;/span&gt; Загрузка через UEFI&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Установите тип загрузки в UEFI (если необходимо):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qm &lt;span class="nb"&gt;set&lt;/span&gt; &lt;span class="m"&gt;111&lt;/span&gt; --bios ovmf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Добавьте диск для партиции UEFI:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;qm &lt;span class="nb"&gt;set&lt;/span&gt; &lt;span class="m"&gt;111&lt;/span&gt; --efidisk0 local-lvm:1,format&lt;span class="o"&gt;=&lt;/span&gt;raw
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="после-переноса"&gt;&lt;span class="section-num"&gt;1.5&lt;/span&gt; После переноса&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Проверьте настройку виртуальной машины.&lt;/li&gt;
&lt;li&gt;Проверьте ip-адрес машины (у вас изменился mac-адрес).&lt;/li&gt;
&lt;li&gt;Установите, если надо, quemu-guest-agent (см.
).&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Система установки SALI</title><link>https://yamadharma.github.io/ru/post/2024/08/27/sali-automatic-linux-installer/</link><pubDate>Tue, 27 Aug 2024 17:42:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/08/27/sali-automatic-linux-installer/</guid><description>&lt;p&gt;Система установки SALI&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Позволяет устанавливать Linux на несколько компьютеров одновременно.&lt;/li&gt;
&lt;li&gt;Загрузка образов поддерживается через BitTorrent и rsync.&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Gentoo. Постустановка</title><link>https://yamadharma.github.io/ru/post/2024/07/06/gentoo-post-installation/</link><pubDate>Sat, 06 Jul 2024 16:06:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/07/06/gentoo-post-installation/</guid><description>&lt;p&gt;Постустановка Gentoo.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-репозиториев"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Настройка репозиториев&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#репозиторий-gentoo"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Репозиторий gentoo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#репозитории-karma"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Репозитории karma&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#синхронизация-репозиториев"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Синхронизация репозиториев&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#дополнительные-оверлеи"&gt;&lt;span class="section-num"&gt;2.4&lt;/span&gt; Дополнительные оверлеи&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#guru"&gt;&lt;span class="section-num"&gt;2.4.1&lt;/span&gt; guru&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#gentoo-zh"&gt;&lt;span class="section-num"&gt;2.4.2&lt;/span&gt; gentoo-zh&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#science"&gt;&lt;span class="section-num"&gt;2.4.3&lt;/span&gt; science&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка-программного-обеспечения"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Установка программного обеспечения&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-конфигурация"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Общая конфигурация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#работа-в-консоли"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Работа в консоли&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#файловый-менеджер-mc"&gt;&lt;span class="section-num"&gt;3.2.1&lt;/span&gt; Файловый менеджер mc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#монтирование-в-терминале"&gt;&lt;span class="section-num"&gt;3.2.2&lt;/span&gt; Монтирование в терминале&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#графическое-окружение"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Графическое окружение&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#kde"&gt;&lt;span class="section-num"&gt;3.3.1&lt;/span&gt; KDE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#gnome"&gt;&lt;span class="section-num"&gt;3.3.2&lt;/span&gt; Gnome&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#sway"&gt;&lt;span class="section-num"&gt;3.3.3&lt;/span&gt; Sway&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#средства-разработки"&gt;&lt;span class="section-num"&gt;3.4&lt;/span&gt; Средства разработки&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#git"&gt;&lt;span class="section-num"&gt;3.4.1&lt;/span&gt; git&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#python"&gt;&lt;span class="section-num"&gt;3.4.2&lt;/span&gt; python&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#node-dot-js"&gt;&lt;span class="section-num"&gt;3.4.3&lt;/span&gt; Node.js&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#редакторы"&gt;&lt;span class="section-num"&gt;3.5&lt;/span&gt; Редакторы&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#zed"&gt;&lt;span class="section-num"&gt;3.5.1&lt;/span&gt; Zed&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#vscode"&gt;&lt;span class="section-num"&gt;3.5.2&lt;/span&gt; VScode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#emacs"&gt;&lt;span class="section-num"&gt;3.5.3&lt;/span&gt; Emacs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#vim"&gt;&lt;span class="section-num"&gt;3.5.4&lt;/span&gt; Vim&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#обслуживание-системы"&gt;&lt;span class="section-num"&gt;3.6&lt;/span&gt; Обслуживание системы&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#дедупликация-файлов"&gt;&lt;span class="section-num"&gt;3.6.1&lt;/span&gt; Дедупликация файлов&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ядро"&gt;&lt;span class="section-num"&gt;3.6.2&lt;/span&gt; Ядро&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#утилиты-пользователя"&gt;&lt;span class="section-num"&gt;3.7&lt;/span&gt; Утилиты пользователя&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#менеджер-закладок-buku"&gt;&lt;span class="section-num"&gt;3.7.1&lt;/span&gt; Менеджер закладок buku&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#управление-ключами"&gt;&lt;span class="section-num"&gt;3.7.2&lt;/span&gt; Управление ключами&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#работа-с-текстом"&gt;&lt;span class="section-num"&gt;3.7.3&lt;/span&gt; Работа с текстом&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#чтение"&gt;&lt;span class="section-num"&gt;3.7.4&lt;/span&gt; Чтение&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Описание моей настройки Gentoo.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="настройка-репозиториев"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Настройка репозиториев&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Настройка репозиториев исходит из того, что я использую свой репозиторий с конфигурациями (см.
).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="репозиторий-gentoo"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Репозиторий gentoo&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Установите основной репозиторий (если это ещё не сделано):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emaint sync -r gentoo
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chown -R portage:portage /var/db/repos/gentoo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="репозитории-karma"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Репозитории karma&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Установите репозитории с настройками (см.
)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Добавьте репозиторий &lt;code&gt;karma&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository add karma git https://github.com/yamadharma/karma.git
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emaint sync -r karma
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chown -R portage:portage /var/db/repos/karma
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Добавьте репозиторий &lt;code&gt;karma-profiles&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository add karma-profiles git https://github.com/yamadharma/karma-profiles.git
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emaint sync -r karma-profiles
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chown -R portage:portage /var/db/repos/karma-profiles
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Сделайте ссылки на файлы конфигурации:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;. /var/db/repos/karma-profiles/scripts/portage
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="синхронизация-репозиториев"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Синхронизация репозиториев&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Синхронизуйте репозитории:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emaint sync
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="дополнительные-оверлеи"&gt;&lt;span class="section-num"&gt;2.4&lt;/span&gt; Дополнительные оверлеи&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="guru"&gt;&lt;span class="section-num"&gt;2.4.1&lt;/span&gt; guru&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Добавление репозитория guru:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository &lt;span class="nb"&gt;enable&lt;/span&gt; guru
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="gentoo-zh"&gt;&lt;span class="section-num"&gt;2.4.2&lt;/span&gt; gentoo-zh&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Добавление репозитория gentoo-zh:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository &lt;span class="nb"&gt;enable&lt;/span&gt; gentoo-zh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="science"&gt;&lt;span class="section-num"&gt;2.4.3&lt;/span&gt; science&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Добавление репозитория science:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository &lt;span class="nb"&gt;enable&lt;/span&gt; science
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка-программного-обеспечения"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Установка программного обеспечения&lt;/h2&gt;
&lt;h3 id="общая-конфигурация"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Общая конфигурация&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Зададим флаги emerge:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;### Emerge&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Зададим флаги emerge:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Verbose output&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;-v
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="работа-в-консоли"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Работа в консоли&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для установки всего необходимого для работы в консоли необходимо использовать файл &lt;code&gt;term.sh&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;. ./config.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;### Terminal&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="файловый-менеджер-mc"&gt;&lt;span class="section-num"&gt;3.2.1&lt;/span&gt; Файловый менеджер mc&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;Установка файлового менеджера mc:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Установка файлового менеджера mc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; app-misc/mc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="монтирование-в-терминале"&gt;&lt;span class="section-num"&gt;3.2.2&lt;/span&gt; Монтирование в терминале&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установим udisks2:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge sys-fs/udisks
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установим udiskie (
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge sys-fs/udiskie
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="графическое-окружение"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Графическое окружение&lt;/h3&gt;
&lt;h4 id="kde"&gt;&lt;span class="section-num"&gt;3.3.1&lt;/span&gt; KDE&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Для установки KDE необходимо использовать файл &lt;code&gt;kde.sh&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;. ./config.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;### KDE&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установим все программы KDE:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Install all KDE programs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; kde-apps/kde-apps-meta
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="gnome"&gt;&lt;span class="section-num"&gt;3.3.2&lt;/span&gt; Gnome&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Для установки Gnome необходимо использовать файл &lt;code&gt;gnome.sh&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;. ./config.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;### Gnome&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="sway"&gt;&lt;span class="section-num"&gt;3.3.3&lt;/span&gt; Sway&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;Для установки Gnome необходимо использовать файл &lt;code&gt;sway.sh&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;. ./config.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;### Sway&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Sway&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Установим собственно Sway:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; gui-wm/sway
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;Работа с буфером обмена&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Общие программы для работы с буфером обмена:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Wayland clipboard&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; gui-apps/wl-clipboard
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установим &lt;code&gt;cliphist&lt;/code&gt; (репозиторий &lt;code&gt;guru&lt;/code&gt;):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; app-misc/cliphist
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="3"&gt;
&lt;li&gt;
&lt;p&gt;Пароли&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Работа с паролями (репозиторий &lt;code&gt;guru&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;;;;&lt;/span&gt; Pass
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; app-admin/gopass gui-apps/wtype gui-apps/wl-clipboard x11-misc/xdg-utils x11-libs/libnotify app-admin/pass app-admin/pass-otp
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; gui-apps/tessen
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="средства-разработки"&gt;&lt;span class="section-num"&gt;3.4&lt;/span&gt; Средства разработки&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для установки всего необходимого для работы в консоли необходимо использовать файл &lt;code&gt;dev.sh&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;. ./config.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;### Dev tools&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="git"&gt;&lt;span class="section-num"&gt;3.4.1&lt;/span&gt; git&lt;/h4&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;github&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;gitea&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Утилиты для работы с Gitea.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Gitea&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Утилита командной строки для работы с сервером Gitea (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; dev-util/tea
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="python"&gt;&lt;span class="section-num"&gt;3.4.2&lt;/span&gt; python&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Утилиты для работы с python.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Python&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;pipx&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Установка пакетов python:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; dev-python/pipx
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="node-dot-js"&gt;&lt;span class="section-num"&gt;3.4.3&lt;/span&gt; Node.js&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Утилиты для работы с Node.js.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Node.js&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;pnpm&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Управление пакетами Node.js (оверлей &lt;code&gt;karma&lt;/code&gt;, см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; sys-apps/pnpm
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;yarn&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Управление пакетами Node.js:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; sys-apps/yarn
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="редакторы"&gt;&lt;span class="section-num"&gt;3.5&lt;/span&gt; Редакторы&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для установки редакторов необходимо использовать файл &lt;code&gt;edit.sh&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;. ./config.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;### Edit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="zed"&gt;&lt;span class="section-num"&gt;3.5.1&lt;/span&gt; Zed&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установка редактора &lt;em&gt;Zed&lt;/em&gt; (оверлей &lt;code&gt;gentoo-zh&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Установка редактора Zed&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# emerge ${EMERGE_FLAGS} app-editors/zed&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="vscode"&gt;&lt;span class="section-num"&gt;3.5.2&lt;/span&gt; VScode&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Установка редактора &lt;em&gt;VSCode&lt;/em&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Установка редактора VSCode&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; app-editors/vscode
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установка редактора набора LSP-серверов для &lt;em&gt;VSCode&lt;/em&gt; (оверлей &lt;code&gt;guru&lt;/code&gt;):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; dev-util/vscode-langservers-extracted
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="emacs"&gt;&lt;span class="section-num"&gt;3.5.3&lt;/span&gt; Emacs&lt;/h4&gt;
&lt;h4 id="vim"&gt;&lt;span class="section-num"&gt;3.5.4&lt;/span&gt; Vim&lt;/h4&gt;
&lt;h3 id="обслуживание-системы"&gt;&lt;span class="section-num"&gt;3.6&lt;/span&gt; Обслуживание системы&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для установки системных утилит необходимо использовать файл &lt;code&gt;sys.sh&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;. ./config.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;### System tools&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="дедупликация-файлов"&gt;&lt;span class="section-num"&gt;3.6.1&lt;/span&gt; Дедупликация файлов&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установим &lt;em&gt;jdupes&lt;/em&gt; (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; jdupes
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ядро"&gt;&lt;span class="section-num"&gt;3.6.2&lt;/span&gt; Ядро&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установим ядро:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; gentoo-sources
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Создание установочного образа (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; installkernel
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Управление очисткой ядер (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; app-admin/eclean-kernel
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="утилиты-пользователя"&gt;&lt;span class="section-num"&gt;3.7&lt;/span&gt; Утилиты пользователя&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для установки пользовательских утилит необходимо использовать файл &lt;code&gt;user.sh&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;. ./config.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;### User utils&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="менеджер-закладок-buku"&gt;&lt;span class="section-num"&gt;3.7.1&lt;/span&gt; Менеджер закладок buku&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;Установим менеджер закладок:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Buku&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; www-misc/buku
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установим интерфейс к броузеру:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; www-misc/bukubrow-bin
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="управление-ключами"&gt;&lt;span class="section-num"&gt;3.7.2&lt;/span&gt; Управление ключами&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установим демон управления ключами:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Keys&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# emerge ${EMERGE_FLAGS} net-misc/keychain&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="работа-с-текстом"&gt;&lt;span class="section-num"&gt;3.7.3&lt;/span&gt; Работа с текстом&lt;/h4&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Markdown&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pandoc (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; app-text/pandoc-bin
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Quarto (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; app-text/quarto
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="чтение"&gt;&lt;span class="section-num"&gt;3.7.4&lt;/span&gt; Чтение&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Calibre (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; app-text/calibre
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Sway. Совместимость приложений</title><link>https://yamadharma.github.io/ru/post/2024/06/20/sway-application-compatibility/</link><pubDate>Thu, 20 Jun 2024 21:26:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/06/20/sway-application-compatibility/</guid><description>&lt;p&gt;Sway. Совместимость приложений.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#java"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Java&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#серое-окно-приложения-не-меняют-размер-с-помощью-wm-меню-сразу-закрываются"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Серое окно, приложения не меняют размер с помощью WM, меню сразу закрываются&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#меню-в-приложениях-плавает-отдельно-им-невозможно-пользоваться"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Меню в приложениях плавает отдельно, им невозможно пользоваться&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#приложения-gtk-plus-запускаются-с-задержкой"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Приложения GTK+ запускаются с задержкой&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#qt-приложения"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Qt приложения&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#avidemux"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Avidemux&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="java"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Java&lt;/h2&gt;
&lt;h3 id="серое-окно-приложения-не-меняют-размер-с-помощью-wm-меню-сразу-закрываются"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Серое окно, приложения не меняют размер с помощью WM, меню сразу закрываются&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;В стандартных тулкитах для Java жестко зашит список оконных менеджеров.&lt;/li&gt;
&lt;li&gt;Следует установить переменную окружения:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;_JAVA_AWT_WM_NONREPARENTING&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="меню-в-приложениях-плавает-отдельно-им-невозможно-пользоваться"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Меню в приложениях плавает отдельно, им невозможно пользоваться&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;В выпусках Java до версии 9 GTK интерфейс ориентирован на GTK2, в последующих версиях на GTK3.&lt;/li&gt;
&lt;li&gt;GTK LookAndFeel может работать с GTK версий 2, 2.2 и 3.&lt;/li&gt;
&lt;li&gt;По умолчанию используется GTK3.&lt;/li&gt;
&lt;li&gt;Следует явно задать более старую версию:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;JAVA_TOOL_OPTIONS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;-Djdk.gtk.version=2.2&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Например, в файле &lt;code&gt;~/.profile&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="nv"&gt;$XDG_SESSION_DESKTOP&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;sway&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="nv"&gt;$XDG_SESSION_DESKTOP&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;i3&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# https://github.com/swaywm/sway/issues/595&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;_JAVA_AWT_WM_NONREPARENTING&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;JAVA_TOOL_OPTIONS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;-Djdk.gtk.version=2.2&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="приложения-gtk-plus-запускаются-с-задержкой"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Приложения GTK+ запускаются с задержкой&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Приложения GTK+ ожидают запуск &lt;code&gt;xdg-desktop-portal&lt;/code&gt; через D-Bus.&lt;/li&gt;
&lt;li&gt;Ожидание прекращается по таймауту потому, что активированная служба D-Bus не знает, к какому &lt;code&gt;WAYLAND_DISPLAY&lt;/code&gt; подключиться.&lt;/li&gt;
&lt;li&gt;Это можно исправить, добавив в файл конфигурации следующее:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;exec&lt;/span&gt; systemctl --user import-environment DISPLAY WAYLAND_DISPLAY SWAYSOCK
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;exec&lt;/span&gt; &lt;span class="nb"&gt;hash&lt;/span&gt; dbus-update-activation-environment 2&amp;gt;/dev/null &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY SWAYSOCK
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="qt-приложения"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Qt приложения&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Qt по умолчанию использует бэкэнд X11 вместо собственного бэкэнда Wayland. Чтобы использовать бэкэнд Wayland, установите &lt;code&gt;QT_QPA_PLATFORM=wayland&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Qt прорисовает оформление окон на стороне клиента. Чтобы отключить это, установите &lt;code&gt;QT_WAYLAND_DISABLE_WINDOWDECORATION=&amp;quot;1&amp;quot;&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="avidemux"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Avidemux&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;При запуске Avidemux под Wayland не отображается окно просмотра.&lt;/li&gt;
&lt;li&gt;Следует установить переменную окружения &lt;code&gt;QT_QPA_PLATFORM=xcb&lt;/code&gt; или &lt;code&gt;WAYLAND_DISPLAY=0&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;QT_QPA_PLATFORM&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;xcb avidemux3_qt5
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Альтернативно можно задать опцию &lt;code&gt;--platform 'xcb'&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;avidemux3_qt5 --platform &lt;span class="s1"&gt;&amp;#39;xcb&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Динамическое обновление DNS-сервера BIND при помощи Kea DHCP</title><link>https://yamadharma.github.io/ru/post/2024/06/18/dynamically-updating-bind-dns-kea-dhcp/</link><pubDate>Tue, 18 Jun 2024 11:23:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/06/18/dynamically-updating-bind-dns-kea-dhcp/</guid><description>&lt;p&gt;Динамическое обновление DNS-сервера BIND при помощи Kea DHCP.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#ключи"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Ключи&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-dns-bind"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Настройка DNS Bind&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-kea-dhcp"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Настройка Kea DHCP&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#ключ"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Ключ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#сервис-ddns"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Сервис ddns&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#сервис-dhcp4"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Сервис dhcp4&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="ключи"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Ключи&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Создадим ключ на сервере с BIND9:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tsig-keygen -a HMAC-SHA512 DHCP_UPDATER &amp;gt; /etc/named/keys/dhcp_updater.key
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Файл &lt;code&gt;/etc/named/keys/dhcp_updater.key&lt;/code&gt; будет иметь следующий вид:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;key &amp;#34;DHCP_UPDATER&amp;#34; {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; algorithm hmac-sha512;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; secret &amp;#34;psFFSGdUIwK36l1G82LOw15PuIH4W5uB8h/cw7F0XDsjniBbwm/59tM+V3ydcCs15VLpe2pxlUlggWilytQqgg==&amp;#34;;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Поправим права доступа:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chown -R named:named /etc/named/keys
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="настройка-dns-bind"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Настройка DNS Bind&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Настройка происходит в файле &lt;code&gt;/etc/named.conf&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Ключ находится в файле &lt;code&gt;/etc/named/keys/dhcp_updater.key&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Подключим ключ:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;include &amp;#34;/etc/named/keys/dhcp_updater.key&amp;#34;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Разрешим обновление зон:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;zone &amp;#34;local.zone&amp;#34; IN {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; type master;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; file &amp;#34;local.zone.db&amp;#34;;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; allow-update { key DHCP_UPDATER; };
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; update-policy {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; grant DHCP_UPDATER wildcard *.local.zone A DHCID;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; };
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;zone &amp;#34;0.168.192.in-addr.arpa&amp;#34; IN {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; type master;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; file &amp;#34;192.168.0.db&amp;#34;;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; update-policy {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; grant DHCP_UPDATER wildcard *.0.168.192.in-addr.arpa PTR DHCID;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; };
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Сделаем проверку конфигурационного файла:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;named-checkconf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Перестартуйте сервер DNS:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl restart named.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="настройка-kea-dhcp"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Настройка Kea DHCP&lt;/h2&gt;
&lt;h3 id="ключ"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Ключ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Файл ключа назовём &lt;code&gt;/etc/kea/tsig-keys.json&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;touch /etc/kea/tsig-keys.json
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Перенесём ключ на сервер Kea DHCP и перепишем его в формате json:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-js" data-lang="js"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;&amp;#34;tsig-keys&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;DHCP_UPDATER&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;algorithm&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;hmac-sha512&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;secret&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;psFFSGdUIwK36l1G82LOw15PuIH4W5uB8h/cw7F0XDsjniBbwm/59tM+V3ydcCs15VLpe2pxlUlggWilytQqgg==&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Сменим владельца:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chown kea:root /etc/kea/tsig-keys.json
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Поправим права доступа:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chmod &lt;span class="m"&gt;640&lt;/span&gt; /etc/kea/tsig-keys.json
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="сервис-ddns"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Сервис ddns&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Настройка происходит в файле &lt;code&gt;/etc/kea/kea-dhcp-ddns.conf&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Файл будет иметь следующий вид:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-js" data-lang="js"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;DhcpDdns&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;ip-address&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;127.0.0.1&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;port&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;53001&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;control-socket&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;socket-type&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;unix&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;socket-name&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;/tmp/kea-ddns-ctrl-socket&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="o"&gt;&amp;lt;?&lt;/span&gt;&lt;span class="nx"&gt;include&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;/etc/kea/tsig-keys.json&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;?&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;forward-ddns&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;ddns-domains&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;local.zone.&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;key-name&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;DHCP_UPDATER&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;dns-servers&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;ip-address&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;192.168.0.1&amp;#34;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;reverse-ddns&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;ddns-domains&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;0.168.192.in-addr.arpa.&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;key-name&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;DHCP_UPDATER&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;dns-servers&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;ip-address&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;192.168.0.1&amp;#34;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;loggers&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;kea-dhcp-ddns&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;output_options&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;output&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;stdout&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;pattern&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;%-5p %m\n&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;severity&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;INFO&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;debuglevel&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Обратите особое внимание на точку в конце имени зоны, иначе DDNS завершится сбоем и сообщит, что не удалось найти соответствующее полное доменное имя.&lt;/li&gt;
&lt;li&gt;Можно определить несколько DNS-серверов.&lt;/li&gt;
&lt;li&gt;Раздел журналирования оставлен из шаблона.&lt;/li&gt;
&lt;li&gt;Изменим владельца файла:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chown kea:root /etc/kea/kea-dhcp-ddns.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Проверим файл на наличие возможных синтаксических ошибок:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;kea-dhcp-ddns -t /etc/kea/kea-dhcp-ddns.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Запустим службу ddns:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now kea-dhcp-ddns.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Проверим статус работы службы:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl status kea-dhcp-ddns.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="сервис-dhcp4"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Сервис dhcp4&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Настройка происходит в файле &lt;code&gt;/etc/kea/kea-dhcp4.conf&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Включим динамическое обновление:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-js" data-lang="js"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;&amp;#34;dhcp-ddns&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;enable-updates&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;&amp;#34;ddns-qualifying-suffix&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;local.zone&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;&amp;#34;ddns-override-client-update&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Включаем обновления DDNS.&lt;/li&gt;
&lt;li&gt;Затем мы сообщаем DHCP-серверу, каким будет DNS-суффикс по умолчанию.
&lt;ul&gt;
&lt;li&gt;Если клиент предоставляет только своё имя хоста, это вызывает проблемы для DDNS, поскольку он не будет знать, что такое полное доменное имя, и поэтому не будет знать, какую зону обновлять.&lt;/li&gt;
&lt;li&gt;Другими словами, команда &lt;code&gt;ddns-qualifying-suffix&lt;/code&gt; используется для указания того, какое доменное имя должно быть добавлено к имени хоста.&lt;/li&gt;
&lt;li&gt;Можно определить это для каждой подсети.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Для параметра &lt;code&gt;ddns-override-client-update&lt;/code&gt; устанавливается значение &lt;code&gt;true&lt;/code&gt;, поскольку мы не хотим, чтобы клиент решал, какие записи обновлять.&lt;/li&gt;
&lt;li&gt;Проверим файл на наличие возможных синтаксических ошибок:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;kea-dhcp4 -t /etc/kea/kea-dhcp4.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Перезапустим службу, чтобы изменения вступили в силу:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl restart kea-dhcp4.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Проверим статус:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl status kea-dhcp4.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Сервер DHCP Kea</title><link>https://yamadharma.github.io/ru/post/2024/06/18/dhcp-kea-server/</link><pubDate>Tue, 18 Jun 2024 11:07:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/06/18/dhcp-kea-server/</guid><description>&lt;p&gt;Сервер DHCP Kea.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#особенности"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Особенности&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Настройка&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#дополнения"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Дополнения&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Сайт:
&lt;/li&gt;
&lt;li&gt;Современный стандартный сервер DHCP.&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Документация:
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="особенности"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Особенности&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Модульная конструкция компонентов
&lt;ul&gt;
&lt;li&gt;Расширяется с помощью модулей-хуков.&lt;/li&gt;
&lt;li&gt;Дистрибутив Kea включает отдельные демоны для сервера DHCPv4, сервера DHCPv6 и модуля динамического DNS (DDNS).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Онлайн-реконфигурация с помощью REST API.
&lt;ul&gt;
&lt;li&gt;Kea использует файл конфигурации JSON, который можно изменить удалённо без остановки и перезапуска сервера.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Панель управления через веб-интерфейс.&lt;/li&gt;
&lt;li&gt;Поддерживает базы данных MySQL, PostgreSQL:
&lt;ul&gt;
&lt;li&gt;упрощает интеграцию с другими системами;&lt;/li&gt;
&lt;li&gt;можно использовать один и тот же сервер резервирования хостов для нескольких DHCP-серверов;&lt;/li&gt;
&lt;li&gt;администрирование глобальных параметров из централизованной системы настройки.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="настройка"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Настройка&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="дополнения"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Дополнения&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Sway. Конфигурация</title><link>https://yamadharma.github.io/ru/post/2024/06/12/sway-configuration/</link><pubDate>Wed, 12 Jun 2024 20:02:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/06/12/sway-configuration/</guid><description>&lt;p&gt;Конфигурация Sway.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#расположение"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Расположение&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#переменные-среды"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Переменные среды&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#разделы"&gt;&lt;span class="section-num"&gt;1.3&lt;/span&gt; Разделы&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#gentoo"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Gentoo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#конфигурация-sway"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Конфигурация Sway&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#сочетания-клавиш"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Сочетания клавиш&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#статусные-панели"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Статусные панели&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#sway-bar"&gt;&lt;span class="section-num"&gt;3.2.1&lt;/span&gt; Sway-bar&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#waybar"&gt;&lt;span class="section-num"&gt;3.2.2&lt;/span&gt; Waybar&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#nwg-panel"&gt;&lt;span class="section-num"&gt;3.2.3&lt;/span&gt; Nwg-panel&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#yambar"&gt;&lt;span class="section-num"&gt;3.2.4&lt;/span&gt; Yambar&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#менеджер-паролей"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Менеджер паролей&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#tessen"&gt;&lt;span class="section-num"&gt;3.3.1&lt;/span&gt; Tessen&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#рабочие-пространства"&gt;&lt;span class="section-num"&gt;3.4&lt;/span&gt; Рабочие пространства&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#именование-рабочих-пространств"&gt;&lt;span class="section-num"&gt;3.4.1&lt;/span&gt; Именование рабочих пространств&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#перемещение-по-рабочим-пространствам"&gt;&lt;span class="section-num"&gt;3.4.2&lt;/span&gt; Перемещение по рабочим пространствам&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#распределение-программ-по-рабочим-пространствам"&gt;&lt;span class="section-num"&gt;3.4.3&lt;/span&gt; Распределение программ по рабочим пространствам&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#распределение-рабочих-пространств-по-мониторам"&gt;&lt;span class="section-num"&gt;3.4.4&lt;/span&gt; Распределение рабочих пространств по мониторам&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#макет-контейнеров-по-умолчанию"&gt;&lt;span class="section-num"&gt;3.4.5&lt;/span&gt; Макет контейнеров по умолчанию&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;h3 id="расположение"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Расположение&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Конфигурация находится в:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/usr/share/sway/&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/sway/&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;~/.config/sway&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="переменные-среды"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Переменные среды&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Переменные среды задаются в:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/etc/sway/environment&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;~/.config/sway/environment&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="разделы"&gt;&lt;span class="section-num"&gt;1.3&lt;/span&gt; Разделы&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Файлы конфигурации сгруппированы в разделы.&lt;/li&gt;
&lt;li&gt;50-59 ( &lt;code&gt;50-rules-*.conf&lt;/code&gt; )
&lt;ul&gt;
&lt;li&gt;Оконные правила( &lt;code&gt;for_window&lt;/code&gt;, &lt;code&gt;assign&lt;/code&gt; и соответствующую конфигурацию).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;60-69 ( &lt;code&gt;60-bindings-*.conf&lt;/code&gt;, &lt;code&gt;65-mode-.conf&lt;/code&gt;)
&lt;ul&gt;
&lt;li&gt;Привязки клавиш и режимы привязки&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;90-94 ( &lt;code&gt;90-*.conf&lt;/code&gt; )
&lt;ul&gt;
&lt;li&gt;Системные приложения: панели, демоны простоя и другие компоненты.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;95-99 ( &lt;code&gt;95-*.conf&lt;/code&gt; )
&lt;ul&gt;
&lt;li&gt;Автозапуск приложений&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/h2&gt;
&lt;h3 id="gentoo"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Gentoo&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Пакет идёт в основном репозитории:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge gui-wm/sway
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="конфигурация-sway"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Конфигурация Sway&lt;/h2&gt;
&lt;h3 id="сочетания-клавиш"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Сочетания клавиш&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="статусные-панели"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Статусные панели&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Конфигурационный файл: &lt;code&gt;config.d/80-bar.conf&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Status Bar
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 1:&lt;/span&gt;
config.d/80-bar.conf
&lt;/div&gt;
&lt;h4 id="sway-bar"&gt;&lt;span class="section-num"&gt;3.2.1&lt;/span&gt; Sway-bar&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Sway-bar идёт в составе Sway.&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;### sway-bar
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Read `man 5 sway-bar` for more information about this section.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# bar {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# font pango:Iosevka Nerd Font Propo, Font Awesome 6 Free, Font Awesome 6 Brands, sans-serif 12
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# position top
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# When the status_command prints a new line to stdout, swaybar updates.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# The default just shows the current date and time.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# status_command while date +&amp;#39;%Y-%m-%d %H:%M:%S&amp;#39;; do sleep 1; done
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# status_command i3status
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# status_command i3blocks
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# colors {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# statusline #ffffff
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# background #323232
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# inactive_workspace #32323200 #32323200 #5c5c5c
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# }
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 2:&lt;/span&gt;
config.d/80-bar.conf
&lt;/div&gt;
&lt;h4 id="waybar"&gt;&lt;span class="section-num"&gt;3.2.2&lt;/span&gt; Waybar&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;### Waybar
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## https://github.com/Alexays/Waybar
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Waybar Tooltips don&amp;#39;t steel focus
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# no_focus [app_id=&amp;#34;waybar&amp;#34;]
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# for_window [app_id=&amp;#34;waybar&amp;#34; floating] {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# move position cursor
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# move down 60px # adjust if some menus still don&amp;#39;t fit
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 3:&lt;/span&gt;
config.d/80-bar.conf
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Запускать можно разными способами.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Запуск скриптом. Скрипт убивает waybar и запускает заново:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;exec_always ~/.config/waybar/waybar.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Запуск через &lt;code&gt;waybar.service&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# exec_always systemctl --user restart waybar.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Запуск через инфраструктуру &lt;em&gt;Swaybar&lt;/em&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# bar {&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# position top&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# # Execute Waybar; Waybar restarts when Sway reloads.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# status_command waybar&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# # Hide Sway&amp;#39;s builtin status bar.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# mode invisible&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# }&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;При этом после перезапуска &lt;em&gt;Sway&lt;/em&gt; waybar не перезапускается, а запускает новый экземпляр.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="nwg-panel"&gt;&lt;span class="section-num"&gt;3.2.3&lt;/span&gt; Nwg-panel&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;### nwg-panel
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## GTK3-based panel for sway and Hyprland Wayland compositors
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## https://nwg-piotr.github.io/nwg-shell/nwg-panel
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## https://github.com/nwg-piotr/nwg-panel
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# exec_always nwg-panel -c preset-1 -s preset-1.css
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 4:&lt;/span&gt;
config.d/80-bar.conf
&lt;/div&gt;
&lt;h4 id="yambar"&gt;&lt;span class="section-num"&gt;3.2.4&lt;/span&gt; Yambar&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;### yambar
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## https://codeberg.org/dnkl/yambar
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# exec_always yambar
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 5:&lt;/span&gt;
config.d/80-bar.conf
&lt;/div&gt;
&lt;h3 id="менеджер-паролей"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Менеджер паролей&lt;/h3&gt;
&lt;h4 id="tessen"&gt;&lt;span class="section-num"&gt;3.3.1&lt;/span&gt; Tessen&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## A bash script to handle Simple Password Store in a convenient way using rofi
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## https://github.com/ayushnix/tessen
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Dmenu // Password Manager // ◆ Super ⎈ Ctrl p ##
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$bindsym $mod+Ctrl+p exec &amp;#34;tessen&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 6:&lt;/span&gt;
config.d/80-pass.conf
&lt;/div&gt;
&lt;h3 id="рабочие-пространства"&gt;&lt;span class="section-num"&gt;3.4&lt;/span&gt; Рабочие пространства&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Конфигурационный файл: &lt;code&gt;config.d/03-workspace.conf&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-mysql" data-lang="mysql"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# To enable floating windows or window assignments, open the application
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# and then use the app_id, the class, the instance and the title
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# attributes to enable floating windows/window assignments. The
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# following command will list the properties of all the open windows.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="c1"&gt;# ```bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# swaymsg -t get_tree
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# ```
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="c1"&gt;# To get only the `app_id`&amp;#39;s of all open windows use:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="c1"&gt;# ```bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# swaymsg -t get_tree | grep &amp;#34;app_id&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# ```
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="c1"&gt;# To get the `app_id` of the focused window use:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="c1"&gt;# ```bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# swaymsg -t get_tree | jq -r &amp;#39;..|try select(.focused == true)&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# ```
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="c1"&gt;# If the `app_id` happens to be null for some windows, you might have to
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# use the class and/or the instance attributes to enable floating
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# mode/window assignments. You can search the output and create fine
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# grained rules for your windows.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id="именование-рабочих-пространств"&gt;&lt;span class="section-num"&gt;3.4.1&lt;/span&gt; Именование рабочих пространств&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;### Define names for workspaces
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $ws1 &amp;#34;1: &amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $ws2 &amp;#34;2: &amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $ws3 &amp;#34;3: &amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $ws4 &amp;#34;4:󱫋 &amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $ws5 &amp;#34;5:󰊻 &amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $ws6 &amp;#34;6: &amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $ws7 7
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $ws8 8
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $ws9 &amp;#34;9:󰨜 &amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $ws10 10
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id="перемещение-по-рабочим-пространствам"&gt;&lt;span class="section-num"&gt;3.4.2&lt;/span&gt; Перемещение по рабочим пространствам&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;### Switch to workspace
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+1 workspace $ws1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+2 workspace $ws2
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+3 workspace $ws3
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+4 workspace $ws4
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+5 workspace $ws5
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+6 workspace $ws6
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+7 workspace $ws7
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+8 workspace $ws8
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+9 workspace $ws9
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+0 workspace $ws10
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;### Move focused container to workspace
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+1 move container to workspace $ws1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+2 move container to workspace $ws2
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+3 move container to workspace $ws3
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+4 move container to workspace $ws4
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+5 move container to workspace $ws5
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+6 move container to workspace $ws6
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+7 move container to workspace $ws7
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+8 move container to workspace $ws8
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+9 move container to workspace $ws9
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+0 move container to workspace $ws10
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id="распределение-программ-по-рабочим-пространствам"&gt;&lt;span class="section-num"&gt;3.4.3&lt;/span&gt; Распределение программ по рабочим пространствам&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;### Assign program to workspace
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## `swaymsg -t get_tree`
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## ws1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [window_role=&amp;#34;^browser$&amp;#34;] $ws1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [class=&amp;#34;Firefox&amp;#34;] $ws1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [class=&amp;#34;firefox&amp;#34;] $ws1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [app_id=&amp;#34;firefox&amp;#34;] $ws1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [app_id=&amp;#34;google-chrome&amp;#34;] $ws1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [class=&amp;#34;Google-chrome&amp;#34;] $ws1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [class=&amp;#34;Thunderbird&amp;#34;] $ws1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [app_id=&amp;#34;thunderbird&amp;#34;] $ws1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [app_id=&amp;#34;evolution&amp;#34;] $ws1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [app_id=&amp;#34;chromium-browser-chromium&amp;#34;] $ws1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [app_id=&amp;#34;chromium-browser.*&amp;#34;] $ws8
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## ws2
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [class=&amp;#34;Emacs&amp;#34;] $ws2
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [app_id=&amp;#34;emacs&amp;#34;] $ws2
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## ws3
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [app_id=&amp;#34;kitty&amp;#34;] $ws3
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## ws4
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [class=&amp;#34;VirtualBox*&amp;#34;] $ws4
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [app_id=&amp;#34;virt-manager&amp;#34;] $ws4
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## ws5
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [class=&amp;#34;teams-for-linux&amp;#34;] $ws5
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [class=&amp;#34;zoom&amp;#34;] $ws5
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [app_id=&amp;#34;.*Яндекс.*Браузер&amp;#34;] $ws1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## ws6
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [app_id=&amp;#34;whatsapp-for-linux&amp;#34;] $ws6
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [app_id=&amp;#34;org.telegram.desktop&amp;#34;] $ws6
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [app_id=&amp;#34;wasistlos&amp;#34;] $ws6
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [app_id=&amp;#34;ferdium&amp;#34;] $ws6
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## ws9
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;assign [app_id=&amp;#34;com.obsproject.Studio&amp;#34;] $ws9
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id="распределение-рабочих-пространств-по-мониторам"&gt;&lt;span class="section-num"&gt;3.4.4&lt;/span&gt; Распределение рабочих пространств по мониторам&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;### Assign workspace to monitor
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# workspace $ws1 output eDP-1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# workspace $ws2 output DP-4
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# workspace $ws3 output DP-5
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id="макет-контейнеров-по-умолчанию"&gt;&lt;span class="section-num"&gt;3.4.5&lt;/span&gt; Макет контейнеров по умолчанию&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;### Layout mode for new containers
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## default|stacking|tabbed
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;workspace_layout tabbed
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item><item><title>Proxmox. Вспомогательные скрипты</title><link>https://yamadharma.github.io/ru/post/2024/06/04/proxmox-helper-scripts/</link><pubDate>Tue, 04 Jun 2024 13:34:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/06/04/proxmox-helper-scripts/</guid><description>&lt;p&gt;Вспомогательные скрипты для Proxmox.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-сервера"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Настройка сервера&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#proxmox-ve-post-install"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Proxmox VE Post Install&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#proxmox-ve-processor-microcode"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Proxmox VE Processor Microcode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#proxmox-ve-cpu-scaling-governor"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Proxmox VE CPU Scaling Governor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#proxmox-ve-kernel-clean"&gt;&lt;span class="section-num"&gt;2.4&lt;/span&gt; Proxmox VE Kernel Clean&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#proxmox-update-repositories"&gt;&lt;span class="section-num"&gt;2.5&lt;/span&gt; Proxmox Update Repositories&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#proxmox-backup-server-post-install"&gt;&lt;span class="section-num"&gt;2.6&lt;/span&gt; Proxmox Backup Server Post Install&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Proxmox VE Helper-Scripts&lt;/li&gt;
&lt;li&gt;Сайт:
&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Сборник скриптов для Proxmov VE.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="настройка-сервера"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Настройка сервера&lt;/h2&gt;
&lt;h3 id="proxmox-ve-post-install"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Proxmox VE Post Install&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Отключение Enterprise Repo.&lt;/li&gt;
&lt;li&gt;Добавление или исправление источников PVE.&lt;/li&gt;
&lt;li&gt;Включение No-Subscription Repo.&lt;/li&gt;
&lt;li&gt;Добавление тестового репозитория.&lt;/li&gt;
&lt;li&gt;Отключение подписки nag.&lt;/li&gt;
&lt;li&gt;Обновление Proxmox VE.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bash -c &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;wget -qLO - https://github.com/community-scripts/ProxmoxVE/raw/main/misc/post-pve-install.sh&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="proxmox-ve-processor-microcode"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Proxmox VE Processor Microcode&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Добавление пакета для загрузки микрокода процессора:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bash -c &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;wget -qLO - https://github.com/community-scripts/ProxmoxVE/raw/main/misc/microcode.sh&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="proxmox-ve-cpu-scaling-governor"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Proxmox VE CPU Scaling Governor&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Частота CPU регулируется в зависимости от рабочей нагрузки.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bash -c &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;wget -qLO - https://github.com/community-scripts/ProxmoxVE/raw/main/misc/scaling-governor.sh&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="proxmox-ve-kernel-clean"&gt;&lt;span class="section-num"&gt;2.4&lt;/span&gt; Proxmox VE Kernel Clean&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Удаление неиспользуемых образов ядра.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bash -c &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;wget -qLO - https://github.com/community-scripts/ProxmoxVE/raw/main/misc/kernel-clean.sh&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="proxmox-update-repositories"&gt;&lt;span class="section-num"&gt;2.5&lt;/span&gt; Proxmox Update Repositories&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Переписать ссылки в контейнерах LXC для нового репозиторий скриптов:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bash -c &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;wget -qLO - https://github.com/community-scripts/ProxmoxVE/raw/main/misc/update-repo.sh&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="proxmox-backup-server-post-install"&gt;&lt;span class="section-num"&gt;2.6&lt;/span&gt; Proxmox Backup Server Post Install&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Отключение Enterprise Repo.&lt;/li&gt;
&lt;li&gt;Добавление или исправление источников PVE.&lt;/li&gt;
&lt;li&gt;Включение No-Subscription Repo.&lt;/li&gt;
&lt;li&gt;Добавление тестового репозитория.&lt;/li&gt;
&lt;li&gt;Отключение подписки nag.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bash -c &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;wget -qLO - https://github.com/community-scripts/ProxmoxVE/raw/main/misc/post-pbs-install.sh&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Linux. Установка Proxmox VE</title><link>https://yamadharma.github.io/ru/post/2024/06/04/proxmox-ve-install/</link><pubDate>Tue, 04 Jun 2024 11:23:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/06/04/proxmox-ve-install/</guid><description>&lt;p&gt;Установка Proxmox VE.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#стандартная-установка"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Стандартная установка&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#web-интерфейс"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Web-интерфейс&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#выбор-файловой-системы"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Выбор файловой системы&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-после-установки"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Настройка после установки&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#повышение-комфорта-работы"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Повышение комфорта работы&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#скрипты-для-тьюнинга--см-dot-proxmox-dot-вспомогательные-скрипты--dot-dot-notes-public-20240604133400-proxmox-вспомогательные-скрипты-dot-md"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Скрипты для тьюнинга (см. Proxmox. Вспомогательные скрипты)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#обновление"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Обновление&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#безопасность"&gt;&lt;span class="section-num"&gt;3.4&lt;/span&gt; Безопасность&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-сети-с-vlan"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Настройка сети с VLAN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#дисковая-подсистема"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Дисковая подсистема&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#local-lvm"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; local-lvm&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#создание-дополнительного-раздел-на-lvm-thin"&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; Создание дополнительного раздел на lvm-thin&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Сайт:
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/h2&gt;
&lt;h3 id="стандартная-установка"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Стандартная установка&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Если Вы используете железный RAID-контроллер, не используйте с ним файловую систему ZFS.&lt;/li&gt;
&lt;li&gt;После завершения установки, сервер нужно перезагрузить с помощью кнопки &lt;code&gt;Reboot&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="web-интерфейс"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Web-интерфейс&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Веб-интерфейс управления станет доступен по адресу:&lt;/p&gt;
&lt;div class="verse"&gt;
&lt;p&gt;
&lt;br /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="выбор-файловой-системы"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Выбор файловой системы&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Если у вас железный RAID, то выбирайте ext4 или xfs (наверное, лучше, но может посыпаться без ИБП).&lt;/li&gt;
&lt;li&gt;Поверх этих систем будет установлен LVM.&lt;/li&gt;
&lt;li&gt;Если у вас несколько дисков и вы желаете сделать софтовый RAID, то выбирайте RAID на ZFS.&lt;/li&gt;
&lt;li&gt;Построение RAID на основе mdadm дистрибутив не поддерживает.&lt;/li&gt;
&lt;li&gt;Учтите, что при соединении в кластер машин с LVM и ZFS вам придётся переконфигурировать локальное хранилище &lt;code&gt;local-lvm&lt;/code&gt; вручную.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="настройка-после-установки"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Настройка после установки&lt;/h2&gt;
&lt;h3 id="повышение-комфорта-работы"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Повышение комфорта работы&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Обновите репозитории:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Программы для удобства работы в консоли:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;apt -y install tmux mc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Программы мониторинга:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;apt -y install htop lsof
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Утилита для ssh:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;apt -y install mosh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Удобство работы с bash:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;apt -y install bash-completion
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Разные утилиты:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;apt -y install p7zip-full git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Для удалённой работы с kitty:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;apt -y install kitty-terminfo kitty-shell-integration
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="скрипты-для-тьюнинга--см-dot-proxmox-dot-вспомогательные-скрипты--dot-dot-notes-public-20240604133400-proxmox-вспомогательные-скрипты-dot-md"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Скрипты для тьюнинга (см.
)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Proxmox VE Post Install&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bash -c &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;wget -qLO - https://github.com/community-scripts/ProxmoxVE/raw/main/misc/post-pve-install.sh&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Proxmox VE Processor Microcode&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;apt -y install iucode-tool
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bash -c &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;wget -qLO - https://github.com/community-scripts/ProxmoxVE/raw/main/misc/microcode.sh&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="обновление"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Обновление&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Обновите систему:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;apt update
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;apt -y upgrade
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="безопасность"&gt;&lt;span class="section-num"&gt;3.4&lt;/span&gt; Безопасность&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Установите и настройте fail2ban (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;apt install fail2ban
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;После настройки запустите его:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now fail2ban
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="настройка-сети-с-vlan"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Настройка сети с VLAN&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Будем делать сеть на основе Open vSwitch.&lt;/li&gt;
&lt;li&gt;Установим Open vSwitch:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;apt-get install openvswitch-switch
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Создадим &lt;em&gt;OVS Bridge&lt;/em&gt; c поддержкой VLAN из графического интерфейса и прикрепим его к сетевому интерфейсу.&lt;/li&gt;
&lt;li&gt;Например, установим мост &lt;code&gt;vmbr1&lt;/code&gt; на интерфейс &lt;code&gt;eno2&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;auto eno2
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;iface eno2 inet manual
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ovs_type OVSPort
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ovs_bridge vmbr1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;auto vmbr1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;iface vmbr1 inet manual
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ovs_type OVSBridge
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ovs_ports eno2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Для создания VLAN для самого сервера создаём &lt;em&gt;OVSIntPort&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;После настроек нажимаем &lt;em&gt;Apply Configuration&lt;/em&gt; в графическом интерфейсе.&lt;/li&gt;
&lt;li&gt;Виртуальные машины прикрепляем на созданный мост, настройках сети устанавливаем нужный &lt;em&gt;VLAN Tag&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="дисковая-подсистема"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Дисковая подсистема&lt;/h2&gt;
&lt;h3 id="local-lvm"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; local-lvm&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Установщик выделяет два логических раздела: &lt;code&gt;local&lt;/code&gt; и &lt;code&gt;local-lvm&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;На разделе &lt;code&gt;local-lvm&lt;/code&gt; можно выделить дополнительный раздел.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="создание-дополнительного-раздел-на-lvm-thin"&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; Создание дополнительного раздел на lvm-thin&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Смотрим уже существующие VG:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vgs
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Смотрим существующие LV:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;lvs
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Видим, что раздел &lt;code&gt;data&lt;/code&gt; является lvm-thin (атрибут &lt;code&gt;t&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Создаём на нем раздел:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;lvcreate -V100G -T pve/data -n newdisk
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Проверяем:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;lvs
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Форматируем раздел:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkfs.ext4 /dev/pve/newdisk
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Можно подмонтировать:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir /mnt/newdisk
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount /dev/pve/newdisk /mnt/newdisk
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Можно по необходимости удалить раздел:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vlmremove /dev/pve/newdisk
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Linux. Дистрибутив Proxmox</title><link>https://yamadharma.github.io/ru/post/2024/06/04/linux-proxmox-distribution/</link><pubDate>Tue, 04 Jun 2024 10:45:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/06/04/linux-proxmox-distribution/</guid><description>&lt;p&gt;Дистрибутив Proxmox.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#proxmox-virtual-environment--proxmox-ve"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Proxmox Virtual Environment (Proxmox VE)&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#установка-и-настройка"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Установка и настройка&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#дистрибутивы-для-установки"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Дистрибутивы для установки&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка-виртуальных-машин"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Установка виртуальных машин&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#дополнительный-функционал"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Дополнительный функционал&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Набор дистрибутивов Linux.&lt;/li&gt;
&lt;li&gt;Основаны на Debian GNU/Linux.&lt;/li&gt;
&lt;li&gt;Разрабатывается австрийской фирмой Proxmox Server Solutions GmbH, спонсируемой Internet Foundation Austria.&lt;/li&gt;
&lt;li&gt;Сайт:
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="proxmox-virtual-environment--proxmox-ve"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Proxmox Virtual Environment (Proxmox VE)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Основной дистрибутив набора.&lt;/li&gt;
&lt;li&gt;Система виртуализации.&lt;/li&gt;
&lt;li&gt;В качестве гипервизоров использует KVM и LXC (начиная с версии 4.0, в версиях до 3.4 включительно вместо него использовался OpenVZ).&lt;/li&gt;
&lt;li&gt;Управление виртуальными машинами и администрирование самого сервера производятся через веб-интерфейс либо через интерфейс командной строки.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="установка-и-настройка"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Установка и настройка&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="дистрибутивы-для-установки"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Дистрибутивы для установки&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка-виртуальных-машин"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Установка виртуальных машин&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="дополнительный-функционал"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Дополнительный функционал&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Скачать фотографии с google photo</title><link>https://yamadharma.github.io/ru/post/2024/06/01/google-photo-download/</link><pubDate>Sat, 01 Jun 2024 16:42:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/06/01/google-photo-download/</guid><description>&lt;p&gt;Скачать фотографии с google photo.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#прагматика"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Прагматика&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#скачивание-фотографий"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Скачивание фотографий&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#переименование-фотографий"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Переименование фотографий&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#копируем-фотографии-на-телефон"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Копируем фотографии на телефон&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="прагматика"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Прагматика&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Необходимо было скачать фотографии с сервиса Google Photo.&lt;/li&gt;
&lt;li&gt;Кроме того, желательно разместить их на другом облачном сервисе.&lt;/li&gt;
&lt;li&gt;Предполагается разместить на Яндекс с тарифом из группы Яндекс Плюс.&lt;/li&gt;
&lt;li&gt;На этом тарифе фотографии размещаются без учёта места под них в случае, если загружаются с мобильного телефона.&lt;/li&gt;
&lt;li&gt;Предполагается следующий алгоритм:
&lt;ul&gt;
&lt;li&gt;Скачать фотографии на локальный компьютер.&lt;/li&gt;
&lt;li&gt;Переименовать фотографии.&lt;/li&gt;
&lt;li&gt;Перенести фотографии на телефон.&lt;/li&gt;
&lt;li&gt;Скопировать фотографии в локальное хранилище.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="скачивание-фотографий"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Скачивание фотографий&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Скачивать будем с помощью rclone (см.
).&lt;/li&gt;
&lt;li&gt;Запусти команду:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rclone config
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Создадим учётную запись &lt;code&gt;google-photo&lt;/code&gt; для сервиса &lt;code&gt;Google Photos&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Проверьте соединение:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rclone ls google-photo:media
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Создадим каталог для скачивания:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir -p ~/work-local/google-photo/sync
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Скачаем фотографии с размещением по месяцам:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; ~/work-local/google-photo/sync
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rclone sync google-photo:media/by-month .
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Если будет ошибка о превышении квоты на скорость чтения, поставьте ограничение (10 запросов в секунду):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rclone sync --tpslimit &lt;span class="m"&gt;10&lt;/span&gt; google-photo:media/by-month .
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="переименование-фотографий"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Переименование фотографий&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Подготовим каталог, из которого будем переносить фотографии на телефон:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir -p ~/work-local/google-photo/phone
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Сдублируем фотографии:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; ~/work-local/google-photo/sync
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;find . -type f -exec ln &lt;span class="s1"&gt;&amp;#39;{}&amp;#39;&lt;/span&gt; ../phone/ &lt;span class="se"&gt;\;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Переименуем фотографии:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;jhead -n%Y%m%d-%H%M%S *.jpg
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;jhead -n%Y%m%d-%H%M%S *.jpeg
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;jhead -n%Y%m%d-%H%M%S *.jpe
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;exiftool &lt;span class="s2"&gt;&amp;#34;-filename&amp;lt;createdate&amp;#34;&lt;/span&gt; -globaltimeshift &lt;span class="s2"&gt;&amp;#34;-0:0:1 0:0:0&amp;#34;&lt;/span&gt; -d %Y%m%d-%H%M%S.%%e .
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Также можно переименовать файлы на основе времени создания:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;for&lt;/span&gt; i in *.png&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; mv -n &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="nv"&gt;$i&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;date -r &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="nv"&gt;$i&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; +&lt;span class="s2"&gt;&amp;#34;%Y%m%d-%H%M%S&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;.png&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;for&lt;/span&gt; i in *.gif&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; mv -n &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="nv"&gt;$i&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;date -r &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="nv"&gt;$i&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; +&lt;span class="s2"&gt;&amp;#34;%Y%m%d-%H%M%S&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;.gif&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;for&lt;/span&gt; i in *.mp4&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; mv -n &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="nv"&gt;$i&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;date -r &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="nv"&gt;$i&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; +&lt;span class="s2"&gt;&amp;#34;%Y%m%d-%H%M%S&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;.mp4&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;for&lt;/span&gt; i in *.avi&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; mv -n &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="nv"&gt;$i&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;date -r &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="nv"&gt;$i&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; +&lt;span class="s2"&gt;&amp;#34;%Y%m%d-%H%M%S&amp;#34;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;.avi&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="копируем-фотографии-на-телефон"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Копируем фотографии на телефон&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Подключим телефон.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Посмотрим список подключённых устройств:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;simple-mtpfs -l
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Подмонтируем телефон (от был под номером &lt;code&gt;1&lt;/code&gt; в списке устройств):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir -p ~/n/mtp/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;simple-mtpfs --device &lt;span class="m"&gt;1&lt;/span&gt; ~/n/mtp/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Создадим каталог на телефоне для фотографий:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir -p ~/n/mtp/google-photo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Скопируем (или перенесём) файлы на телефон:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rsync -aiv ~/work-local/google-photo/phone/* ~/n/mtp/google-photo/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Можно удалять файлы по мере копирования:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rsync -aiv --remove-source-files ~/work-local/google-photo/phone/* ~/n/mtp/google-photo/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Вы можете потом поправить время создания файлов:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;jhead -ft *.jpg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Установка Linux в WSL</title><link>https://yamadharma.github.io/ru/post/2024/05/30/linux-wsl-install/</link><pubDate>Thu, 30 May 2024 16:16:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/05/30/linux-wsl-install/</guid><description>&lt;p&gt;Установка Linux в WSL.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#ссылки"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Ссылки&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#документация"&gt;&lt;span class="section-num"&gt;1.1.1&lt;/span&gt; Документация&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Настройка&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#основные-команды"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Основные команды&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Установка&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#wsl"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; WSL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ubuntu"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Ubuntu&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#fedora"&gt;&lt;span class="section-num"&gt;4.3&lt;/span&gt; Fedora&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#arch"&gt;&lt;span class="section-num"&gt;4.4&lt;/span&gt; Arch&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#первичная-настройка"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Первичная настройка&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#учётные-данные"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; Учётные данные&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#поддержка-systemd"&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; Поддержка systemd&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка-базового-программного-обеспечения"&gt;&lt;span class="section-num"&gt;5.3&lt;/span&gt; Установка базового программного обеспечения&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#fedora"&gt;&lt;span class="section-num"&gt;5.3.1&lt;/span&gt; Fedora&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#arch"&gt;&lt;span class="section-num"&gt;5.3.2&lt;/span&gt; Arch&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#emacs"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Emacs&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#fedora"&gt;&lt;span class="section-num"&gt;6.1&lt;/span&gt; Fedora&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#arch"&gt;&lt;span class="section-num"&gt;6.2&lt;/span&gt; Arch&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;h3 id="ссылки"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Ссылки&lt;/h3&gt;
&lt;h4 id="документация"&gt;&lt;span class="section-num"&gt;1.1.1&lt;/span&gt; Документация&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="настройка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Настройка&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Для настройки среды WSL используется утилита &lt;em&gt;WSL Settings&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="основные-команды"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Основные команды&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Список возможных дистрибутивов:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;wsl -l -o
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установка дистрибутива:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;wsl --install &amp;lt;дистрибутив&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Остановка WSL из консоли Windows:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;wsl.exe --shutdown
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Остановка исполнения сеанта Linux:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl halt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Установка&lt;/h2&gt;
&lt;h3 id="wsl"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; WSL&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Установите wsl:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;wsl --install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Включает дополнительные компоненты WSL и платформы виртуальных машин.&lt;/li&gt;
&lt;li&gt;Скачивает и устанавливает последнюю версию ядра Linux.&lt;/li&gt;
&lt;li&gt;Задаёт WSL 2 в качестве среды по умолчанию.&lt;/li&gt;
&lt;li&gt;Во время установки потребуется перезапустить компьютер.&lt;/li&gt;
&lt;li&gt;Если WSL уже установлен, его можно обновить:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;wsl --update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ubuntu"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Ubuntu&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Установите Ubuntu:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;wsl --install Ubuntu
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Скачивает и устанавливает дистрибутив Ubuntu Linux.&lt;/li&gt;
&lt;li&gt;Во время установки потребуется перезапустить компьютер.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="fedora"&gt;&lt;span class="section-num"&gt;4.3&lt;/span&gt; Fedora&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Misrosoft Store:
&lt;/li&gt;
&lt;li&gt;Можно установить из Misrosoft Store.&lt;/li&gt;
&lt;li&gt;Установите Fedora:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;wsl --install FedoraLinux-42
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Скачивает и устанавливает дистрибутив Fedora Linux.&lt;/li&gt;
&lt;li&gt;Запуск дистрибутива:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;wsl.exe -d FedoraLinux-42
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="arch"&gt;&lt;span class="section-num"&gt;4.4&lt;/span&gt; Arch&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Misrosoft Store:
&lt;/li&gt;
&lt;li&gt;Можно установить из Misrosoft Store.&lt;/li&gt;
&lt;li&gt;Установите Arch Linux:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;wsl --install archlinux
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Скачивает и устанавливает дистрибутив Arch Linux.&lt;/li&gt;
&lt;li&gt;Во время установки потребуется перезапустить компьютер.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="первичная-настройка"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Первичная настройка&lt;/h2&gt;
&lt;h3 id="учётные-данные"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; Учётные данные&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;При первом запуске дистрибутива будет предложено создать имя пользователя и пароль для дистрибутива Linux.&lt;/li&gt;
&lt;li&gt;Для каждого дистрибутива Linux используются свои имя пользователя и пароль, и они не связаны с именем пользователя Windows.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="поддержка-systemd"&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; Поддержка systemd&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Сейчас поддержка systemd устанавливается по умолчанию и настройки не требует.&lt;/li&gt;
&lt;li&gt;Убедитесь, что версия WSL: 0.67.6 или более поздняя:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;wsl --version
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;В консоли Linux перейдите под суперпользователя:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo -i
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Откройте для редактирования файл &lt;code&gt;/etc/wsl.conf&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vi /etc/wsl.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Активируйте systemd:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-toml" data-lang="toml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;boot&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;systemd&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Из консоли Windows остановите выполнение WSL:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;wsl.exe --shutdown
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;После повторного запуска WSL проверьте работу systemd:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl list-unit-files --type&lt;span class="o"&gt;=&lt;/span&gt;service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="установка-базового-программного-обеспечения"&gt;&lt;span class="section-num"&gt;5.3&lt;/span&gt; Установка базового программного обеспечения&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;В консоли Linux перейдите под суперпользователя:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo -i
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="fedora"&gt;&lt;span class="section-num"&gt;5.3.1&lt;/span&gt; Fedora&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Обновите систему:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установка системных библиотек:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y install vulkan
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Библиотеки Wayland:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y install libwayland-cursor libwayland-egl libwayland-server
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y install egl-wayland
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установите средства Wayland:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y install wl-clipboard
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Устанавливаем утилиту для удобства работы &lt;em&gt;tmux&lt;/em&gt; (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y install tmux
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Устанавливаем утилиту для удобства работы &lt;em&gt;mc&lt;/em&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y install mc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Автодополнение для bash:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y install bash-completion
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установите git и gh (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y install git gh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Просмотр pdf:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y install evince
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Терминал kitty:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y install kitty
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установите libreoffice:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y install libreoffice
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="arch"&gt;&lt;span class="section-num"&gt;5.3.2&lt;/span&gt; Arch&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Используется пакетный менеджер &lt;em&gt;pacman&lt;/em&gt; (
).&lt;/li&gt;
&lt;li&gt;Обновите систему:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;pacman -Suy
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Устанавливаем утилиту для удобства работы &lt;em&gt;tmux&lt;/em&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;pacman -S tmux
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Устанавливаем утилиту для удобства работы &lt;em&gt;mc&lt;/em&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;pacman -S mc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Автодополнение для bash:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;pacman -S bash-completion
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Просмотр pdf:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;pacman -S evince
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Терминал kitty:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;pacman -S kitty
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установите libreoffice:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;pacman -S libreoffice-fresh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="emacs"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Emacs&lt;/h2&gt;
&lt;h3 id="fedora"&gt;&lt;span class="section-num"&gt;6.1&lt;/span&gt; Fedora&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Установите emacs:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install emacs
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="arch"&gt;&lt;span class="section-num"&gt;6.2&lt;/span&gt; Arch&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Установите emacs:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;pacman -S emacs
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Gentoo. Компиляция системы clang</title><link>https://yamadharma.github.io/ru/post/2024/05/16/gentoo-compiling-clang/</link><pubDate>Thu, 16 May 2024 15:18:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/05/16/gentoo-compiling-clang/</guid><description>&lt;p&gt;Переход на Clang для компиляции системы.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#обновление-системы"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Обновление системы&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#конфигурация"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Конфигурация&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#основная-системная-конфигурация"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Основная системная конфигурация&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общие-настройки"&gt;&lt;span class="section-num"&gt;4.1.1&lt;/span&gt; Общие настройки&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-portage"&gt;&lt;span class="section-num"&gt;4.1.2&lt;/span&gt; Настройка portage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-clang"&gt;&lt;span class="section-num"&gt;4.1.3&lt;/span&gt; Настройка clang&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#конфигурация-окружения-для-каждого-пакета"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Конфигурация окружения для каждого пакета&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#конфигурация-специальных-окружений"&gt;&lt;span class="section-num"&gt;4.3&lt;/span&gt; Конфигурация специальных окружений&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#gcc"&gt;&lt;span class="section-num"&gt;4.3.1&lt;/span&gt; gcc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#clang-без-lto"&gt;&lt;span class="section-num"&gt;4.3.2&lt;/span&gt; clang без LTO&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#clang"&gt;&lt;span class="section-num"&gt;4.3.3&lt;/span&gt; clang&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#clang-plus-mold"&gt;&lt;span class="section-num"&gt;4.3.4&lt;/span&gt; clang + mold&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#clang-18-plus-mold"&gt;&lt;span class="section-num"&gt;4.3.5&lt;/span&gt; clang-18 + mold&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#clang-19-plus-mold"&gt;&lt;span class="section-num"&gt;4.3.6&lt;/span&gt; clang-19 + mold&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#clang-plus-binutils"&gt;&lt;span class="section-num"&gt;4.3.7&lt;/span&gt; clang + binutils&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#компиляция-ядра"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Компиляция ядра&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#c-plus-plus-abi"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; C++ ABI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ресурсы"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Ресурсы&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Обязательно должен быть запасной вариант с &lt;em&gt;GCC&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;На данный момент система не сможет скомпилировать все, что использует &lt;em&gt;Clang&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Установите &lt;code&gt;llvm-libunwind&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge --deselect libunwind
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;FEATURES&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;-protect-owned&amp;#34;&lt;/span&gt; emerge -vO llvm-libunwind
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установите &lt;em&gt;Clang&lt;/em&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge sys-devel/clang-runtime sys-devel/clang sys-libs/compiler-rt sys-libs/compiler-rt-sanitizers sys-devel/lld-toolchain-symlinks sys-devel/lld
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установите библиотеку для C++:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge sys-libs/libcxxabi sys-libs/libcxx
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Вместо &lt;code&gt;lld&lt;/code&gt; можно использовать линкер &lt;code&gt;mold&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge mold
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="обновление-системы"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Обновление системы&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Перекомпилим пакеты с библиотекой &lt;code&gt;libunwind&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;revdep-rebuild --library libunwind -- --keep-going
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Удалите библиотеку &lt;code&gt;libunwind&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge -cv libunwind
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Необходимо перекомпилить программы, слинкованные со стандартной библиотекой &lt;code&gt;libstdc++&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Проверьте, какие программы надо перекомпилить:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;revdep-rebuild --library libstdc++ -p
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Перекомпилим эти пакеты:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;revdep-rebuild --library libstdc++ -- --keep-going
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="конфигурация"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Конфигурация&lt;/h2&gt;
&lt;h3 id="основная-системная-конфигурация"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Основная системная конфигурация&lt;/h3&gt;
&lt;h4 id="общие-настройки"&gt;&lt;span class="section-num"&gt;4.1.1&lt;/span&gt; Общие настройки&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Файл &lt;code&gt;/etc/portage/make.conf&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# this sources the PORTDIR_OVERLAY variable defined by layman. however, the variable expanded by layman was empty&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# source /var/db/repos/gentoo/local/layman/make.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 1:&lt;/span&gt;
/etc/portage/make.conf
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;Подключение настроек конкретного хоста:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;source /etc/portage/make.profile/make.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 2:&lt;/span&gt;
/etc/portage/make.conf
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="настройка-portage"&gt;&lt;span class="section-num"&gt;4.1.2&lt;/span&gt; Настройка portage&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Выбор формата бинарных пакетов:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## binpkg
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;BINPKG_FORMAT=&amp;#34;gpkg&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 3:&lt;/span&gt;
/etc/portage/make.conf
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;Выбор формата сжатия бинарных пакетов:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;BINPKG_COMPRESS=&amp;#34;zstd&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 4:&lt;/span&gt;
/etc/portage/make.conf
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;Формат каталога пакетов:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;FEATURES=binpkg-multi-instance
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 5:&lt;/span&gt;
/etc/portage/make.conf
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;Управление приоритетом:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## https://wiki.gentoo.org/wiki/Portage_niceness
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Extremely low priority (per above)
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;PORTAGE_SCHEDULING_POLICY=&amp;#34;idle&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Lowest priority
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;PORTAGE_NICENESS=&amp;#34;19&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;PORTAGE_IONICE_COMMAND=&amp;#34;ionice -c 3 -p \${PID}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 6:&lt;/span&gt;
/etc/portage/make.conf
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="настройка-clang"&gt;&lt;span class="section-num"&gt;4.1.3&lt;/span&gt; Настройка clang&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Опции для ядерных модулей:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## This is added to make options by linux-mod.eclass
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;BUILD_FIXES=&amp;#34;LLVM=1 LLVM_IAS=1&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CLANG_NO_DEFAULT_CONFIG=1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;COMMON_FLAGS=&amp;#34;-O2 -march=native&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXXFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# CFLAGS=&amp;#34;${CFLAGS} -flto=thin&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXXFLAGS=&amp;#34;${CFLAGS} ${CXXFLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;#CFLAGS=&amp;#34;${CFLAGS} -mllvm -extra-vectorizer-passes -mllvm -enable-cond-stores-vec -mllvm -slp-vectorize-hor-store -mllvm -enable-loopinterchange -mllvm -enable-loop-distribute -mllvm -enable-unroll-and-jam -mllvm -enable-loop-flatten -mllvm -interleave-small-loop-scalar-reduction -mllvm -unroll-runtime-multi-exit -mllvm -aggressive-ext-opt -fno-math-errno -fno-trapping-math -falign-functions=32 -funroll-loops -fno-semantic-interposition -fcf-protection=none -mharden-sls=none -fomit-frame-pointer -mprefer-vector-width=256 -flto&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CC=&amp;#34;clang&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CPP=&amp;#34;clang-cpp&amp;#34; # necessary for xorg-server and possibly other packages
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXX=&amp;#34;clang++&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;AR=&amp;#34;llvm-ar&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;NM=&amp;#34;llvm-nm&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;RANLIB=&amp;#34;llvm-ranlib&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;OBJCOPY=&amp;#34;llvm-objcopy&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LD=&amp;#34;mold&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## No need to set this, clang-common can handle this based on chosen USE flags
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# LDFLAGS=&amp;#34;${LDFLAGS} -fuse-ld=lld&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# LDFLAGS=&amp;#34;${LDFLAGS} -fuse-ld=mold&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# LDFLAGS=&amp;#34;${LDFLAGS} -Wl,-O2 -Wl,--as-needed -Wl,--undefined-version&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# LDFLAGS=&amp;#34;${LDFLAGS} -rtlib=compiler-rt -unwindlib=libunwind&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# LDFLAGS=&amp;#34;${LDFLAGS} -flto&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 7:&lt;/span&gt;
/etc/portage/make.conf
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="конфигурация-окружения-для-каждого-пакета"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Конфигурация окружения для каждого пакета&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Можно задать компилятор для каждого пакета в отдельности в файле &lt;code&gt;/etc/portage/package.env&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;emulation&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;virtualbox&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.0&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# ld.lld error&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;emulation&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;virtualbox&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.1&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# ld.lld error&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;emulation&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;virtualbox&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# ld.lld error&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;emulation&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;virtualbox&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;kvm&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.0&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# ld.lld error&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;emulation&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;virtualbox&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;kvm&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.1&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# ld.lld error&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;emulation&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;virtualbox&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;kvm&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# ld.lld error&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;util&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gengetopt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;2.23&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;coinor&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;osi&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.108&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# bug: #919825&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mathematics&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;octave&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;accessibility&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;brltty&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;arch&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;arj&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;arch&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;lha&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;cdr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cdrtools&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;editors&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;emacs&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# gcc-jit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;editors&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;wily&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;editors&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;wily&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;emulation&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dosemu&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;i18n&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;scim&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;misc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ddcutil&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;office&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dia&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;fbreader&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;paper&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clip&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tesseract&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;texlive&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;core&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;zathura&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;pdf&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mupdf&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cdb&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libiodbc&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mariadb&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sqlite&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;debug&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ddd&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;debug&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gdb&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# gcc itself&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;debug&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;systemtap&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;games&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openscenegraph&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;haskell&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;network&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;haskell&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;old&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;haskell&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;resolv&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;commons&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;daemon&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openjdk&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openjdk&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;17&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openjdk&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;21&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openjdk&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;snappy&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gprolog&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;harbour&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;rust&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;zig&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cereal&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;efl&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ffcall&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;intel&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;vc&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;intrinsics&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libayatana&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;appindicator&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libbpf&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libcdio&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libdnet&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libgamin&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libgudev&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;liblouis&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;liboil&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libphonenumber&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libpqxx&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;log4cpp&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;olm&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;opencl&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;opencl&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;totem&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;parser&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;xmlrpc&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;lisp&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ecl&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;perl&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;OpenGL&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;perl&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;OpenGL&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;GLUT&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;perl&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;PDL&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;perl&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;PGPLOT&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cysignals&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;pygame&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;scipy&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;zstandard&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;qt&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;qtwebengine&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;qt&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;qtwebengine&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;tex&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tectonic&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;util&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;android&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;tools&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;util&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;kdevelop&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;util&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mingw64&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;toolchain&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# gcc itself&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;util&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;yacc&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;vcs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cvs&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;vcs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;darcs&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;gui&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gtk&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;kde&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;apps&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;step&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;llvm&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;core&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;lldb&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;mail&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;thunderbird&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gfx&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;autopano&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;sift&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gfx&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;blender&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;4.0&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gfx&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;exact&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gfx&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;graphicsmagick&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gfx&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;inkscape&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gfx&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openvdb&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gfx&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;povray&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gfx&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sane&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;backends&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;avidemux&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;core&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;avidemux&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;plugins&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;exempi&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;intel&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mediasdk&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libdc1394&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libdv&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libfpx&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libgphoto2&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libopenraw&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libquvi&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libsidplay&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openglide&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tg_owt&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;urt&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;sound&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;audacity&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;sound&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sox&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;video&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;avidemux&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;video&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ffmpeg&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;video&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gpac&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;video&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mpv&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;analyzer&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;rrdtool&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;dns&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bind&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;tools&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;firewall&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ipset&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;fs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;autofs&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;fs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openafs&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;fs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;samba&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gtk&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;vnc&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libnftnl&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;serf&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;webkit&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gtk&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;misc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;netkit&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;telnetd&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;misc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;omniORB&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;misc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openssh&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;contrib&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;misc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;remmina&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;nds&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openldap&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gutenprint&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;proxy&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dante&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;vpn&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;networkmanager&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;vpnc&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;djbfft&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;pdal&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;vtk&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mathematics&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;giac&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mathematics&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;pari&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# needs fix makefiles&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mathematics&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;singular&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;physics&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openmodelica&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;visualization&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gnuplot&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;visualization&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;paraview&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;apps&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;flashrom&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;apps&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;fwupd&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;efi&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;apps&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;keyutils&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;apps&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;memtest86&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;apps&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;systemd&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;auth&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sssd&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gnu&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;efi&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;cluster&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;glusterfs&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;devel&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bin86&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# error: ISO C99&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;devel&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;binutils&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# gcc itself # configure: error: AR&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;devel&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# gcc itself&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;fs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;duperemove&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;binutils&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# gcc itself&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ldb&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;talloc&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tdb&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tevent&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;www&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;chromium&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;x11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;agg&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;x11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;fox&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;x11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;misc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;redshift&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;x11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;misc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;virtualgl&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="конфигурация-специальных-окружений"&gt;&lt;span class="section-num"&gt;4.3&lt;/span&gt; Конфигурация специальных окружений&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Нужно задать конфигурации для разных компиляторов.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="gcc"&gt;&lt;span class="section-num"&gt;4.3.1&lt;/span&gt; gcc&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Конфигурация для компилятора &lt;em&gt;gcc&lt;/em&gt; в файле &lt;code&gt;/etc/portage/env/compiler-gcc&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;COMMON_FLAGS=&amp;#34;-O2 -march=native&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXXFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LDFLAGS=&amp;#34;-Wl,--as-needed&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CC=&amp;#34;gcc&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXX=&amp;#34;g++&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CPP=&amp;#34;gcc -E&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;AR=&amp;#34;ar&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;NM=&amp;#34;nm&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;RANLIB=&amp;#34;ranlib&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;OBJCOPY=&amp;#34;objcopy&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;STRIP=&amp;#34;strip&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LD=&amp;#34;ld&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 8:&lt;/span&gt;
/etc/portage/env/compiler-gcc
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="clang-без-lto"&gt;&lt;span class="section-num"&gt;4.3.2&lt;/span&gt; clang без LTO&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Конфигурация для компилятора &lt;em&gt;clang&lt;/em&gt; без &lt;em&gt;LTO&lt;/em&gt; в файле &lt;code&gt;/etc/portage/env/compiler-clang-no-lto&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CC=&amp;#34;clang&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CPP=&amp;#34;clang-cpp&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXX=&amp;#34;clang++&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;AR=&amp;#34;llvm-ar&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;NM=&amp;#34;llvm-nm&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;RANLIB=&amp;#34;llvm-ranlib&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;OBJCOPY=&amp;#34;llvm-objcopy&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LD=&amp;#34;lld&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 9:&lt;/span&gt;
/etc/portage/env/compiler-clang-no-lto
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="clang"&gt;&lt;span class="section-num"&gt;4.3.3&lt;/span&gt; clang&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Конфигурация для компилятора /clang/в файле &lt;code&gt;/etc/portage/env/compiler-clang&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CC=&amp;#34;clang&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CPP=&amp;#34;clang-cpp&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXX=&amp;#34;clang++&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;AR=&amp;#34;llvm-ar&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;NM=&amp;#34;llvm-nm&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;RANLIB=&amp;#34;llvm-ranlib&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;OBJCOPY=&amp;#34;llvm-objcopy&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LD=&amp;#34;lld&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 10:&lt;/span&gt;
/etc/portage/env/compiler-clang
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="clang-plus-mold"&gt;&lt;span class="section-num"&gt;4.3.4&lt;/span&gt; clang + mold&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# Normal settings here
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;COMMON_FLAGS=&amp;#34;-O2 -march=native&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXXFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CLANG_NO_DEFAULT_CONFIG=1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CC=&amp;#34;clang&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CPP=&amp;#34;clang-cpp&amp;#34; # necessary for xorg-server and possibly other packages
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXX=&amp;#34;clang++&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;AR=&amp;#34;llvm-ar&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;NM=&amp;#34;llvm-nm&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;RANLIB=&amp;#34;llvm-ranlib&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;OBJCOPY=&amp;#34;llvm-objcopy&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LD=&amp;#34;mold&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LDFLAGS=&amp;#34;${LDFLAGS} -fuse-ld=mold&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 11:&lt;/span&gt;
/etc/portage/env/compiler-clang-mold
&lt;/div&gt;
&lt;h4 id="clang-18-plus-mold"&gt;&lt;span class="section-num"&gt;4.3.5&lt;/span&gt; clang-18 + mold&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# Normal settings here
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;COMMON_FLAGS=&amp;#34;-O2 -march=native&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXXFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CLANG_NO_DEFAULT_CONFIG=1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CC=&amp;#34;clang-18&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CPP=&amp;#34;clang-cpp-18&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXX=&amp;#34;clang++-18&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;AR=&amp;#34;llvm-ar&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;NM=&amp;#34;llvm-nm&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;RANLIB=&amp;#34;llvm-ranlib&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;OBJCOPY=&amp;#34;llvm-objcopy&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LD=&amp;#34;mold&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LDFLAGS=&amp;#34;${LDFLAGS} -fuse-ld=mold&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 12:&lt;/span&gt;
/etc/portage/env/compiler-clang-mold-18
&lt;/div&gt;
&lt;h4 id="clang-19-plus-mold"&gt;&lt;span class="section-num"&gt;4.3.6&lt;/span&gt; clang-19 + mold&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# Normal settings here
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;COMMON_FLAGS=&amp;#34;-O2 -march=native&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXXFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CLANG_NO_DEFAULT_CONFIG=1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CC=&amp;#34;clang-19&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CPP=&amp;#34;clang-cpp-19&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXX=&amp;#34;clang++-19&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;AR=&amp;#34;llvm-ar&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;NM=&amp;#34;llvm-nm&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;RANLIB=&amp;#34;llvm-ranlib&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;OBJCOPY=&amp;#34;llvm-objcopy&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LD=&amp;#34;mold&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LDFLAGS=&amp;#34;${LDFLAGS} -fuse-ld=mold&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 13:&lt;/span&gt;
/etc/portage/env/compiler-clang-mold-19
&lt;/div&gt;
&lt;h4 id="clang-plus-binutils"&gt;&lt;span class="section-num"&gt;4.3.7&lt;/span&gt; clang + binutils&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Конфигурация для компилятора /clang/в файле &lt;code&gt;/etc/portage/env/compiler-clang-binutils&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CC=&amp;#34;clang&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CPP=&amp;#34;clang-cpp&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXX=&amp;#34;clang++&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;AR=&amp;#34;ar&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;NM=&amp;#34;nm&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;RANLIB=&amp;#34;ranlib&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;OBJCOPY=&amp;#34;objcopy&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;STRIP=&amp;#34;strip&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LD=&amp;#34;ld&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 14:&lt;/span&gt;
/etc/portage/env/compiler-clang-binutils
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="компиляция-ядра"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Компиляция ядра&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Ядро Linux можно скомпилировать с помощью &lt;em&gt;Clang&lt;/em&gt; и набора инструментов &lt;em&gt;LLVM&lt;/em&gt;, определив переменную среды:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;LLVM&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Чтобы настроить специальные параметры ядра &lt;em&gt;Clang&lt;/em&gt;, такие как оптимизация времени компоновки или целостность потока управления, выполните следующую команду:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;LLVM&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; make menuconfig
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Далее скомпилируйте ядро ​​как обычно:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;LLVM&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; make
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Раньше необходимо было объявить &lt;code&gt;LLVM_IAS=1&lt;/code&gt; для использования внутреннего ассемблера Clang для ядра.&lt;/li&gt;
&lt;li&gt;Это больше не требуется, поскольку &lt;code&gt;LLVM=1&lt;/code&gt; теперь включён по умолчанию.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="c-plus-plus-abi"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; C++ ABI&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Для Clang по умолчанию устанавливается библиотека C++ &lt;code&gt;libcxx&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;При компиляции с помощью &lt;em&gt;gcc&lt;/em&gt; используется библиотека &lt;code&gt;libstdc++&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Необходимо, как минимум, перекомпилить приложения, использующие библиотеку &lt;code&gt;libstdc++&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;revdep-rebuild --library libstdc++ -- -v --keep-going
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="ресурсы"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Ресурсы&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Linux. Темы оформления</title><link>https://yamadharma.github.io/ru/post/2024/05/07/linux-themes/</link><pubDate>Tue, 07 May 2024 15:39:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/05/07/linux-themes/</guid><description>&lt;p&gt;Темы оформления Linux.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#плоские-темы"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Плоские темы&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#тема-arc"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Тема Arc&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#gtk-тема"&gt;&lt;span class="section-num"&gt;1.1.1&lt;/span&gt; Gtk тема&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#kde-тема"&gt;&lt;span class="section-num"&gt;1.1.2&lt;/span&gt; KDE тема&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#тема-иконок"&gt;&lt;span class="section-num"&gt;1.1.3&lt;/span&gt; Тема иконок&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#тема-qogir"&gt;&lt;span class="section-num"&gt;1.1.4&lt;/span&gt; Тема Qogir&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#материальные-темы"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Материальные темы&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#тема-materia"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Тема Materia&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#gtk-тема"&gt;&lt;span class="section-num"&gt;2.1.1&lt;/span&gt; Gtk тема&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#kde-тема"&gt;&lt;span class="section-num"&gt;2.1.2&lt;/span&gt; KDE тема&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#тема-orchis"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Тема Orchis&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#gtk-тема"&gt;&lt;span class="section-num"&gt;2.2.1&lt;/span&gt; Gtk тема&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#kde-тема"&gt;&lt;span class="section-num"&gt;2.2.2&lt;/span&gt; KDE тема&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#тема-иконок"&gt;&lt;span class="section-num"&gt;2.2.3&lt;/span&gt; Тема иконок&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#темы-курсоров"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Темы курсоров&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#xcursor-plan9"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; xcursor-plan9&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="плоские-темы"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Плоские темы&lt;/h2&gt;
&lt;h3 id="тема-arc"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Тема Arc&lt;/h3&gt;
&lt;h4 id="gtk-тема"&gt;&lt;span class="section-num"&gt;1.1.1&lt;/span&gt; Gtk тема&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Название &lt;em&gt;Arc Theme&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Установка&lt;/p&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Gentoo&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В основном репозитории:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge x11-themes/arc-theme
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="kde-тема"&gt;&lt;span class="section-num"&gt;1.1.2&lt;/span&gt; KDE тема&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Название: &lt;em&gt;Arc KDE&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Установка&lt;/p&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Gentoo&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В репозитории &lt;em&gt;guru&lt;/em&gt; (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge x11-themes/arc-kde
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="тема-иконок"&gt;&lt;span class="section-num"&gt;1.1.3&lt;/span&gt; Тема иконок&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Название: &lt;em&gt;Arc Icon Theme&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Установка&lt;/p&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Gentoo&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В основном репозитории:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge x11-themes/arc-icon-theme
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="тема-qogir"&gt;&lt;span class="section-num"&gt;1.1.4&lt;/span&gt; Тема Qogir&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;На основе темы Arc.&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Gtk тема&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Название &lt;em&gt;Qogir Gtk Theme&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Установка&lt;/p&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Gentoo&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В репозитории &lt;em&gt;karma&lt;/em&gt; (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge x11-themes/qogir-theme
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;KDE тема&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Название: &lt;em&gt;Qogir KDE Theme&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Установка&lt;/p&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Gentoo&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В репозитории &lt;em&gt;karma&lt;/em&gt; (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge x11-themes/qogir-kde
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="3"&gt;
&lt;li&gt;
&lt;p&gt;Тема иконок&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Название: &lt;em&gt;Qogir Icon Theme&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Установка&lt;/p&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Gentoo&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В репозиториях &lt;em&gt;guru&lt;/em&gt;, &lt;em&gt;karma&lt;/em&gt; (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge x11-themes/qogir-icon-theme
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="материальные-темы"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Материальные темы&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Базируются на Material Design (
).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="тема-materia"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Тема Materia&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Последние релизы 2022 года.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="gtk-тема"&gt;&lt;span class="section-num"&gt;2.1.1&lt;/span&gt; Gtk тема&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Название &lt;em&gt;Materia&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Установка&lt;/p&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Gentoo&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В репозитории &lt;em&gt;guru&lt;/em&gt; (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge x11-themes/materia-theme
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="kde-тема"&gt;&lt;span class="section-num"&gt;2.1.2&lt;/span&gt; KDE тема&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Название: Materia KDE&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Установка&lt;/p&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Gentoo&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В репозиториях &lt;em&gt;jorgicio&lt;/em&gt;, &lt;em&gt;spikyatlinux&lt;/em&gt;, &lt;em&gt;gig&lt;/em&gt; (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge x11-themes/materia-kde
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="тема-orchis"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Тема Orchis&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Тема сделана на основе темы Materia.&lt;/li&gt;
&lt;li&gt;Поддерживается в настоящее время.&lt;/li&gt;
&lt;li&gt;Состоит из тем для Gtk, KDE и рекомендованной темы для иконок.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="gtk-тема"&gt;&lt;span class="section-num"&gt;2.2.1&lt;/span&gt; Gtk тема&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Название Orchis&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Установка&lt;/p&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Gentoo&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В репозитории &lt;em&gt;karma&lt;/em&gt; (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge x11-themes/orchis-theme
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="kde-тема"&gt;&lt;span class="section-num"&gt;2.2.2&lt;/span&gt; KDE тема&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Название: Orchis KDE&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Установка&lt;/p&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Gentoo&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В репозитории &lt;em&gt;karma&lt;/em&gt; (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge x11-themes/orchos-kde
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="тема-иконок"&gt;&lt;span class="section-num"&gt;2.2.3&lt;/span&gt; Тема иконок&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Название: Tela Circle Icon Theme&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Установка&lt;/p&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Gentoo&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В основном репозитории:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;USE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;hardlink kde standard black blue brown dracula green grey manjaro nord orange pink purple red ubuntu yellow&amp;#34;&lt;/span&gt; emerge x11-themes/tela-icon-theme
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="темы-курсоров"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Темы курсоров&lt;/h2&gt;
&lt;h3 id="xcursor-plan9"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; xcursor-plan9&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Тема на основе курсоров Plan9.&lt;/li&gt;
&lt;li&gt;Сайт:
&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>DHCP. Установка сервера DHCP Kea</title><link>https://yamadharma.github.io/ru/post/2024/05/07/dhcp-server-installation/</link><pubDate>Tue, 07 May 2024 11:39:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/05/07/dhcp-server-installation/</guid><description>&lt;p&gt;Установка сервера DHCP ISC Kea.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#особенности"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Особенности&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#опции-dhcp"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Опции DHCP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Установка&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#установка-из-репозитория-дистрибутива"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Установка из репозитория дистрибутива&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#rocky-linux"&gt;&lt;span class="section-num"&gt;3.1.1&lt;/span&gt; Rocky Linux&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#ручная-установка"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Ручная установка&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#репозиторий-rockylinux"&gt;&lt;span class="section-num"&gt;3.2.1&lt;/span&gt; Репозиторий RockyLinux&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#репозиторий-isc"&gt;&lt;span class="section-num"&gt;3.2.2&lt;/span&gt; Репозиторий ISC&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#инструментарий-миграции-keama"&gt;&lt;span class="section-num"&gt;3.2.3&lt;/span&gt; Инструментарий миграции keama&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#подготовка"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Подготовка&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#брандмауэр"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Брандмауэр&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#подготовка-базы-данных"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Подготовка базы данных&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#postgresql"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; PostgreSQL&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#создание-базы-данных"&gt;&lt;span class="section-num"&gt;5.1.1&lt;/span&gt; Создание базы данных&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#заполнение-базы-данных"&gt;&lt;span class="section-num"&gt;5.1.2&lt;/span&gt; Заполнение базы данных&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#обновление-базы-данных"&gt;&lt;span class="section-num"&gt;5.1.3&lt;/span&gt; Обновление базы данных&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#миграция-с-isc-dhcp-на-isc-kea"&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; Миграция с ISC DHCP на ISC Kea&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#тьюнинг-базы-данных"&gt;&lt;span class="section-num"&gt;5.3&lt;/span&gt; Тьюнинг базы данных&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#конфигурация-базы-данных-для-kea"&gt;&lt;span class="section-num"&gt;5.4&lt;/span&gt; Конфигурация базы данных для Kea&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#виртуальные-интерфейсы"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Виртуальные интерфейсы&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#миграция-интерфейсов"&gt;&lt;span class="section-num"&gt;6.1&lt;/span&gt; Миграция интерфейсов&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#конфигурация-интерфейсов-для-kea"&gt;&lt;span class="section-num"&gt;6.2&lt;/span&gt; Конфигурация интерфейсов для Kea&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#управляющий-агент-kea-ctrl-agent"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Управляющий агент kea-ctrl-agent&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#по-умолчанию"&gt;&lt;span class="section-num"&gt;7.1&lt;/span&gt; По умолчанию&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#доступ-по-сети"&gt;&lt;span class="section-num"&gt;7.2&lt;/span&gt; Доступ по сети&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#брандмауэр"&gt;&lt;span class="section-num"&gt;7.2.1&lt;/span&gt; Брандмауэр&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#сертификаты"&gt;&lt;span class="section-num"&gt;7.2.2&lt;/span&gt; Сертификаты&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#конфигурационный-файл"&gt;&lt;span class="section-num"&gt;7.2.3&lt;/span&gt; Конфигурационный файл&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#пример-запроса"&gt;&lt;span class="section-num"&gt;7.2.4&lt;/span&gt; Пример запроса&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#запуск"&gt;&lt;span class="section-num"&gt;8&lt;/span&gt; Запуск&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#утилиты"&gt;&lt;span class="section-num"&gt;9&lt;/span&gt; Утилиты&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#просмотр-арендованных-адресов"&gt;&lt;span class="section-num"&gt;9.1&lt;/span&gt; Просмотр арендованных адресов&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#postgres"&gt;&lt;span class="section-num"&gt;9.1.1&lt;/span&gt; Postgres&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#после-установки"&gt;&lt;span class="section-num"&gt;10&lt;/span&gt; После установки&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Сайт:
&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Документация:
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="особенности"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Особенности&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Модульная конструкция компонентов
&lt;ul&gt;
&lt;li&gt;Расширяется с помощью модулей-хуков.&lt;/li&gt;
&lt;li&gt;Дистрибутив Kea включает отдельные демоны для сервера DHCPv4, сервера DHCPv6 и модуля динамического DNS (DDNS).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Онлайн-реконфигурация с помощью REST API.
&lt;ul&gt;
&lt;li&gt;Kea использует файл конфигурации JSON, который можно изменить удалённо без остановки и перезапуска сервера.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Панель управления через веб-интерфейс.&lt;/li&gt;
&lt;li&gt;Поддерживает базы данных MySQL, PostgreSQL:
&lt;ul&gt;
&lt;li&gt;упрощает интеграцию с другими системами;&lt;/li&gt;
&lt;li&gt;можно использовать один и тот же сервер резервирования хостов для нескольких DHCP-серверов;&lt;/li&gt;
&lt;li&gt;администрирование глобальных параметров из централизованной системы настройки.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="опции-dhcp"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Опции DHCP&lt;/h2&gt;
&lt;div class="table-caption"&gt;
&lt;span class="table-number"&gt;&amp;#1058;&amp;#1072;&amp;#1073;&amp;#1083;&amp;#1080;&amp;#1094;&amp;#1072; 1:&lt;/span&gt;
Список стандартных опций DHCPv4
&lt;/div&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Название&lt;/th&gt;
&lt;th&gt;Код&lt;/th&gt;
&lt;th&gt;Type&lt;/th&gt;
&lt;th&gt;Массив&lt;/th&gt;
&lt;th&gt;Returned if not requested?&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;time-offset&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;int32&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;routers&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;time-servers&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;name-servers&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;domain-name-servers&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;log-servers&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cookie-servers&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lpr-servers&lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;impress-servers&lt;/td&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;resource-location-servers&lt;/td&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;boot-size&lt;/td&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;td&gt;uint16&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;merit-dump&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;domain-name&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;td&gt;fqdn&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;swap-server&lt;/td&gt;
&lt;td&gt;16&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;root-path&lt;/td&gt;
&lt;td&gt;17&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;extensions-path&lt;/td&gt;
&lt;td&gt;18&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ip-forwarding&lt;/td&gt;
&lt;td&gt;19&lt;/td&gt;
&lt;td&gt;boolean&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;non-local-source-routing&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;boolean&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;policy-filter&lt;/td&gt;
&lt;td&gt;21&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;max-dgram-reassembly&lt;/td&gt;
&lt;td&gt;22&lt;/td&gt;
&lt;td&gt;uint16&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default-ip-ttl&lt;/td&gt;
&lt;td&gt;23&lt;/td&gt;
&lt;td&gt;uint8&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;path-mtu-aging-timeout&lt;/td&gt;
&lt;td&gt;24&lt;/td&gt;
&lt;td&gt;uint32&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;path-mtu-plateau-table&lt;/td&gt;
&lt;td&gt;25&lt;/td&gt;
&lt;td&gt;uint16&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;interface-mtu&lt;/td&gt;
&lt;td&gt;26&lt;/td&gt;
&lt;td&gt;uint16&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;all-subnets-local&lt;/td&gt;
&lt;td&gt;27&lt;/td&gt;
&lt;td&gt;boolean&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;broadcast-address&lt;/td&gt;
&lt;td&gt;28&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;perform-mask-discovery&lt;/td&gt;
&lt;td&gt;29&lt;/td&gt;
&lt;td&gt;boolean&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;mask-supplier&lt;/td&gt;
&lt;td&gt;30&lt;/td&gt;
&lt;td&gt;boolean&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;router-discovery&lt;/td&gt;
&lt;td&gt;31&lt;/td&gt;
&lt;td&gt;boolean&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;router-solicitation-address&lt;/td&gt;
&lt;td&gt;32&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;static-routes&lt;/td&gt;
&lt;td&gt;33&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;trailer-encapsulation&lt;/td&gt;
&lt;td&gt;34&lt;/td&gt;
&lt;td&gt;boolean&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;arp-cache-timeout&lt;/td&gt;
&lt;td&gt;35&lt;/td&gt;
&lt;td&gt;uint32&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ieee802-3-encapsulation&lt;/td&gt;
&lt;td&gt;36&lt;/td&gt;
&lt;td&gt;boolean&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default-tcp-ttl&lt;/td&gt;
&lt;td&gt;37&lt;/td&gt;
&lt;td&gt;uint8&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tcp-keepalive-interval&lt;/td&gt;
&lt;td&gt;38&lt;/td&gt;
&lt;td&gt;uint32&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tcp-keepalive-garbage&lt;/td&gt;
&lt;td&gt;39&lt;/td&gt;
&lt;td&gt;boolean&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;nis-domain&lt;/td&gt;
&lt;td&gt;40&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;nis-servers&lt;/td&gt;
&lt;td&gt;41&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ntp-servers&lt;/td&gt;
&lt;td&gt;42&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vendor-encapsulated-options&lt;/td&gt;
&lt;td&gt;43&lt;/td&gt;
&lt;td&gt;empty&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;netbios-name-servers&lt;/td&gt;
&lt;td&gt;44&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;netbios-dd-server&lt;/td&gt;
&lt;td&gt;45&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;netbios-node-type&lt;/td&gt;
&lt;td&gt;46&lt;/td&gt;
&lt;td&gt;uint8&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;netbios-scope&lt;/td&gt;
&lt;td&gt;47&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;font-servers&lt;/td&gt;
&lt;td&gt;48&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;x-display-manager&lt;/td&gt;
&lt;td&gt;49&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dhcp-option-overload&lt;/td&gt;
&lt;td&gt;52&lt;/td&gt;
&lt;td&gt;uint8&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dhcp-server-identifier&lt;/td&gt;
&lt;td&gt;54&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dhcp-message&lt;/td&gt;
&lt;td&gt;56&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dhcp-max-message-size&lt;/td&gt;
&lt;td&gt;57&lt;/td&gt;
&lt;td&gt;uint16&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vendor-class-identifier&lt;/td&gt;
&lt;td&gt;60&lt;/td&gt;
&lt;td&gt;hex&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;nwip-domain-name&lt;/td&gt;
&lt;td&gt;62&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;nwip-suboptions&lt;/td&gt;
&lt;td&gt;63&lt;/td&gt;
&lt;td&gt;hex&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;nisplus-domain-name&lt;/td&gt;
&lt;td&gt;64&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;nisplus-servers&lt;/td&gt;
&lt;td&gt;65&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tftp-server-name&lt;/td&gt;
&lt;td&gt;66&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;boot-file-name&lt;/td&gt;
&lt;td&gt;67&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;mobile-ip-home-agent&lt;/td&gt;
&lt;td&gt;68&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;smtp-server&lt;/td&gt;
&lt;td&gt;69&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;pop-server&lt;/td&gt;
&lt;td&gt;70&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;nntp-server&lt;/td&gt;
&lt;td&gt;71&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;www-server&lt;/td&gt;
&lt;td&gt;72&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;finger-server&lt;/td&gt;
&lt;td&gt;73&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;irc-server&lt;/td&gt;
&lt;td&gt;74&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;streettalk-server&lt;/td&gt;
&lt;td&gt;75&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;streettalk-directory-assistance-server&lt;/td&gt;
&lt;td&gt;76&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;user-class&lt;/td&gt;
&lt;td&gt;77&lt;/td&gt;
&lt;td&gt;hex&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;slp-directory-agent&lt;/td&gt;
&lt;td&gt;78&lt;/td&gt;
&lt;td&gt;record (boolean, ipv4-address)&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;slp-service-scope&lt;/td&gt;
&lt;td&gt;79&lt;/td&gt;
&lt;td&gt;record (boolean, string)&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;nds-server&lt;/td&gt;
&lt;td&gt;85&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;nds-tree-name&lt;/td&gt;
&lt;td&gt;86&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;nds-context&lt;/td&gt;
&lt;td&gt;87&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bcms-controller-names&lt;/td&gt;
&lt;td&gt;88&lt;/td&gt;
&lt;td&gt;fqdn&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bcms-controller-address&lt;/td&gt;
&lt;td&gt;89&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;client-system&lt;/td&gt;
&lt;td&gt;93&lt;/td&gt;
&lt;td&gt;uint16&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;client-ndi&lt;/td&gt;
&lt;td&gt;94&lt;/td&gt;
&lt;td&gt;record (uint8, uint8, uint8)&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;uuid-guid&lt;/td&gt;
&lt;td&gt;97&lt;/td&gt;
&lt;td&gt;record (uint8, hex)&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;uap-servers&lt;/td&gt;
&lt;td&gt;98&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;geoconf-civic&lt;/td&gt;
&lt;td&gt;99&lt;/td&gt;
&lt;td&gt;hex&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;pcode&lt;/td&gt;
&lt;td&gt;100&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tcode&lt;/td&gt;
&lt;td&gt;101&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;netinfo-server-address&lt;/td&gt;
&lt;td&gt;112&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;netinfo-server-tag&lt;/td&gt;
&lt;td&gt;113&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default-url&lt;/td&gt;
&lt;td&gt;114&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;auto-config&lt;/td&gt;
&lt;td&gt;116&lt;/td&gt;
&lt;td&gt;uint8&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;name-service-search&lt;/td&gt;
&lt;td&gt;117&lt;/td&gt;
&lt;td&gt;uint16&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;subnet-selection&lt;/td&gt;
&lt;td&gt;118&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;domain-search&lt;/td&gt;
&lt;td&gt;119&lt;/td&gt;
&lt;td&gt;fqdn&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vivco-suboptions&lt;/td&gt;
&lt;td&gt;124&lt;/td&gt;
&lt;td&gt;hex&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vivso-suboptions&lt;/td&gt;
&lt;td&gt;125&lt;/td&gt;
&lt;td&gt;hex&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;pana-agent&lt;/td&gt;
&lt;td&gt;136&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;v4-lost&lt;/td&gt;
&lt;td&gt;137&lt;/td&gt;
&lt;td&gt;fqdn&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;capwap-ac-v4&lt;/td&gt;
&lt;td&gt;138&lt;/td&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sip-ua-cs-domains&lt;/td&gt;
&lt;td&gt;142&lt;/td&gt;
&lt;td&gt;fqdn&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;rdnss-selection&lt;/td&gt;
&lt;td&gt;146&lt;/td&gt;
&lt;td&gt;record (uint8, ipv4-address, ipv4-address, fqdn)&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;v4-portparams&lt;/td&gt;
&lt;td&gt;159&lt;/td&gt;
&lt;td&gt;record (uint8, psid)&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;v4-captive-portal&lt;/td&gt;
&lt;td&gt;160&lt;/td&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;option-6rd&lt;/td&gt;
&lt;td&gt;212&lt;/td&gt;
&lt;td&gt;record (uint8, uint8, ipv6-address, ipv4-address)&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;v4-access-domain&lt;/td&gt;
&lt;td&gt;213&lt;/td&gt;
&lt;td&gt;fqdn&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="table-caption"&gt;
&lt;span class="table-number"&gt;&amp;#1058;&amp;#1072;&amp;#1073;&amp;#1083;&amp;#1080;&amp;#1094;&amp;#1072; 2:&lt;/span&gt;
Список стандартных типов опций DHCP
&lt;/div&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Тип&lt;/th&gt;
&lt;th&gt;Описание&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;hex&lt;/td&gt;
&lt;td&gt;An arbitrary string of bytes, specified as a set of hexadecimal digits.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;boolean&lt;/td&gt;
&lt;td&gt;Boolean value with allowed values true or false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;empty&lt;/td&gt;
&lt;td&gt;No value, data is carried in suboptions&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fqdn&lt;/td&gt;
&lt;td&gt;Fully qualified domain name (e.g.
)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ipv4-address&lt;/td&gt;
&lt;td&gt;IPv4 address in the usual dotted-decimal notation (e.g. 192.0.2.1)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ipv6-address&lt;/td&gt;
&lt;td&gt;IPv6 address in the usual colon notation (e.g. 2001:db8::1)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ipv6-prefix&lt;/td&gt;
&lt;td&gt;IPv6 prefix and prefix length specified using CIDR notation, e.g. 2001:db8:1::/64. This data type is used to represent an 8-bit field conveying a prefix length and the variable length prefix value&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;psid&lt;/td&gt;
&lt;td&gt;PSID and PSID length separated by a slash&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;record&lt;/td&gt;
&lt;td&gt;Structured data that may be comprised of any types (except &amp;ldquo;record&amp;rdquo; and &amp;ldquo;empty&amp;rdquo;). The array flag applies to the last field only.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;string&lt;/td&gt;
&lt;td&gt;Any text&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tuple&lt;/td&gt;
&lt;td&gt;A length encoded as a 8 (16 for DHCPv6) bit unsigned integer followed by a string of this length&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;uint8&lt;/td&gt;
&lt;td&gt;8 bit unsigned integer with allowed values 0 to 255&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;uint16&lt;/td&gt;
&lt;td&gt;16 bit unsigned integer with allowed values 0 to 65535&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;uint32&lt;/td&gt;
&lt;td&gt;32 bit unsigned integer with allowed values 0 to 4294967295&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;int8&lt;/td&gt;
&lt;td&gt;8 bit signed integer with allowed values -128 to 127&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;int16&lt;/td&gt;
&lt;td&gt;16 bit signed integer with allowed values -32768 to 32767&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;int32&lt;/td&gt;
&lt;td&gt;32 bit signed integer with allowed values -2147483648 to 2147483647&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="установка"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Установка&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Устанавливаем сервер Linux (см.
).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="установка-из-репозитория-дистрибутива"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Установка из репозитория дистрибутива&lt;/h3&gt;
&lt;h4 id="rocky-linux"&gt;&lt;span class="section-num"&gt;3.1.1&lt;/span&gt; Rocky Linux&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Rocky Linux поддерживает Kea DHCP начиная с версии 10.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install kea
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ручная-установка"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Ручная установка&lt;/h3&gt;
&lt;h4 id="репозиторий-rockylinux"&gt;&lt;span class="section-num"&gt;3.2.1&lt;/span&gt; Репозиторий RockyLinux&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Текущая версия в репозитории: 2.2.x.&lt;/li&gt;
&lt;li&gt;В версии 2.3.2 изменили систему именования.&lt;/li&gt;
&lt;li&gt;Если в дальнейше планируется обновление, возможно стоит использовать репозитории ISC.&lt;/li&gt;
&lt;li&gt;Подключаем репозиторий &lt;em&gt;EPEL&lt;/em&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf config-manager --set-enabled crb
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install epel-release
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Устанавливаем сервер &lt;em&gt;Kea&lt;/em&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install kea kea-hooks
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="репозиторий-isc"&gt;&lt;span class="section-num"&gt;3.2.2&lt;/span&gt; Репозиторий ISC&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Текущая стабильная версия в репозитории: 2.6.x.&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Kea-2.6&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Подключаем репозиторий:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;curl -1sLf &lt;span class="s1"&gt;&amp;#39;https://dl.cloudsmith.io/public/isc/kea-2-6/setup.rpm.sh&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; sudo -E bash
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Отключите старые репозитории, если они были установлены:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf config-manager --disable isc-kea-2-4 isc-kea-2-4-noarch isc-kea-2-4-source
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf clean all
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Проверьте, что репозитории отключены:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf repolist
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Устанавливаем сервер &lt;em&gt;Kea&lt;/em&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install isc-kea isc-kea-hooks
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;Kea-2.4&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Подключаем репозиторий:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;curl -1sLf &lt;span class="s1"&gt;&amp;#39;https://dl.cloudsmith.io/public/isc/kea-2-4/setup.rpm.sh&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; sudo -E bash
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Устанавливаем сервер &lt;em&gt;Kea&lt;/em&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install isc-kea isc-kea-hooks
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="инструментарий-миграции-keama"&gt;&lt;span class="section-num"&gt;3.2.3&lt;/span&gt; Инструментарий миграции keama&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;При необходимости миграции с реализации ISC DHCP на ISC KEA можно установить помощник миграции.&lt;/li&gt;
&lt;li&gt;Документация:
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Бинарные сборки:
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;заблокирован доступ из России&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Подключаем репозиторий бинарных файлов:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;curl -1sLf &lt;span class="s1"&gt;&amp;#39;https://dl.cloudsmith.io/public/isc/keama/setup.rpm.sh&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; sudo -E bash
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Устанавливаем сервер &lt;em&gt;Kea&lt;/em&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install isc-dhcp-keama
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="подготовка"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Подготовка&lt;/h2&gt;
&lt;h3 id="брандмауэр"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Брандмауэр&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Сконфигурируем брандмауэр:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;firewall-cmd --add-service&lt;span class="o"&gt;=&lt;/span&gt;dhcp --permanent
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;firewall-cmd --reload
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="подготовка-базы-данных"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Подготовка базы данных&lt;/h2&gt;
&lt;h3 id="postgresql"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; PostgreSQL&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Установка базы данных:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install postgresql-server
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Проверьте временную зону сервера:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;date +%Z
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Рекомендуется использовать временную зону &lt;code&gt;UTC&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Инициализируйте базу данных:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;postgresql-setup --initdb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Запустим базу данных:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now postgresql.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="создание-базы-данных"&gt;&lt;span class="section-num"&gt;5.1.1&lt;/span&gt; Создание базы данных&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Подключимся к базе данных:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo -i -u postgres psql postgres
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Проверим временную зону базы:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;show timezone&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;SELECT * FROM pg_timezone_names WHERE &lt;span class="nv"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; current_setting&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;TIMEZONE&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Настройки временной зоны для postgresql находятся в файле &lt;code&gt;/var/lib/pgsql/data/postgresql.conf&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;timezone = &amp;#39;Etc/UTC&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Можно использовать следующие названия:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;database-name&lt;/code&gt; : &lt;code&gt;kea&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;user-name&lt;/code&gt; : &lt;code&gt;kea&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;password&lt;/code&gt; : сгенерите нужный пароль.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Создадим базу данных:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CREATE DATABASE database-name&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Создадим пользователя и пароль для взаимодействия с базой:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CREATE USER user-name WITH PASSWORD &lt;span class="s1"&gt;&amp;#39;password&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;GRANT ALL PRIVILEGES ON DATABASE database-name TO user-name&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Выйдем из интерфейса базы данных:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;\q&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="заполнение-базы-данных"&gt;&lt;span class="section-num"&gt;5.1.2&lt;/span&gt; Заполнение базы данных&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Настроим доступ к базе данных в файле &lt;code&gt;/var/lib/pgsql/data/pg_hba.conf&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Добавьте эти записи до других записей:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;local database-name user-name password
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;host database-name user-name 127.0.0.1/32 password
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;host database-name user-name ::1/128 password
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Перезагрузите postgresql:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl restart postgresql.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Загрузка значений вручную&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Загрузим значения в базу данных:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;psql -d database-name -U user-name -f /usr/share/kea/scripts/pgsql/dhcpdb_create.pgsql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;Загрузка значений через &lt;code&gt;kea-admin&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Загрузим значения в базу данных:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;kea-admin db-init pgsql -u database-user -p database-password -n database-name
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="обновление-базы-данных"&gt;&lt;span class="section-num"&gt;5.1.3&lt;/span&gt; Обновление базы данных&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;При переходе с предыдущей версии &lt;code&gt;kea&lt;/code&gt; надо обновить базу данных.&lt;/li&gt;
&lt;li&gt;Проверьте текущую версию базы данных:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;kea-admin db-version pgsql -u database-user -p database-password -n database-name
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Обновите базу (при необходимости):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;kea-admin db-upgrade pgsql -u database-user -p database-password -n database-name
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="миграция-с-isc-dhcp-на-isc-kea"&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; Миграция с ISC DHCP на ISC Kea&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Преобразуем конфигурационные файлы:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;keama -4 -i dhcpd.conf -o kea-dhcp4.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="тьюнинг-базы-данных"&gt;&lt;span class="section-num"&gt;5.3&lt;/span&gt; Тьюнинг базы данных&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Отключите синхронные коммиты.&lt;/li&gt;
&lt;li&gt;Можно отключить в базе данных:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo -i -u postgres psql postgres
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;ALTER SYSTEM SET &lt;span class="nv"&gt;synchronous_commit&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;OFF&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;\q&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Можно задать в файле конфигурации &lt;code&gt;/var/lib/pgsql/data/postgresql.conf&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;synchronous_commit = off
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="конфигурация-базы-данных-для-kea"&gt;&lt;span class="section-num"&gt;5.4&lt;/span&gt; Конфигурация базы данных для Kea&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Добавим конфигурацию базы данных:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&amp;#34;Dhcp4&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;lease-database&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;type&amp;#34;: &amp;#34;postgresql&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;name&amp;#34;: &amp;#34;database_name&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;host&amp;#34; : &amp;#34;localhost&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;user&amp;#34;: &amp;#34;user_name&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;password&amp;#34;: &amp;#34;password&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; },
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;hosts-database&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;type&amp;#34;: &amp;#34;postgresql&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;name&amp;#34;: &amp;#34;database_name&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;host&amp;#34; : &amp;#34;localhost&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;user&amp;#34;: &amp;#34;user_name&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;password&amp;#34;: &amp;#34;password&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; },
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="виртуальные-интерфейсы"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Виртуальные интерфейсы&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Для подключения к сети использовал интерфейсы VLAN (см.
)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="миграция-интерфейсов"&gt;&lt;span class="section-num"&gt;6.1&lt;/span&gt; Миграция интерфейсов&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Файлы описания интерфейсов на старой системе имеют следующий вид (&lt;code&gt;/etc/sysconfig/network-scripts/ifcfg-eth1.200&lt;/code&gt;):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;VLAN=yes
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;DEVICE=eth1.200
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;BOOTPROTO=none
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;ONBOOT=yes
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;TYPE=Ethernet
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;IPADDR=10.200.0.2
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;NETMASK=255.255.0.0
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;NETWORK=10.200.0.0
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;BROADCAST=10.200.255.255
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Для миграции сделал набор скриптов.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Скрипт для извлечения параметров интерфейсов (&lt;code&gt;mk-if-list&lt;/code&gt;):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;OUTFILE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;iflist
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;[[&lt;/span&gt; -f &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;OUTFILE&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;]]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; rm &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;OUTFILE&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;for&lt;/span&gt; i in ifcfg-eth*.*
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nv"&gt;vlan_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;grep &lt;span class="nv"&gt;DEVICE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;i&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; cut -d &lt;span class="s2"&gt;&amp;#34;.&amp;#34;&lt;/span&gt; -f 2&lt;span class="k"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nv"&gt;ip&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;grep &lt;span class="nv"&gt;IPADDR&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;i&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; cut -d &lt;span class="s2"&gt;&amp;#34;=&amp;#34;&lt;/span&gt; -f 2&lt;span class="k"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nv"&gt;mask&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;grep &lt;span class="nv"&gt;NETMASK&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;i&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; cut -d &lt;span class="s2"&gt;&amp;#34;=&amp;#34;&lt;/span&gt; -f 2&lt;span class="k"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nv"&gt;prefix&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;ipcalc -p 1.1.1.1 &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;mask&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; sed -n &lt;span class="s1"&gt;&amp;#39;s:^PREFIX=\(.*\):\1:p&amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;vlan_id&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34; &amp;#34;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;ip&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;/&amp;#34;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;prefix&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;OUTFILE&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Для скрипта необходима утилита &lt;code&gt;ipcalc&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install ipcalc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Получившийся файл &lt;code&gt;iflist&lt;/code&gt; имеет следующий формат:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;200 10.200.0.2/16
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Скрипт &lt;code&gt;mk-if-script&lt;/code&gt; для получения команд генерации интерфейсов VLAN:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-awk" data-lang="awk"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;#!/usr/bin/awk -f&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;BEGIN&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="kr"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;#!/bin/sh\n&amp;#34;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="kr"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;nmcli connection add type vlan con-name vlan&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;-con ifname vlan&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;-if dev eno1 id &amp;#34;&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;\n&amp;#34;&amp;#34;nmcli connection modify vlan&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;-con ipv4.addresses &amp;#34;&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;\n&amp;#34;&amp;#34;sudo nmcli connection modify vlan&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;-con ipv4.method manual&amp;#34;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Получим файл с командами интерфейсов:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;./mk-if-script iflist &amp;gt; iflist-run
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Сгенерим новые интерфейсы:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chmod +x iflist-run
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;./iflist-run
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="конфигурация-интерфейсов-для-kea"&gt;&lt;span class="section-num"&gt;6.2&lt;/span&gt; Конфигурация интерфейсов для Kea&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Добавим интерфейсы в файл конфигурации &lt;code&gt;/etc/kea/kea-dhcp4.conf&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&amp;#34;Dhcp4&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;interfaces-config&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;interfaces&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;vlan200-if&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;vlan201-if&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;vlan202-if&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ],
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;dhcp-socket-type&amp;#34;: &amp;#34;raw&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; },
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="управляющий-агент-kea-ctrl-agent"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Управляющий агент kea-ctrl-agent&lt;/h2&gt;
&lt;h3 id="по-умолчанию"&gt;&lt;span class="section-num"&gt;7.1&lt;/span&gt; По умолчанию&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;По умолчанию агент устанавливает unix-сокеты и доступ по сети для локального хоста.&lt;/li&gt;
&lt;li&gt;Если ничего другого не надо, то дополнительной настройки не требуется.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="доступ-по-сети"&gt;&lt;span class="section-num"&gt;7.2&lt;/span&gt; Доступ по сети&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для доступа к управляющему агенту из вне необходимо настроить сетевой доступ.&lt;/li&gt;
&lt;li&gt;Например, это может понадобиться для интеграции с Netbox (см.
).&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="брандмауэр"&gt;&lt;span class="section-num"&gt;7.2.1&lt;/span&gt; Брандмауэр&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Сконфигурируем брандмауэр:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;firewall-cmd --add-port&lt;span class="o"&gt;=&lt;/span&gt;8000/tcp --permanent
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;firewall-cmd --reload
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="сертификаты"&gt;&lt;span class="section-num"&gt;7.2.2&lt;/span&gt; Сертификаты&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;В качестве сертификатов можно использовать сертификаты ACME.&lt;/li&gt;
&lt;li&gt;Если сертификаты не установлены, то используется протокол &lt;code&gt;http&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="конфигурационный-файл"&gt;&lt;span class="section-num"&gt;7.2.3&lt;/span&gt; Конфигурационный файл&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Конфигурация в файле будет будет иметь вид:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;Control-agent&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;http-host&amp;#34;: &amp;#34;10.20.30.40&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;http-port&amp;#34;: 8000,
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;trust-anchor&amp;#34;: &amp;#34;/path/to/the/ca-cert.pem&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;cert-file&amp;#34;: &amp;#34;/path/to/the/agent-cert.pem&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;key-file&amp;#34;: &amp;#34;/path/to/the/agent-key.pem&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;cert-required&amp;#34;: true,
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;authentication&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;type&amp;#34;: &amp;#34;basic&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;realm&amp;#34;: &amp;#34;kea-control-agent&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;clients&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;user&amp;#34;: &amp;#34;admin&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &amp;#34;password&amp;#34;: &amp;#34;1234&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ]
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; },
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ...
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="пример-запроса"&gt;&lt;span class="section-num"&gt;7.2.4&lt;/span&gt; Пример запроса&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Пример запроса с использованием RESTful API:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;curl -u admin:1234 -X POST -H &lt;span class="s2"&gt;&amp;#34;Content-Type: application/json&amp;#34;&lt;/span&gt; -d &lt;span class="s1"&gt;&amp;#39;{ &amp;#34;command&amp;#34;: &amp;#34;config-get&amp;#34;, &amp;#34;service&amp;#34;: [ &amp;#34;dhcp4&amp;#34; ] }&amp;#39;&lt;/span&gt; http://10.20.30.40:8000/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="запуск"&gt;&lt;span class="section-num"&gt;8&lt;/span&gt; Запуск&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Запуск управляющего агента:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now kea-ctrl-agent.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Запуск сервера DHCPv4:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now kea-dhcp4.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Запуск сервиса DDNS:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now kea-dhcp-ddns.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="утилиты"&gt;&lt;span class="section-num"&gt;9&lt;/span&gt; Утилиты&lt;/h2&gt;
&lt;h3 id="просмотр-арендованных-адресов"&gt;&lt;span class="section-num"&gt;9.1&lt;/span&gt; Просмотр арендованных адресов&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Арендованные адреса можно смотреть в базе данных.&lt;/li&gt;
&lt;li&gt;Для разных баз данных существуют конкретные утилиты.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="postgres"&gt;&lt;span class="section-num"&gt;9.1.1&lt;/span&gt; Postgres&lt;/h4&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;kea-list-leases&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;В репозитории скрипт и конфигурационный файл.&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Пререквизиты&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Нужно установить драйвер PostgreSQL для python : psycopg (
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install python3-psycopg2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;Настройка&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Задайте конфигурационный файл &lt;code&gt;kea-list-leases.conf&lt;/code&gt; (в том же каталоге, что и скрипт):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-toml" data-lang="toml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;postgresql&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;host&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;127.0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mf"&gt;0.1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;database&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="nx"&gt;kea_lease_db&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;user&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="nx"&gt;kea&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;password&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="nx"&gt;password&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="после-установки"&gt;&lt;span class="section-num"&gt;10&lt;/span&gt; После установки&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Настройте DDNS (см.
)&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Linux. Архивирование</title><link>https://yamadharma.github.io/ru/post/2024/03/22/linux-archiving/</link><pubDate>Fri, 22 Mar 2024 13:42:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/03/22/linux-archiving/</guid><description>&lt;p&gt;Linux. Архивирование и сжатие.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#компрессор-xz"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Компрессор xz&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#уровни-сжатия"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Уровни сжатия&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#переменные-окружения"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Переменные окружения&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#примеры-использования"&gt;&lt;span class="section-num"&gt;1.3&lt;/span&gt; Примеры использования&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#компрессор-zstd"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Компрессор zstd&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#примеры-использования"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Примеры использования&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#архиватор-tar"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Архиватор tar&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#примеры-использования"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Примеры использования&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="компрессор-xz"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Компрессор xz&lt;/h2&gt;
&lt;h3 id="уровни-сжатия"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Уровни сжатия&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-0&lt;/code&gt; .. &lt;code&gt;-3&lt;/code&gt; : &lt;code&gt;-0&lt;/code&gt; иногда работает быстрее, чем &lt;code&gt;gzip&lt;/code&gt;, но сжимает намного лучше;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-4&lt;/code&gt; .. &lt;code&gt;-6&lt;/code&gt; :сжатие от хорошего до очень хорошего, сохраняя при этом разумное использование памяти декомпрессора;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-7&lt;/code&gt; .. &lt;code&gt;-9&lt;/code&gt; : похоже на &lt;code&gt;-6&lt;/code&gt;, но с более высокими требованиями к памяти компрессора и декомпрессора.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="переменные-окружения"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Переменные окружения&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;XZ_OPT&lt;/code&gt; : опции для текущей команды.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="примеры-использования"&gt;&lt;span class="section-num"&gt;1.3&lt;/span&gt; Примеры использования&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Сжать файл в формат xz:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;xz filename
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Сжать файл, не удаляя оригинал (опция &lt;code&gt;-k&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;xz -k filename
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Распаковать файл xz (опция &lt;code&gt;-d&lt;/code&gt;, &lt;code&gt;--decompress&lt;/code&gt;, &lt;code&gt;--uncompress&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;xz -d filename.xz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Больше информации (опция &lt;code&gt;-v&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;xz -v -d filename.xz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Распаковать файл и записать на стандартный вывод (опция &lt;code&gt;-c&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;xz -dc filename.xz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Сжать файл, используя самое быстрое сжатие (опция &lt;code&gt;-0&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;xz -0 filename
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Сжать файл, используя лучшее сжатие (опция &lt;code&gt;-9&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;xz -9 filename
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Указать количество используемых рабочих потоков (при выборе &lt;code&gt;0&lt;/code&gt; количество потоков рассчитывается автоматически) (опция &lt;code&gt;-T0&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;xz -v -T0 -9 filename
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Сжать весь каталог:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tar -cf - dir1 &lt;span class="p"&gt;|&lt;/span&gt; xz -9ze -T0 &amp;gt;dir1.txz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Использование &lt;code&gt;tar&lt;/code&gt; с &lt;code&gt;xz&lt;/code&gt; для сжатия всего каталога:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tar -cJvf archive.tar.xz dir1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="компрессор-zstd"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Компрессор zstd&lt;/h2&gt;
&lt;h3 id="общая-информация"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Общая информация&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Сайт:
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="примеры-использования"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Примеры использования&lt;/h3&gt;
&lt;h2 id="архиватор-tar"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Архиватор tar&lt;/h2&gt;
&lt;h3 id="примеры-использования"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Примеры использования&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Указание параметров для сжатия (опция &lt;code&gt;-I&lt;/code&gt;, &lt;code&gt;–use-compress-program&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tar --use-compress-program&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;xz -9 -T0&amp;#39;&lt;/span&gt; cvf archive.tar.xz directory
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Указание параметров для сжатия с помощью переменных окружения:
&lt;ul&gt;
&lt;li&gt;xz, &lt;code&gt;XZ_OPT&lt;/code&gt; : опции для текущей команды:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;XZ_OPT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;-9 -T0&amp;#34;&lt;/span&gt; tar cJvf archive.tar.xz directory
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;xz, &lt;code&gt;XZ_DEFAULTS&lt;/code&gt; : глобальные опции:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;XZ_DEFAULTS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;-9 -T0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tar cJvf archive.tar.xz directory
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Linux. Приложения. Индикатор прогресса wob</title><link>https://yamadharma.github.io/ru/post/2024/03/06/linux-applications-progress-indicator-wob/</link><pubDate>Wed, 06 Mar 2024 21:00:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/03/06/linux-applications-progress-indicator-wob/</guid><description>&lt;p&gt;Индикатор прогресса wob&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Gentoo (оверлей &lt;code&gt;guru&lt;/code&gt;) (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge gui-apps/wob
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Ванденбринк, Р. (2024): Linux для сетевых инженеров</title><link>https://yamadharma.github.io/ru/post/2024/01/24/vandenbrink_book_linux-networking-professionals_ru/</link><pubDate>Wed, 24 Jan 2024 13:33:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/01/24/vandenbrink_book_linux-networking-professionals_ru/</guid><description>&lt;p&gt;Ванденбринк, Р. (2024): Linux для сетевых инженеров [&lt;a href="#citeproc_bib_item_1"&gt;1&lt;/a&gt;; &lt;a href="#citeproc_bib_item_2"&gt;2&lt;/a&gt;].&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#резюме"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Резюме&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#библиография"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Библиография&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#литература"&gt;Литература&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="резюме"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Резюме&lt;/h2&gt;
&lt;h2 id="библиография"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Библиография&lt;/h2&gt;
&lt;h2 id="литература"&gt;Литература&lt;/h2&gt;
&lt;div class="csl-bib-body"&gt;
&lt;div class="csl-entry"&gt;&lt;a id="citeproc_bib_item_1"&gt;&lt;/a&gt;1. Ванденбринк, Р. Linux для сетевых инженеров : Библиотека программиста / Р. Ванденбринк; А.Г. Гаврилов пер. . – Санкт-Петербург : Питер, 2024. – 496 сс. – Режим доступа: &lt;a href="http://libgen.li/ads.php?md5=621efa8ab55535069fac767af8326c6c"&gt;http://libgen.li/ads.php?md5=621efa8ab55535069fac767af8326c6c&lt;/a&gt; (дата обращения: 24.01.2024). – [Электронный ресурс].&lt;/div&gt;
&lt;div class="csl-entry"&gt;&lt;a id="citeproc_bib_item_2"&gt;&lt;/a&gt;2. VandenBrink, R. Linux for Networking Professionals / R. VandenBrink. – Packt Publishing Ltd., 2021. – 528 сс. – Режим доступа: &lt;a href="http://libgen.li/ads.php?md5=3a2be86ff686b6566194bc95c57b29f4"&gt;http://libgen.li/ads.php?md5=3a2be86ff686b6566194bc95c57b29f4&lt;/a&gt; (дата обращения: 27.01.2024). – [Электронный ресурс].&lt;/div&gt;
&lt;/div&gt;</description></item><item><title>Gentoo. Дополнительные репозитории</title><link>https://yamadharma.github.io/ru/post/2023/10/01/gentoo-additional-repositories/</link><pubDate>Sun, 01 Oct 2023 13:41:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2023/10/01/gentoo-additional-repositories/</guid><description>&lt;p&gt;Gentoo. Дополнительные репозитории.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#конфигурация"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Конфигурация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#использование"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Использование&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#синхронизация-репозитория"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Синхронизация репозитория&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#просмотр-репозиториев"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Просмотр репозиториев&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#добавление-репозиториев"&gt;&lt;span class="section-num"&gt;4.3&lt;/span&gt; Добавление репозиториев&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#отключение-репозиториев"&gt;&lt;span class="section-num"&gt;4.4&lt;/span&gt; Отключение репозиториев&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#создание-нового-репозитория"&gt;&lt;span class="section-num"&gt;4.5&lt;/span&gt; Создание нового репозитория&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройки-репозиториев"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Настройки репозиториев&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#приоритет-репозиториев"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; Приоритет репозиториев&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#списки-полезных-репозиториев"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Списки полезных репозиториев&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#karma"&gt;&lt;span class="section-num"&gt;6.1&lt;/span&gt; Karma&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#guru"&gt;&lt;span class="section-num"&gt;6.2&lt;/span&gt; guru&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#haskell"&gt;&lt;span class="section-num"&gt;6.3&lt;/span&gt; haskell&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Ранее использовалась утилита &lt;code&gt;layman&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Сейчас рекомендуется использовать модуль &lt;em&gt;eselect&lt;/em&gt; &lt;code&gt;eselect-repository&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Документация:
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Установка:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge app-eselect/eselect-repository
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="конфигурация"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Конфигурация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Для работы модуля должен существовать каталог или файл &lt;code&gt;repos.conf&lt;/code&gt;, путь к которому задаётся переменной &lt;code&gt;REPOS_CONF&lt;/code&gt; в &lt;code&gt;/etc/eselect/repository.conf&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Будем использовать каталог конфигурации:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir -p /etc/portage/repos.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Файл настройки &lt;code&gt;/etc/eselect/repository.conf&lt;/code&gt; изначально имеет следующий вид:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# конфигурация для eselect-repo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# (читается как bash сценарий, поэтому значения должны оставаться совместимыми&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# с bash)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Следующие переменные указывают на пути,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# настроенные во время сборки:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# CACHEDIR -- системный каталог кэша (напр. /var/cache)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# SYSCONFDIR -- системный каталог конфигурации (напр. /etc)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# SHAREDSTATEDIR -- системный каталог с разделяемыми состояниями&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# (shared state) (напр. /var)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Расположение файла или каталога с конфигурацией репозиториев.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Если это каталог, используются правила Portage для дочерних файлов.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;REPOS_CONF&lt;/span&gt;&lt;span class="o"&gt;=$&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;SYSCONFDIR&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;portage&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;repos&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Файл, в который будут добавляться конфигурации новых репозиториев,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# если REPOS_CONF является каталогом. Вы можете использовать&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# переменную &amp;#34;${repository}&amp;#34;, которая указывает на&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# название вновь добавленного репозитория.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;REPOS_CONF_SUBFILE&lt;/span&gt;&lt;span class="o"&gt;=$&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;REPOS_CONF&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;eselect&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;repo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Родительский каталог, куда будут добавлены сами репозитории.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Новые репозитории добавляются как дочерние каталоги&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# с названием самого репозитория.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;REPOS_BASE&lt;/span&gt;&lt;span class="o"&gt;=$&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;SHAREDSTATEDIR&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;repos&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Расположение списка удалённых репозиториев (remote repositories list).&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# По умолчанию использует список gentoo-mirror, который содержит,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# прегенерированный кэш метаданных&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# (pregenerated metadata cache).&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;REMOTE_LIST_URI&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;https&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;qa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;reports&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gentoo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;repos&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;repositories&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xml&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Альтернатива: изначальный список Gentoo без прегенерации.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;#REMOTE_LIST_URI=https://api.gentoo.org/overlays/repositories.xml&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Каталог, где будет храниться кэш repositories.xml. Файл всегда называется&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# &amp;#34;repositories.xml&amp;#34; из-за технических ограничений wget.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;REMOTE_LIST_CACHEDIR&lt;/span&gt;&lt;span class="o"&gt;=~/.&lt;/span&gt;&lt;span class="n"&gt;cache&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;eselect&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;repo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Интервал (в секундах) проверки списка удалённых репозиториев на изменения.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# По умолчанию равен 2 часам.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;REMOTE_LIST_REFRESH&lt;/span&gt;&lt;span class="o"&gt;=$&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;3600&lt;/span&gt; &lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="использование"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Использование&lt;/h2&gt;
&lt;h3 id="синхронизация-репозитория"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Синхронизация репозитория&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Репозитории могут быть синхронизированы утилитой &lt;code&gt;emaint&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emaint sync -r foo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="просмотр-репозиториев"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Просмотр репозиториев&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Gentoo позволяет пользователям и разработчикам регистрировать репозитории на
для публичного использования.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Просмотр списка репозиториев:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;суффикс &lt;code&gt;*&lt;/code&gt; указывает, что этот репозиторий установлен и подключён;&lt;/li&gt;
&lt;li&gt;суффикс &lt;code&gt;#&lt;/code&gt; указывает, что для этого репозитория необходимо обновить их информацию о синхронизации (путём выключения и включения), или они были настроены пользователем;&lt;/li&gt;
&lt;li&gt;суффикс &lt;code&gt;@&lt;/code&gt; указывает, что такой репозиторий не указан по имени в официальном, опубликованном списке.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Перечислить только сконфигурированные репозитории:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository list -i
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="добавление-репозиториев"&gt;&lt;span class="section-num"&gt;4.3&lt;/span&gt; Добавление репозиториев&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Добавление репозиториев с
:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository &lt;span class="nb"&gt;enable&lt;/span&gt; foo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Добавление произвольных репозиториев&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository add &lt;span class="nb"&gt;test&lt;/span&gt; git https://github.com/test/test.git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Синтаксис:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository add &amp;lt;название&amp;gt; &amp;lt;метод-синхронизации&amp;gt; &amp;lt;адрес-синхронизации&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="отключение-репозиториев"&gt;&lt;span class="section-num"&gt;4.4&lt;/span&gt; Отключение репозиториев&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Отключение репозиториев без удаления содержимого:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository remove foo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Синтаксис:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;remove &lt;span class="o"&gt;[&lt;/span&gt;-f&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&amp;lt;название&amp;gt;&lt;span class="p"&gt;|&lt;/span&gt;&amp;lt;индекс&amp;gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Опция &lt;code&gt;-f&lt;/code&gt; требуется для репозиториев, не зарегистрированных на repos.gentoo.org, или без информации о синхронизации.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Отключение репозиториев с удалением содержимого:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository remove foo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Синтаксис:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;remove &lt;span class="o"&gt;[&lt;/span&gt;-f&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&amp;lt;название&amp;gt;&lt;span class="p"&gt;|&lt;/span&gt;&amp;lt;индекс&amp;gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Опция &lt;code&gt;-f&lt;/code&gt; требуется для репозиториев, не зарегистрированных на repos.gentoo.org, или без информации о синхронизации.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="создание-нового-репозитория"&gt;&lt;span class="section-num"&gt;4.5&lt;/span&gt; Создание нового репозитория&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Создание каркаса репозитория:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository create foo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Синтаксис:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;create &amp;lt;название&amp;gt; &lt;span class="o"&gt;[&lt;/span&gt;&amp;lt;путь&amp;gt;&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="настройки-репозиториев"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Настройки репозиториев&lt;/h2&gt;
&lt;h3 id="приоритет-репозиториев"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; Приоритет репозиториев&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;По умолчанию пакеты в оверлейных репозиториях имеют преимущество перед пакетами в репозитории &lt;code&gt;gentoo&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Кроме того, можно управлять приоритетами дополнительных репозиториев.&lt;/li&gt;
&lt;li&gt;Добавьте параметр приоритета в файл описания репозиториев &lt;code&gt;/etc/portage/repos.conf/eselect-repo.conf&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-toml" data-lang="toml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;local&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;location&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="err"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;var&lt;/span&gt;&lt;span class="err"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;db&lt;/span&gt;&lt;span class="err"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;repos&lt;/span&gt;&lt;span class="err"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;local&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;priority&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="списки-полезных-репозиториев"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Списки полезных репозиториев&lt;/h2&gt;
&lt;h3 id="karma"&gt;&lt;span class="section-num"&gt;6.1&lt;/span&gt; Karma&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="guru"&gt;&lt;span class="section-num"&gt;6.2&lt;/span&gt; guru&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Страница:
&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Добавление репозитория:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository &lt;span class="nb"&gt;enable&lt;/span&gt; guru
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Синхронизация репозитория:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emaint sync -r guru
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="haskell"&gt;&lt;span class="section-num"&gt;6.3&lt;/span&gt; haskell&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Добавление репозитория:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository &lt;span class="nb"&gt;enable&lt;/span&gt; haskell
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Синхронизация репозитория:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emaint sync -r haskell
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Администрирование Linux</title><link>https://yamadharma.github.io/ru/post/2023/06/07/linux-administration/</link><pubDate>Wed, 07 Jun 2023 18:35:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2023/06/07/linux-administration/</guid><description>&lt;p&gt;Администрирование Linux.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#дистрибутивы-linux"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Дистрибутивы Linux&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#режим-киоска"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Режим киоска&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#дистрибутивы-общего-назначения"&gt;&lt;span class="section-num"&gt;1.3&lt;/span&gt; Дистрибутивы общего назначения&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#виртуальные-машины"&gt;&lt;span class="section-num"&gt;1.4&lt;/span&gt; Виртуальные машины&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#файловые-системы"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Файловые системы&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Установка&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="дистрибутивы-linux"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Дистрибутивы Linux&lt;/h2&gt;
&lt;h3 id="общая-информация"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Общая информация&lt;/h3&gt;
&lt;h3 id="режим-киоска"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Режим киоска&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Данные дистрибутивы созданы для организации режима киоска (см.
).&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="дистрибутивы-общего-назначения"&gt;&lt;span class="section-num"&gt;1.3&lt;/span&gt; Дистрибутивы общего назначения&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="виртуальные-машины"&gt;&lt;span class="section-num"&gt;1.4&lt;/span&gt; Виртуальные машины&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="файловые-системы"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Файловые системы&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Установка&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Автообновление систем на базе деривативов RedHat</title><link>https://yamadharma.github.io/ru/post/2022/09/25/redhat-based-systems-auto-update/</link><pubDate>Sun, 25 Sep 2022 09:42:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2022/09/25/redhat-based-systems-auto-update/</guid><description>&lt;p&gt;Простое автоматическое обновление на уровне хоста.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#прагматика"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Прагматика&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка-программного-обеспечения"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Установка программного обеспечения&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#использование-программного-обеспечения"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Использование программного обеспечения&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="прагматика"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Прагматика&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Основное преимущество автоматизации обновлений заключается в том, что машины, скорее всего, будут обновляться быстрее, чаще и более равномерно, чем если бы обновления выполнялись вручную.&lt;/li&gt;
&lt;li&gt;Хотя необходимо быть осторожным с любым решением для автоматического обновления, его стоит рассмотреть, по крайней мере, для некоторых ситуаций.&lt;/li&gt;
&lt;li&gt;Если машина является критическим сервером, для которого нельзя допускать незапланированного простоя службы на машине, то автоматические обновления использовать не следует. В противном случае можно использовать их.&lt;/li&gt;
&lt;li&gt;Причины использования автоматических обновлений.
&lt;ul&gt;
&lt;li&gt;Вы вряд ли будете применять обновления вручную по каким-либо причинам.&lt;/li&gt;
&lt;li&gt;Машина не критична, допустимы случайные незапланированные простои.&lt;/li&gt;
&lt;li&gt;Вы можете жить без удаленного доступа к машине, пока не сможете добраться до ее физического местоположения для решения проблем.&lt;/li&gt;
&lt;li&gt;У вас нет незаменимых данных на машине или надлежащих резервных копий таких данных.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Документация:
&lt;/li&gt;
&lt;li&gt;Используются таймеры:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;dnf-automatic.timer&lt;/code&gt; : общий таймер, операции настраиваются в файле конфигурации;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dnf-automatic-notifyonly.timer&lt;/code&gt; : уведомление о наличии обновлений;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dnf-automatic-download.timer&lt;/code&gt; : загрузка обновлений;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dnf-automatic-install.timer&lt;/code&gt; : установка обновлений.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Этим таймерам соответствуют сервисы.&lt;/li&gt;
&lt;li&gt;Конфигурационный файл: &lt;code&gt;/etc/dnf/automatic.conf&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка-программного-обеспечения"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Установка программного обеспечения&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Установим пакет:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install dnf-automatic
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="использование-программного-обеспечения"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Использование программного обеспечения&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Зададим необходимую конфигурацию в файле &lt;code&gt;/etc/dnf/automatic.conf&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Например, для автоматической установки обновлений зададим:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;download_updates&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;yes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;apply_updates&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;yes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Запустим общий таймер:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now dnf-automatic.timer
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Проверить работу таймера можно так:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl list-timers *dnf-* --all
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Стандартные каталоги Gentoo</title><link>https://yamadharma.github.io/ru/post/2022/09/17/gentoo-standard-directories/</link><pubDate>Sat, 17 Sep 2022 13:31:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2022/09/17/gentoo-standard-directories/</guid><description>&lt;p&gt;Стандартные каталоги Gentoo.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#конфигурация-portage"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Конфигурация portage&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#основные-файлы-настройки"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Основные файлы настройки&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#информация-из-определённого-профиля"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Информация из определённого профиля&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#пользовательская-конфигурация"&gt;&lt;span class="section-num"&gt;1.3&lt;/span&gt; Пользовательская конфигурация&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#каталоги-системы-portage"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Каталоги системы portage&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#изменение-расположения-каталогов"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Изменение расположения каталогов&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#миграция-каталогов"&gt;&lt;span class="section-num"&gt;2.1.1&lt;/span&gt; Миграция каталогов&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#репозитории-ebuild-файлов"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Репозитории ebuild-файлов&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#gentoo-репозиторий-ebuild-файлов"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Gentoo репозиторий ebuild-файлов&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#двоичные-пакеты"&gt;&lt;span class="section-num"&gt;2.4&lt;/span&gt; Двоичные пакеты&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#исходный-код"&gt;&lt;span class="section-num"&gt;2.5&lt;/span&gt; Исходный код&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#база-состояния-portage"&gt;&lt;span class="section-num"&gt;2.6&lt;/span&gt; База состояния Portage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#кеш-portage"&gt;&lt;span class="section-num"&gt;2.7&lt;/span&gt; Кеш Portage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#временные-файлы-portage"&gt;&lt;span class="section-num"&gt;2.8&lt;/span&gt; Временные файлы Portage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#каталог-компиляции"&gt;&lt;span class="section-num"&gt;2.9&lt;/span&gt; Каталог компиляции&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="конфигурация-portage"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Конфигурация portage&lt;/h2&gt;
&lt;h3 id="основные-файлы-настройки"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Основные файлы настройки&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Portage поставляется с настройками по умолчанию, которые хранятся в &lt;code&gt;/usr/share/portage/config/make.globals&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Все настройки Portage обрабатываются с помощью переменных.&lt;/li&gt;
&lt;li&gt;У portage есть конфигурационные файлы по умолчанию, которые является частью системного профиля.&lt;/li&gt;
&lt;li&gt;Системный профиль задаётся с помощью символьной ссылки &lt;code&gt;/etc/portage/make.profile&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Для замены конфигурационных переменных следует использовать файл &lt;code&gt;/etc/portage/make.conf&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Пример конфигурационного файла: &lt;code&gt;/usr/share/portage/config/make.conf.example&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="информация-из-определённого-профиля"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Информация из определённого профиля&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Каталог &lt;code&gt;/etc/portage/make.profile&lt;/code&gt; является символьной ссылкой на один из профилей.&lt;/li&gt;
&lt;li&gt;По умолчанию это &lt;code&gt;/var/db/repos/gentoo/profiles/&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Профиль, на который указывает символьная ссылка, и есть системный профиль.&lt;/li&gt;
&lt;li&gt;Профиль содержит информацию о конкретной архитектуре и настройках программного обеспечения.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="пользовательская-конфигурация"&gt;&lt;span class="section-num"&gt;1.3&lt;/span&gt; Пользовательская конфигурация&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для пользовательских настроек следует использовать файлы в &lt;code&gt;/etc/portage/&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Пользователи могут создать в &lt;code&gt;/etc/portage/&lt;/code&gt; следующие файлы:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;package.mask&lt;/code&gt;: список пакетов, которые Portage никогда не будет устанавливать;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;package.unmask&lt;/code&gt;: список пакетов, которые Portage будет устанавливать, даже если они заблокированы на системном уровне;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;package.accept_keywords&lt;/code&gt;: список пакетов, которые Portage будет устанавливать, даже если они не подходят для используемой системы или архитектуры;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;package.use&lt;/code&gt; список пакетов, для которых необходимо использовать специфичные USE-флаги, а не брать системные USE-флаги.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Они могут быть не файлами, а каталогами (содержимое разбито по отдельным файлам).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="каталоги-системы-portage"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Каталоги системы portage&lt;/h2&gt;
&lt;h3 id="изменение-расположения-каталогов"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Изменение расположения каталогов&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;На основании обсуждения
были внесены изменения в расположение каталогов portage.&lt;/p&gt;
&lt;div class="table-caption"&gt;
&lt;span class="table-number"&gt;&amp;#1058;&amp;#1072;&amp;#1073;&amp;#1083;&amp;#1080;&amp;#1094;&amp;#1072; 1:&lt;/span&gt;
Смена расположения каталогов системы portage
&lt;/div&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Назначение&lt;/th&gt;
&lt;th&gt;Старый путь&lt;/th&gt;
&lt;th&gt;Новый путь&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Дерево portage&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/usr/portage&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/var/db/repos/gentoo&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Исходный код пакетов&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/usr/portage/distfiles&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/var/cache/distfiles&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Бинарные пакеты&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/usr/portage/packages&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/var/cache/binpkgs&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="миграция-каталогов"&gt;&lt;span class="section-num"&gt;2.1.1&lt;/span&gt; Миграция каталогов&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Удалите (или закомментируйте) любые записи &lt;code&gt;PORTDIR&lt;/code&gt;, &lt;code&gt;DISTDIR&lt;/code&gt;, &lt;code&gt;PKGDIR&lt;/code&gt; в &lt;code&gt;/etc/portage/make.conf&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Значения переменных окружения можно посмотреть командой:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge --info -v
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge --info -v &lt;span class="p"&gt;|&lt;/span&gt; grep PORTDIR
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge --info -v &lt;span class="p"&gt;|&lt;/span&gt; grep DISTDIR
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge --info -v &lt;span class="p"&gt;|&lt;/span&gt; grep PKGDIR
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Если &lt;code&gt;/var/db/repos/&lt;/code&gt; не существует, создайте его.&lt;/li&gt;
&lt;li&gt;Переместите &lt;code&gt;/usr/portage/distfiles&lt;/code&gt; в &lt;code&gt;/var/cache/distfiles&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Переместите &lt;code&gt;/usr/portage/packages&lt;/code&gt; в &lt;code&gt;/var/cache/binpkgs&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Переместите &lt;code&gt;/usr/portage&lt;/code&gt; в &lt;code&gt;/var/db/repos/gentoo&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Измените переменную &lt;code&gt;location&lt;/code&gt; в файле &lt;code&gt;/etc/portage/repos.conf/gentoo.conf&lt;/code&gt; (или аналогичном) на &lt;code&gt;/var/db/repos/gentoo&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Переустановите &lt;code&gt;portage&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;DISTDIR&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/var/cache/distfiles &lt;span class="nv"&gt;PKGDIR&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/var/cache/binpkgs emerge --oneshot portage
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Если вы запускаете локальное зеркало rsync, отредактируйте запись пути в &lt;code&gt;/etc/rsyncd.conf&lt;/code&gt; так, чтобы она указывала на &lt;code&gt;/var/db/repos/gentoo&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Если вы делитесь своими дистрибутивами, не забудьте обновить любую символическую ссылку или файл конфигурации, которые вам нужны для этого.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="репозитории-ebuild-файлов"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Репозитории ebuild-файлов&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Репозитории ebuild-файлов по умолчанию находится в /var/db/repos/&amp;lt;reponame&amp;gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="gentoo-репозиторий-ebuild-файлов"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Gentoo репозиторий ebuild-файлов&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Gentoo репозиторий ebuild-файлов по умолчанию находится в &lt;code&gt;/var/db/repos/gentoo&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Месторасположение определяется файлом &lt;code&gt;repos.conf&lt;/code&gt;, пример которого можно найти в &lt;code&gt;/usr/share/portage/config/repos.conf&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Чтобы изменить значения по умолчанию, скопируйте этот файл в &lt;code&gt;/etc/portage/repos.conf/gentoo.conf&lt;/code&gt; и измените &lt;code&gt;location&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Не забудьте сменить символьную ссылку на &lt;code&gt;/etc/portage/make.profile&lt;/code&gt;, если хотите хранить (меняя переменную) Gentoo репозиторий ebuild-файлов в другом месте.&lt;/li&gt;
&lt;li&gt;После изменения настройки location в &lt;code&gt;/etc/portage/repos.conf/gentoo.conf&lt;/code&gt; рекомендуется изменить следующие переменные &lt;code&gt;/etc/portage/make.conf&lt;/code&gt;, так как они не заметят изменений в &lt;code&gt;location&lt;/code&gt;: &lt;code&gt;PKGDIR&lt;/code&gt;, &lt;code&gt;DISTDIR&lt;/code&gt;, &lt;code&gt;RPMDIR&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="двоичные-пакеты"&gt;&lt;span class="section-num"&gt;2.4&lt;/span&gt; Двоичные пакеты&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Бинарные пакеты находятся в каталоге &lt;code&gt;/var/cache/binpkgs&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Этот каталог определяется переменной &lt;code&gt;PKGDIR&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="исходный-код"&gt;&lt;span class="section-num"&gt;2.5&lt;/span&gt; Исходный код&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;По умолчанию исходный код для приложений хранится в каталоге &lt;code&gt;/var/cache/distfiles&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Этот каталог определяется переменной &lt;code&gt;DISTDIR&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="база-состояния-portage"&gt;&lt;span class="section-num"&gt;2.6&lt;/span&gt; База состояния Portage&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;База состояния системы (какие пакеты установлены, какие файлы какому пакету принадлежат и т.д.) находится в каталоге &lt;code&gt;/var/db/pkg&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="кеш-portage"&gt;&lt;span class="section-num"&gt;2.7&lt;/span&gt; Кеш Portage&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Кэш portage хранится в &lt;code&gt;/var/cache/edb&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Можно отчистить это каталог, если на данный момент не запущено никаких приложений Portage.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="временные-файлы-portage"&gt;&lt;span class="section-num"&gt;2.8&lt;/span&gt; Временные файлы Portage&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Временные файлы Portage по умолчанию хранятся в &lt;code&gt;/var/tmp/&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Этот каталог определяется с помощью переменной &lt;code&gt;PORTAGE_TMPDIR&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="каталог-компиляции"&gt;&lt;span class="section-num"&gt;2.9&lt;/span&gt; Каталог компиляции&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Portage создаёт специальные каталоги в &lt;code&gt;/var/tmp/portage/&lt;/code&gt; для всех компилируемых пакетов.&lt;/li&gt;
&lt;li&gt;Этот каталог определяется переменной &lt;code&gt;PORTAGE_TMPDIR&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Linux. Дистрибутив Gentoo</title><link>https://yamadharma.github.io/ru/post/2022/09/17/linux-gentoo-distribution/</link><pubDate>Sat, 17 Sep 2022 13:18:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2022/09/17/linux-gentoo-distribution/</guid><description>&lt;p&gt;Дистрибутив Gentoo.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#администрирование-gentoo"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Администрирование Gentoo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;h2 id="администрирование-gentoo"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Администрирование Gentoo&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Rocky Linux. Установка сервера</title><link>https://yamadharma.github.io/ru/post/2022/08/12/rockylinux-server-installation/</link><pubDate>Fri, 12 Aug 2022 13:57:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2022/08/12/rockylinux-server-installation/</guid><description>&lt;p&gt;Установка базисного сервера на Rocky Linux.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#дополнительные-стандартные-репозитории"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Дополнительные стандартные репозитории&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#репозитории-сообщества"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Репозитории сообщества&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка-образа"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка образа&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#после-установки"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; После установки&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#обновления"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Обновления&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка-локализации"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Установка локализации&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#дополнительные-репозитории"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Дополнительные репозитории&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка-часового-пояса"&gt;&lt;span class="section-num"&gt;3.4&lt;/span&gt; Установка часового пояса&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#синхронизация-времени"&gt;&lt;span class="section-num"&gt;3.5&lt;/span&gt; Синхронизация времени&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#разрешение-имён"&gt;&lt;span class="section-num"&gt;3.6&lt;/span&gt; Разрешение имён&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#systemd-resolved"&gt;&lt;span class="section-num"&gt;3.6.1&lt;/span&gt; systemd-resolved&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#повышение-комфорта-работы"&gt;&lt;span class="section-num"&gt;3.7&lt;/span&gt; Повышение комфорта работы&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#отключение-графического-интерфейса"&gt;&lt;span class="section-num"&gt;3.8&lt;/span&gt; Отключение графического интерфейса&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#безопасность"&gt;&lt;span class="section-num"&gt;3.9&lt;/span&gt; Безопасность&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#fail2ban"&gt;&lt;span class="section-num"&gt;3.9.1&lt;/span&gt; Fail2ban&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#администрирование"&gt;&lt;span class="section-num"&gt;3.10&lt;/span&gt; Администрирование&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#автоматическое-обновление"&gt;&lt;span class="section-num"&gt;3.10.1&lt;/span&gt; Автоматическое обновление&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка-дополнительного-программного-обеспечения"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Установка дополнительного программного обеспечения&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#утилиты"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Утилиты&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#rsync"&gt;&lt;span class="section-num"&gt;4.1.1&lt;/span&gt; rsync&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#безопасность"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Безопасность&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#работа-с-let-s-encrypt"&gt;&lt;span class="section-num"&gt;4.2.1&lt;/span&gt; Работа с Let’s Encrypt&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#синхронизация-времени"&gt;&lt;span class="section-num"&gt;4.3&lt;/span&gt; Синхронизация времени&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#systemd-timesyncd"&gt;&lt;span class="section-num"&gt;4.3.1&lt;/span&gt; systemd-timesyncd&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#сервер-сетевого-времени"&gt;&lt;span class="section-num"&gt;4.3.2&lt;/span&gt; Сервер сетевого времени&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#вариации-на-тему-стека-lamp--linux-apache-mysql-php"&gt;&lt;span class="section-num"&gt;4.4&lt;/span&gt; Вариации на тему стека LAMP (Linux, Apache, MySQL, PHP)&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#apache"&gt;&lt;span class="section-num"&gt;4.4.1&lt;/span&gt; Apache&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#php"&gt;&lt;span class="section-num"&gt;4.4.2&lt;/span&gt; PHP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#mysql"&gt;&lt;span class="section-num"&gt;4.4.3&lt;/span&gt; Mysql&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#администрирование"&gt;&lt;span class="section-num"&gt;4.5&lt;/span&gt; Администрирование&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#резервное-копирование"&gt;&lt;span class="section-num"&gt;4.5.1&lt;/span&gt; Резервное копирование&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#файловые-системы"&gt;&lt;span class="section-num"&gt;4.6&lt;/span&gt; Файловые системы&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#glusterfs"&gt;&lt;span class="section-num"&gt;4.6.1&lt;/span&gt; GlusterFS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#dns-сервера"&gt;&lt;span class="section-num"&gt;4.7&lt;/span&gt; DNS сервера&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#контроль-версий"&gt;&lt;span class="section-num"&gt;4.8&lt;/span&gt; Контроль версий&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#git"&gt;&lt;span class="section-num"&gt;4.8.1&lt;/span&gt; git&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#cvs"&gt;&lt;span class="section-num"&gt;4.8.2&lt;/span&gt; cvs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#средства-разработки"&gt;&lt;span class="section-num"&gt;4.9&lt;/span&gt; Средства разработки&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#виртуализация-и-контейнеры"&gt;&lt;span class="section-num"&gt;4.10&lt;/span&gt; Виртуализация и контейнеры&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Rocky Linux &amp;mdash; сборка RedHat Linux, пришедший на смену Centos (см.
).&lt;/li&gt;
&lt;li&gt;Сайт:
.&lt;/li&gt;
&lt;li&gt;Образы:
&lt;ul&gt;
&lt;li&gt;
;&lt;/li&gt;
&lt;li&gt;
.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="дополнительные-стандартные-репозитории"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Дополнительные стандартные репозитории&lt;/h3&gt;
&lt;div class="table-caption"&gt;
&lt;span class="table-number"&gt;&amp;#1058;&amp;#1072;&amp;#1073;&amp;#1083;&amp;#1080;&amp;#1094;&amp;#1072; 1:&lt;/span&gt;
Стандартные дополнительные репозитории
&lt;/div&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Repository&lt;/th&gt;
&lt;th&gt;Rocky 8&lt;/th&gt;
&lt;th&gt;Rocky 9&lt;/th&gt;
&lt;th&gt;Включён&lt;/th&gt;
&lt;th&gt;Примечание&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Extras&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;Дополнительные функции, не нарушающие совместимость исходного кода&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Plus&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;Либо заменяет стандартный компонент, либо под одну архитектуру&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RT (real time)&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;Пакеты для&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;NFV&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;TBD&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SAP / SAP HANA&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;TBD&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Devel / devel&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id="репозитории-сообщества"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Репозитории сообщества&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Дополнительные пакеты для Enterprise Linux (EPEL):
&lt;ul&gt;
&lt;li&gt;документация:
;&lt;/li&gt;
&lt;li&gt;наиболее часто используемй репозиторий;&lt;/li&gt;
&lt;li&gt;сборки пакетов Fedora для каждого поддерживаемого корпоративного Linux;&lt;/li&gt;
&lt;li&gt;пакеты не заменяют базовые;&lt;/li&gt;
&lt;li&gt;установка:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf config-manager --set-enabled crb
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install epel-release
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Репозиторий Community Enterprise Linux (ELRepo):
&lt;ul&gt;
&lt;li&gt;фокусируется на более новых ядрах и пакетах драйверов kmod для улучшения поддержки оборудования;&lt;/li&gt;
&lt;li&gt;репозитории ядра должны быть включены для его использования;&lt;/li&gt;
&lt;li&gt;установка:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install elrepo-release
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;RPM Fusion:
&lt;ul&gt;
&lt;li&gt;программное обеспечение, которое Fedora Project или Red Hat не хотят поставлять в Enterprise Linux и Fedora;&lt;/li&gt;
&lt;li&gt;базовые пакеты не заменяются;&lt;/li&gt;
&lt;li&gt;установка:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install rpmfusion-free-release
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Репозиторий Remi:
&lt;ul&gt;
&lt;li&gt;сайт:
;&lt;/li&gt;
&lt;li&gt;поддерживает большую коллекцию RPM, включая, среди прочего, последние версии PHP;&lt;/li&gt;
&lt;li&gt;это коллекция репозиториев;&lt;/li&gt;
&lt;li&gt;документация:
;&lt;/li&gt;
&lt;li&gt;может конфликтовать с другими сторонними репозиториями.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;GhettoForge:
&lt;ul&gt;
&lt;li&gt;документация:
;&lt;/li&gt;
&lt;li&gt;пакеты, которых нет в других сторонних репозиториях;&lt;/li&gt;
&lt;li&gt;пакеты, перезаписывающие базу, будут в репозитории &lt;code&gt;gf-plus&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка-образа"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка образа&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="после-установки"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; После установки&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Здесь даны общие шаги для большей части серверов.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="обновления"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Обновления&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Обновить все пакеты
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="установка-локализации"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Установка локализации&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Проверьте текущую локализацию:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;localectl status
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Посмотрите доступные локализации:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;localectl list-locales
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Если нет необходимой, установите её:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install glibc-langpack-ru
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установите нужную локализацию:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;localectl set-locale ru_RU.UTF-8
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Проверьте текущую локализацию:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;localectl status
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="дополнительные-репозитории"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Дополнительные репозитории&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Установим &lt;em&gt;EPEL&lt;/em&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf config-manager --set-enabled crb
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install epel-release
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="установка-часового-пояса"&gt;&lt;span class="section-num"&gt;3.4&lt;/span&gt; Установка часового пояса&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Просмотрите список всех часовых поясов:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;timedatectl list-timezones
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установите часовой пояс (например, UTC):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;timedatectl set-timezone Etc/UTC
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="синхронизация-времени"&gt;&lt;span class="section-num"&gt;3.5&lt;/span&gt; Синхронизация времени&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Запустите демон:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now chronyd
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Проверьте работу демона &lt;code&gt;chronyd&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chronyc -a tracking
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Включите сетевую синхронизацию времени:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;timedatectl set-ntp &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Проверьте, работает ли он:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;timedatectl status
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="разрешение-имён"&gt;&lt;span class="section-num"&gt;3.6&lt;/span&gt; Разрешение имён&lt;/h3&gt;
&lt;h4 id="systemd-resolved"&gt;&lt;span class="section-num"&gt;3.6.1&lt;/span&gt; systemd-resolved&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Можно установить кеширующий локальный name-server &lt;code&gt;systemd-resolved&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install systemd-resolved
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Файл настройки: &lt;code&gt;/etc/systemd/resolved.conf&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Можно в нём ничего не менять.&lt;/li&gt;
&lt;li&gt;Запустим службу:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now systemd-resolved.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установите резольвер:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;ln -snf /run/systemd/resolve/stub-resolv.conf /etc/resolv.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Проверить работу можно командой:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;resolvectl
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="повышение-комфорта-работы"&gt;&lt;span class="section-num"&gt;3.7&lt;/span&gt; Повышение комфорта работы&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Программы для удобства работы в консоли:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install tmux perl-DateTime-HiRes mc kitty-terminfo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Программы мониторинга:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install htop lsof
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Утилита для ssh:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install mosh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Удобство работы с bash:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install bash-completion bash-color-prompt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Разные утилиты:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install wget git tar zstd p7zip
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="отключение-графического-интерфейса"&gt;&lt;span class="section-num"&gt;3.8&lt;/span&gt; Отключение графического интерфейса&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Посмотрите, в каком режиме загружается сервер:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl get-default
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Если результатом является &lt;code&gt;graphical.target&lt;/code&gt;, то отключите загрузку графического интерфейса.&lt;/li&gt;
&lt;li&gt;Переключите на загрузку в терминальном многопользовательском режиме:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl set-default multi-user.target
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="безопасность"&gt;&lt;span class="section-num"&gt;3.9&lt;/span&gt; Безопасность&lt;/h3&gt;
&lt;h4 id="fail2ban"&gt;&lt;span class="section-num"&gt;3.9.1&lt;/span&gt; Fail2ban&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Защита от атак:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install fail2ban
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Следует сконфигурировать (см.
) и запустить:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now fail2ban.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Проверьте работу:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tail -f /var/log/fail2ban.log
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="администрирование"&gt;&lt;span class="section-num"&gt;3.10&lt;/span&gt; Администрирование&lt;/h3&gt;
&lt;h4 id="автоматическое-обновление"&gt;&lt;span class="section-num"&gt;3.10.1&lt;/span&gt; Автоматическое обновление&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;При необходимости можно использовать автоматическое обновление (см.
).&lt;/li&gt;
&lt;li&gt;Установка программного обеспечения:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install dnf-automatic
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Задаёте необходимую конфигурацию в файле &lt;code&gt;/etc/dnf/automatic.conf&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Запустите таймер:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now dnf-automatic.timer
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка-дополнительного-программного-обеспечения"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Установка дополнительного программного обеспечения&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Описываются дополнительные пакеты для специализированных серверов.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="утилиты"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Утилиты&lt;/h3&gt;
&lt;h4 id="rsync"&gt;&lt;span class="section-num"&gt;4.1.1&lt;/span&gt; rsync&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установим rsync:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install rsync
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="безопасность"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Безопасность&lt;/h3&gt;
&lt;h4 id="работа-с-let-s-encrypt"&gt;&lt;span class="section-num"&gt;4.2.1&lt;/span&gt; Работа с Let&amp;rsquo;s Encrypt&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установим certbot:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install certbot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установим модуль под Apache:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install python3-certbot-apache
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Если используется Nginx, установим модуль под Nginx:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;install certbot python3-certbot-nginx
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="синхронизация-времени"&gt;&lt;span class="section-num"&gt;4.3&lt;/span&gt; Синхронизация времени&lt;/h3&gt;
&lt;h4 id="systemd-timesyncd"&gt;&lt;span class="section-num"&gt;4.3.1&lt;/span&gt; systemd-timesyncd&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Можно использовать альтернативный метод синхронизации времени из пакета systemd.&lt;/li&gt;
&lt;li&gt;Установите демон синхронизации:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install systemd-timesyncd
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Запустите демон:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now systemd-timesyncd
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Включите сетевую синхронизацию времени:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;timedatectl set-ntp &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Проверьте, работает ли он:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;timedatectl status
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Подробная информация:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;timedatectl timesync-status
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="сервер-сетевого-времени"&gt;&lt;span class="section-num"&gt;4.3.2&lt;/span&gt; Сервер сетевого времени&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;В файле &lt;code&gt;/etc/chrony.conf&lt;/code&gt; Разрешите подключение клиентов из локальной сети:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;allow 192.168.0.0/16
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Запустите сервер сетевого времени:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now chronyd
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Проверьте пулы NTP:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chronyc sources
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Проверьте состояние синхронизации NTP:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chronyc tracking
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Чтобы принимать входящие запросы клиентов, разрешите службу NTP через брандмауэр:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;firewall-cmd --permanent --add-service&lt;span class="o"&gt;=&lt;/span&gt;ntp
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Перезапустите брандмауэр:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;firewall-cmd --reload
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="вариации-на-тему-стека-lamp--linux-apache-mysql-php"&gt;&lt;span class="section-num"&gt;4.4&lt;/span&gt; Вариации на тему стека LAMP (Linux, Apache, MySQL, PHP)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Устанавливается, если необходимо поддерживать приложение на PHP.&lt;/li&gt;
&lt;li&gt;Обычно используются базы данных Mysql или Postgresql.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="apache"&gt;&lt;span class="section-num"&gt;4.4.1&lt;/span&gt; Apache&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установка Apache:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install httpd
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установка поддержки HTTPS:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install mod_ssl
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="php"&gt;&lt;span class="section-num"&gt;4.4.2&lt;/span&gt; PHP&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Определим, какие версии php возможно установить:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf module list php
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установим php-8.2:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf module reset php
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf module &lt;span class="nb"&gt;enable&lt;/span&gt; php:8.2
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install php
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo dnf -y update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="mysql"&gt;&lt;span class="section-num"&gt;4.4.3&lt;/span&gt; Mysql&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установим &lt;em&gt;mariadb&lt;/em&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install mariadb
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install mariadb-server
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установим модуль для php:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install php-mysqlnd
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="администрирование"&gt;&lt;span class="section-num"&gt;4.5&lt;/span&gt; Администрирование&lt;/h3&gt;
&lt;h4 id="резервное-копирование"&gt;&lt;span class="section-num"&gt;4.5.1&lt;/span&gt; Резервное копирование&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Для резервного копирования используется &lt;em&gt;restic&lt;/em&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install restic
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="файловые-системы"&gt;&lt;span class="section-num"&gt;4.6&lt;/span&gt; Файловые системы&lt;/h3&gt;
&lt;h4 id="glusterfs"&gt;&lt;span class="section-num"&gt;4.6.1&lt;/span&gt; GlusterFS&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установите пакет для последнего релиза GlusterFS (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install centos-release-gluster
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установка клиента GlusterFS:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install glusterfs
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install glusterfs-fuse
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="dns-сервера"&gt;&lt;span class="section-num"&gt;4.7&lt;/span&gt; DNS сервера&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="контроль-версий"&gt;&lt;span class="section-num"&gt;4.8&lt;/span&gt; Контроль версий&lt;/h3&gt;
&lt;h4 id="git"&gt;&lt;span class="section-num"&gt;4.8.1&lt;/span&gt; git&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установите &lt;code&gt;git&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="cvs"&gt;&lt;span class="section-num"&gt;4.8.2&lt;/span&gt; cvs&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установите &lt;code&gt;cvs&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y install cvs
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="средства-разработки"&gt;&lt;span class="section-num"&gt;4.9&lt;/span&gt; Средства разработки&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Установим группу средств разработки:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf -y group install &lt;span class="s2"&gt;&amp;#34;Development Tools&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="виртуализация-и-контейнеры"&gt;&lt;span class="section-num"&gt;4.10&lt;/span&gt; Виртуализация и контейнеры&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Porteus Kiosk</title><link>https://yamadharma.github.io/ru/post/2022/02/15/porteus-kiosk/</link><pubDate>Tue, 15 Feb 2022 11:36:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2022/02/15/porteus-kiosk/</guid><description>&lt;p&gt;&lt;em&gt;Porteus Kiosk&lt;/em&gt; &amp;mdash; дистрибутив Linux, реализующий режим киоска (см.
).&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#поддерживаемые-архитектуры"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Поддерживаемые архитектуры&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ограничения"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Ограничения&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#структура-дистрибутива"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Структура дистрибутива&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#модульная-структура"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Модульная структура&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#видео"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Видео&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#конфигурация-на-сервере"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Конфигурация на сервере&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Установка&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#использование-после-установки"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Использование после установки&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#удалённый-доступ"&gt;&lt;span class="section-num"&gt;3.4&lt;/span&gt; Удалённый доступ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Сайт:
&lt;/li&gt;
&lt;li&gt;Есть централизованные платные сервисы.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="поддерживаемые-архитектуры"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Поддерживаемые архитектуры&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Поддерживается только архитектура &lt;em&gt;x86_64&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ограничения"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Ограничения&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Заблокирован доступ к скачиванию модулей дистрибутива из России.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="структура-дистрибутива"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Структура дистрибутива&lt;/h2&gt;
&lt;h3 id="модульная-структура"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Модульная структура&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Часть программного обеспечения реализовано в виде модулей.&lt;/li&gt;
&lt;li&gt;Можно собирать собственный вариант дистрибутива с необходимыми модулями.&lt;/li&gt;
&lt;li&gt;Список модулей:
&lt;ul&gt;
&lt;li&gt;Citrix Receiver.&lt;/li&gt;
&lt;li&gt;Дополнительные шрифты.&lt;/li&gt;
&lt;li&gt;Поддержка печати для локальных и сетевых принтеров.&lt;/li&gt;
&lt;li&gt;Поддержка загрузки по PXE.&lt;/li&gt;
&lt;li&gt;Службы SSH и VNC для удалённого управления и мониторинга киоска&lt;/li&gt;
&lt;li&gt;Поддержка UEFI.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="видео"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Видео&lt;/h2&gt;
&lt;h3 id="конфигурация-на-сервере"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Конфигурация на сервере&lt;/h3&gt;
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"&gt;
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/3FmzjSAVHuc?autoplay=0&amp;amp;controls=1&amp;amp;end=0&amp;amp;loop=0&amp;amp;mute=0&amp;amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h3 id="установка"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Установка&lt;/h3&gt;
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"&gt;
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/gWEFRG4mOl4?autoplay=0&amp;amp;controls=1&amp;amp;end=0&amp;amp;loop=0&amp;amp;mute=0&amp;amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h3 id="использование-после-установки"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Использование после установки&lt;/h3&gt;
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"&gt;
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/TCykM713AjA?autoplay=0&amp;amp;controls=1&amp;amp;end=0&amp;amp;loop=0&amp;amp;mute=0&amp;amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h3 id="удалённый-доступ"&gt;&lt;span class="section-num"&gt;3.4&lt;/span&gt; Удалённый доступ&lt;/h3&gt;
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"&gt;
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/ZAA-ftK5eA0?autoplay=0&amp;amp;controls=1&amp;amp;end=0&amp;amp;loop=0&amp;amp;mute=0&amp;amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"&gt;&lt;/iframe&gt;
&lt;/div&gt;</description></item><item><title>CentOS 8. Изменение адресов репозиториев</title><link>https://yamadharma.github.io/ru/post/2022/02/10/centos8-changing-repository-addresses/</link><pubDate>Thu, 10 Feb 2022 14:39:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2022/02/10/centos8-changing-repository-addresses/</guid><description>&lt;p&gt;С 31 января 2022 года установка пакетов или обновление репозиториев в CentOS8 выдаёт ошибку.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#centos-8"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Centos 8&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#ошибка"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Ошибка&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#причины"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Причины&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#устранение"&gt;&lt;span class="section-num"&gt;1.3&lt;/span&gt; Устранение&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#scientific-linux-7"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Scientific Linux 7&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#исправление-расположения-репозиториев"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Исправление расположения репозиториев&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="centos-8"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Centos 8&lt;/h2&gt;
&lt;h3 id="ошибка"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Ошибка&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;При работе с репозиториями в CentOS 8 появилась ошибка:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Error: Failed to download metadata &lt;span class="k"&gt;for&lt;/span&gt; repo &lt;span class="s1"&gt;&amp;#39;repo_name&amp;#39;&lt;/span&gt;: Cannot prepare internal mirrorlist: No URLs in mirrorlist
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="причины"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Причины&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;31 января 2022 года удалены все пакеты для &lt;em&gt;CentOS8&lt;/em&gt; с официальных зеркал.&lt;/li&gt;
&lt;li&gt;Вызвано прекращением поддержки &lt;em&gt;CentOS8&lt;/em&gt; (см.
).&lt;/li&gt;
&lt;li&gt;Теперь они перенесены на
.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="устранение"&gt;&lt;span class="section-num"&gt;1.3&lt;/span&gt; Устранение&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Следует обновить файлы описания репозиториев в &lt;code&gt;/etc/yum.repos.d&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Следует использовать &lt;code&gt;vault.centos.org&lt;/code&gt; вместо &lt;code&gt;mirror.centos.org&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Предлагается выполнить следующие команды:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo sed -i -e &lt;span class="s2"&gt;&amp;#34;s|mirrorlist=|#mirrorlist=|g&amp;#34;&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;#34;s|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g&amp;#34;&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;#34;s|\$contentdir|centos|g&amp;#34;&lt;/span&gt; /etc/yum.repos.d/CentOS-*
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="scientific-linux-7"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Scientific Linux 7&lt;/h2&gt;
&lt;h3 id="исправление-расположения-репозиториев"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Исправление расположения репозиториев&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Замените записи о репозиториях:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo sed -i -e &lt;span class="s2"&gt;&amp;#34;s|scientificlinux.org/linux/scientific/\$slreleasever|scientificlinux.org/linux/scientific/obsolete/\$slreleasever|g&amp;#34;&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;#34;s|scientificlinux.org/linux/scientific/7rolling|scientificlinux.org/linux/scientific/obsolete/7rolling|g&amp;#34;&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;#34;s|scientificlinux.org/linux/scientific/7x|scientificlinux.org/linux/scientific/obsolete/7x|g&amp;#34;&lt;/span&gt; /etc/yum.repos.d/sl7* /etc/yum.repos.d/sl-*
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Шрифты в Linux</title><link>https://yamadharma.github.io/ru/post/2021/10/27/linux-fonts/</link><pubDate>Wed, 27 Oct 2021 11:36:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2021/10/27/linux-fonts/</guid><description>&lt;p&gt;Работа со шрифтами в Linux.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#установка-шрифтов-microsoft"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Установка шрифтов Microsoft&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#основные-шрифты-microsoft"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Основные шрифты Microsoft&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#ubuntu"&gt;&lt;span class="section-num"&gt;1.1.1&lt;/span&gt; Ubuntu&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#шрифты-для-программирования"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Шрифты для программирования&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="установка-шрифтов-microsoft"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Установка шрифтов Microsoft&lt;/h2&gt;
&lt;h3 id="основные-шрифты-microsoft"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Основные шрифты Microsoft&lt;/h3&gt;
&lt;h4 id="ubuntu"&gt;&lt;span class="section-num"&gt;1.1.1&lt;/span&gt; Ubuntu&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Шрифты Microsoft не идут под свободной лицензией.&lt;/li&gt;
&lt;li&gt;Для работы с ними нужно установить соответствующий пакет:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;apt-get install ttf-mscorefonts-installer
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Вас попросят принять лицензию (EULA), после этого будут скачаны соответствующие шрифты (в виде архивов), распакованы и установлены в системе.&lt;/li&gt;
&lt;li&gt;Скачиваются они с проекта &lt;em&gt;Corefonts&lt;/em&gt; (
).&lt;/li&gt;
&lt;li&gt;Обычно устанавливаются шрифты в каталог &lt;code&gt;/usr/share/fonts/truetype/msttcorefonts&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="шрифты-для-программирования"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Шрифты для программирования&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Выбор дистрибутива Linux</title><link>https://yamadharma.github.io/ru/post/2021/08/08/choosing-linux-distribution/</link><pubDate>Sun, 08 Aug 2021 11:20:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2021/08/08/choosing-linux-distribution/</guid><description>&lt;p&gt;Какой дистрибутив Linux выбрать.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#серверный-компьютерный-парк"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Серверный компьютерный парк&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#требования"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Требования&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#реализация"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Реализация&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#обучение"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Обучение&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#дисплейные-классы"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Дисплейные классы&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#требования"&gt;&lt;span class="section-num"&gt;2.1.1&lt;/span&gt; Требования&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#реализация"&gt;&lt;span class="section-num"&gt;2.1.2&lt;/span&gt; Реализация&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#домашние-компьютеры-студентов"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Домашние компьютеры студентов&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#специализированные-дистрибутивы-для-разных-предметов"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Специализированные дистрибутивы для разных предметов&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#личное-использование"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Личное использование&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#требования"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Требования&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#реализация"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Реализация&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="серверный-компьютерный-парк"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Серверный компьютерный парк&lt;/h2&gt;
&lt;h3 id="требования"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Требования&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Стабильность дистрибутива.&lt;/li&gt;
&lt;li&gt;Всё должно делаться само.&lt;/li&gt;
&lt;li&gt;Как можно больше автоматизации.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="реализация"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Реализация&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Под описание подходят:
&lt;ul&gt;
&lt;li&gt;Debian;&lt;/li&gt;
&lt;li&gt;Ubuntu;&lt;/li&gt;
&lt;li&gt;Red Hat.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;В качестве основного дистрибутива была принята CentOS.&lt;/li&gt;
&lt;li&gt;В связи с пертурбациями вокруг CentOS (см.
), предполагается замена на Rocky Linux.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="обучение"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Обучение&lt;/h2&gt;
&lt;h3 id="дисплейные-классы"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Дисплейные классы&lt;/h3&gt;
&lt;h4 id="требования"&gt;&lt;span class="section-num"&gt;2.1.1&lt;/span&gt; Требования&lt;/h4&gt;
&lt;h4 id="реализация"&gt;&lt;span class="section-num"&gt;2.1.2&lt;/span&gt; Реализация&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;В дисплейных классах развёрнут дистрибутив Gentoo.&lt;/li&gt;
&lt;li&gt;Это позволяет настраивать систему так, как будет нужным.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="домашние-компьютеры-студентов"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Домашние компьютеры студентов&lt;/h3&gt;
&lt;h3 id="специализированные-дистрибутивы-для-разных-предметов"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Специализированные дистрибутивы для разных предметов&lt;/h3&gt;
&lt;h2 id="личное-использование"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Личное использование&lt;/h2&gt;
&lt;h3 id="требования"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Требования&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Гибкость.&lt;/li&gt;
&lt;li&gt;Возможность поставить любую программу, любой версии.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="реализация"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Реализация&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для личного использования применяю Gentoo.&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Мне отмщение и аз воздам</title><link>https://yamadharma.github.io/ru/post/2007/09/15/mne-otmschenie-i-az-vozdam/</link><pubDate>Sat, 15 Sep 2007 19:57:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2007/09/15/mne-otmschenie-i-az-vozdam/</guid><description>&lt;p&gt;SCO объявили себя банкротами.&lt;/p&gt;</description></item><item><title>К вопросу о настройке маршрутизатора ASUS WL-500gP</title><link>https://yamadharma.github.io/ru/post/2007/01/14/k-voprosu-o-nastrojke-marshrutizatora-asus-wl-500gp/</link><pubDate>Sun, 14 Jan 2007 18:18:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2007/01/14/k-voprosu-o-nastrojke-marshrutizatora-asus-wl-500gp/</guid><description>&lt;p&gt;При настройке возникли следующие проблемы.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Нужно было догадаться, что сервер доступа в настройках называется Heart-Beat Server.&lt;/li&gt;
&lt;li&gt;Задавать маршрутизацию можно либо на на внутреннем eth (LAN), либо на внешнем ppp (WAN). Таким образом, получить доступ к домашней сети провайдера оказалось невозможным. Пришлось качать альтернативную прошивку (
, в которой возможно (кроме кучи других бонусов) задавать маршрутную таблицу на внешнем eth (MAN) интерфейсе.&lt;/li&gt;
&lt;/ol&gt;</description></item><item><title>Работа с видео</title><link>https://yamadharma.github.io/ru/post/2007/01/10/rabota-s-video/</link><pubDate>Wed, 10 Jan 2007 22:59:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2007/01/10/rabota-s-video/</guid><description>&lt;p&gt;Выделим несколько задач работы с видео.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Кодирование DVD (DVD-riping). Критерии выбора ПО:
&lt;ul&gt;
&lt;li&gt;крайняя простота использования;&lt;/li&gt;
&lt;li&gt;поддержка разных кодеков, особенно H.264;&lt;/li&gt;
&lt;li&gt;работа с несколькими звуковыми дорожками и несколькими субтитрами;&lt;/li&gt;
&lt;li&gt;поддержка разных видео-контейнеров.
Пока пользуюсь
.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Простая обработка видео. Основные задачи: обрезка, наложение фильтров, кодирование. Наиболее оптимальным  представляется
.&lt;/li&gt;
&lt;li&gt;Линейный и нелинейный монтаж. Использую пока следующие программы:
(для задач попроще) и
(более сложные задачи). Также рекомендуются:
,
.&lt;/li&gt;
&lt;/ol&gt;</description></item><item><title>Менеджеры изображений. F-spot.</title><link>https://yamadharma.github.io/ru/post/2006/12/06/menedzhery-izobrazhenij-f-spot/</link><pubDate>Wed, 06 Dec 2006 16:48:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2006/12/06/menedzhery-izobrazhenij-f-spot/</guid><description>&lt;p&gt;Можно разделить менеджеры изображений на по методу упорядочивания содержимого:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;на основе каталогов;&lt;/li&gt;
&lt;li&gt;на основе меток.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Наиболее известный из последних &amp;mdash; Picasa (
).&lt;br&gt;
F-spot (
) использует эту же парадигму.&lt;br&gt;
Особенности F-spot.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Не индексирует весь диск автоматически. Нужно добавлять необходимые каталоги или файлы (можно и с фотокамеры).&lt;/li&gt;
&lt;li&gt;При импорте изображений логично сразу присвоить им метку.&lt;/li&gt;
&lt;li&gt;При импорте отмечен пункт &amp;ldquo;копировать файлы в каталог Pictures&amp;rdquo;. Я отключаю эту возможность. К сожалению, выбор не сохраняется.&lt;/li&gt;
&lt;li&gt;Метки могут иметь иерархическую структуру. Изображению можно присвоить несколько меток.&lt;/li&gt;
&lt;li&gt;Из программы можно экспортировать изображения в
(
),
(
), а также на сайты с движком
,
.&lt;/li&gt;
&lt;li&gt;Завёл аккаунт на Flickr, экспортировал изображение. Метки тоже экспортировались.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt; &lt;/p&gt;</description></item><item><title>Gnash</title><link>https://yamadharma.github.io/ru/post/2006/11/11/23-44-00/</link><pubDate>Sat, 11 Nov 2006 23:44:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2006/11/11/23-44-00/</guid><description>&lt;p&gt;Поставил gnash из cvs. Встал. Наконец заработал звук.&lt;/p&gt;</description></item><item><title>amd64 и flash</title><link>https://yamadharma.github.io/ru/post/2006/09/24/amd64-i-flash/</link><pubDate>Sun, 24 Sep 2006 15:19:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2006/09/24/amd64-i-flash/</guid><description>&lt;p&gt;Попробовал использовать сначала &lt;code&gt;nspluginwrapper&lt;/code&gt;. Работает хорошо. Через &lt;code&gt;qemu&lt;/code&gt;. Но &lt;code&gt;qemu&lt;/code&gt;, откомпилированный &lt;code&gt;gcc-4&lt;/code&gt;, не работает. Поэтому пришлось перейти на &lt;code&gt;gnash&lt;/code&gt;. Snapshot августовский не откомпилировался. Июньский нормально, но нет звука. Поставил из cvs &amp;mdash; проблемы с прозрачностью. Звука тоже нет.&lt;/p&gt;</description></item><item><title>Юбилей</title><link>https://yamadharma.github.io/ru/post/2006/08/25/23-12-00/</link><pubDate>Fri, 25 Aug 2006 23:12:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2006/08/25/23-12-00/</guid><description>&lt;p&gt;25 августа исполняется 15 лет Linux&amp;rsquo;у.&lt;/p&gt;</description></item><item><title>Gentoo: конвертация из x86 в x86_64 (2)</title><link>https://yamadharma.github.io/ru/post/2006/08/21/gentoo-konvertatsija-iz-x86-v-x86-64-2/</link><pubDate>Mon, 21 Aug 2006 12:19:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2006/08/21/gentoo-konvertatsija-iz-x86-v-x86-64-2/</guid><description>&lt;ol&gt;
&lt;li&gt;Провозившись с данной проблемой выходные (и частично неделю),
провёл конвертацию.&lt;/li&gt;
&lt;li&gt;Оказалось, что всё очень просто.&lt;/li&gt;
&lt;li&gt;Однако, после начала обновления системы (&lt;code&gt;emerge -e system&lt;/code&gt;), стали
отваливаться приложения (не могут подгрузить библиотеки).&lt;/li&gt;
&lt;li&gt;К сожалению, в новом профайле не поддерживается построение
библиотек под несколько архитектур (может, просто я не знаю).&lt;/li&gt;
&lt;li&gt;Хотя в консоли всё функционирует нормально.&lt;/li&gt;
&lt;li&gt;Скоро, надеюсь, всё конвертну.&lt;/li&gt;
&lt;/ol&gt;</description></item><item><title>Gentoo: конвертация из x86 в x86_64</title><link>https://yamadharma.github.io/ru/post/2006/08/18/gentoo-konvertatsija-iz-x86-v-x86-64/</link><pubDate>Fri, 18 Aug 2006 09:21:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2006/08/18/gentoo-konvertatsija-iz-x86-v-x86-64/</guid><description>&lt;ol&gt;
&lt;li&gt;На недавно обновлённом компьютере (до этого был Pentium III)
крутится 32-битная ОС (Gentoo Linux) (Hurd и Plan9 не учитываю).&lt;/li&gt;
&lt;li&gt;Решил конвертнуть в 64-битную. Однако документации по этому вопросу
не нашёл.&lt;/li&gt;
&lt;li&gt;Так-что решил заняться самодеятельностью. Как получится, напишу об этом (с приложением скриптов).&lt;/li&gt;
&lt;/ol&gt;</description></item></channel></rss>