<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>net | Д. С. Кулябов</title>
    <link>https://yamadharma.github.io/ru/tag/net/</link>
      <atom:link href="https://yamadharma.github.io/ru/tag/net/index.xml" rel="self" type="application/rss+xml" />
    <description>net</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>ru-ru</language><copyright>© 2023 Dmitry S. Kulyabov</copyright><lastBuildDate>Wed, 13 May 2015 08:48:57 +0000</lastBuildDate>
    <image>
      <url>https://yamadharma.github.io/media/icon_hu0a661dd90139895e92e2f18ae9404407_611148_512x512_fill_lanczos_center_3.png</url>
      <title>net</title>
      <link>https://yamadharma.github.io/ru/tag/net/</link>
    </image>
    
    <item>
      <title>Установка виртуальной машины NOC на oVirt</title>
      <link>https://yamadharma.github.io/ru/post/2015/05/13/ova-on-ovirt/</link>
      <pubDate>Wed, 13 May 2015 08:48:57 +0000</pubDate>
      <guid>https://yamadharma.github.io/ru/post/2015/05/13/ova-on-ovirt/</guid>
      <description>&lt;p&gt;Чтобы не мучиться с установкой &lt;a href=&#34;https://kb.nocproject.org&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;NOC&lt;/a&gt; решил установить с образа, &lt;a href=&#34;https://kb.nocproject.org/display/SITE/Downloads&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;предлагаемого на сайте&lt;/a&gt;. К сажалению, образ предлагается в формате &lt;code&gt;ova&lt;/code&gt;, а у меня стоит oVirt (&lt;code&gt;ovirt-engine&lt;/code&gt;). Он этот формат не понимает. Однако у меня есть ещё хост с &lt;code&gt;kvm&lt;/code&gt; (&lt;code&gt;kvm-host&lt;/code&gt;).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Распаковываю &lt;code&gt;noc-x86_64-Debian-8.ova&lt;/code&gt;:
{% codeblock lang:bash %}
tar -xf noc-x86_64-Debian-8.ova
{% endcodeblock %}&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Конвертирую в формат &lt;code&gt;qcow2&lt;/code&gt;:
{% codeblock lang:bash %}
qemu-img convert -O qcow2 noc-x86_64-Debian-8-disk1.vmdk noc-x86_64-Debian-8-disk1.qcow2
{% endcodeblock %}&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Создаю виртуальную машину на kvm. По большому счёту это нужно лишь для создания xml-файла описания виртуальной машины.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Машина сначала не загрузилась потому, что в &lt;code&gt;/etc/fstab&lt;/code&gt; на &lt;code&gt;/boot&lt;/code&gt; был жёстко прописан &lt;code&gt;/dev/sda1&lt;/code&gt;. Поменял на &lt;code&gt;/dev/vda1&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Пароли следующие:
{% codeblock lang:bash %}
Username: user
Password: thenocproject
Root password: thenocproject
{% endcodeblock %}&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;На web-интерфейс логин и пароль:
{% codeblock lang:bash %}
User: admin
Password: admin
{% endcodeblock %}&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Образы на &lt;code&gt;kvm-host&lt;/code&gt; находятся в каталоге &lt;code&gt;/var/lib/libvirt/images&lt;/code&gt;, а соответствующие конфигурационные файлы в &lt;code&gt;/etc/libvirt/qemu&lt;/code&gt;. Копируем нужный конфиг в &lt;code&gt;/var/lib/libvirt/images&lt;/code&gt; и называем &lt;code&gt;noc-x86_64-Debian-8-disk1.xml&lt;/code&gt;. Поскольку будем работать по сети, заменяем в нём путь к образу с &lt;code&gt;/var/lib/...&lt;/code&gt; на  &lt;code&gt;/net/kvm-host/var/lib/...&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Заходим на хост &lt;code&gt;ovirt-engine&lt;/code&gt;, монтируем &lt;code&gt;kvm-host&lt;/code&gt; по autofs:
{% codeblock lang:bash %}
cd /net/kvm-host/var/lib/libvirt/images
{% endcodeblock %}&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Импортируем образ в oVirt:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;{% codeblock lang:bash %}
virt-v2v -b vlan5  -i libvirtxml -o rhev -os ovirt-node-01:/ovirt/export noc-x86_64-Debian-8-disk1.xml
{% endcodeblock %}&lt;/p&gt;
&lt;p&gt;Здесь &lt;code&gt;ovirt-node-01&lt;/code&gt; — узел, на котором запускаются виртуальные машины, &lt;code&gt;vlan5&lt;/code&gt; — интерфейс, к которому она будет подключена.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title></title>
      <link>https://yamadharma.github.io/ru/post/2007/03/01/09-49-00/</link>
      <pubDate>Thu, 01 Mar 2007 09:49:00 +0000</pubDate>
      <guid>https://yamadharma.github.io/ru/post/2007/03/01/09-49-00/</guid>
      <description>&lt;p&gt;.su всё-таки добил ICANN.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>К вопросу о настройке маршрутизатора ASUS WL-500gP</title>
      <link>https://yamadharma.github.io/ru/post/2007/01/14/k-voprosu-o-nastrojke-marshrutizatora-asus-wl-500gp/</link>
      <pubDate>Sun, 14 Jan 2007 18:18:00 +0000</pubDate>
      <guid>https://yamadharma.github.io/ru/post/2007/01/14/k-voprosu-o-nastrojke-marshrutizatora-asus-wl-500gp/</guid>
      <description>&lt;p&gt;При настройке возникли следующие проблемы.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Нужно было догадаться, что сервер доступа в настройках называется Heart-Beat Server.&lt;/li&gt;
&lt;li&gt;Задавать маршрутизацию можно либо на на внутреннем eth (LAN), либо на внешнем ppp (WAN). Таким образом, получить доступ к домашней сети провайдера оказалось невозможным. Пришлось качать альтернативную прошивку (&lt;a href=&#34;http://oleg.wl500g.info/%29&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;http://oleg.wl500g.info/)&lt;/a&gt;, в которой возможно (кроме кучи других бонусов) задавать маршрутную таблицу на внешнем eth (MAN) интерфейсе.&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>LJ Jabber</title>
      <link>https://yamadharma.github.io/ru/post/2006/10/28/lj-jabber/</link>
      <pubDate>Sat, 28 Oct 2006 08:00:00 +0000</pubDate>
      <guid>https://yamadharma.github.io/ru/post/2006/10/28/lj-jabber/</guid>
      <description>&lt;p&gt;Подключился к jabber-серверу LiveJournal&amp;rsquo;а.  Сразу в списке появились все френды (что логично).  SIM к jabber&amp;rsquo;у подключился сразу. Нет таких проблем, как с протоколом icq.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
