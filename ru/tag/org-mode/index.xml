<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Org-Mode | Д. С. Кулябов</title><link>http://localhost:1313/ru/tag/org-mode/</link><atom:link href="http://localhost:1313/ru/tag/org-mode/index.xml" rel="self" type="application/rss+xml"/><description>Org-Mode</description><generator>Hugo Blox Builder (https://hugoblox.com)</generator><language>ru-ru</language><copyright>© 2025 Dmitry S. Kulyabov</copyright><lastBuildDate>Mon, 08 Sep 2025 20:17:00 +0300</lastBuildDate><image><url>http://localhost:1313/media/icon_hu_3756dbc1adf0ae14.png</url><title>Org-Mode</title><link>http://localhost:1313/ru/tag/org-mode/</link></image><item><title>Emacs. Org-mode. Таблицы</title><link>http://localhost:1313/ru/post/2025/09/08/emacs-org-mode-table/</link><pubDate>Mon, 08 Sep 2025 20:17:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2025/09/08/emacs-org-mode-table/</guid><description>&lt;p&gt;Emacs. Org-mode. Таблицы.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;</description></item><item><title>Org-mode. Экспорт ссылок на видео в Hugo</title><link>http://localhost:1313/ru/post/2025/07/03/org-mode-video-export-hugo/</link><pubDate>Thu, 03 Jul 2025 20:30:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2025/07/03/org-mode-video-export-hugo/</guid><description>&lt;p&gt;Org-mode. Экспорт ссылок на видео в Hugo&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#прагматика"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Прагматика&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#экспорт-видео-dot-решение-1"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Экспорт видео. Решение 1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#экспорт-видео-dot-решение-2"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Экспорт видео. Решение 2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#поддержка-вкладок"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Поддержка вкладок&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#использование"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Использование&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#загрузка-при-старте-emacs"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Загрузка при старте emacs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="прагматика"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Прагматика&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Нужно экспортировать ссылки на видео не только в Hugo, но и в Markdown.
&lt;ul&gt;
&lt;li&gt;Неудобно прописывать это дважды.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Синтаксис видео во вкладках (см.
) не зафиксирован.
&lt;ul&gt;
&lt;li&gt;Пришлось переписывать все низкоуровневые вызовы при смене синтаксиса.&lt;/li&gt;
&lt;li&gt;Хотелось бы зафиксировать форму записи.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Решение: использование макросов org-mode (см.
).&lt;/li&gt;
&lt;li&gt;Будем использовать синтаксис от вкладок jQuery (см.
).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="экспорт-видео-dot-решение-1"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Экспорт видео. Решение 1&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Нужно экспортировать видео и в hugo, и в markdown.&lt;/li&gt;
&lt;li&gt;Сделал следующие макросы:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+macro&lt;/span&gt;&lt;span class="c"&gt;: youtube @@hugo:{{&amp;lt; youtube $1 &amp;gt;}}@@@@md:[![Youtube](http://img.youtube.com/vi/$1/0.jpg){width=560px}](http://www.youtube.com/watch?v=$1)@@&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+macro&lt;/span&gt;&lt;span class="c"&gt;: rutube @@hugo:{{&amp;lt; rutube $1 &amp;gt;}}@@@@markdown:[![RuTube]($2){width=560px}](https://rutube.ru/video/$1/)@@&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+macro&lt;/span&gt;&lt;span class="c"&gt;: plvideo @@hugo:{{&amp;lt; plvideo $1 &amp;gt;}}@@@@markdown:[![Платформа]($2){width=560px}](https://plvideo.ru/watch?v=$1)@@&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Проблема: в hugo экспортируется и markdown.&lt;/li&gt;
&lt;li&gt;Получаем излишнюю информацию при экспорте в hugo.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="экспорт-видео-dot-решение-2"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Экспорт видео. Решение 2&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Используем подход с вычислением выражения на elisp:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+macro&lt;/span&gt;&lt;span class="c"&gt;: youtube (eval (cond ((org-export-derived-backend-p org-export-current-backend &amp;#39;hugo) (concat &amp;#34;@@hugo:{{&amp;lt; youtube &amp;#34; $1 &amp;#34; &amp;gt;}}@@&amp;#34;)) ((org-export-derived-backend-p org-export-current-backend (or &amp;#39;md &amp;#39;markdown &amp;#39;gfm)) (concat &amp;#34;@@html:[![Youtube](http://img.youtube.com/vi/&amp;#34; $1 &amp;#34;/0.jpg){width=560px}](http://www.youtube.com/watch?v=&amp;#34; $1 &amp;#34;)@@&amp;#34;))))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+macro&lt;/span&gt;&lt;span class="c"&gt;: rutube (eval (cond ((org-export-derived-backend-p org-export-current-backend &amp;#39;hugo) (concat &amp;#34;@@hugo:{{&amp;lt; rutube &amp;#34; $1 &amp;#34; &amp;gt;}}@@&amp;#34;)) ((org-export-derived-backend-p org-export-current-backend (or &amp;#39;md &amp;#39;markdown &amp;#39;gfm)) (concat &amp;#34;@@html:[![RuTube](&amp;#34; $2 &amp;#34;){width=560px}](https://rutube.ru/video/&amp;#34; $1 &amp;#34;/)@@&amp;#34;))))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+macro&lt;/span&gt;&lt;span class="c"&gt;: plvideo (eval (cond ((org-export-derived-backend-p org-export-current-backend &amp;#39;hugo) (concat &amp;#34;@@hugo:{{&amp;lt; plvideo &amp;#34; $1 &amp;#34; &amp;gt;}}@@&amp;#34;)) ((org-export-derived-backend-p org-export-current-backend (or &amp;#39;md &amp;#39;markdown &amp;#39;gfm)) (concat &amp;#34;@@html:[![Платформа](&amp;#34; $2 &amp;#34;){width=560px}](https://plvideo.ru/watch?v=&amp;#34; $1 &amp;#34;)@@&amp;#34;))))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+macro&lt;/span&gt;&lt;span class="c"&gt;: vkvideo (eval (cond ((org-export-derived-backend-p org-export-current-backend &amp;#39;hugo) (concat &amp;#34;@@hugo:{{&amp;lt; vkvideo oid=&amp;#34; $1 &amp;#34; id=&amp;#34; $2 &amp;#34; hd=2 &amp;gt;}}@@&amp;#34;)) ((org-export-derived-backend-p org-export-current-backend (or &amp;#39;md &amp;#39;markdown &amp;#39;gfm)) (concat &amp;#34;@@html:[![VKvideo](&amp;#34; $3 &amp;#34;){width=560px}](https://vkvideo.ru/video&amp;#34; $1 &amp;#34;_&amp;#34; $2 &amp;#34;)@@&amp;#34;))))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Здесь используются сокращения для видео:
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="поддержка-вкладок"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Поддержка вкладок&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Добавим макросы для поддержки вкладок:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+macro&lt;/span&gt;&lt;span class="c"&gt;: begin_tabs @@hugo:{{&amp;lt; tabs $1 &amp;gt;}}@@&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+macro&lt;/span&gt;&lt;span class="c"&gt;: end_tabs @@hugo:{{&amp;lt; /tabs &amp;gt;}}@@&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+macro&lt;/span&gt;&lt;span class="c"&gt;: youtube-tab @@hugo:{{&amp;lt; tab &amp;#34;Youtube&amp;#34; &amp;gt;}}@@{{{youtube($1)}}}@@hugo:{{&amp;lt; /tab &amp;gt;}}@@&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+macro&lt;/span&gt;&lt;span class="c"&gt;: rutube-tab @@hugo:{{&amp;lt; tab &amp;#34;RuTube&amp;#34; &amp;gt;}}@@{{{rutube($1,$2)}}}@@hugo:{{&amp;lt; /tab &amp;gt;}}@@&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+macro&lt;/span&gt;&lt;span class="c"&gt;: plvideo-tab @@hugo:{{&amp;lt; tab &amp;#34;Платформа&amp;#34; &amp;gt;}}@@{{{plvideo($1,$2)}}}@@hugo:{{&amp;lt; /tab &amp;gt;}}@@&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+macro&lt;/span&gt;&lt;span class="c"&gt;: vkvideo-tab @@hugo:{{&amp;lt; tab &amp;#34;VKvideo&amp;#34; &amp;gt;}}@@{{{vkvideo($1,$2,$3)}}}@@hugo:{{&amp;lt; /tab &amp;gt;}}@@&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="использование"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Использование&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Предполагается следующий сценарий использования (использовал видео, на которых отлаживал код):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;{{{begin_tabs(&amp;#34;Создание виртуальной машины с Virtualbox&amp;#34;)}}}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;{{{rutube-tab(0a52857a1fb8a79cbf58fcb58d2d8593,https://pic.rutubelist.ru/video/2025-07-02/63/b4/63b485f63c7a400611064eb35be3ffa1.jpg)}}}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;{{{plvideo-tab(Dncja2upfmNQ,https://s-dt-rt1.cloud.edgecore.ru/fp-2025-07-cover/Dncja2upfmNQ/f91849ab-8ad2-4795-9fce-3525054e4bce.jpg)}}}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;{{{vkvideo-tab(-230024722,456239038,https://sun1-18.userapi.com/QhNtwM8UkVfXj44arwC4cvAW9XTPzBQiboJaPA/ZvwM3lG9Da4.jpg)}}}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;{{{youtube-tab(WwYYYIQdUTk)}}}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;{{{end_tabs}}}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;link rel="stylesheet" href="http://localhost:1313/css/flick/jquery-ui.min.2145606a4147a5c2562a0afa9e996323dcbd14469acf347b81292370e967b906.css" integrity="sha256-IUVgakFHpcJWKgr6npljI9y9FEaazzR7gSkjcOlnuQY="&gt;
&lt;script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"&gt;
&lt;/script&gt;
&lt;script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jqueryui/1.14.1/jquery-ui.min.js"&gt;
&lt;/script&gt;
&lt;script&gt;
$(function() {
$( "#tabs, #tabs1, #tabs2, #tabs3, #tabs4, #tabs5, #tabs6, #tabs7, #tabs8" ).tabs();
});
&lt;/script&gt;
&lt;div id = "tabs"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href = "#tab-1"&gt;
RuTube
&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href = "#tab-2"&gt;
Платформа
&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href = "#tab-3"&gt;
VKvideo
&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href = "#tab-4"&gt;
Youtube
&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div id ="tab-0"&gt;
&lt;/div&gt;
&lt;div id ="tab-1"&gt;
&lt;div class="embed video-player"&gt;
&lt;iframe class="rutube-player" type="text/html"
width="647" height="364"
src="https://rutube.ru/play/embed/0a52857a1fb8a79cbf58fcb58d2d8593"
webkitAllowFullScreen mozallowfullscreen allowFullScreen
allow="clipboard-write" frameborder="0"&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id ="tab-2"&gt;
&lt;div class="embed video-player"&gt;
&lt;iframe class="plvideo-player" type="text/html"
width="647" height="364"
src="https://plvideo.ru/embed/Dncja2upfmNQ"
allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id ="tab-3"&gt;
&lt;div class="embed video-player"&gt;
&lt;iframe class="vkvideo-player" type="text/html"
src="https://vkvideo.ru/video_ext.php?oid=-230024722&amp;id=456239038&amp;hd=2"
width="647" height="364" allow="autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;" frameborder="0" allowfullscreen&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id ="tab-4"&gt;
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"&gt;
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/WwYYYIQdUTk?autoplay=0&amp;amp;controls=1&amp;amp;end=0&amp;amp;loop=0&amp;amp;mute=0&amp;amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
Создание виртуальной машины с Virtualbox
&lt;h2 id="загрузка-при-старте-emacs"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Загрузка при старте emacs&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Будем загружать эти макросы при старте emacs:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-export-global-macros&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="o"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;youtube&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;(eval (cond ((org-export-derived-backend-p org-export-current-backend &amp;#39;hugo) (concat \&amp;#34;@@hugo:{{&amp;lt; youtube \&amp;#34; $1 \&amp;#34; &amp;gt;}}@@\&amp;#34;)) ((org-export-derived-backend-p org-export-current-backend (or &amp;#39;md &amp;#39;markdown &amp;#39;gfm)) (concat \&amp;#34;@@html:[![Youtube](http://img.youtube.com/vi/\&amp;#34; $1 \&amp;#34;/0.jpg){width=560px}](http://www.youtube.com/watch?v=\&amp;#34; $1 \&amp;#34;)@@\&amp;#34;))))&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;rutube&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;(eval (cond ((org-export-derived-backend-p org-export-current-backend &amp;#39;hugo) (concat \&amp;#34;@@hugo:{{&amp;lt; rutube \&amp;#34; $1 \&amp;#34; &amp;gt;}}@@\&amp;#34;)) ((org-export-derived-backend-p org-export-current-backend (or &amp;#39;md &amp;#39;markdown &amp;#39;gfm)) (concat \&amp;#34;@@html:[![RuTube](\&amp;#34; $2 \&amp;#34;){width=560px}](https://rutube.ru/video/\&amp;#34; $1 \&amp;#34;/)@@\&amp;#34;))))&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;plvideo&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;(eval (cond ((org-export-derived-backend-p org-export-current-backend &amp;#39;hugo) (concat \&amp;#34;@@hugo:{{&amp;lt; plvideo \&amp;#34; $1 \&amp;#34; &amp;gt;}}@@\&amp;#34;)) ((org-export-derived-backend-p org-export-current-backend (or &amp;#39;md &amp;#39;markdown &amp;#39;gfm)) (concat \&amp;#34;@@html:[![Платформа](\&amp;#34; $2 \&amp;#34;){width=560px}](https://plvideo.ru/watch?v=\&amp;#34; $1 \&amp;#34;)@@\&amp;#34;))))&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;vkvideo&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;(eval (cond ((org-export-derived-backend-p org-export-current-backend &amp;#39;hugo) (concat \&amp;#34;@@hugo:{{&amp;lt; vkvideo oid=\&amp;#34; $1 \&amp;#34; id=\&amp;#34; $2 \&amp;#34; hd=2 &amp;gt;}}@@\&amp;#34;)) ((org-export-derived-backend-p org-export-current-backend (or &amp;#39;md &amp;#39;markdown &amp;#39;gfm)) (concat \&amp;#34;@@html:[![VKvideo](\&amp;#34; $3 \&amp;#34;){width=560px}](https://vkvideo.ru/video\&amp;#34; $1 \&amp;#34;_\&amp;#34; $2 \&amp;#34;)@@\&amp;#34;))))&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;begin_tabs&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;@@hugo:{{&amp;lt; tabs $1 &amp;gt;}}@@&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;end_tabs&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;@@hugo:{{&amp;lt; /tabs &amp;gt;}}@@&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;youtube-tab&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;@@hugo:{{&amp;lt; tab \&amp;#34;Youtube\&amp;#34; &amp;gt;}}@@{{{youtube($1)}}}@@hugo:{{&amp;lt; /tab &amp;gt;}}@@&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;rutube-tab&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;@@hugo:{{&amp;lt; tab \&amp;#34;RuTube\&amp;#34; &amp;gt;}}@@{{{rutube($1,$2)}}}@@hugo:{{&amp;lt; /tab &amp;gt;}}@@&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;plvideo-tab&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;@@hugo:{{&amp;lt; tab \&amp;#34;Платформа\&amp;#34; &amp;gt;}}@@{{{plvideo($1,$2)}}}@@hugo:{{&amp;lt; /tab &amp;gt;}}@@&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;vkvideo-tab&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;@@hugo:{{&amp;lt; tab \&amp;#34;VKvideo\&amp;#34; &amp;gt;}}@@{{{vkvideo($1,$2,$3)}}}@@hugo:{{&amp;lt; /tab &amp;gt;}}@@&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Emacs. Пакет org-download</title><link>http://localhost:1313/ru/post/2025/05/19/emacs-org-download/</link><pubDate>Mon, 19 May 2025 15:49:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2025/05/19/emacs-org-download/</guid><description>&lt;p&gt;Emacs. Пакет org-download.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#общие-настройки"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Общие настройки&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#методы-работы-с-файлами"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Методы работы с файлами&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#копирование-файлов"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Копирование файлов&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#своя-функция-для-струтуры"&gt;&lt;span class="section-num"&gt;3.1.1&lt;/span&gt; Своя функция для струтуры&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#использование-org-attach"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Использование org-attach&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="общие-настройки"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Общие настройки&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Чтобы изображения отображались сразу в буфере, добавьте в настройки:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-elisp" data-lang="elisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-startup-with-inline-images&lt;/span&gt; &lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="методы-работы-с-файлами"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Методы работы с файлами&lt;/h2&gt;
&lt;h3 id="копирование-файлов"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Копирование файлов&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Настройте:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-elisp" data-lang="elisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-download-method&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;directory&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Файлы копируются напрямую в директорию org-файла.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;При использовании метода &lt;code&gt;directory&lt;/code&gt; структура папок будет выглядеть так:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-text" data-lang="text"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── ваш_файл.org
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;└── images/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; └── ваш_файл.png
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="своя-функция-для-струтуры"&gt;&lt;span class="section-num"&gt;3.1.1&lt;/span&gt; Своя функция для струтуры&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Установите &lt;code&gt;org-download&lt;/code&gt; через &lt;code&gt;use-package&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-elisp" data-lang="elisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;defun&lt;/span&gt; &lt;span class="nv"&gt;my-org-download-set-dir&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s"&gt;&amp;#34;Установить путь для сохранения изображений&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq-local&lt;/span&gt; &lt;span class="nv"&gt;org-download-image-dir&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;concat&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;file-name-directory&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;buffer-file-name&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s"&gt;&amp;#34;/images/&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;file-name-base&lt;/span&gt; &lt;span class="nf"&gt;buffer-file-name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s"&gt;&amp;#34;/&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;add-hook&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;org-mode-hook&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;my-org-download-set-dir&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Структура папок:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-text" data-lang="text"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── ваш_файл.org
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;└── images/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; └── ваш_файл/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ├── Заголовок_1/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ └── image1.png
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; └── Заголовок_2/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; └── image2.png
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="использование-org-attach"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Использование org-attach&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Установим метод загрузки:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-elisp" data-lang="elisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-download-method&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;attach&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Используется механизм org-attach для управления файлами.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Файлы хранятся в специальной директории attachments&lt;/li&gt;
&lt;li&gt;Создается символическая ссылка в org-файле&lt;/li&gt;
&lt;li&gt;Обеспечивается более структурированное управление файлами&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Дополнительные настройки для работы с файлами:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-elisp" data-lang="elisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-download-image-dir&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;images/&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;; директория для сохранения&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-download-mkdir-if-not-exist&lt;/span&gt; &lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;; автоматическое создание директорий&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;При использовании метода &lt;code&gt;attach&lt;/code&gt; структура папок будет выглядеть так:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-text" data-lang="text"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── ваш_файл.org
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;└── attachments/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; └── unique_id/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; └── ваш_файл.png
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Org-mode. Графики из таблиц</title><link>http://localhost:1313/ru/post/2025/02/25/org-mode-graphs-from-tables/</link><pubDate>Tue, 25 Feb 2025 15:10:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2025/02/25/org-mode-graphs-from-tables/</guid><description>&lt;p&gt;Org-mode. Графики из таблиц.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ресурсы"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Ресурсы&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#клавиатурные-сочетания"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Клавиатурные сочетания&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#использование"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Использование&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#изображение-в-org-файле"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Изображение в org-файле&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#опции-команды"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Опции команды&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Для создания графиков используется gnuplot и gnuplot-mode.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="ресурсы"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Ресурсы&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="клавиатурные-сочетания"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Клавиатурные сочетания&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;M-x org-plot/gnuplot&lt;/code&gt; привязан к клавиатурному сочетанию &lt;code&gt;C-c &amp;quot; g&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Кроме того, можно использовать и &lt;code&gt;C-c C-c&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="использование"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Использование&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Нужно задать описание &lt;code&gt;#+plot:&lt;/code&gt; перед таблицей.&lt;/li&gt;
&lt;li&gt;Может быть несколько записей &lt;code&gt;#+plot:&lt;/code&gt;, например:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+PLOT&lt;/span&gt;&lt;span class="c"&gt;: title:&amp;#34;example table&amp;#34; ind:1 type:2d with:lines&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+PLOT&lt;/span&gt;&lt;span class="c"&gt;: labels:(&amp;#34;first new label&amp;#34; &amp;#34;second column&amp;#34; &amp;#34;last column&amp;#34;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="изображение-в-org-файле"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Изображение в org-файле&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;По умолчанию для отображения графика запускается отдельное окно.&lt;/li&gt;
&lt;li&gt;Можно внедрить графику прямо в файл:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+plot&lt;/span&gt;&lt;span class="c"&gt;: title:&amp;#34;Cardio Exercise&amp;#34; file:&amp;#34;./images/gnuplot_test.png&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s"&gt;| Date | Calories | Distance | Laps |&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s"&gt;|------------+----------+----------+------|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s"&gt;| 2022-10-26 | 266 | 1.977 | 8 |&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s"&gt;| 2022-10-28 | 260 | 1.962 | 8 |&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s"&gt;| 2022-10-29 | 150 | 1.100 | 5 |&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s"&gt;| 2022-10-30 | 286 | 2.090 | 9 |&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s"&gt;|------------+----------+----------+------|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;[[&lt;span class="na"&gt;./images/gnuplot_test.png&lt;/span&gt;]]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="опции-команды"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Опции команды&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;set&lt;/code&gt; : опция Gnuplot, которая должна быть установлена при построении графика.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;title&lt;/code&gt; : заголовок графика.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ind&lt;/code&gt; : какой столбец таблицы использовать в качестве оси &lt;code&gt;x&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;timeind&lt;/code&gt; : какой столбец таблицы использовать в качестве оси &lt;code&gt;x&lt;/code&gt; как значения времени.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;deps&lt;/code&gt; : столбцы для построения графика в виде списка в стиле Lisp, окружённого круглыми скобками и разделённого пробелами, например &lt;code&gt;dep:(3 4)&lt;/code&gt; для построения графика третьего и четвёртого столбцов. По умолчанию графики строятся по всем остальным столбцам, кроме столбца &lt;code&gt;ind&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;transpose&lt;/code&gt; : при выборе &lt;code&gt;y&lt;/code&gt;, &lt;code&gt;yes&lt;/code&gt; или &lt;code&gt;t&lt;/code&gt; выполняется попытка транспонировать данные таблицы перед построением графика. Также распознается сокращенная опция &lt;code&gt;trans&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;type&lt;/code&gt; : тип графика, по умолчанию один из &lt;code&gt;2d&lt;/code&gt;, &lt;code&gt;3d&lt;/code&gt;, &lt;code&gt;radar&lt;/code&gt; или &lt;code&gt;grid&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;with&lt;/code&gt; : опция для отрисовки графиков: &lt;code&gt;lines&lt;/code&gt;, &lt;code&gt;points&lt;/code&gt;, &lt;code&gt;boxes&lt;/code&gt;, &lt;code&gt;impulses&lt;/code&gt;. По умолчанию &amp;mdash; &lt;code&gt;lines&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;file&lt;/code&gt; : если вы хотите построить график в файл, укажите &lt;code&gt;path/to/desired/output-file&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;labels&lt;/code&gt; : список меток, которые будут использоваться для &lt;code&gt;deps&lt;/code&gt;. По умолчанию это заголовки столбцов, если они существуют.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;line&lt;/code&gt; : строка для вставки в сценарий Gnuplot.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;map&lt;/code&gt; : при построении графиков типов &lt;code&gt;3d&lt;/code&gt; или &lt;code&gt;grid&lt;/code&gt; установите значение &lt;code&gt;t&lt;/code&gt;, чтобы построить плоское отображение, а не наклоную проекцию.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;min&lt;/code&gt; : минимальная граница оси. Неявно предполагает, что используется ось &lt;code&gt;y&lt;/code&gt;. Можно явно указать значение для оси &lt;code&gt;x&lt;/code&gt; или &lt;code&gt;y&lt;/code&gt; с помощью &lt;code&gt;xmin&lt;/code&gt; и &lt;code&gt;ymin&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;max&lt;/code&gt; : максимальная граница оси. Неявно предполагает, что ссылается на ось &lt;code&gt;y&lt;/code&gt;. Можно явно указать значение для оси &lt;code&gt;x&lt;/code&gt; или &lt;code&gt;y&lt;/code&gt; с помощью &lt;code&gt;xmax&lt;/code&gt; и &lt;code&gt;ymax&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ticks&lt;/code&gt; : желаемое количество тиков по оси, которое может быть использовано типом графика. Если не задано ни одного, тип графика, требующий тиков, будет использовать &lt;code&gt;org--plot/sensible-tick-num&lt;/code&gt;, чтобы попытаться определить подходящее значение.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;timefmt&lt;/code&gt; : формат временных меток режима Org, как они будут разобраны Gnuplot. По умолчанию &lt;code&gt;%Y-%m-%d-%H:%M:%S&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;script&lt;/code&gt; : можно указать файл сценария (в двойных кавычках), который будет использоваться для построения графика. Перед построением каждый экземпляр &lt;code&gt;$datafile&lt;/code&gt; в указанном скрипте будет заменён на путь к сгенерированному файлу данных. Даже если вы установили этот параметр, вы все равно можете указать тип графика, так как это может повлиять на содержимое файла данных.&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Org-mode. Текстовые презентации</title><link>http://localhost:1313/ru/post/2024/10/01/org-mode-presentations/</link><pubDate>Tue, 01 Oct 2024 18:50:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2024/10/01/org-mode-presentations/</guid><description>&lt;p&gt;Org-mode. Текстовые презентации.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-present"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; org-present&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-tree-slide"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; org-tree-slide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#epresent"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; epresent&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Пакеты, предназначенные для проведения презентаций прямо из Emacs.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="org-present"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; org-present&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="org-tree-slide"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; org-tree-slide&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Каждый слайд отображается простым сужением.&lt;/li&gt;
&lt;li&gt;В виде презентации можно отображать обычный буфер.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="epresent"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; epresent&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Org-mode. Предпросмотр TeX</title><link>http://localhost:1313/ru/post/2024/01/06/org-mode-latex-preview/</link><pubDate>Sat, 06 Jan 2024 19:38:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2024/01/06/org-mode-latex-preview/</guid><description>&lt;p&gt;Предпросмотр TeX в org-mode.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#использование"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Использование&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#реализация"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Реализация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Настройка&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#метод-конвертации"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Метод конвертации&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#список-методов-конвертации"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Список методов конвертации&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#пакеты"&gt;&lt;span class="section-num"&gt;4.3&lt;/span&gt; Пакеты&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#разное"&gt;&lt;span class="section-num"&gt;4.4&lt;/span&gt; Разное&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#опции-в-org-файле"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Опции в org-файле&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Входит в состав пакета org.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="использование"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Использование&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Визуализация запускается командой &lt;code&gt;C-c C-x C-l&lt;/code&gt; (&lt;code&gt;org-preview-latex-fragment&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Визуализация поддерева: &lt;code&gt;C-u C-c C-x C-l&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Визуализация всего буфера: &lt;code&gt;C-u C-u C-c C-x C-l&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Команда обрабатывает код Latex и создаёт изображение png или svg, которое накладывается на код LaTeX.&lt;/li&gt;
&lt;li&gt;Просмотр других элементов LaTeX (например, листинг для кода) также работает.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="реализация"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Реализация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Список процедур обработки находятся переменной &lt;code&gt;org-preview-latex-process-alist&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Используются методы: &lt;code&gt;dvipng&lt;/code&gt;, &lt;code&gt;imagemagick&lt;/code&gt;, &lt;code&gt;dvisvgm&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Фрагмент кода встраивается в полный файл LaTeX, который затем обрабатывается программой LaTeX для создания файла dvi или pdf.&lt;/li&gt;
&lt;li&gt;Затем результирующий файл преобразуется в формат png или svg.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="настройка"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Настройка&lt;/h2&gt;
&lt;h3 id="метод-конвертации"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Метод конвертации&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Необходимо выбрать метод конвертации (&lt;code&gt;dvipng&lt;/code&gt;, &lt;code&gt;imagemagick&lt;/code&gt;, &lt;code&gt;dvisvgm&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;;;; Use svg for rendering&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-latex-create-formula-image-program&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;dvisvgm&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Параметры создаваемых изображений:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-format-latex-options&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;plist-put&lt;/span&gt; &lt;span class="nv"&gt;org-format-latex-options&lt;/span&gt; &lt;span class="nb"&gt;:scale&lt;/span&gt; &lt;span class="mf"&gt;0.8&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-format-latex-options&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;plist-put&lt;/span&gt; &lt;span class="nv"&gt;org-format-latex-options&lt;/span&gt; &lt;span class="nb"&gt;:density&lt;/span&gt; &lt;span class="mi"&gt;600&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-format-latex-options&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;plist-put&lt;/span&gt; &lt;span class="nv"&gt;org-format-latex-options&lt;/span&gt; &lt;span class="nb"&gt;:background&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;Transparent&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="список-методов-конвертации"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Список методов конвертации&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Стандартный список методов конвертации задан в файле &lt;code&gt;org.el&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;defcustom&lt;/span&gt; &lt;span class="nv"&gt;org-preview-latex-process-alist&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="o"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;dvipng&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:programs&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;latex&amp;#34;&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;dvipng&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:description&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;dvi &amp;gt; png&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:message&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;you need to install the programs: latex and dvipng.&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:image-input-type&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;dvi&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:image-output-type&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;png&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:image-size-adjust&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:latex-compiler&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;latex -interaction nonstopmode -output-directory %o %f&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:image-converter&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;dvipng -D %D -T tight -o %O %f&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:transparent-image-converter&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;dvipng -D %D -T tight -bg Transparent -o %O %f&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;dvisvgm&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:programs&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;latex&amp;#34;&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;dvisvgm&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:description&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;dvi &amp;gt; svg&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:message&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;you need to install the programs: latex and dvisvgm.&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:image-input-type&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;dvi&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:image-output-type&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;svg&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:image-size-adjust&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.7&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:latex-compiler&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;latex -interaction nonstopmode -output-directory %o %f&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:image-converter&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;dvisvgm %f --no-fonts --exact-bbox --scale=%S --output=%O&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;imagemagick&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:programs&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;latex&amp;#34;&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;convert&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:description&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;pdf &amp;gt; png&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:message&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;you need to install the programs: latex and imagemagick.&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:image-input-type&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;pdf&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:image-output-type&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;png&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:image-size-adjust&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:latex-compiler&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;pdflatex -interaction nonstopmode -output-directory %o %f&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:image-converter&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;convert -density %D -trim -antialias %f -quality 100 %O&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;))))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;При необходимости эту запись можно заменить полностью, либо отредактировать по частям.&lt;/li&gt;
&lt;li&gt;Например, будем запускать компилятор дважды:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;plist-put&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;cdr&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;assoc&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;dvipng&lt;/span&gt; &lt;span class="nv"&gt;org-preview-latex-process-alist&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;:latex-compiler&lt;/span&gt; &lt;span class="o"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;latex -interaction nonstopmode -output-directory %o %f&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s"&gt;&amp;#34;latex -interaction nonstopmode -output-directory %o %f&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="пакеты"&gt;&lt;span class="section-num"&gt;4.3&lt;/span&gt; Пакеты&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Набор используемых пакетов LaTeX заносятся в переменные:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;org-latex-default-packages-alist&lt;/code&gt; : список пакетов по умолчанию, лучше не изменять;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;org-latex-packages-alist&lt;/code&gt; : пустая по умолчанию переменная, заносите информацию сюда.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="разное"&gt;&lt;span class="section-num"&gt;4.4&lt;/span&gt; Разное&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Созданные изображения лучше поместить в отдельный кэш:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-preview-latex-image-directory&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;concat&lt;/span&gt; &lt;span class="nv"&gt;home-cache-path&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;org-latex/&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="опции-в-org-файле"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Опции в org-файле&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Вы можете включить предварительный просмотр всех фрагментов LaTeX в файле с помощью опции:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+STARTUP&lt;/span&gt;&lt;span class="c"&gt;: latexpreview&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Чтобы отключить предпросмотр:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+STARTUP&lt;/span&gt;&lt;span class="c"&gt;: nolatexpreview&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Emacs. Пакет org-agenda-files-track</title><link>http://localhost:1313/ru/post/2023/12/17/emacs-package-org-agenda-files-track/</link><pubDate>Sun, 17 Dec 2023 19:57:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2023/12/17/emacs-package-org-agenda-files-track/</guid><description>&lt;p&gt;Пакет для динамической генерации списка файлов для агенды.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#подключение"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Подключение&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-agenda-files-track"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; org-agenda-files-track&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-agenda-files-track-ql"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; org-agenda-files-track-ql&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Состоит из двух библиотек:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;org-agenda-files-track&lt;/code&gt;: использует вызовы &lt;code&gt;org-mode&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;org-agenda-files-track-ql&lt;/code&gt;: с поддержкой &lt;code&gt;org-ql&lt;/code&gt; (см.
).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="подключение"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Подключение&lt;/h2&gt;
&lt;h3 id="org-agenda-files-track"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; org-agenda-files-track&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Подключается пакет следующим образом:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;;;; Toggle org-agenda-files-track mode on&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-agenda-files-track-mode&lt;/span&gt; &lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;;;; Load package&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;require&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;org-agenda-files-track&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;add-hook&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;org-mode-hook&lt;/span&gt; &lt;span class="nf"&gt;#&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;org-agenda-files-track-mode&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="org-agenda-files-track-ql"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; org-agenda-files-track-ql&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Подключается пакет следующим образом:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;;;; Toggle org-agenda-files-track mode on&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-agenda-files-track-ql-mode&lt;/span&gt; &lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;;;; Load package&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;require&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;org-agenda-files-track-ql&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;add-hook&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;org-mode-hook&lt;/span&gt; &lt;span class="nf"&gt;#&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;org-agenda-files-track-ql-mode&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Org-mode. Приложения Android</title><link>http://localhost:1313/ru/post/2023/11/14/org-mode-android/</link><pubDate>Tue, 14 Nov 2023 19:46:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2023/11/14/org-mode-android/</guid><description>&lt;p&gt;Org-mode. Приложения для Android.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#orgzly"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Orgzly&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#orgzly-revived"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Orgzly Revived&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-note"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Org Note&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="orgzly"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Orgzly&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Сайт:
&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Документация:
&lt;/li&gt;
&lt;li&gt;Планировщик для заметок и управления списками дел.&lt;/li&gt;
&lt;li&gt;Стагнировало.&lt;/li&gt;
&lt;li&gt;Не развивается.&lt;/li&gt;
&lt;li&gt;Автор приложения исчез.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="orgzly-revived"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Orgzly Revived&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;FDroid:
&lt;/li&gt;
&lt;li&gt;Версия Orgzly, поддерживаемая сообществом.&lt;/li&gt;
&lt;li&gt;Синхронизация с WebDav и локальной папкой.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="org-note"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Org Note&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Для синхронизации заметок из org-roam с телефоном.&lt;/li&gt;
&lt;li&gt;Сайт:
&lt;/li&gt;
&lt;li&gt;Online-вариант:
&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Репозиторий (клиент):
&lt;/li&gt;
&lt;li&gt;GooglePlay:
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Emacs. Пакет org-appear</title><link>http://localhost:1313/ru/post/2023/01/16/emacs-org-appear/</link><pubDate>Mon, 16 Jan 2023 18:37:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2023/01/16/emacs-org-appear/</guid><description>&lt;p&gt;Пакет &lt;code&gt;org-appear&lt;/code&gt;.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#использование"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Использование&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#переменные-настройки"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Переменные настройки&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
.&lt;/li&gt;
&lt;li&gt;Org-mode режим позволяет переключать видимость скрытых элементов, таких как маркеры выделения, ссылки и т. д., путём настройки определённых переменных, например &lt;code&gt;org-hide-emphasis-markers&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Однако время это невозможно сделать интерактивно и поэлементно.&lt;/li&gt;
&lt;li&gt;Пакет &lt;code&gt;org-appear&lt;/code&gt; позволяет автоматически переключать видимость в зависимости от положения курсора.&lt;/li&gt;
&lt;li&gt;Скрытые части элемента появляются, когда курсор находится над элементом, и исчезают, когда курсор передвигается.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="использование"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Использование&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Пакет можно активировать интерактивно или автоматически при запуске &lt;code&gt;org-mode&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;add-hook&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;org-mode-hook&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;org-appear-mode&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;По умолчанию переключение происходит мгновенно, переключаются только маркеры выделения.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="переменные-настройки"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Переменные настройки&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;org-появляются-autoemphasis&lt;/code&gt; : если не &lt;code&gt;nul&lt;/code&gt; и включён &lt;code&gt;org-hide-emphasis-markers&lt;/code&gt;, переключаются маркеры выделения.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;org-appear-autolinks&lt;/code&gt; : если не &lt;code&gt;nul&lt;/code&gt; и включён &lt;code&gt;org-link-descriptive&lt;/code&gt;, переключаются ссылки.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;org-appear-autosubmarkers&lt;/code&gt; : если не &lt;code&gt;nul&lt;/code&gt; и включено &lt;code&gt;org-pretty-entities&lt;/code&gt;, переключает нижние и верхние индексы.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;org-appear-autoentities&lt;/code&gt; : если не &lt;code&gt;nul&lt;/code&gt; и включено &lt;code&gt;org-pretty-entities&lt;/code&gt;, переключить структуры org-mode.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;org-appear-autokeywords&lt;/code&gt; : если не &lt;code&gt;nul&lt;/code&gt; и включено &lt;code&gt;org-hidden-keywords&lt;/code&gt;, переключает ключевые слова в &lt;code&gt;org-hidden-keywords&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;org-appear-inside-latex&lt;/code&gt; : если не &lt;code&gt;nul&lt;/code&gt;, переключает сущности и подстрочные/надстрочные индексы во фрагментах LaTeX.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;org-appear-delay&lt;/code&gt; : задержка перед переключением (в секундах).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;org-appear-trigger&lt;/code&gt; : когда переключать элементы:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;always&lt;/code&gt; : всегда будут переключаться элементы.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;on-change&lt;/code&gt; : элементы будут переключаться только при изменении буфера или щелчке мыши. Эта опция отключает отложенное переключение.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;manual&lt;/code&gt; : переключение должно быть разрешено вызовом &lt;code&gt;org-appear-manual-start&lt;/code&gt;. &lt;code&gt;org-appear-manual-stop&lt;/code&gt; используется для отключения переключения с этой опцией.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Org-mode. Нумерация уравнений LaTeX</title><link>http://localhost:1313/ru/post/2022/11/27/org-mode-latex-equation-numbering/</link><pubDate>Sun, 27 Nov 2022 19:16:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2022/11/27/org-mode-latex-equation-numbering/</guid><description>&lt;p&gt;Org-mode. Нумерация уравнений LaTeX.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#проблема"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Проблема&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#предлагаемое-решение"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Предлагаемое решение&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#реализация"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Реализация&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Сделано на основе:
.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="проблема"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Проблема&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;При использовании выключенных уравнений &lt;em&gt;LaTeX&lt;/em&gt; в &lt;em&gt;org-mode&lt;/em&gt; (см.
) каждый фрагмент создаётся изолированно.&lt;/li&gt;
&lt;li&gt;Каждое пронумерованное уравнение имеет номер &lt;code&gt;(1)&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="предлагаемое-решение"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Предлагаемое решение&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Для обеспечения правильной нумерации нужно создавать каждый фрагмента не изолированно, a учитывая контекст.&lt;/li&gt;
&lt;li&gt;Выясняем, какой должна быть нумерация для каждого уравнения, а затем передаём эту информацию для генерации изображения.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="реализация"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Реализация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Предлагается добавить следующий фрагмент в конфигурационные файлы:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;defun&lt;/span&gt; &lt;span class="nv"&gt;ecf/org-renumber-environment&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;orig-func&lt;/span&gt; &lt;span class="kp"&gt;&amp;amp;rest&lt;/span&gt; &lt;span class="nv"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;let&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;results&lt;/span&gt; &lt;span class="o"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;counter&lt;/span&gt; &lt;span class="mi"&gt;-1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;numberp&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;results&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;loop&lt;/span&gt; &lt;span class="nv"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;begin&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="nv"&gt;env&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;org-element-map&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;org-element-parse-buffer&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;latex-environment&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;lambda&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;env&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;cons&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;org-element-property&lt;/span&gt; &lt;span class="nb"&gt;:begin&lt;/span&gt; &lt;span class="nv"&gt;env&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;org-element-property&lt;/span&gt; &lt;span class="nb"&gt;:value&lt;/span&gt; &lt;span class="nv"&gt;env&lt;/span&gt;&lt;span class="p"&gt;))))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nv"&gt;collect&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;cond&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nb"&gt;and&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;string-match&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;\\\\begin{equation}&amp;#34;&lt;/span&gt; &lt;span class="nv"&gt;env&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;not&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;string-match&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;\\\\tag{&amp;#34;&lt;/span&gt; &lt;span class="nv"&gt;env&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;incf&lt;/span&gt; &lt;span class="nv"&gt;counter&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;cons&lt;/span&gt; &lt;span class="nv"&gt;begin&lt;/span&gt; &lt;span class="nv"&gt;counter&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nf"&gt;string-match&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;\\\\begin{align}&amp;#34;&lt;/span&gt; &lt;span class="nv"&gt;env&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;prog2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;incf&lt;/span&gt; &lt;span class="nv"&gt;counter&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;cons&lt;/span&gt; &lt;span class="nv"&gt;begin&lt;/span&gt; &lt;span class="nv"&gt;counter&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;with-temp-buffer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;insert&lt;/span&gt; &lt;span class="nv"&gt;env&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;goto-char&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;point-min&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;;; \\ is used for a new line. Each one leads to a number&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;incf&lt;/span&gt; &lt;span class="nv"&gt;counter&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;count-matches&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;\\\\$&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;;; unless there are nonumbers.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;goto-char&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;point-min&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;decf&lt;/span&gt; &lt;span class="nv"&gt;counter&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;count-matches&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;\\nonumber&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)))))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="no"&gt;t&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;cons&lt;/span&gt; &lt;span class="nv"&gt;begin&lt;/span&gt; &lt;span class="no"&gt;nil&lt;/span&gt;&lt;span class="p"&gt;)))))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;when&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nf"&gt;numberp&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;cdr&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;assoc&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;point&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="nv"&gt;results&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setf&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;car&lt;/span&gt; &lt;span class="nv"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;concat&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;format&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;\\setcounter{equation}{%s}\n&amp;#34;&lt;/span&gt; &lt;span class="nf"&gt;numberp&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;car&lt;/span&gt; &lt;span class="nv"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)))))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;apply&lt;/span&gt; &lt;span class="nv"&gt;orig-func&lt;/span&gt; &lt;span class="nv"&gt;args&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;advice-add&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;org-create-formula-image&lt;/span&gt; &lt;span class="nb"&gt;:around&lt;/span&gt; &lt;span class="nf"&gt;#&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;ecf/org-renumber-environment&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Org-mode. Поддержка LaTeX</title><link>http://localhost:1313/ru/post/2022/11/27/org-mode-latex-support/</link><pubDate>Sun, 27 Nov 2022 19:14:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2022/11/27/org-mode-latex-support/</guid><description>&lt;p&gt;Org-mode. Поддержка LaTeX.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#форматирование-уравнений"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Форматирование уравнений&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#экспорт"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Экспорт&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;h2 id="форматирование-уравнений"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Форматирование уравнений&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="экспорт"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Экспорт&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Org-roam. Экспорт в Hugo</title><link>http://localhost:1313/ru/post/2022/11/23/org-roam-hugo-export/</link><pubDate>Wed, 23 Nov 2022 19:40:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2022/11/23/org-roam-hugo-export/</guid><description>&lt;p&gt;Экспорт в Hugo из org-roam.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#ошибки-при-экспорте"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Ошибки при экспорте&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#ox-hugo-broken-links"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; ox-hugo: broken links&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#подкаталоги-в-каталоге-org-roam"&gt;&lt;span class="section-num"&gt;1.1.1&lt;/span&gt; Подкаталоги в каталоге org-roam&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#экспорт-из-поддерева"&gt;&lt;span class="section-num"&gt;1.1.2&lt;/span&gt; Экспорт из поддерева&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="ошибки-при-экспорте"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Ошибки при экспорте&lt;/h2&gt;
&lt;h3 id="ox-hugo-broken-links"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; ox-hugo: broken links&lt;/h3&gt;
&lt;h4 id="подкаталоги-в-каталоге-org-roam"&gt;&lt;span class="section-num"&gt;1.1.1&lt;/span&gt; Подкаталоги в каталоге org-roam&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Если каталог для org-roam содержит подкаталоги, то при экспорте теряются ссылки.&lt;/li&gt;
&lt;li&gt;Для ликвидации этой ошибки следует добавить в настройки:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;require&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;org-roam-export&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="экспорт-из-поддерева"&gt;&lt;span class="section-num"&gt;1.1.2&lt;/span&gt; Экспорт из поддерева&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ox-hugo предлагает два варианта экспорта:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;экспорт всего файла;&lt;/li&gt;
&lt;li&gt;экспорт из поддерева.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;При экспорте из поддерева ссылки типа &lt;code&gt;id_link&lt;/code&gt; не отображаются.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Происходит поиск таких ссылок только в текущем поддереве.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Для реализации поиска в других фалах нужно добавить их в переменную &lt;code&gt;org-id-extra-files&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-id-extra-files&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;directory-files-recursively&lt;/span&gt; &lt;span class="nv"&gt;org-roam-directory&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;.*\.org$&amp;#34;&lt;/span&gt; &lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Впрочем, у меня это не сработало.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Также можно сделать хак для игнорирования ошибок:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;with-eval-after-load&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;ox-hugo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-hugo--preprocess-buffer&lt;/span&gt; &lt;span class="no"&gt;nil&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Вот это у меня сработало.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Emacs. Org Babel</title><link>http://localhost:1313/ru/post/2022/10/15/emacs-org-babel/</link><pubDate>Sat, 15 Oct 2022 21:21:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2022/10/15/emacs-org-babel/</guid><description>&lt;p&gt;Org Babel.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#дополнительные-пакеты"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Дополнительные пакеты&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-auto-tangle"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; org-auto-tangle&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#настройка"&gt;&lt;span class="section-num"&gt;2.1.1&lt;/span&gt; Настройка&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#опция-в-файле-dot-org"&gt;&lt;span class="section-num"&gt;2.1.2&lt;/span&gt; Опция в файле .org&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#структура-блока-кода"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Структура блока кода&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#исполнение-кода-блоков"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Исполнение кода блоков&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#исполнение-исходного-кода"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Исполнение исходного кода&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ограничение-на-исполнение-кода"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Ограничение на исполнение кода&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#экспорт-блоков-кода"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Экспорт блоков кода&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#экспорт-рисунков-svg"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Экспорт рисунков &lt;code&gt;svg&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#задание-конфигурации-в-свойствах"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Задание конфигурации в свойствах&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#аргументы-заголовка-уровня-буфера"&gt;&lt;span class="section-num"&gt;7.1&lt;/span&gt; Аргументы заголовка уровня буфера&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#аргументы-заголовка-поддерева"&gt;&lt;span class="section-num"&gt;7.2&lt;/span&gt; Аргументы заголовка поддерева&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#аргументы-заголовка-блока-кода"&gt;&lt;span class="section-num"&gt;7.3&lt;/span&gt; Аргументы заголовка блока кода&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Org Babel&lt;/em&gt; используется для работы с исходным кодом разных языков программирования внутри &lt;em&gt;org-mode&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Исходный код задаётся в блоке &lt;code&gt;#+BEGIN_SRC...#+END_SRC&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Для редактирования и форматирования блока исходного кода используется соответствующий основной режим Emacs, включающий функции, специально разработанные для исходного кода на этом языке.&lt;/li&gt;
&lt;li&gt;Для выполнения компиляции блока исходного кода можно использовать соответствующий компилятор.&lt;/li&gt;
&lt;li&gt;Важной особенностью управления блоками исходного кода в &lt;em&gt;org-mode&lt;/em&gt; является возможность передавать переменные, функции и результаты друг другу, используя общий синтаксис для блоков исходного кода на любом языке.&lt;/li&gt;
&lt;li&gt;Документация:
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="дополнительные-пакеты"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Дополнительные пакеты&lt;/h2&gt;
&lt;h3 id="org-auto-tangle"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; org-auto-tangle&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Автоматически выполнять tangle при сохранении файлов.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="настройка"&gt;&lt;span class="section-num"&gt;2.1.1&lt;/span&gt; Настройка&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Необходимо добавить хук к org-mode:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;require&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;org-auto-tangle&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;add-hook&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;org-mode-hook&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;org-auto-tangle-mode&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Можно включить автосохранение для всех файлов:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-auto-tangle-default&lt;/span&gt; &lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="опция-в-файле-dot-org"&gt;&lt;span class="section-num"&gt;2.1.2&lt;/span&gt; Опция в файле .org&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;В целевой файл следует добавить опцию для включения автосохранения:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+auto_tangle&lt;/span&gt;&lt;span class="c"&gt;: t&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Эта опция также может использоваться для указания переменных, которые должны быть сохраняется в асинхронном процессе запутывания:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="nv"&gt;+auto_tangle:&lt;/span&gt; &lt;span class="nv"&gt;vars:load-path&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="структура-блока-кода"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Структура блока кода&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Исходный код может быть в блоке исходного кода и непосредственно в строке.&lt;/li&gt;
&lt;li&gt;Блок исходного кода:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+NAME&lt;/span&gt;&lt;span class="c"&gt;: &amp;lt;name&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+BEGIN_SRC &lt;/span&gt;&lt;span class="cs"&gt;&amp;lt;language&amp;gt;&lt;/span&gt;&lt;span class="c"&gt; &amp;lt;switches&amp;gt; &amp;lt;header arguments&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;&lt;/span&gt; &amp;lt;body&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+END_SRC&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Блок встроенного кода:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;src_&amp;lt;&lt;span class="s"&gt;language&lt;/span&gt;&amp;gt;[&amp;lt;&lt;span class="s"&gt;header arguments&lt;/span&gt;&amp;gt;]{&amp;lt;&lt;span class="s"&gt;body&lt;/span&gt;&amp;gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Основные элементы:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;#+NAME: &amp;lt;name&amp;gt;&lt;/code&gt; : опциональное название блока исходного кода.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;#+BEGIN_SRC … #+END_SRC&lt;/code&gt; : обязательные ограничители блока.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;language&amp;gt;&lt;/code&gt; : обязательный идентификатор языка исходного кода в блоке.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;switches&amp;gt;&lt;/code&gt; : опциональная настройка кодового блока.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;header arguments&amp;gt;&lt;/code&gt; : опциональные аргументы заголовка. Управляют многими аспектами выполнения и экспорта блоков кода.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;body&amp;gt;&lt;/code&gt; : исходный код.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="исполнение-кода-блоков"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Исполнение кода блоков&lt;/h2&gt;
&lt;h3 id="исполнение-исходного-кода"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Исполнение исходного кода&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Org захватывает результаты выполнения блока кода и вставляет их в файл Org сразу после блока кода.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Точка вставки находится после новой строки и ключевого слова &lt;code&gt;RESULTS&lt;/code&gt; (оно создаётся, если его не было).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;По умолчанию Org разрешает выполнение только блоков кода Emacs Lisp.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Выполнение блоков кода: &lt;code&gt;C-c C-c&lt;/code&gt; или &lt;code&gt;C-c C-v e&lt;/code&gt; на кодовом блоке вызывает функцию &lt;code&gt;org-babel-execute-src-block&lt;/code&gt;, которая выполняет код в блоке, собирает результаты и вставляет их в буфер.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Содержимое блока кода может быть исполнено из другого места файла.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Вызов можно выполнить с помощью ключевого слова:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+CALL&lt;/span&gt;&lt;span class="c"&gt;: &amp;lt;name&amp;gt;(&amp;lt;arguments&amp;gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+CALL&lt;/span&gt;&lt;span class="c"&gt;: &amp;lt;name&amp;gt;[&amp;lt;inside header arguments&amp;gt;](&amp;lt;arguments&amp;gt;) &amp;lt;end header arguments&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Можно использовать встроенные вызовы:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;... call&lt;span class="gl"&gt;_&amp;lt;name&amp;gt;(&amp;lt;arguments&amp;gt;) ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="gl"&gt;... call_&lt;/span&gt;&amp;lt;&lt;span class="s"&gt;name&lt;/span&gt;&amp;gt;[&amp;lt;&lt;span class="s"&gt;inside header arguments&lt;/span&gt;&amp;gt;](&amp;lt;&lt;span class="s"&gt;arguments&lt;/span&gt;&amp;gt;)[&amp;lt;&lt;span class="s"&gt;end header arguments&lt;/span&gt;&amp;gt;] ...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;В этом случае результат представляется на основе переменной &lt;code&gt;org-babel-inline-result-wrap&lt;/code&gt;, для которой по умолчанию задано значение &lt;code&gt;=%s=&lt;/code&gt; для получения дословного текста.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Параметры вызова:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;name&amp;gt;&lt;/code&gt; : имя блока кода. Если блок находится в другом файле, имя предваряется именем файла, за которым следует двоеточие.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;arguments&amp;gt;&lt;/code&gt; : аргументы, передаваемые в блок кода.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;inside header arguments&amp;gt;&lt;/code&gt; : внутренние аргументы заголовка в именованном блоке кода.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;end header arguments&amp;gt;&lt;/code&gt; : влияют на результаты, возвращаемые блоком кода.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ограничение-на-исполнение-кода"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Ограничение на исполнение кода&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Аргумент заголовка &lt;code&gt;eval&lt;/code&gt; может ограничивать выполнение определённых блоков кода (в основном для обеспечения безопасности):
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;never&lt;/code&gt; или &lt;code&gt;no&lt;/code&gt; : никогда не исполнять код;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;query&lt;/code&gt; : запрашивает у пользователя разрешение на исполнение исходного кода;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;never-export&lt;/code&gt; или &lt;code&gt;no-export&lt;/code&gt; : не исполнять исходный код при экспорте;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;query-export&lt;/code&gt; : запрашивает у пользователя разрешение на исполнение исходного кода во время экспорта.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Запрос на выполнение управляется переменной &lt;code&gt;org-confirm-babel-evaluate&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Чтобы отключить запрос на выполнение, следует установить:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-confirm-babel-evaluate&lt;/span&gt; &lt;span class="no"&gt;nil&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="экспорт-блоков-кода"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Экспорт блоков кода&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Можно экспортировать код из блоков babel, результаты выполнения блока кода.&lt;/li&gt;
&lt;li&gt;Аргумент заголовка &lt;code&gt;:exports&lt;/code&gt; должен указывать, экспортируется ли эта часть файла:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;code&lt;/code&gt; (&lt;code&gt;:exports code&lt;/code&gt;) : Обычно является значением по умолчанию. Код включается в экспортируемый файл.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;results&lt;/code&gt; (&lt;code&gt;:exports results&lt;/code&gt;) : Результаты выполнения кода включаются в экспортируемый файл.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;both&lt;/code&gt; (&lt;code&gt;:exports both&lt;/code&gt;) : И код, и результаты выполнения включаются в экспортируемый файл.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;none&lt;/code&gt; (&lt;code&gt;:exports none&lt;/code&gt;) : Ни код, ни результаты выполнения не включаются в экспортируемый файл.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Чтобы не выполнять блоки кода для ускорения экспорта, используется аргумент заголовка &lt;code&gt;:eval never-export&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Для отключения исполнения кода глобально следует установить переменную &lt;code&gt;org-export-use-babel&lt;/code&gt; в значение &lt;code&gt;nil&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="экспорт-рисунков-svg"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Экспорт рисунков &lt;code&gt;svg&lt;/code&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;При экспорте результатов вычисления, являющимися фигурами в формате &lt;code&gt;svg&lt;/code&gt;, можно внедрить код в текст.&lt;/li&gt;
&lt;li&gt;Для этого нужно добавить к результату атрибут:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+attr_html&lt;/span&gt;&lt;span class="c"&gt;: :inlined t&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="задание-конфигурации-в-свойствах"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Задание конфигурации в свойствах&lt;/h2&gt;
&lt;h3 id="аргументы-заголовка-уровня-буфера"&gt;&lt;span class="section-num"&gt;7.1&lt;/span&gt; Аргументы заголовка уровня буфера&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Строка &lt;code&gt;#+PROPERTY:&lt;/code&gt;, расположенная в любом месте буфера, влияет на весь файл. Она устанавливает глобальное свойство.&lt;/li&gt;
&lt;li&gt;Для &lt;em&gt;babel&lt;/em&gt; свойства задаются для &lt;code&gt;header-args&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Сгенерить все блоки исходного кода в файле:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+PROPERTY&lt;/span&gt;&lt;span class="c"&gt;: header-args :tangle yes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Можно указать несколько аргументов:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+PROPERTY&lt;/span&gt;&lt;span class="c"&gt;: header-args :results output :cache yes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Можно объединять свойства (накопленные значения):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+PROPERTY&lt;/span&gt;&lt;span class="c"&gt;: header-args:R :exports results&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+PROPERTY&lt;/span&gt;&lt;span class="c"&gt;: header-args:R+ :width 800&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="аргументы-заголовка-поддерева"&gt;&lt;span class="section-num"&gt;7.2&lt;/span&gt; Аргументы заголовка поддерева&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Блок &lt;code&gt;:PROPERTIES:&lt;/code&gt; действителен только для данного дерева (и поддеревьев):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;​* Outline heading
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt; :PROPERTIES:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;&lt;/span&gt;&lt;span class="cs"&gt; :header-args: :results output :cache yes
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;&lt;/span&gt;&lt;span class="c"&gt; :END:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="аргументы-заголовка-блока-кода"&gt;&lt;span class="section-num"&gt;7.3&lt;/span&gt; Аргументы заголовка блока кода&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Можно параметры указывать непосредственно в блоке кода:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+header&lt;/span&gt;&lt;span class="c"&gt;: :exports code :var data=2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+begin_src &lt;/span&gt;&lt;span class="cs"&gt;emacs-lisp&lt;/span&gt;&lt;span class="c"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt; &lt;span class="nv"&gt;some&lt;/span&gt; &lt;span class="nv"&gt;code&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+end_src&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Emacs. Работа с библиографией. Org-cite</title><link>http://localhost:1313/ru/post/2022/10/10/emacs-bibliography-org-cite/</link><pubDate>Mon, 10 Oct 2022 12:34:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2022/10/10/emacs-bibliography-org-cite/</guid><description>&lt;p&gt;Библиография в org-mode на основе org-cite.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#цитирование"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Цитирование&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#обработка-цитирования"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Обработка цитирования&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#процессоры-цитирования"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Процессоры цитирования&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#универсальные"&gt;&lt;span class="section-num"&gt;3.2.1&lt;/span&gt; Универсальные&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#latex"&gt;&lt;span class="section-num"&gt;3.2.2&lt;/span&gt; LaTeX&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#задание-типа-экспорта"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Задание типа экспорта&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;3.3.1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#задание-типа-экспорта-в-файле"&gt;&lt;span class="section-num"&gt;3.3.2&lt;/span&gt; Задание типа экспорта в файле&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#глобальное-задание-типа-экспорта"&gt;&lt;span class="section-num"&gt;3.3.3&lt;/span&gt; Глобальное задание типа экспорта&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#citeproc-dot-el"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Citeproc.el&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Выпущена в 2021 году для нативной поддержки ссылок в &lt;code&gt;org-mode&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Задаёт родной синтаксис для цитирования.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="цитирование"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Цитирование&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Прежде чем добавлять цитаты, сначала следует задать один или несколько файлов библиографии:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;глобально с помощью &lt;code&gt;org-cite-global-bibliography&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-cite-global-bibliography&lt;/span&gt; &lt;span class="o"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;~/work/bib/bib/main.bib&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;локально с помощью одного или нескольких ключевых слов &lt;code&gt;bibliography&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+bibliography&lt;/span&gt;&lt;span class="c"&gt;: SomeFile.bib&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+bibliography&lt;/span&gt;&lt;span class="c"&gt;: /some/other/file.json&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+bibliography&lt;/span&gt;&lt;span class="c"&gt;: &amp;#34;/some/file/with spaces/in its name.bib&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Цитаты можно вставлять и редактировать с помощью &lt;code&gt;org-cite-insert&lt;/code&gt;, или комбинации &lt;code&gt;C-c C-x @&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Для цитирования требуется один или несколько ключей цитирования элементов, идентифицирующих ссылку в библиографии:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;[cite/style:common prefix ;prefix @key suffix; ... ; common suffix]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Каждая цитата заключена в квадратные скобки и использует ключевое слово &lt;code&gt;cite&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Каждый ключ начинается с символа &lt;code&gt;@&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Каждый ключ может быть дополнен префиксом (например, &lt;code&gt;см.&lt;/code&gt;) и/или суффиксом (например, &lt;code&gt;стр. 123&lt;/code&gt;), предоставляя информацию, полезную или необходимую для понимания цитаты, но не включенную в ссылку.&lt;/li&gt;
&lt;li&gt;Одна цитата может цитировать более одной ссылки; ключи разделены точкой с запятой; форматирование таких групп цитирования определяется стилем.&lt;/li&gt;
&lt;li&gt;Можно также указать стилистическую вариацию для цитат, вставив &amp;lsquo;/&amp;rsquo; и имя стиля между ключевым словом &lt;code&gt;cite&lt;/code&gt; и двоеточием.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Обязательными элементами являются:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ключевое слово &lt;code&gt;cite&lt;/code&gt; и двоеточие;&lt;/li&gt;
&lt;li&gt;символ &lt;code&gt;@&lt;/code&gt;, непосредственно предшествующий каждому ключу;&lt;/li&gt;
&lt;li&gt;скобки, окружающие цитирование.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Чтобы вставить куда-либо библиографию, нужно в этом месте задать ключевое слово &lt;code&gt;print_bibliography&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+print_bibliography&lt;/span&gt;&lt;span class="c"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="обработка-цитирования"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Обработка цитирования&lt;/h2&gt;
&lt;h3 id="общая-информация"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Общая информация&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Важной концепцией &lt;code&gt;org-cite&lt;/code&gt; являются &lt;em&gt;экспортные процессоры&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Хотя цитаты всегда будут иметь один и тот же формат, экспортируемый текст будет меняться в зависимости от используемого процессора.&lt;/li&gt;
&lt;li&gt;Основные функции процессоров:
&lt;ul&gt;
&lt;li&gt;вставка и редактирование цитат;&lt;/li&gt;
&lt;li&gt;связь ссылки и её определения;&lt;/li&gt;
&lt;li&gt;выделение цитат в буфере;&lt;/li&gt;
&lt;li&gt;экспорт цитат.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="процессоры-цитирования"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Процессоры цитирования&lt;/h3&gt;
&lt;h4 id="универсальные"&gt;&lt;span class="section-num"&gt;3.2.1&lt;/span&gt; Универсальные&lt;/h4&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;basic&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Когда обратная совместимость не требуется, а потребности в форматировании минимальны.&lt;/li&gt;
&lt;li&gt;Загрузка:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;require&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;oc-basic&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;csl&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Используется форматирование на основе Citation Style Language (см.
).&lt;/li&gt;
&lt;li&gt;Для этого используется пакет &lt;code&gt;citeproc-el&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Конфигурация:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;require&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;oc-csl&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;;;; https://github.com/citation-style-language/styles&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;;;; https://www.zotero.org/styles&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-cite-csl-styles-dir&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;~/work/bib/csl&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;csl&lt;/code&gt; экспортируется в визуализированный текст.
&lt;ul&gt;
&lt;li&gt;Визуализированный текст &amp;mdash; это текст, вид которого будет совпадать с форматированием в &lt;code&gt;org-mode&lt;/code&gt;, например, текст, выделенный курсивом &lt;code&gt;org-mode&lt;/code&gt;, будет обернут в &lt;code&gt;\emph{}&lt;/code&gt; в LaTeX.&lt;/li&gt;
&lt;li&gt;При экспорте &lt;code&gt;[cite:@bradleyAppearanceRealityMetaphysical2011 82–5;]&lt;/code&gt; в файл LaTeX с помощью csl-процессора, используя файл CSL для стиля цитирования &lt;em&gt;Modern Language Association (MLA)&lt;/em&gt;, в файле LaTeX будет следующая цитата: &lt;code&gt;(Bradley 82–85)&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;При экспорте в LaTeX отрендеренного текста зачастую будет недостаточно.&lt;/li&gt;
&lt;li&gt;Для получения доступ к более сложным или тонким функциям надо использовать процессор &lt;code&gt;biblatex&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="latex"&gt;&lt;span class="section-num"&gt;3.2.2&lt;/span&gt; LaTeX&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Для экспорта в LaTeX.&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;natbib&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Для экспорта в BibTeX, исторический библиографический процессор, используемый с LaTeX.&lt;/li&gt;
&lt;li&gt;Используются команды цитирования из пакета &lt;code&gt;natbib&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Загрузка:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;require&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;oc-natbib&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;biblatex&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Для экспорта в BibLaTeX, альтернативного библиографического процессора, используемого с LaTeX (см.
).&lt;/li&gt;
&lt;li&gt;Загрузка:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;require&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;oc-biblatex&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Стиль конечного цитирования будет определяться предоставленными параметрами пакета (например, &lt;code&gt;style=gost&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Например, &lt;code&gt;[cite:@bradleyAppearanceRealityMetaphysical2011 82-5;]&lt;/code&gt; будет экспортироваться в команду LaTeX &lt;code&gt;\cite[82-5]{bradleyAppearanceRealityMetaphysical2011}&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Процессору BibLaTeX можно передать параметры команде &lt;code&gt;\printbibliography&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+print_bibliography&lt;/span&gt;&lt;span class="c"&gt;: :section 2 :heading subbibliography&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+print_bibliography&lt;/span&gt;&lt;span class="c"&gt;: :keyword abc,xyz :title &amp;#34;Primary Sources&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="задание-типа-экспорта"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Задание типа экспорта&lt;/h3&gt;
&lt;h4 id="общая-информация"&gt;&lt;span class="section-num"&gt;3.3.1&lt;/span&gt; Общая информация&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Стиль цитат и библиография зависят от трех вещей:
&lt;ul&gt;
&lt;li&gt;используемый процессор цитирования;&lt;/li&gt;
&lt;li&gt;стиль цитирования;&lt;/li&gt;
&lt;li&gt;стиль библиографии.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="задание-типа-экспорта-в-файле"&gt;&lt;span class="section-num"&gt;3.3.2&lt;/span&gt; Задание типа экспорта в файле&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Ключевое слово &lt;code&gt;CITE_EXPORT&lt;/code&gt; указывает процессор экспорта и стили цитирования (и, возможно, ссылки).&lt;/li&gt;
&lt;li&gt;Зададим процессор экспорта &lt;code&gt;basic&lt;/code&gt; с цитатами, вставленными как имя автора, и ссылками, проиндексированными по имени автора и году.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+cite_export&lt;/span&gt;&lt;span class="c"&gt;: basic author author-year&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Зададим процессор &lt;code&gt;csl&lt;/code&gt; и стиль CSL, который в данном случае определяет числовые цитаты и числовые ссылки в соответствии с ванкуверской спецификацией:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+cite_export&lt;/span&gt;&lt;span class="c"&gt;: csl /some/path/to/vancouver-brackets.csl&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Зададим процессор &lt;code&gt;natbib&lt;/code&gt; со стилем цитирования соответствующим гарвардскому стилю и спецификации издателя Wolkers-Kluwer:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+cite_export&lt;/span&gt;&lt;span class="c"&gt;: natbib kluwer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="глобальное-задание-типа-экспорта"&gt;&lt;span class="section-num"&gt;3.3.3&lt;/span&gt; Глобальное задание типа экспорта&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Необходимо настроить переменную &lt;code&gt;org-cite-export-processors&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;org-cite-export-processors&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="o"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;md&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;csl&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;chicago-fullnote-bibliography.csl&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="c1"&gt;; Footnote reliant&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;latex&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="nv"&gt;biblatex&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;; For humanities&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;odt&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;csl&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;chicago-fullnote-bibliography.csl&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="c1"&gt;; Footnote reliant&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="no"&gt;t&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;csl&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;modern-language-association.csl&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;))))&lt;/span&gt; &lt;span class="c1"&gt;; Fallback&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="citeproc-dot-el"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Citeproc.el&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Используется для процессора csl.&lt;/li&gt;
&lt;li&gt;В настоящее время он поддерживает экспорт в:
&lt;ul&gt;
&lt;li&gt;HTML;&lt;/li&gt;
&lt;li&gt;LaTeX;&lt;/li&gt;
&lt;li&gt;Org;&lt;/li&gt;
&lt;li&gt;Plain text.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;В настоящее время Citeproc может извлекать библиографическую информацию из следующих форматов:
&lt;ul&gt;
&lt;li&gt;CSL-JSON;&lt;/li&gt;
&lt;li&gt;Bib(La)TeX;&lt;/li&gt;
&lt;li&gt;org-bibtex (см.
).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Поддержка Bib(La)TeX и org-bibtex находится в зачаточном состоянии по сравнению с CSL-JSON .&lt;/li&gt;
&lt;li&gt;Если не задан стиль в &lt;code&gt;org-cite-csl--fallback-style-file&lt;/code&gt;, будет использоваться стиль, который по умолчанию соответствует чикагскому стилю &lt;em&gt;автор-дата&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Язык разметки org-mode</title><link>http://localhost:1313/ru/post/2021/10/14/org-mode-markup-language/</link><pubDate>Thu, 14 Oct 2021 18:49:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2021/10/14/org-mode-markup-language/</guid><description>&lt;p&gt;Язык разметки org-mode.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#внешний-вид"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Внешний вид&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#изображения"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Изображения&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="внешний-вид"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Внешний вид&lt;/h2&gt;
&lt;h3 id="изображения"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Изображения&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Изображение можно вставлять просто в виде имени файла:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;./img/cat.jpg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Можно задать заголовок и метку для изображения. Тогда изображение вставляется в виде ссылки.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+CAPTION&lt;/span&gt;&lt;span class="c"&gt;: Заголовок изображения&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+NAME&lt;/span&gt;&lt;span class="c"&gt;: fig:image-a&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;[[&lt;span class="na"&gt;./img/a.jpg&lt;/span&gt;]]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Такие изображения можно отобразить в буфере с помощью команды: &lt;code&gt;C-c C-x C-v&lt;/code&gt; (&lt;code&gt;org-toggle-inline-images&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;При вызове с префиксом также отображать изображения, у которых есть заголовок: &lt;code&gt;C-u C-c C-x C-v&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Можно активировать отображение встроенных изображений при запуске:
&lt;ul&gt;
&lt;li&gt;настроив переменную &lt;code&gt;org-startup-with-inline-images&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;установив в буфере параметр &lt;code&gt;STARTUP&lt;/code&gt; в &lt;code&gt;inlineimages&lt;/code&gt; (или &lt;code&gt;noinlineimages&lt;/code&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Org-mode</title><link>http://localhost:1313/ru/post/2021/10/14/org-mode/</link><pubDate>Thu, 14 Oct 2021 18:11:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2021/10/14/org-mode/</guid><description>&lt;p&gt;Org-mode.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#программирование"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Программирование&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#agenda"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Agenda&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#поиск"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Поиск&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#подготовка-публикаций"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Подготовка публикаций&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#экспорт"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Экспорт&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#пакеты-использующие-org-mode"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Пакеты, использующие org-mode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#реализации"&gt;&lt;span class="section-num"&gt;8&lt;/span&gt; Реализации&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#мобильные-приложения"&gt;&lt;span class="section-num"&gt;8.1&lt;/span&gt; Мобильные приложения&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#редакторы"&gt;&lt;span class="section-num"&gt;8.2&lt;/span&gt; Редакторы&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#vs-code"&gt;&lt;span class="section-num"&gt;8.2.1&lt;/span&gt; VS Code&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="программирование"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Программирование&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="agenda"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Agenda&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="поиск"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Поиск&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="подготовка-публикаций"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Подготовка публикаций&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="экспорт"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Экспорт&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="пакеты-использующие-org-mode"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Пакеты, использующие org-mode&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="реализации"&gt;&lt;span class="section-num"&gt;8&lt;/span&gt; Реализации&lt;/h2&gt;
&lt;h3 id="мобильные-приложения"&gt;&lt;span class="section-num"&gt;8.1&lt;/span&gt; Мобильные приложения&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="редакторы"&gt;&lt;span class="section-num"&gt;8.2&lt;/span&gt; Редакторы&lt;/h3&gt;
&lt;h4 id="vs-code"&gt;&lt;span class="section-num"&gt;8.2.1&lt;/span&gt; VS Code&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;VS Code Org Mode&lt;/li&gt;
&lt;li&gt;Сайт:
&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Org-mode. Презентации. Beamer</title><link>http://localhost:1313/ru/post/2021/06/16/org-mode-prezentation-beamer/</link><pubDate>Wed, 16 Jun 2021 20:46:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2021/06/16/org-mode-prezentation-beamer/</guid><description>&lt;p&gt;Создание презентаций Beamer в org-mode.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#конфигурационный-файл-emacs"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Конфигурационный файл Emacs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#опции-экспорта"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Опции экспорта&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#явный-разрыв-слайда"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Явный разрыв слайда&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#таблицы"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Таблицы&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#управление-шириной-таблицы"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Управление шириной таблицы&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#иллюстрации"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Иллюстрации&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="конфигурационный-файл-emacs"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Конфигурационный файл Emacs&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Считаем, что экспорт в LaTeX уже настроен (см.
).&lt;/li&gt;
&lt;li&gt;Подключаем библиотеку экспорта:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-elisp" data-lang="elisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;require&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;ox-beamer&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Задаём уровень заголовка, который будет восприниматься как заголовок слайда:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-elisp" data-lang="elisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-beamer-frame-level&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;Этот параметр можно переопределить как на уровне файла:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+OPTIONS&lt;/span&gt;&lt;span class="c"&gt;: H:3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;так и на уровне поддерева:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;:EXPORT_OPTIONS: H:3
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="опции-экспорта"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Опции экспорта&lt;/h2&gt;
&lt;p&gt;Общие опции экспорта:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a id="table--Опции экспорта для файла и поддерева"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Опции экспорта файла&lt;/th&gt;
&lt;th&gt;Опции экспорта поддерева&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;BEAMER_THEME&lt;/td&gt;
&lt;td&gt;EXPORT_BEAMER_THEME&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BEAMER_COLOR_THEME&lt;/td&gt;
&lt;td&gt;EXPORT_BEAMER_COLOR_THEME&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BEAMER_FONT_THEME&lt;/td&gt;
&lt;td&gt;EXPORT_BEAMER_FONT_THEME&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BEAMER_INNER_THEME&lt;/td&gt;
&lt;td&gt;EXPORT_BEAMER_INNER_THEME&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BEAMER_OUTER_THEME&lt;/td&gt;
&lt;td&gt;EXPORT_BEAMER_OUTER_THEME&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BEAMER_HEADER&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="явный-разрыв-слайда"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Явный разрыв слайда&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Если текст не умещается на одном слайде, его нужно разбить. Для этого необходимо установить параметр &lt;code&gt;allowframebreaks&lt;/code&gt; для конкретного слайда:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="gu"&gt;**&lt;/span&gt; A very long &amp;#34;frame&amp;#34; with breaks
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;:PROPERTIES:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;&lt;/span&gt;&lt;span class="cs"&gt;:BEAMER_OPT: allowframebreaks,label=
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;&lt;/span&gt;&lt;span class="c"&gt;:END:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Чтобы добавить явный разрыв страницы:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+beamer&lt;/span&gt;&lt;span class="c"&gt;: \framebreak&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Можно установить глобально для всех слайдов:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+BIND&lt;/span&gt;&lt;span class="c"&gt;: org-beamer-frame-default-options &amp;#34;allowframebreaks&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="таблицы"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Таблицы&lt;/h2&gt;
&lt;h3 id="управление-шириной-таблицы"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Управление шириной таблицы&lt;/h3&gt;
&lt;p&gt;Можно задать атрибуты для таблицы:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+ATTR_LATEX&lt;/span&gt;&lt;span class="c"&gt;: :align lp{0.4\linewidth}l&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="иллюстрации"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Иллюстрации&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;При подготовке иллюстраций можно передать параметры \(\LaTeX\):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+attr_latex&lt;/span&gt;&lt;span class="c"&gt;: :width 0.8\linewidth&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;[[&lt;span class="na"&gt;file:../media/image.png&lt;/span&gt;]]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;В результате получим:&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Org-mode. Экспорт в Hugo</title><link>http://localhost:1313/ru/post/2020/12/17/org-mode-export-hugo/</link><pubDate>Thu, 17 Dec 2020 11:01:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2020/12/17/org-mode-export-hugo/</guid><description>&lt;p&gt;Экспорт org-mode в Hugo является одной из составных частей научного рабочего процесса на основе Emacs и org-mode.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#использование-языка-markdown-внутри-org"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Использование языка Markdown внутри Org&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#соответствие-языков-разметки"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Соответствие языков разметки&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-экспорта"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Настройка экспорта&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#экспорт-специфических-элементов"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Экспорт специфических элементов&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#экспорт-операторов-hugo"&gt;&lt;span class="section-num"&gt;3.1.1&lt;/span&gt; Экспорт операторов Hugo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#отбивка-резюме--summary-splitter"&gt;&lt;span class="section-num"&gt;3.1.2&lt;/span&gt; Отбивка резюме (Summary Splitter)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#резюме-и-подробная-информация"&gt;&lt;span class="section-num"&gt;3.1.3&lt;/span&gt; Резюме и подробная информация&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#свойства-экспорта"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Свойства экспорта&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#обязательные-свойства"&gt;&lt;span class="section-num"&gt;3.2.1&lt;/span&gt; Обязательные свойства&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#формат-заголовка"&gt;&lt;span class="section-num"&gt;3.2.2&lt;/span&gt; Формат заголовка&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#свойства-экспорта-для-заголовка-hugo"&gt;&lt;span class="section-num"&gt;3.2.3&lt;/span&gt; Свойства экспорта для заголовка Hugo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#особенности-экспорта"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Особенности экспорта&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#сочетания-клавиш"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Сочетания клавиш&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#для-режимов-один-пост-на-файл-и-один-пост-на-поддерево"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Для режимов &lt;em&gt;один пост на файл&lt;/em&gt; и &lt;em&gt;один пост на поддерево&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#для-режима-один-пост-на-файл"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Для режима &lt;em&gt;один пост на файл&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#теги-и-категории"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Теги и категории&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#экспорт-уровня-файла"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; Экспорт уровня файла&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#экспорт-уровня-поддерева"&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; Экспорт уровня поддерева&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#теги"&gt;&lt;span class="section-num"&gt;5.2.1&lt;/span&gt; Теги&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#категории"&gt;&lt;span class="section-num"&gt;5.2.2&lt;/span&gt; Категории&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#использование-filetags"&gt;&lt;span class="section-num"&gt;5.2.3&lt;/span&gt; Использование filetags&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#дефисы-и-пробелы-в-тегах"&gt;&lt;span class="section-num"&gt;5.3&lt;/span&gt; Дефисы и пробелы в тегах&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#дополнительные-поля"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Дополнительные поля&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#синтаксис"&gt;&lt;span class="section-num"&gt;6.1&lt;/span&gt; Синтаксис&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#пары-ключ-значение"&gt;&lt;span class="section-num"&gt;6.1.1&lt;/span&gt; Пары ключ-значение&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#списочные-значения"&gt;&lt;span class="section-num"&gt;6.1.2&lt;/span&gt; Списочные значения&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#многоуровневые-значения"&gt;&lt;span class="section-num"&gt;6.1.3&lt;/span&gt; Многоуровневые значения&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#прямая-вставка-преамбул"&gt;&lt;span class="section-num"&gt;6.1.4&lt;/span&gt; Прямая вставка преамбул&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#экспорт-элементов"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Экспорт элементов&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#пакет-страниц--page-bundle"&gt;&lt;span class="section-num"&gt;8&lt;/span&gt; Пакет страниц (page bundle)&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;8.1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#читаемые-курсы"&gt;&lt;span class="section-num"&gt;8.2&lt;/span&gt; Читаемые курсы&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#автоматический-экспорт-при-сохранении"&gt;&lt;span class="section-num"&gt;9&lt;/span&gt; Автоматический экспорт при сохранении&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#установка-на-уровне-каталога"&gt;&lt;span class="section-num"&gt;9.1&lt;/span&gt; Установка на уровне каталога&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка-на-уровне-проекта"&gt;&lt;span class="section-num"&gt;9.2&lt;/span&gt; Установка на уровне проекта&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка-для-конкретного-файла"&gt;&lt;span class="section-num"&gt;9.3&lt;/span&gt; Установка для конкретного файла&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#запрет-авто-сохранения-для-конкретного-файла"&gt;&lt;span class="section-num"&gt;9.4&lt;/span&gt; Запрет авто сохранения для конкретного файла&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#цитирование"&gt;&lt;span class="section-num"&gt;10&lt;/span&gt; Цитирование&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#формат-цитирования-pandoc"&gt;&lt;span class="section-num"&gt;10.1&lt;/span&gt; Формат цитирования pandoc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#формат-цитирования-org-cite"&gt;&lt;span class="section-num"&gt;10.2&lt;/span&gt; Формат цитирования org-cite&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="использование-языка-markdown-внутри-org"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Использование языка Markdown внутри Org&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;При экспорте Org преобразуется в стандартный Markdown. Однако в Hugo используются собственные нестандартные расширения (см.
).&lt;/li&gt;
&lt;li&gt;При необходимости их можно вставлять прямо в текст.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="соответствие-языков-разметки"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Соответствие языков разметки&lt;/h2&gt;
&lt;div class="table-caption"&gt;
&lt;span class="table-number"&gt;&amp;#1058;&amp;#1072;&amp;#1073;&amp;#1083;&amp;#1080;&amp;#1094;&amp;#1072; 1:&lt;/span&gt;
Соответствие разметок org и markdown
&lt;/div&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Org&lt;/th&gt;
&lt;th&gt;Markdown&lt;/th&gt;
&lt;th&gt;После рендеринга&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;*bold*&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;**bold**&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;bold&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;/italics/&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;_italics_&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;em&gt;italics&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;=monospace=&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;`monospace`&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;monospace&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;~key-binding~&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;`key-binding`&lt;/code&gt; &lt;sup id="fnref:1"&gt;&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;key-binding&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;~key-binding~&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;&amp;lt;kbd&amp;gt;key-binding&amp;lt;/kbd&amp;gt;&lt;/code&gt; &lt;sup id="fnref:2"&gt;&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;+strike-through+&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;~~strike-through~~&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;del&gt;strike-through&lt;/del&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_underline_&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;&amp;lt;span class = &amp;quot;underline&amp;quot;&amp;gt;underline&amp;lt;/span&amp;gt;&lt;/code&gt; &lt;sup id="fnref:3"&gt;&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref"&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/td&gt;
&lt;td&gt;&lt;span class="underline"&gt;underline&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="настройка-экспорта"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Настройка экспорта&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Экспорт производится в рамках общего фреймворка org-mode для экспорта (см.
).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="экспорт-специфических-элементов"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Экспорт специфических элементов&lt;/h3&gt;
&lt;h4 id="экспорт-операторов-hugo"&gt;&lt;span class="section-num"&gt;3.1.1&lt;/span&gt; Экспорт операторов Hugo&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Для экспорта конкретных элементов, необходимых только для Hugo, следует использовать блок &lt;code&gt;export&lt;/code&gt;. Например, оглавление задаётся следующим образом:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+begin_export &lt;/span&gt;&lt;span class="cs"&gt;hugo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;{{&amp;lt;/* toc */&amp;gt;}}
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+end_export&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Это позволяет задавать оглавление только для Hugo.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="отбивка-резюме--summary-splitter"&gt;&lt;span class="section-num"&gt;3.1.2&lt;/span&gt; Отбивка резюме (Summary Splitter)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Отбивка резюме задаётся конструкцией
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+hugo&lt;/span&gt;&lt;span class="c"&gt;: more&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="резюме-и-подробная-информация"&gt;&lt;span class="section-num"&gt;3.1.3&lt;/span&gt; Резюме и подробная информация&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Специальный блок «Детали» &lt;code&gt;#+begin_details … #+end_details&lt;/code&gt; используется для создания элемента, раскрывающего дополнительные сведения (&lt;code&gt;&amp;lt;details&amp;gt;&lt;/code&gt; и &lt;code&gt;&amp;lt;summary&amp;gt;&lt;/code&gt;).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+begin_details&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;#+begin_summary
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Краткая информация
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;#+end_summary
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;А здесь подробная информация.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+end_details&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Выглядить это так:&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;Краткая информация&lt;/summary&gt;
&lt;div class="details"&gt;
&lt;p&gt;А здесь подробная информация.&lt;/p&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Если блок &lt;code&gt;summary&lt;/code&gt; отсутствует, резюме будет заменено на некоторое значение по умолчанию. Так, блок&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+begin_details&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;А здесь подробная информация.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+end_details&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;будет иметь следующий вид:&lt;/p&gt;
&lt;details&gt;
&lt;div class="details"&gt;
&lt;p&gt;А здесь подробная информация.&lt;/p&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Можно показывать блок открытым по умолчанию. Для этого следует добавить атрибут HTML &lt;code&gt;#+attr_html: :open t&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+attr_html&lt;/span&gt;&lt;span class="c"&gt;: :open t&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+begin_details&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;#+begin_summary
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Краткая информация
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;#+end_summary
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;А здесь подробная информация.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+end_details&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;details open&gt;
&lt;summary&gt;Краткая информация&lt;/summary&gt;
&lt;div class="details"&gt;
&lt;p&gt;А здесь подробная информация.&lt;/p&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="свойства-экспорта"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Свойства экспорта&lt;/h3&gt;
&lt;h4 id="обязательные-свойства"&gt;&lt;span class="section-num"&gt;3.2.1&lt;/span&gt; Обязательные свойства&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Для экспорта необходимо установить следующие обязательные свойства:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;HUGO_SECTION&lt;/code&gt; - название раздела Hugo по умолчанию для всех сообщений. Обычно это свойство устанавливается для сообщений или блога. Значение по умолчанию устанавливается с помощью &lt;code&gt;org-hugo-default-section-directory&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;HUGO_BASE_DIR&lt;/code&gt; - корневой каталог сайта Hugo. Например, если &lt;code&gt;HUGO_BASE_DIR&lt;/code&gt; установлен на &lt;code&gt;~/hugo/&lt;/code&gt;, то экспортированные файлы Markdown будут сохранены в каталог &lt;code&gt;~/hugo/content/&amp;lt;HUGO_SECTION&amp;gt;/&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Данные свойства можно устанавливать как на уровне файла, так и на уровне каталога или проекта.&lt;/li&gt;
&lt;li&gt;Переменные на уровне каталога задаются в файле &lt;code&gt;.dir-locals.el&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-elisp" data-lang="elisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;org-mode&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;org-hugo-base-dir&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;~/work/blog/git&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;org-hugo-section&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;ru/post&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;))))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="формат-заголовка"&gt;&lt;span class="section-num"&gt;3.2.2&lt;/span&gt; Формат заголовка&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Поддерживаются форматы заголовка TOML (по умолчанию) и YAML.&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Экспорт для всего файла&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+hugo_front_matter_format&lt;/span&gt;&lt;span class="c"&gt;: yaml&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;Экспорт для поддерева&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;:PROPERTIES:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;&lt;/span&gt;&lt;span class="cs"&gt;:EXPORT_HUGO_FRONT_MATTER_FORMAT: yaml
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;&lt;/span&gt;&lt;span class="c"&gt;:END:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="свойства-экспорта-для-заголовка-hugo"&gt;&lt;span class="section-num"&gt;3.2.3&lt;/span&gt; Свойства экспорта для заголовка Hugo&lt;/h4&gt;
&lt;p&gt;&lt;a id="table--hugo-export-properties-front-matter"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;div class="table-caption"&gt;
&lt;span class="table-number"&gt;&lt;a href="#table--hugo-export-properties-front-matter"&gt;&amp;#1058;&amp;#1072;&amp;#1073;&amp;#1083;&amp;#1080;&amp;#1094;&amp;#1072; 2&lt;/a&gt;:&lt;/span&gt;
Сводная таблица свойств экспорта для заголовка Hugo
&lt;/div&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Hugo front-matter (TOML)&lt;/th&gt;
&lt;th&gt;Уровень файла&lt;/th&gt;
&lt;th&gt;Уровень поддерева&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;title = &amp;quot;foo&amp;quot;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;#+title: foo&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;* foo&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;date = 2017-09-11T14:32:00-04:00&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;CLOSED: [2017-09-11 Mon 14:32]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;date = 2017-07-24&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;#+date: 2017-07-24&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:EXPORT_DATE: 2017-07-24&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;publishDate = 2018-01-26&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;#+hugo_publishdate: 2018-01-26&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;SCHEDULED: &amp;lt;2018-01-26 Fri&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;publishDate = 2018-01-26&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:EXPORT_HUGO_PUBLISHDATE: 2018-01-26:&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;expiryDate = 2999-01-01&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;#+hugo_expirydate: 2999-01-01&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;DEADLINE: &amp;lt;2999-01-01 Tue&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;expiryDate = 2999-01-01&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:EXPORT_HUGO_EXPIRYDATE: 2999-01-01:&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;lastmod = &amp;lt;current date&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;#+hugo_auto_set_lastmod: t&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:EXPORT_HUGO_AUTO_SET_LASTMOD: t&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;lastmod = &amp;lt;current date&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;#+hugo_auto_set_lastmod: t&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;tags = [&amp;quot;toto&amp;quot;, &amp;quot;zulu&amp;quot;]&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;#+hugo_tags: toto zulu&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;* foo :toto:zulu:&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;categories = [&amp;quot;x&amp;quot;, &amp;quot;y&amp;quot;]&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;#+hugo_categories: x y&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;* foo :@x:@y:&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;draft = true&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;#+hugo_draft: true&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;* TODO foo&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;draft = false&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;#+hugo_draft: false&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;* foo&lt;/code&gt; или &lt;code&gt;* DONE foo&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;weight = 123&lt;/code&gt; (manual)&lt;/td&gt;
&lt;td&gt;&lt;code&gt;#+hugo_weight: 123&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:EXPORT_HUGO_WEIGHT: 123&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;weight = 123&lt;/code&gt; (auto-calc)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:EXPORT_HUGO_WEIGHT: auto&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;tags_weight = 123&lt;/code&gt; (manual)&lt;/td&gt;
&lt;td&gt;&lt;code&gt;#+hugo_weight: :tags 123&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:EXPORT_HUGO_WEIGHT: :tags 123&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;tags_weight = 123&lt;/code&gt; (auto-calc)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:EXPORT_HUGO_WEIGHT: :tags auto&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;weight = 123&lt;/code&gt; (in [menu.foo])&lt;/td&gt;
&lt;td&gt;&lt;code&gt;#+hugo_menu: :menu foo :weight 123&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:EXPORT_HUGO_MENU: :menu foo&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;categories_weight = 123&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;#+hugo_weight: :categories 123&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id="особенности-экспорта"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Особенности экспорта&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="сочетания-клавиш"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Сочетания клавиш&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Экспорт осуществляется через стандартный интерфейс экспорта в org-mode.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="для-режимов-один-пост-на-файл-и-один-пост-на-поддерево"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Для режимов &lt;em&gt;один пост на файл&lt;/em&gt; и &lt;em&gt;один пост на поддерево&lt;/em&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;C-c C-e H H&lt;/code&gt; Экспорт «Что я имею в виду».
&lt;ul&gt;
&lt;li&gt;Если курсор находится в допустимом поддереве сообщения Hugo,
экспортирует это поддерево в сообщение Hugo в Markdown. Допустимое
поддерево сообщений Hugo - это поддерево, для которого установлено
свойство &lt;code&gt;EXPORT_FILE_NAME&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Если файл предназначен для экспорта целиком (т.е. имеет ключевое
слово &lt;code&gt;#+title&lt;/code&gt;), экспортирует весь файл Org в сообщение Hugo в
Markdown.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;C-c C-e H A&lt;/code&gt; Экспорт всего «Что я имею в виду».
&lt;ul&gt;
&lt;li&gt;Если в org-файле есть одно или несколько действительных
поддеревьев сообщений Hugo, экспортирует их в сообщения Hugo в
Markdown.&lt;/li&gt;
&lt;li&gt;Если файл предназначен для экспорта целиком (т. е. вообще нет
действительных поддеревьев сообщений Hugo и есть ключевое слово
&lt;code&gt;#+title&lt;/code&gt;), экспортирует весь org-файл в сообщение Hugo в
Markdown.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="для-режима-один-пост-на-файл"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Для режима &lt;em&gt;один пост на файл&lt;/em&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;C-c C-e H h&lt;/code&gt; Экспорт файла Org в сообщение Hugo в Markdown.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="теги-и-категории"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Теги и категории&lt;/h2&gt;
&lt;h3 id="экспорт-уровня-файла"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; Экспорт уровня файла&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Список тегов:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;#+hugo_tags
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Список категорий:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;#+hugo_categories
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="экспорт-уровня-поддерева"&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; Экспорт уровня поддерева&lt;/h3&gt;
&lt;h4 id="теги"&gt;&lt;span class="section-num"&gt;5.2.1&lt;/span&gt; Теги&lt;/h4&gt;
&lt;p&gt;Экспортируемые теги Hugo задаются как теги org-mode:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="gh"&gt;*&lt;/span&gt;&lt;span class="gs"&gt; My post &lt;/span&gt;&lt;span class="ge"&gt; :tag1:tag2:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id="категории"&gt;&lt;span class="section-num"&gt;5.2.2&lt;/span&gt; Категории&lt;/h4&gt;
&lt;p&gt;Экспортируемые категорий Hugo задаются как теги org-mode, для которых установлен префикс @:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="gh"&gt;*&lt;/span&gt;&lt;span class="gs"&gt; My post &lt;/span&gt;&lt;span class="ge"&gt; :@cat1:@cat2:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id="использование-filetags"&gt;&lt;span class="section-num"&gt;5.2.3&lt;/span&gt; Использование filetags&lt;/h4&gt;
&lt;p&gt;Для экспорта на уровне поддерева можно использовать оператор&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;#+filetags
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Например:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+filetags&lt;/span&gt;&lt;span class="c"&gt;: :@cat1:tag1:tag2:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="дефисы-и-пробелы-в-тегах"&gt;&lt;span class="section-num"&gt;5.3&lt;/span&gt; Дефисы и пробелы в тегах&lt;/h3&gt;
&lt;p&gt;В тегах org-mode нельзя использовать дефисы и пробелы.
Конвертер использует следующие настройки:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;одиночное подчёркивание переводится в дефис (конфигурационная переменная &lt;code&gt;org-hugo-prefer-hyphen-in-tags&lt;/code&gt;);&lt;/li&gt;
&lt;li&gt;двойное подчёркивание переводится в пробел (конфигурационная переменная &lt;code&gt;org-hugo-allow-spaces-in-tags&lt;/code&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="дополнительные-поля"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Дополнительные поля&lt;/h2&gt;
&lt;p&gt;Нестандартные дополнительные поля в основном используются для
установки пользовательских параметров оформления.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Чтобы установить настраиваемый параметр предварительной записи в поддереве, используется свойство &lt;code&gt;:EXPORT_HUGO_CUSTOM_FRONT_MATTER:&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Чтобы задать настраиваемый параметр внешнего вида глобально или для потока экспорта для каждого файла, используется ключевое слово
&lt;code&gt;#+HUGO_CUSTOM_FRONT_MATTER:&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="синтаксис"&gt;&lt;span class="section-num"&gt;6.1&lt;/span&gt; Синтаксис&lt;/h3&gt;
&lt;h4 id="пары-ключ-значение"&gt;&lt;span class="section-num"&gt;6.1.1&lt;/span&gt; Пары ключ-значение&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Можно записывать в одном поле:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;:PROPERTIES:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;&lt;/span&gt;&lt;span class="cs"&gt;:EXPORT_HUGO_CUSTOM_FRONT_MATTER: :key1 value1 :key2 value2
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;&lt;/span&gt;&lt;span class="c"&gt;:END:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Можно разбить на несколько полей:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;:PROPERTIES:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;&lt;/span&gt;&lt;span class="cs"&gt;:EXPORT_HUGO_CUSTOM_FRONT_MATTER: :key1 value1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;:EXPORT_HUGO_CUSTOM_FRONT_MATTER+: :key2 value2
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;&lt;/span&gt;&lt;span class="c"&gt;:END:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;На уровне файла посредством ключевого слова:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+hugo_custom_front_matter&lt;/span&gt;&lt;span class="c"&gt;: :key1 value1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+hugo_custom_front_matter&lt;/span&gt;&lt;span class="c"&gt;: :key2 value2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Например, запись
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;:PROPERTIES:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;&lt;/span&gt;&lt;span class="cs"&gt;:EXPORT_HUGO_CUSTOM_FRONT_MATTER: :feature true
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;&lt;/span&gt;&lt;span class="c"&gt;:END:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;примет вид (для TOML)
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-toml" data-lang="toml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;feature&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="списочные-значения"&gt;&lt;span class="section-num"&gt;6.1.2&lt;/span&gt; Списочные значения&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Запись имеет следующий вид:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;:PROPERTIES:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;&lt;/span&gt;&lt;span class="cs"&gt;:EXPORT_HUGO_CUSTOM_FRONT_MATTER: :key1 &amp;#39;(elem11 elem12) :key2 &amp;#39;(elem21 elem22)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;&lt;/span&gt;&lt;span class="c"&gt;:END:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Например, запись
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;:PROPERTIES:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;&lt;/span&gt;&lt;span class="cs"&gt;:EXPORT_HUGO_CUSTOM_FRONT_MATTER: :animals &amp;#39;(dog cat &amp;#34;penguin&amp;#34; &amp;#34;mountain gorilla&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;:EXPORT_HUGO_CUSTOM_FRONT_MATTER+: :integers &amp;#39;(123 -5 17 1_234)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;:EXPORT_HUGO_CUSTOM_FRONT_MATTER+: :floats &amp;#39;(12.3 -5.0 -17E-6)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;:EXPORT_HUGO_CUSTOM_FRONT_MATTER+: :booleans &amp;#39;(true false)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;&lt;/span&gt;&lt;span class="c"&gt;:END:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;примет вид (для TOML)
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-toml" data-lang="toml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;animals&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;dog&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;cat&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;penguin&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;mountain gorilla&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;integers&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;123&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;-5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;17&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1_234&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;floats&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;12.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;-5.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;-1.7&lt;/span&gt;&lt;span class="nx"&gt;e-05&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;booleans&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="многоуровневые-значения"&gt;&lt;span class="section-num"&gt;6.1.3&lt;/span&gt; Многоуровневые значения&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Запись имеет следующий вид:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;:PROPERTIES:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;&lt;/span&gt;&lt;span class="cs"&gt;:EXPORT_HUGO_CUSTOM_FRONT_MATTER: :key1 &amp;#39;((subkey11 . subval11) (subkey12 . (subelem121 subelem122))) :key2 &amp;#39;((subkey21 . subval21))
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;&lt;/span&gt;&lt;span class="c"&gt;:END:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Например, запись
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;:PROPERTIES:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;&lt;/span&gt;&lt;span class="cs"&gt;:EXPORT_HUGO_CUSTOM_FRONT_MATTER: :versions &amp;#39;((emacs . &amp;#34;27.0.50&amp;#34;) (hugo . &amp;#34;0.48&amp;#34;))
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;:EXPORT_HUGO_CUSTOM_FRONT_MATTER+: :header &amp;#39;((image . &amp;#34;projects/Readingabook.jpg&amp;#34;) (caption . &amp;#34;stay hungry, stay foolish&amp;#34;))
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;:EXPORT_HUGO_CUSTOM_FRONT_MATTER+: :collection &amp;#39;((animals . (dog cat &amp;#34;penguin&amp;#34; &amp;#34;mountain gorilla&amp;#34;)) (integers . (123 -5 17 1_234)) (floats . (12.3 -5.0 -17E-6)) (booleans . (true false)))
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;&lt;/span&gt;&lt;span class="c"&gt;:END:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;примет вид (для TOML)
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-toml" data-lang="toml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;versions&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;emacs&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;27.0.50&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;hugo&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;0.48&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;header&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;image&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;projects/Readingabook.jpg&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;caption&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;stay hungry, stay foolish&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;collection&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;animals&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;dog&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;cat&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;penguin&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;mountain gorilla&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;integers&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;123&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;-5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;17&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1_234&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;floats&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;12.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;-5.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;-1.7&lt;/span&gt;&lt;span class="nx"&gt;e-05&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;booleans&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="прямая-вставка-преамбул"&gt;&lt;span class="section-num"&gt;6.1.4&lt;/span&gt; Прямая вставка преамбул&lt;/h4&gt;
&lt;p&gt;Можно описать преамбулу непосредственно (если невозможно сгенерить средствами экспорта).
Для этого используется аргумент заголовка блока кода &lt;code&gt;:front_matter_extra t&lt;/code&gt;.&lt;/p&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Преамбула &lt;em&gt;TOML&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;По умолчанию используется преамбула в формате TOML, поэтому нет необходимости устанавливать ключевое слово &lt;code&gt;:EXPORT_HUGO_FRONT_MATTER_FORMAT: toml&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="gh"&gt;*&lt;/span&gt;&lt;span class="gs"&gt; Post with TOML front-matter (default)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;:PROPERTIES:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;&lt;/span&gt;&lt;span class="cs"&gt;:EXPORT_FILE_NAME: extra-front-matter-toml
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;&lt;/span&gt;&lt;span class="c"&gt;:END:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;The contents of the &lt;span class="nc"&gt;~#+begin_src toml :front_matter_extra t~&lt;/span&gt; TOML
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;block here will get appended to the TOML front-matter.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+begin_src &lt;/span&gt;&lt;span class="cs"&gt;toml&lt;/span&gt;&lt;span class="c"&gt; :front_matter_extra t
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="nx"&gt;foo&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;bar&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;zoo&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;abc&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="nx"&gt;foo&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;bar&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;zoo&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;def&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+end_src&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;Преамбула &lt;em&gt;YAML&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="gh"&gt;*&lt;/span&gt;&lt;span class="gs"&gt; Post with YAML front-matter&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;:PROPERTIES:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;&lt;/span&gt;&lt;span class="cs"&gt;:EXPORT_FILE_NAME: extra-front-matter-yaml
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;:EXPORT_HUGO_FRONT_MATTER_FORMAT: yaml
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;&lt;/span&gt;&lt;span class="c"&gt;:END:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;The contents of the &lt;span class="nc"&gt;~#+begin_src yaml :front_matter_extra t~&lt;/span&gt; YAML
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;block here will get appended to the YAML front-matter.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+begin_src &lt;/span&gt;&lt;span class="cs"&gt;yaml&lt;/span&gt;&lt;span class="c"&gt; :front_matter_extra t
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;&lt;/span&gt;&lt;span class="nt"&gt;foo&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;- &lt;span class="nt"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;zoo&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;abc&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;- &lt;span class="nt"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;zoo&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;def&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="c"&gt;#+end_src&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="экспорт-элементов"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Экспорт элементов&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;При экспорте элементов для &lt;em&gt;Hugo&lt;/em&gt; используется блок
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+begin_export &lt;/span&gt;&lt;span class="cs"&gt;hugo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Текст для Hugo
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+end_export&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Возникла коллизия, когда из единого источника необходимо было вывести информацию и в &lt;em&gt;Hugo&lt;/em&gt;, и в &lt;em&gt;Markdown&lt;/em&gt;. При экспорте посредством блока
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+begin_export &lt;/span&gt;&lt;span class="cs"&gt;markdown&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Текст для Markdown
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+end_export&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;этот текст появлялся и в файле для &lt;em&gt;Hugo&lt;/em&gt;. Для обхода этой ситуации я стал задавать блок для &lt;em&gt;Markdown&lt;/em&gt; в следующем виде:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+begin_src &lt;/span&gt;&lt;span class="cs"&gt;markdown&lt;/span&gt;&lt;span class="c"&gt; :exports (if (eq org-export-current-backend &amp;#39;md) &amp;#34;&amp;#34; &amp;#34;none&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;&lt;/span&gt;Текст для Markdown
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#+end_src&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="пакет-страниц--page-bundle"&gt;&lt;span class="section-num"&gt;8&lt;/span&gt; Пакет страниц (page bundle)&lt;/h2&gt;
&lt;h3 id="общая-информация"&gt;&lt;span class="section-num"&gt;8.1&lt;/span&gt; Общая информация&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для экспорта в пакет (папку) страниц нужно установить для свойства &lt;code&gt;:EXPORT_HUGO_BUNDLE: (или =#+HUGO_BUNDLE&lt;/code&gt;) имя каталога в качестве значения.&lt;/li&gt;
&lt;li&gt;Значение &lt;code&gt;:EXPORT_FILE_NAME:&lt;/code&gt; или &lt;code&gt;#+EXPORT_FILE_NAME&lt;/code&gt; устанавливается в зависимости от вида пакетов страниц.&lt;/li&gt;
&lt;li&gt;Пакеты страниц (
) бывают двух видов:
&lt;ul&gt;
&lt;li&gt;пакет-страница (Leaf Bundle)
&lt;ul&gt;
&lt;li&gt;нет подстраниц,&lt;/li&gt;
&lt;li&gt;контент и вложения для отдельных страниц,&lt;/li&gt;
&lt;li&gt;индексный файл: &lt;code&gt;index.md&lt;/code&gt;,&lt;/li&gt;
&lt;li&gt;пример: &lt;code&gt;content/posts/my-post/index.md&lt;/code&gt;,&lt;/li&gt;
&lt;li&gt;&lt;code&gt;:EXPORT_FILE_NAME: index&lt;/code&gt;,&lt;/li&gt;
&lt;li&gt;&lt;code&gt;#+EXPORT_FILE_NAME: index&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;пакет веток (Branch Bundle)
&lt;ul&gt;
&lt;li&gt;содержит подстраницы,&lt;/li&gt;
&lt;li&gt;контент и вложения для страниц раздела (домашняя страница, раздел, термины таксономии, список таксономии),&lt;/li&gt;
&lt;li&gt;индексный файл: &lt;code&gt;_index.md&lt;/code&gt;,&lt;/li&gt;
&lt;li&gt;пример: &lt;code&gt;content/posts/_index.md&lt;/code&gt;,&lt;/li&gt;
&lt;li&gt;&lt;code&gt;:EXPORT_FILE_NAME: _index&lt;/code&gt;,&lt;/li&gt;
&lt;li&gt;&lt;code&gt;#+EXPORT_FILE_NAME: _index&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Пример пакет-страницы (Leaf Bundle):
&lt;ul&gt;
&lt;li&gt;экспорт в &lt;code&gt;content/xyz/index.md&lt;/code&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;​* Page title
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;:PROPERTIES:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;&lt;/span&gt;&lt;span class="cs"&gt;:EXPORT_HUGO_BUNDLE: xyz
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;:EXPORT_FILE_NAME: index
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;&lt;/span&gt;&lt;span class="c"&gt;:END:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Content
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Пример пакета веток (Branch Bundle)
&lt;ul&gt;
&lt;li&gt;экспорт в &lt;code&gt;content/uvw/_index.md&lt;/code&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;​* Page title
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;:PROPERTIES:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;&lt;/span&gt;&lt;span class="cs"&gt;:EXPORT_HUGO_BUNDLE: uvw
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;:EXPORT_FILE_NAME: _index
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;&lt;/span&gt;&lt;span class="c"&gt;:END:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Content
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="читаемые-курсы"&gt;&lt;span class="section-num"&gt;8.2&lt;/span&gt; Читаемые курсы&lt;/h3&gt;
&lt;p&gt;Чтобы сделать список и содержание читаемых курсов (или какой-либо документации).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Пусть курс называется &lt;code&gt;mathsec&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Свойства для экспорта:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;:PROPERTIES:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;&lt;/span&gt;&lt;span class="cs"&gt;:EXPORT_HUGO_SECTION: ru/course
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;:EXPORT_HUGO_BUNDLE: mathsec
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;:EXPORT_FILE_NAME: _index
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;&lt;/span&gt;&lt;span class="c"&gt;:END:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="автоматический-экспорт-при-сохранении"&gt;&lt;span class="section-num"&gt;9&lt;/span&gt; Автоматический экспорт при сохранении&lt;/h2&gt;
&lt;h3 id="установка-на-уровне-каталога"&gt;&lt;span class="section-num"&gt;9.1&lt;/span&gt; Установка на уровне каталога&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Установка делается в файле &lt;code&gt;.dir-locals.el&lt;/code&gt; в текущем каталоге:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-elisp" data-lang="elisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;org-mode&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nf"&gt;eval&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;org-hugo-auto-export-mode&lt;/span&gt;&lt;span class="p"&gt;)))))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Конфигурация применяется ко всем org-файлам в каталоге.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="установка-на-уровне-проекта"&gt;&lt;span class="section-num"&gt;9.2&lt;/span&gt; Установка на уровне проекта&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Если org-файлы находятся в некотором каталоге, например в &lt;code&gt;content-org&lt;/code&gt;, то в файле &lt;code&gt;.dir-locals.el&lt;/code&gt; задаётся конфигурация для этого каталога:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-elisp" data-lang="elisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;content-org/&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;org-mode&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nf"&gt;eval&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;org-hugo-auto-export-mode&lt;/span&gt;&lt;span class="p"&gt;)))))))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="установка-для-конкретного-файла"&gt;&lt;span class="section-num"&gt;9.3&lt;/span&gt; Установка для конкретного файла&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для каждого файла можно задать локальные переменные:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;​* COMMENT Local Variables :ARCHIVE:
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;# Local Variables:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;# eval: (org-hugo-auto-export-mode)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;# End:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Рекомендуется добавить заголовок &lt;code&gt;Footnotes&lt;/code&gt; перед заголовком &lt;code&gt;Local Variables&lt;/code&gt;, чтобы в случае добавления каких-либо сносок они добавлялись в данный раздел.&lt;/li&gt;
&lt;li&gt;В противном случае будет автоматически создан новый заголовок &lt;code&gt;Footnotes&lt;/code&gt; в конце файла, и заголовок &lt;code&gt;Local Variables&lt;/code&gt; больше не будет последним и не будет обрабатываться.&lt;/li&gt;
&lt;li&gt;Перечитать локальные переменные можно командой:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-elisp" data-lang="elisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;M-x&lt;/span&gt; &lt;span class="nv"&gt;normal-mode&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="запрет-авто-сохранения-для-конкретного-файла"&gt;&lt;span class="section-num"&gt;9.4&lt;/span&gt; Запрет авто сохранения для конкретного файла&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для каждого файла можно задать локальные переменные для запрета экспорта:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;​* COMMENT Local Variables :ARCHIVE:
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;# Local Variables:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;# eval: (org-hugo-auto-export-mode -1)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;# End:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="цитирование"&gt;&lt;span class="section-num"&gt;10&lt;/span&gt; Цитирование&lt;/h2&gt;
&lt;h3 id="формат-цитирования-pandoc"&gt;&lt;span class="section-num"&gt;10.1&lt;/span&gt; Формат цитирования pandoc&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Исторический формат цитирования.&lt;/li&gt;
&lt;li&gt;Рекомендуется перейти на формат цитирования org-cite.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="формат-цитирования-org-cite"&gt;&lt;span class="section-num"&gt;10.2&lt;/span&gt; Формат цитирования org-cite&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Цитирование основано на org-cite (см.
).&lt;/li&gt;
&lt;li&gt;Рекомендуется использовать процессор экспорта &lt;em&gt;csl&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;При задании ключевого слова &lt;code&gt;#+print_bibliography:&lt;/code&gt; по умолчанию создаётся секция &lt;code&gt;References.&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Можно задать другое название для этой секции:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;with-eval-after-load&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;ox-hugo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;plist-put&lt;/span&gt; &lt;span class="nv"&gt;org-hugo-citations-plist&lt;/span&gt; &lt;span class="nb"&gt;:bibliography-section-heading&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;Bibliography&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Если для этого свойства задана пустая строка, этот заголовок не будет вставлен автоматически &lt;sup id="fnref:4"&gt;&lt;a href="#fn:4" class="footnote-ref" role="doc-noteref"&gt;4&lt;/a&gt;&lt;/sup&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-emacs-lisp" data-lang="emacs-lisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;with-eval-after-load&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;ox-hugo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;plist-put&lt;/span&gt; &lt;span class="nv"&gt;org-hugo-citations-plist&lt;/span&gt; &lt;span class="nb"&gt;:bibliography-section-heading&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Если &lt;code&gt;org-hugo-use-code-for-kbd&lt;/code&gt; равно &lt;code&gt;nil&lt;/code&gt; (по умолчанию).&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;Если &lt;code&gt;org-hugo-use-code-for-kbd&lt;/code&gt; не равно &lt;code&gt;nil&lt;/code&gt;. Требует настроек &lt;em&gt;CSS&lt;/em&gt; для интерпретации тега &lt;code&gt;&amp;lt;kbd&amp;gt;&lt;/code&gt;.&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:3"&gt;
&lt;p&gt;Требует настроек &lt;em&gt;CSS&lt;/em&gt; для интерпретации тега &lt;code&gt;&amp;lt;underline&amp;gt;&lt;/code&gt;.&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:4"&gt;
&lt;p&gt;Так должно быть, но не работает. Вообще литература не печатается.&amp;#160;&lt;a href="#fnref:4" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</description></item><item><title>Org-mode. Презентации</title><link>http://localhost:1313/ru/post/2020/12/14/org-mode-prezentation/</link><pubDate>Mon, 14 Dec 2020 10:49:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2020/12/14/org-mode-prezentation/</guid><description>&lt;p&gt;Создание презентаций в org-mode Emacs.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Org-mode. Экспорт в LaTeX</title><link>http://localhost:1313/ru/post/2020/12/14/org-mode-export-latex/</link><pubDate>Mon, 14 Dec 2020 10:35:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2020/12/14/org-mode-export-latex/</guid><description>&lt;p&gt;Экспорт из org-mode в LaTeX.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#параметры-экспорта"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Параметры экспорта&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#значения-параметров-экспорта"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Значения параметров экспорта&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#соответствие-параметров-экспорта-для-файла-и-поддерева"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Соответствие параметров экспорта для файла и поддерева&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#специальные-варианты-экспорта"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Специальные варианты экспорта&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#экспорт-фрагментов-математики"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Экспорт фрагментов математики&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#экспорт-в-формате-mathml"&gt;&lt;span class="section-num"&gt;2.1.1&lt;/span&gt; Экспорт в формате MathML&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#экспорт-в-виде-рисунка"&gt;&lt;span class="section-num"&gt;2.1.2&lt;/span&gt; Экспорт в виде рисунка&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;p&gt;Общие настройки экспорта из org-mode описаны в
.&lt;/p&gt;
&lt;h2 id="параметры-экспорта"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Параметры экспорта&lt;/h2&gt;
&lt;h3 id="значения-параметров-экспорта"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Значения параметров экспорта&lt;/h3&gt;
&lt;h3 id="соответствие-параметров-экспорта-для-файла-и-поддерева"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Соответствие параметров экспорта для файла и поддерева&lt;/h3&gt;
&lt;p&gt;&lt;a id="table--Опции экспорта для файла и поддерева"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Опции экспорта файла&lt;/th&gt;
&lt;th&gt;Опции экспорта поддерева&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;LaTeX_CLASS&lt;/td&gt;
&lt;td&gt;EXPORT_LaTeX_CLASS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;LaTeX_CLASS_OPTIONS&lt;/td&gt;
&lt;td&gt;EXPORT_LaTeX_CLASS_OPTIONS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;LaTeX_HEADER&lt;/td&gt;
&lt;td&gt;EXPORT_LaTeX_HEADER&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="специальные-варианты-экспорта"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Специальные варианты экспорта&lt;/h2&gt;
&lt;h3 id="экспорт-фрагментов-математики"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Экспорт фрагментов математики&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Применяется для экспорта в формат &lt;code&gt;odt&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Можно экспортировать в формат MathML или в виде рисунка&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="экспорт-в-формате-mathml"&gt;&lt;span class="section-num"&gt;2.1.1&lt;/span&gt; Экспорт в формате MathML&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;В файле задаётся опция:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+OPTIONS&lt;/span&gt;&lt;span class="c"&gt;: tex:t&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Можно установить переменную emacs &lt;code&gt;org-export-with-latex&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-elisp" data-lang="elisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-export-with-latex&lt;/span&gt; &lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Устанавливается программа конвертации. Предлагается установить LaTeXML
.&lt;/li&gt;
&lt;li&gt;В Gentoo &lt;em&gt;ebuild&lt;/em&gt; находится в оверлее &lt;em&gt;flammie&lt;/em&gt;.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge dev-tex/LaTeXML
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;В конфигурационном файле задаётся переменная &lt;code&gt;org-latex-to-mathml-convert-command&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-elisp" data-lang="elisp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-latex-to-mathml-convert-command&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s"&gt;&amp;#34;latexmlmath \&amp;#34;%i\&amp;#34; --presentationmathml=%o&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="экспорт-в-виде-рисунка"&gt;&lt;span class="section-num"&gt;2.1.2&lt;/span&gt; Экспорт в виде рисунка&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;В файле устанавливаются опции:
&lt;ul&gt;
&lt;li&gt;экспорт в &lt;code&gt;png&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+OPTIONS&lt;/span&gt;&lt;span class="c"&gt;: tex:dvipng&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;экспорт в &lt;code&gt;svg&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+OPTIONS&lt;/span&gt;&lt;span class="c"&gt;: tex:dvisvgm&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;экспорт в &lt;code&gt;png&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-org" data-lang="org"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cs"&gt;#+OPTIONS&lt;/span&gt;&lt;span class="c"&gt;: tex:imagemagick&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Для генерации изображения запускается соответствующая программа.&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Org-mode. Экспорт</title><link>http://localhost:1313/ru/post/2020/12/10/org-mode-export/</link><pubDate>Thu, 10 Dec 2020 15:06:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2020/12/10/org-mode-export/</guid><description>&lt;p&gt;Экспорт из org-mode Emacs. Общие настройки.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#варианты-экспорта"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Варианты экспорта&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#параметры-экспорта"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Параметры экспорта&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#значения-параметров-экспорта"&gt;&lt;span class="section-num"&gt;1.1.1&lt;/span&gt; Значения параметров экспорта&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#соответствие-параметров-экспорта-для-файла-и-поддерева"&gt;&lt;span class="section-num"&gt;1.1.2&lt;/span&gt; Соответствие параметров экспорта для файла и поддерева&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#фильтры-экспорта"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Фильтры экспорта&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="варианты-экспорта"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Варианты экспорта&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Из Emacs можно экспортировать как весь буфер, так и конкретное поддерево.
&lt;ul&gt;
&lt;li&gt;Переходим в режим экспорта &lt;code&gt;C-c C-e&lt;/code&gt; (&lt;code&gt;M-x org-export-dispatch&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Изменяем режим экспорта (буфер или поддерево) &lt;code&gt;C-s&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Выполняем экспорт в конкретный формат.&lt;/li&gt;
&lt;li&gt;Название экспортируемого поддерева становится названием документа. Сменить его можно с помощью параметра &lt;code&gt;EXPORT_TITLE&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="параметры-экспорта"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Параметры экспорта&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Документация:
.&lt;/li&gt;
&lt;li&gt;Для буфера параметры экспорта настраиваются в области заголовка, для поддерева &amp;mdash; в блоке &lt;code&gt;:PROPERTIES:&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Для ввода пар параметр&amp;ndash;значение можно использовать комбинацию &lt;code&gt;C-c C-x p&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Параметры, установленные на конкретном уровне, переопределяют параметры, установленные на более общем уровне.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="значения-параметров-экспорта"&gt;&lt;span class="section-num"&gt;1.1.1&lt;/span&gt; Значения параметров экспорта&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;AUTHOR&lt;/code&gt; &amp;mdash; автор (user-full-name),&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;CREATOR&lt;/code&gt; &amp;mdash; программа, создавшая выходной файл &lt;code&gt;(org-export-creator-string)&lt;/code&gt;,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;DATE&lt;/code&gt; &amp;mdash; дата или временная метка &lt;code&gt;(time-stamp)&lt;/code&gt;,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;EMAIL&lt;/code&gt; &amp;mdash; адрес email &lt;code&gt;(user-mail-address)&lt;/code&gt;,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;LANGUAGE&lt;/code&gt; &amp;mdash; язык документа &lt;code&gt;(org-export-default-language)&lt;/code&gt;,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;SELECT_TAGS&lt;/code&gt; &amp;mdash; значение по умолчанию &lt;code&gt;export&lt;/code&gt; &lt;code&gt;(org-export-select-tags)&lt;/code&gt;. Метку можно поставить с помощью комбинации &lt;code&gt;C=c C-q&lt;/code&gt;. Помеченные поддеревья экспортируются.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;EXCLUDE_TAGS&lt;/code&gt; &amp;mdash; значение по умолчанию &lt;code&gt;noexport&lt;/code&gt; &lt;code&gt;(org-export-exclude-tags)&lt;/code&gt;. При экспортировании помеченные поддеревья игнорируются.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;TITLE&lt;/code&gt; &amp;mdash; название. Для длинных названий можно использовать несколько строк с этим названием.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;EXPORT_FILE_NAME&lt;/code&gt; &amp;mdash; явное указание имени файла при экспорте.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;OPTIONS&lt;/code&gt; &amp;mdash; дополнительные опции:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;'&lt;/code&gt; &amp;mdash; переключатель для умных кавычек &lt;code&gt;(org-export-with-smart-quotes)&lt;/code&gt;. Ставит правильные кавычки в зависимости от языка.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;*&lt;/code&gt; &amp;mdash; переключатель для текстовых выделений &lt;code&gt;(org-export-with-emphasize)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-&lt;/code&gt; &amp;mdash; переключатель для преобразования специальных строк &lt;code&gt;(org-export-with-special-strings)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;:&lt;/code&gt; &amp;mdash; переключатель для экспорта с фиксированной шириной &lt;code&gt;(org-export-with-fixed-width)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;&lt;/code&gt; &amp;mdash; переключатель для включения временной метки &lt;code&gt;(org-export-with-timestamps)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\n&lt;/code&gt; &amp;mdash; переключатель для сохранения переноса строк &lt;code&gt;(org-export-preserve-breaks)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;^&lt;/code&gt; &amp;mdash; переключатель для теховских верхних и нижних индексов &lt;code&gt;(org-export-with-sub-superscripts)&lt;/code&gt;.
&lt;ul&gt;
&lt;li&gt;Например, при задании как &lt;code&gt;^:{}&lt;/code&gt; &lt;code&gt;a_{b}&lt;/code&gt; преобразуется (например, a&lt;sub&gt;b&lt;/sub&gt;), а &lt;code&gt;a_b&lt;/code&gt; &amp;mdash; нет (например, a_b).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;arch&lt;/code&gt; &amp;mdash; описывает обработку архивных деревьев &lt;code&gt;(org-export-with-archived-trees)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;author&lt;/code&gt; &amp;mdash; переключатель для включения автора в экспортируемый файл &lt;code&gt;(org-export-with-author)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;broken-links&lt;/code&gt; &amp;mdash; переключатель поведения при обнаружении битых ссылок &lt;code&gt;(org-export-with-broken-links)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;c&lt;/code&gt; &amp;mdash; переключатель включения ключевого слова &lt;code&gt;CLOCK&lt;/code&gt; &lt;code&gt;(org-export-with-clocks)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;creator&lt;/code&gt; &amp;mdash; переключатель включения информации о программе-создателе &lt;code&gt;(org-export-with-creator)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;d&lt;/code&gt; &amp;mdash; переключатель включения блоков, или список блоков для включения или исключения &lt;code&gt;(org-export-with-drawers)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;date&lt;/code&gt; &amp;mdash; переключатель включения даты в экспортируемый файл &lt;code&gt;(org-export-with-date)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;e&lt;/code&gt; &amp;mdash; переключатель включения сущностей &lt;code&gt;(org-export-with-entities)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;email&lt;/code&gt; &amp;mdash; переключатель включения e-mail в экспортируемый файл &lt;code&gt;(org-export-with-email)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;f&lt;/code&gt; &amp;mdash; переключатель включения сносок &lt;code&gt;(org-export-with-footnotes)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;H&lt;/code&gt; &amp;mdash; задаёт максимальный уровень заголовков для включения в
экспортируемый файл &lt;code&gt;(org-export-headline-levels)&lt;/code&gt;. При превышении
заголовки обычно превращаются в списки.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;inline&lt;/code&gt; &amp;mdash; переключатель включения строчных задач (inlinetasks) &lt;code&gt;(org-export-with-inlinetasks)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;num&lt;/code&gt; &amp;mdash; переключатель нумерации заголовков &lt;code&gt;(org-export-with-section-numbers)&lt;/code&gt;.
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;N&lt;/code&gt; &amp;mdash; нумеруются заголовки только до уровня N;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;UNNUMBERED&lt;/code&gt; &amp;mdash; полностью отключает нумерацию;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;notoc&lt;/code&gt; &amp;mdash; не появляются в содержании.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;p&lt;/code&gt; &amp;mdash; переключатель экспорта планирования &lt;code&gt;(org-export-with-planning)&lt;/code&gt;. Состоит из комбинации значений: &lt;code&gt;SCHEDULED&lt;/code&gt;, &lt;code&gt;DEADLINE&lt;/code&gt;, &lt;code&gt;CLOSED&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pri&lt;/code&gt; &amp;mdash; переключатель включения информации о приоритете &lt;code&gt;(org-export-with-priority)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;prop&lt;/code&gt; &amp;mdash; переключатель включения блоков свойств &lt;code&gt;(org-export-with-properties)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;stat&lt;/code&gt; &amp;mdash; переключатель включения блоков статистики &lt;code&gt;(org-export-with-statistics-cookies)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tags&lt;/code&gt; &amp;mdash; переключатель включения меток &lt;code&gt;(org-export-with-tags)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tasks&lt;/code&gt; &amp;mdash; переключатель включения задач &lt;code&gt;(org-export-with-tasks)&lt;/code&gt;. Значения:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;t&lt;/code&gt;, &lt;code&gt;nil&lt;/code&gt; для включения или исключения всех задач;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;todo&lt;/code&gt; для исключения выполненных задач;&lt;/li&gt;
&lt;li&gt;список ключевых слов для включения &lt;code&gt;(org-export-with-tasks)&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tex&lt;/code&gt; &amp;mdash; переключатель экспорта TeX &lt;code&gt;(org-export-with-latex)&lt;/code&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;t&lt;/code&gt; &amp;mdash; экспортировать;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;nil&lt;/code&gt; &amp;mdash; не экспортировать;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;verbatim&lt;/code&gt; &amp;mdash; экспортировать всё как &lt;code&gt;verbatim&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;timestamp&lt;/code&gt; &amp;mdash; переключатель включения времени создания &lt;code&gt;(org-export-time-stamp-file)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;title&lt;/code&gt; &amp;mdash; переключатель включения названия &lt;code&gt;(org-export-with-title)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;toc&lt;/code&gt; &amp;mdash; переключатель включения содержания или установка уровня содержания &lt;code&gt;(org-export-with-toc)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;todo&lt;/code&gt; &amp;mdash; переключатель включения в экспорт ключевых слов &lt;code&gt;TODO&lt;/code&gt; &lt;code&gt;(org-export-with-todo-keywords)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;|&lt;/code&gt; &amp;mdash; переключатель экспорта таблиц &lt;code&gt;(org-export-with-tables)&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Для поддерева свойства имеют префикс &lt;code&gt;EXPORT_&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Например, &lt;code&gt;DATE&lt;/code&gt; становится &lt;code&gt;EXPORT_DATE&lt;/code&gt; при использовании для определённого поддерева.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="соответствие-параметров-экспорта-для-файла-и-поддерева"&gt;&lt;span class="section-num"&gt;1.1.2&lt;/span&gt; Соответствие параметров экспорта для файла и поддерева&lt;/h4&gt;
&lt;div class="table-caption"&gt;
&lt;span class="table-number"&gt;&amp;#1058;&amp;#1072;&amp;#1073;&amp;#1083;&amp;#1080;&amp;#1094;&amp;#1072; 1:&lt;/span&gt;
Опции экспорта для файла и поддерева
&lt;/div&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Опции экспорта файла&lt;/th&gt;
&lt;th&gt;Опции экспорта поддерева&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OPTIONS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;EXPORT_OPTIONS&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="фильтры-экспорта"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Фильтры экспорта&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item></channel></rss>