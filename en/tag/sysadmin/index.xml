<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>sysadmin | Dmitry S. Kulyabov</title>
    <link>https://yamadharma.github.io/en/tag/sysadmin/</link>
      <atom:link href="https://yamadharma.github.io/en/tag/sysadmin/index.xml" rel="self" type="application/rss+xml" />
    <description>sysadmin</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>en-us</language><copyright>Â© 2023 Dmitry S. Kulyabov</copyright><lastBuildDate>Tue, 04 Apr 2023 15:26:00 +0300</lastBuildDate>
    <image>
      <url>https://yamadharma.github.io/media/icon_hu0a661dd90139895e92e2f18ae9404407_611148_512x512_fill_lanczos_center_3.png</url>
      <title>sysadmin</title>
      <link>https://yamadharma.github.io/en/tag/sysadmin/</link>
    </image>
    
    <item>
      <title>Cisco vs Huawei Commands</title>
      <link>https://yamadharma.github.io/en/post/2023/04/04/cisco-huawei-commands/</link>
      <pubDate>Tue, 04 Apr 2023 15:26:00 +0300</pubDate>
      <guid>https://yamadharma.github.io/en/post/2023/04/04/cisco-huawei-commands/</guid>
      <description>&lt;details class=&#34;toc-inpage d-print-none  &#34; open&gt;
  &lt;summary class=&#34;font-weight-bold&#34;&gt;Table of Contents&lt;/summary&gt;
  &lt;nav id=&#34;TableOfContents&#34;&gt;&lt;/nav&gt;
&lt;/details&gt;

&lt;div class=&#34;table-caption&#34;&gt;
  &lt;span class=&#34;table-number&#34;&gt;Table 1:&lt;/span&gt;
  Exec mode
&lt;/div&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Cisco exec mode&lt;/th&gt;
&lt;th&gt;Huawei user view&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;traceroute&lt;/td&gt;
&lt;td&gt;tracert&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;terminal length 0&lt;/td&gt;
&lt;td&gt;screen-length 0 temporary&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;show&lt;/td&gt;
&lt;td&gt;display&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;show version&lt;/td&gt;
&lt;td&gt;display version&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;show history-command&lt;/td&gt;
&lt;td&gt;display history-command&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;show interfaces&lt;/td&gt;
&lt;td&gt;display interface&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;show ip interface&lt;/td&gt;
&lt;td&gt;display ip interface&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;show ip route&lt;/td&gt;
&lt;td&gt;display ip routing-table&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;show ip bgp&lt;/td&gt;
&lt;td&gt;display bgp routing-table&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;show clock&lt;/td&gt;
&lt;td&gt;display clock&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;show flash&lt;/td&gt;
&lt;td&gt;dir flash:&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;show logging&lt;/td&gt;
&lt;td&gt;display logbuffer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;show snmp&lt;/td&gt;
&lt;td&gt;display snmp-agent statistics&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;show users&lt;/td&gt;
&lt;td&gt;display users&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;show tech-support&lt;/td&gt;
&lt;td&gt;display diagnostic-information&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;write terminal, show running-config&lt;/td&gt;
&lt;td&gt;display current-configuration&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;more nvram:startup-config, show startup-config&lt;/td&gt;
&lt;td&gt;display saved-configuration&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;write erase&lt;/td&gt;
&lt;td&gt;reset saved-configuration&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;write memory, copy running-config startup-config&lt;/td&gt;
&lt;td&gt;save&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;clear&lt;/td&gt;
&lt;td&gt;reset&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;clear counters&lt;/td&gt;
&lt;td&gt;reset counters interface&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;clear interface&lt;/td&gt;
&lt;td&gt;reset counters interface&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;clear access-list counters&lt;/td&gt;
&lt;td&gt;reset acl counter all&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td&gt;undo&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;debug / no debug&lt;/td&gt;
&lt;td&gt;debugging / undo debugging&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;reload&lt;/td&gt;
&lt;td&gt;reboot&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable&lt;/td&gt;
&lt;td&gt;super&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;disable&lt;/td&gt;
&lt;td&gt;super 0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;erase&lt;/td&gt;
&lt;td&gt;delete&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;exit&lt;/td&gt;
&lt;td&gt;quit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;configure terminal&lt;/td&gt;
&lt;td&gt;system-view&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&#34;table-caption&#34;&gt;
  &lt;span class=&#34;table-number&#34;&gt;Table 2:&lt;/span&gt;
  Configuration mode
&lt;/div&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Cisco configuration mode&lt;/th&gt;
&lt;th&gt;Huawei system view&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;end&lt;/td&gt;
&lt;td&gt;return&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;snmp-server&lt;/td&gt;
&lt;td&gt;snmp-agent&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;hostname&lt;/td&gt;
&lt;td&gt;sysname&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;router bgp&lt;/td&gt;
&lt;td&gt;bgp&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;router ospf&lt;/td&gt;
&lt;td&gt;ospf&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;router rip&lt;/td&gt;
&lt;td&gt;rip&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;shutdown / no shutdown&lt;/td&gt;
&lt;td&gt;shutdown / undo shutdown&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</description>
    </item>
    
    <item>
      <title>L2TP over IPsec VPN client setup</title>
      <link>https://yamadharma.github.io/en/post/2023/02/05/l2tp-ipsec-vpn-client-setup/</link>
      <pubDate>Sun, 05 Feb 2023 13:35:00 +0300</pubDate>
      <guid>https://yamadharma.github.io/en/post/2023/02/05/l2tp-ipsec-vpn-client-setup/</guid>
      <description>&lt;p&gt;L2TP/IPsec VPN client setup&lt;/p&gt;
&lt;details class=&#34;toc-inpage d-print-none  &#34; open&gt;
  &lt;summary class=&#34;font-weight-bold&#34;&gt;Table of Contents&lt;/summary&gt;
  &lt;nav id=&#34;TableOfContents&#34;&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a href=&#34;#linux&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1&lt;/span&gt; Linux&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#gentoo&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.1&lt;/span&gt; Gentoo&lt;/a&gt;
          &lt;ul&gt;
            &lt;li&gt;&lt;a href=&#34;#networkmanager&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.1.1&lt;/span&gt; NetworkManager&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&#34;#strongswan-interactions&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.1.2&lt;/span&gt; Strongswan interactions&lt;/a&gt;&lt;/li&gt;
          &lt;/ul&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;
&lt;/details&gt;

&lt;h2 id=&#34;linux&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1&lt;/span&gt; Linux&lt;/h2&gt;
&lt;h3 id=&#34;gentoo&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.1&lt;/span&gt; Gentoo&lt;/h3&gt;
&lt;h4 id=&#34;networkmanager&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.1.1&lt;/span&gt; NetworkManager&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Open the NetworkManager UI, then:
&lt;ul&gt;
&lt;li&gt;Go to Network &amp;gt; VPN. Click &lt;em&gt;+&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Select &lt;em&gt;Layer 2 Tunneling Protocol (L2TP)&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;You can choose a name for the VPN.&lt;/li&gt;
&lt;li&gt;Enter Your VPN Server IP for the Gateway.&lt;/li&gt;
&lt;li&gt;Enter Your VPN Username for the User name.&lt;/li&gt;
&lt;li&gt;Right-click the &lt;em&gt;?&lt;/em&gt; in the Password field, select Store the password only for this user.
&lt;ul&gt;
&lt;li&gt;You might want to use &lt;em&gt;Store password for all users&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Enter Your VPN Password for the Password.&lt;/li&gt;
&lt;li&gt;Leave the NT Domain field blank.&lt;/li&gt;
&lt;li&gt;Click the &lt;em&gt;IPsec Settings&amp;hellip;&lt;/em&gt; button.&lt;/li&gt;
&lt;li&gt;Check the Enable IPsec tunnel to L2TP host checkbox.&lt;/li&gt;
&lt;li&gt;Leave the Gateway ID field blank.&lt;/li&gt;
&lt;li&gt;Enter Your VPN IPsec PSK for the Pre-shared key.&lt;/li&gt;
&lt;li&gt;Then click &lt;em&gt;Add&lt;/em&gt; to save the VPN connection information.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;strongswan-interactions&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.1.2&lt;/span&gt; Strongswan interactions&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;By default, strongswan is built with capabilities support and the ability to run as an unprivileged user.&lt;/li&gt;
&lt;li&gt;However, capabilities are not configured in NetworkManager.&lt;/li&gt;
&lt;li&gt;As a result, the connection is not established.&lt;/li&gt;
&lt;li&gt;You can solve the problem as follows:
&lt;ul&gt;
&lt;li&gt;either install strongswan without capabilities support and the ability to run as an unprivileged user:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;USE=&amp;quot;-caps -non-root&amp;quot; emerge strongswan
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;either build NetworkManager with capabilities support (see &lt;a href=&#34;https://gitlab.freedesktop.org/NetworkManager/NetworkManager/-/merge_requests/1053&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://gitlab.freedesktop.org/NetworkManager/NetworkManager/-/merge_requests/1053&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    
  </channel>
</rss>
