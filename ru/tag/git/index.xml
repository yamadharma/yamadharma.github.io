<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Git | Д. С. Кулябов</title><link>http://localhost:1313/ru/tag/git/</link><atom:link href="http://localhost:1313/ru/tag/git/index.xml" rel="self" type="application/rss+xml"/><description>Git</description><generator>Hugo Blox Builder (https://hugoblox.com)</generator><language>ru-ru</language><copyright>© 2025 Dmitry S. Kulyabov</copyright><lastBuildDate>Tue, 19 Aug 2025 15:56:00 +0300</lastBuildDate><image><url>http://localhost:1313/media/icon_hu_3756dbc1adf0ae14.png</url><title>Git</title><link>http://localhost:1313/ru/tag/git/</link></image><item><title>gopass. Интеграция с git</title><link>http://localhost:1313/ru/post/2025/08/19/gopass-integration-git/</link><pubDate>Tue, 19 Aug 2025 15:56:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2025/08/19/gopass-integration-git/</guid><description>&lt;p&gt;gopass. Интеграция с git.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-git"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Настройка Git&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#сохранение-учётных-данных"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Сохранение учётных данных&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#примеры-использования"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Примеры использования&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#клонирование-репозитория"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; Клонирование репозитория&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#отправка-изменений"&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; Отправка изменений&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#расширенные-настройки"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Расширенные настройки&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#для-разных-аккаунтов-на-одном-хосте"&gt;&lt;span class="section-num"&gt;6.1&lt;/span&gt; Для разных аккаунтов на одном хосте&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#привязка-к-конкретному-url"&gt;&lt;span class="section-num"&gt;6.2&lt;/span&gt; Привязка к конкретному URL&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;git-credential-gopass&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Позволяет безопасно хранить и автоматически подставлять учётные данные (логины, пароли, токены) для работы с Git-репозиториями.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Gentoo
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge app-admin/git-credential-gopass
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Для Windows (с помощью Chocolatey):&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;choco install git-credential-gopass
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="настройка-git"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Настройка Git&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Добавьте helper в глобальную конфигурацию Git:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global credential.helper gopass
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Проверьте конфигурацию Git:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global --get credential.helper
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Должно вернуть: &lt;code&gt;gopass&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Можно сохранить учётные данные в хранилище группы для совместного использования:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config credential.helper &lt;span class="s2"&gt;&amp;#34;gopass --store=ci-team&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="сохранение-учётных-данных"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Сохранение учётных данных&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;git-credential-gopass&lt;/code&gt; будет использоваться &lt;code&gt;git&lt;/code&gt; для запроса и сохранения учетных данных, когда они необходимы.&lt;/li&gt;
&lt;li&gt;После клонирования репозитория Git, требующего HTTP-аутентификации, автоматически будет создана новая запись по шаблону &lt;code&gt;git/HOST_PORT/USERNAME&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Секрет должен как минимум содержать пароль и имя пользователя.&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;gopass insert git/&amp;lt;hostname&amp;gt;/&amp;lt;username&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Формат:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Пароль: ваш токен или пароль&lt;/li&gt;
&lt;li&gt;Доп. поля (через &lt;code&gt;key: value&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="l"&gt;Пароль&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nt"&gt;user&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;your_login&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nt"&gt;url&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;https://github.com/your_username/repo.git&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="примеры-использования"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Примеры использования&lt;/h2&gt;
&lt;h3 id="клонирование-репозитория"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; Клонирование репозитория&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Gopass автоматически подставит логин и токен:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git clone https://github.com/your_username/repo.git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="отправка-изменений"&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; Отправка изменений&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Gopass автоматически подставит логин и токен:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git push origin main
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="расширенные-настройки"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Расширенные настройки&lt;/h2&gt;
&lt;h3 id="для-разных-аккаунтов-на-одном-хосте"&gt;&lt;span class="section-num"&gt;6.1&lt;/span&gt; Для разных аккаунтов на одном хосте&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Создайте отдельные записи:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;gopass insert git/github.com/work-account
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;gopass insert git/github.com/personal-account
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="привязка-к-конкретному-url"&gt;&lt;span class="section-num"&gt;6.2&lt;/span&gt; Привязка к конкретному URL&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global credential.https://github.com.helper gopass
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item><item><title>git. Авторизация по https</title><link>http://localhost:1313/ru/post/2025/08/19/git-authorization-https/</link><pubDate>Tue, 19 Aug 2025 14:10:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2025/08/19/git-authorization-https/</guid><description>&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#создание-токена-доступа"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Создание токена доступа&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#для-github"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Для GitHub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#для-gitlab"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Для GitLab&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#для-gitea"&gt;&lt;span class="section-num"&gt;1.3&lt;/span&gt; Для Gitea&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#клонирование-репозитория-с-https"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Клонирование репозитория с HTTPS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#хранение-учётных-данных"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Хранение учётных данных&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#ручное-указание-токена-в-url"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Ручное указание токена в URL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#использование-переменных-окружения--для-скриптов"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Использование переменных окружения (для скриптов)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-автоматической-аутентификации"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Настройка автоматической аутентификации&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#вариант-dot-кэширование-учётных-данных"&gt;&lt;span class="section-num"&gt;3.3.1&lt;/span&gt; Вариант. Кэширование учётных данных&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#вариант-dot-постоянное-хранение--для-доверенных-устройств"&gt;&lt;span class="section-num"&gt;3.3.2&lt;/span&gt; Вариант. Постоянное хранение (для доверенных устройств)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#вариант-dot-хранение-в-менеджере-паролей-gopass"&gt;&lt;span class="section-num"&gt;3.3.3&lt;/span&gt; Вариант. Хранение в менеджере паролей gopass&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#рекомендации-по-безопасности"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Рекомендации по безопасности&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#миграция-репозитория-с-ssh-на-https"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Миграция репозитория с SSH на HTTPS&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#изменение-url-удалённого-репозитория"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; Изменение URL удалённого репозитория&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#массовое-изменение"&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; Массовое изменение&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="создание-токена-доступа"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Создание токена доступа&lt;/h2&gt;
&lt;h3 id="для-github"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Для GitHub&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Перейдите в &lt;code&gt;Settings → Developer Settings → Personal Access Tokens → Generate new token&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Выберите права (минимум &lt;code&gt;repo&lt;/code&gt; для работы с репозиториями).&lt;/li&gt;
&lt;li&gt;Скопируйте токен (отображается только один раз).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="для-gitlab"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Для GitLab&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Preferences → Access Tokens&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Выберите &lt;code&gt;read_repository&lt;/code&gt; и &lt;code&gt;write_repository&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Скопируйте токен (отображается только один раз).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="для-gitea"&gt;&lt;span class="section-num"&gt;1.3&lt;/span&gt; Для Gitea&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Зайдите в настройки профиля
&lt;ul&gt;
&lt;li&gt;Кликните на аватар в правом верхнем углу.&lt;/li&gt;
&lt;li&gt;Выберите &lt;code&gt;Settings&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;В левом меню выберите &lt;code&gt;Applications&lt;/code&gt; → &lt;code&gt;Manage Access Tokens&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Создайте новый токен
&lt;ul&gt;
&lt;li&gt;В поле &lt;code&gt;Token Name&lt;/code&gt; укажите название (например, &lt;code&gt;my-token&lt;/code&gt; ).&lt;/li&gt;
&lt;li&gt;Выберите права
&lt;ul&gt;
&lt;li&gt;Для работы с репозиториями: &lt;code&gt;read:repository&lt;/code&gt;, &lt;code&gt;write:repository&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Для доступа к API: &lt;code&gt;read:user&lt;/code&gt;, &lt;code&gt;write:user&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Нажмите &lt;code&gt;Generate Token&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Скопируйте токен (отображается только один раз).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="клонирование-репозитория-с-https"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Клонирование репозитория с HTTPS&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Клонируйте репозиторий:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git clone https://github.com/username/repo.git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;При запросе данных введите:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;username&lt;/code&gt; : ваш логин на платформе.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;password&lt;/code&gt; : вставьте токен (не пароль).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="хранение-учётных-данных"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Хранение учётных данных&lt;/h2&gt;
&lt;h3 id="ручное-указание-токена-в-url"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Ручное указание токена в URL&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для клонирования:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git clone https://username:your_token@github.com/username/repo.git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Для существующего репозитория:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git remote set-url origin https://username:your_token@github.com/username/repo.git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="использование-переменных-окружения--для-скриптов"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Использование переменных окружения (для скриптов)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Linux&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;GIT_USERNAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;ваш_логин&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;GIT_PASSWORD&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;ваш_токен&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Windows (PowerShell)&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;$env&lt;/span&gt;:GIT_USERNAME &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;ваш_логин&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;$env&lt;/span&gt;:GIT_PASSWORD &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;ваш_токен&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Использование в командах:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git clone https://&lt;span class="nv"&gt;$GIT_USERNAME&lt;/span&gt;:&lt;span class="nv"&gt;$GIT_PASSWORD&lt;/span&gt;@github.com/user/repo.git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="настройка-автоматической-аутентификации"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Настройка автоматической аутентификации&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Git Credential Helper &amp;mdash; это инструмент для безопасного хранения и автоматической подстановки учётных данных (логина, пароля, токенов) при работе с Git.&lt;/li&gt;
&lt;li&gt;Он избавляет от необходимости вводить данные при каждом взаимодействии с удалённым репозиторием.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="вариант-dot-кэширование-учётных-данных"&gt;&lt;span class="section-num"&gt;3.3.1&lt;/span&gt; Вариант. Кэширование учётных данных&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Хранит данные в памяти 15 минут
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global credential.helper cache
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Кэшировать в памяти на 1 час (3600 секунд)&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global credential.helper &lt;span class="s2"&gt;&amp;#34;cache --timeout=3600&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Проверка настроек&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global --get credential.helper
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id="вариант-dot-постоянное-хранение--для-доверенных-устройств"&gt;&lt;span class="section-num"&gt;3.3.2&lt;/span&gt; Вариант. Постоянное хранение (для доверенных устройств)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Сохранить в файл &lt;code&gt;~/.git-credentials&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global credential.helper store
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Первая операция запросит логин/токен, последующие &amp;mdash; нет.&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git pull
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id="вариант-dot-хранение-в-менеджере-паролей-gopass"&gt;&lt;span class="section-num"&gt;3.3.3&lt;/span&gt; Вариант. Хранение в менеджере паролей gopass&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="рекомендации-по-безопасности"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Рекомендации по безопасности&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Никогда не коммитьте токены в код.&lt;/li&gt;
&lt;li&gt;Для публичных репозиториев используйте токены с ограниченными правами.&lt;/li&gt;
&lt;li&gt;Регулярно обновляйте токены (рекомендуется каждые 3-6 месяцев).&lt;/li&gt;
&lt;li&gt;Используйте &lt;code&gt;.gitignore&lt;/code&gt; для файлов с чувствительными данными.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="миграция-репозитория-с-ssh-на-https"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Миграция репозитория с SSH на HTTPS&lt;/h2&gt;
&lt;h3 id="изменение-url-удалённого-репозитория"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; Изменение URL удалённого репозитория&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для каждого репозитория выполните в терминале:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git remote set-url origin https://github.com/username/repo.git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Замените:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;username&lt;/code&gt; → ваш логин на GitHub&lt;/li&gt;
&lt;li&gt;&lt;code&gt;repo&lt;/code&gt; → название репозитория&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Например, для репозитория &lt;code&gt;my-project&lt;/code&gt;:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git remote set-url origin https://github.com/ivanov/my-project.git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="массовое-изменение"&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; Массовое изменение&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Создайте скрипт &lt;code&gt;git-ssh-to-https.sh&lt;/code&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; dir in *
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[[&lt;/span&gt; -d &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;dir&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="o"&gt;]]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;cd&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="nv"&gt;$dir&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nb"&gt;exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nv"&gt;repo_url&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;git remote get-url origin&lt;span class="k"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nv"&gt;new_url&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="nv"&gt;$repo_url&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; sed &lt;span class="s1"&gt;&amp;#39;s/git@github.com:/https:\/\/github.com\//; s/\.git$//&amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;.git
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; git remote set-url origin &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="nv"&gt;$new_url&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;Updated: &lt;/span&gt;&lt;span class="nv"&gt;$dir&lt;/span&gt;&lt;span class="s2"&gt; → &lt;/span&gt;&lt;span class="nv"&gt;$new_url&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Или однострочник:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;find . -type d -name .git -exec sh -c &lt;span class="s1"&gt;&amp;#39;cd &amp;#34;{}&amp;#34; &amp;amp;&amp;amp; cd .. &amp;amp;&amp;amp; git remote set-url origin $(git remote get-url origin | sed &amp;#34;s/git@/https:\/\//; s/.com:/.com\//&amp;#34;)&amp;#39;&lt;/span&gt; &lt;span class="se"&gt;\;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item><item><title>Подпись коммитов git</title><link>http://localhost:1313/ru/post/2024/08/22/verifying-git-commits/</link><pubDate>Thu, 22 Aug 2024 15:13:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2024/08/22/verifying-git-commits/</guid><description>&lt;p&gt;Подпись коммитов git.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#варианты-подписания-коммитов"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Варианты подписания коммитов&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Коммиты имеют следующие свойства:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;author (автор) &amp;mdash; контрибьютор, выполнивший работу (указывается для справки);&lt;/li&gt;
&lt;li&gt;committer (коммитер) &amp;mdash; пользователь, который закоммитил изменения.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Эти свойства можно переопределить при совершении коммита.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Авторство коммита можно подделать.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;В git есть функция подписи коммитов.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Подпись коммита позволяет удостовериться в том, кто является коммитером. Авторство не проверяется.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="варианты-подписания-коммитов"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Варианты подписания коммитов&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Для подписывания коммитов используются:
&lt;ul&gt;
&lt;li&gt;технология PGP:
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ключи SSH:
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Базовая настройка git</title><link>http://localhost:1313/ru/post/2024/03/16/git-basic-setup/</link><pubDate>Sat, 16 Mar 2024 17:34:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2024/03/16/git-basic-setup/</guid><description>&lt;p&gt;Базовая настройка git.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#первичная-настройка-параметров-git"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Первичная настройка параметров git&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#верификация-коммитов"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Верификация коммитов&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#учёт-переносов-строк"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Учёт переносов строк&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#параметр-autocrlf"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Параметр &lt;code&gt;autocrlf&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#параметр-safecrlf"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Параметр &lt;code&gt;safecrlf&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#перечисление-веток"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Перечисление веток&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#перечисление-тегов"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Перечисление тегов&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#отображение-git-diff"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Отображение git diff&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-git-push"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Настройка git push&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#улучшенная-выборка"&gt;&lt;span class="section-num"&gt;8&lt;/span&gt; Улучшенная выборка&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#предложения-автозамены"&gt;&lt;span class="section-num"&gt;9&lt;/span&gt; Предложения автозамены&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#коммиты-с-указанием-разности"&gt;&lt;span class="section-num"&gt;10&lt;/span&gt; Коммиты с указанием разности&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#повторное-использование-ранее-записанных-разрешений-конфликтов"&gt;&lt;span class="section-num"&gt;11&lt;/span&gt; Повторное использование ранее записанных разрешений конфликтов&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#глобальный-файл-ignore"&gt;&lt;span class="section-num"&gt;12&lt;/span&gt; Глобальный файл ignore&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#аккуратное-перебазирование"&gt;&lt;span class="section-num"&gt;13&lt;/span&gt; Аккуратное перебазирование&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#улучшенная-обработка-конфликтов-при-слиянии"&gt;&lt;span class="section-num"&gt;14&lt;/span&gt; Улучшенная обработка конфликтов при слиянии&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройки-git-pull"&gt;&lt;span class="section-num"&gt;15&lt;/span&gt; Настройки git pull&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#использование-fsmonitor"&gt;&lt;span class="section-num"&gt;16&lt;/span&gt; ИСпользование fsmonitor&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="первичная-настройка-параметров-git"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Первичная настройка параметров git&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Зададим имя и email владельца репозитория:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global user.name &lt;span class="s2"&gt;&amp;#34;Name Surname&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global user.email &lt;span class="s2"&gt;&amp;#34;work@mail&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Настроим utf-8 в выводе сообщений git:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global core.quotepath &lt;span class="nb"&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Зададим имя начальной ветки (будем называть её &lt;code&gt;master&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global init.defaultBranch master
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="верификация-коммитов"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Верификация коммитов&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Настройте верификацию и подписание коммитов git (см.
).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="учёт-переносов-строк"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Учёт переносов строк&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;В разных операционных системах приняты разные символы для перевода строк:
&lt;ul&gt;
&lt;li&gt;Windows: &lt;code&gt;\r\n&lt;/code&gt; (&lt;code&gt;CR&lt;/code&gt; и &lt;code&gt;LF&lt;/code&gt;);&lt;/li&gt;
&lt;li&gt;Unix: &lt;code&gt;\n&lt;/code&gt; (&lt;code&gt;LF&lt;/code&gt;);&lt;/li&gt;
&lt;li&gt;Mac: &lt;code&gt;\r&lt;/code&gt; (&lt;code&gt;CR&lt;/code&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Посмотреть значения переносов строк в репозитории можно командой:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git ls-files --eol
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="параметр-autocrlf"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Параметр &lt;code&gt;autocrlf&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Настройка &lt;code&gt;core.autocrlf&lt;/code&gt; предназначена для того, чтобы в главном репозитории все переводы строк текстовых файлах были одинаковы.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Настройка &lt;code&gt;core.autocrlf&lt;/code&gt; с параметрами &lt;code&gt;true&lt;/code&gt; и &lt;code&gt;input&lt;/code&gt; делает все переводы строк текстовых файлов в главном репозитории одинаковыми.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;core.autocrlf true&lt;/code&gt;: конвертация &lt;code&gt;CRLF-&amp;gt;LF&lt;/code&gt; при коммите и обратно &lt;code&gt;LF-&amp;gt;CRLF&lt;/code&gt; при выгрузке кода из репозитория на файловую систему (обычно используется в Windows).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;core.autocrlf input&lt;/code&gt;: конвертация &lt;code&gt;CRLF-&amp;gt;LF&lt;/code&gt; только при коммитах (используются в MacOS/Linux).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Варианты конвертации&lt;/p&gt;
&lt;div class="table-caption"&gt;
&lt;span class="table-number"&gt;&amp;#1058;&amp;#1072;&amp;#1073;&amp;#1083;&amp;#1080;&amp;#1094;&amp;#1072; 1:&lt;/span&gt;
Варианты конвертации для разных значений параметра core.autocrlf
&lt;/div&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;core.autocrlf&lt;/th&gt;
&lt;th&gt;false&lt;/th&gt;
&lt;th&gt;input&lt;/th&gt;
&lt;th&gt;true&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;git commit&lt;/td&gt;
&lt;td&gt;LF -&amp;gt; LF&lt;/td&gt;
&lt;td&gt;LF -&amp;gt; LF&lt;/td&gt;
&lt;td&gt;LF -&amp;gt; CRLF&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;CR -&amp;gt; CR&lt;/td&gt;
&lt;td&gt;CR -&amp;gt; CR&lt;/td&gt;
&lt;td&gt;CR -&amp;gt; CR&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;CRLF -&amp;gt; CRLF&lt;/td&gt;
&lt;td&gt;CRLF -&amp;gt; LF&lt;/td&gt;
&lt;td&gt;CRLF -&amp;gt; CRLF&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;git checkout&lt;/td&gt;
&lt;td&gt;LF -&amp;gt; LF&lt;/td&gt;
&lt;td&gt;LF -&amp;gt; LF&lt;/td&gt;
&lt;td&gt;LF -&amp;gt; CRLF&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;CR -&amp;gt; CR&lt;/td&gt;
&lt;td&gt;CR -&amp;gt; CR&lt;/td&gt;
&lt;td&gt;CR -&amp;gt; CR&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;CRLF -&amp;gt; CRLF&lt;/td&gt;
&lt;td&gt;CRLF -&amp;gt; CRLF&lt;/td&gt;
&lt;td&gt;CRLF -&amp;gt; CRLF&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установка параметра:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Для Windows
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global core.autocrlf &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Для Linux
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global core.autocrlf input
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="параметр-safecrlf"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Параметр &lt;code&gt;safecrlf&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Настройка &lt;code&gt;core.safecrlf&lt;/code&gt; предназначена для проверки, является ли окончаний строк обратимым для текущей настройки &lt;code&gt;core.autocrlf&lt;/code&gt;.
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;core.safecrlf true&lt;/code&gt;: запрещается необратимое преобразование &lt;code&gt;lf&amp;lt;-&amp;gt;crlf&lt;/code&gt;. Полезно, когда существуют бинарные файлы, похожие на текстовые файлы.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;core.safecrlf warn&lt;/code&gt;: печать предупреждения, но коммиты с необратимым переходом принимаются.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Установка параметра:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global core.safecrlf warn
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="перечисление-веток"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Перечисление веток&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Настроим, чтобы перечисление веток git по умолчанию не упорядочивалось по алфавиту.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;branch.sort&lt;/code&gt; : сортирует список не по алфавиту, а по свежести дат коммитов;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;column.ui&lt;/code&gt; : выстраивает имена веток в формате столбцов так, чтобы на экране было видно больше такой информации.&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global column.ui auto
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global branch.sort -committerdate
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="перечисление-тегов"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Перечисление тегов&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;При перечислении тегов командой &lt;code&gt;git tag&lt;/code&gt; сортировка провидится в алфавитном порядке.&lt;/li&gt;
&lt;li&gt;Но метки обычно имеют вид набора цифр (номер версии).&lt;/li&gt;
&lt;li&gt;Настроим сортировку по номеру версии:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global tag.sort version:refname
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="отображение-git-diff"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Отображение git diff&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Для команды &lt;code&gt;git diff&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;По умолчанию &lt;em&gt;git&lt;/em&gt; использует для вычисления разности коммитов алгоритм Майерса.&lt;/li&gt;
&lt;li&gt;В базовой комплектации &lt;em&gt;git&lt;/em&gt; встроено 4 алгоритма вычисления разности: myers, minimal, patience, histogram (инкрементная усовершенствованная версия patience).&lt;/li&gt;
&lt;li&gt;Установим по умолчанию алгоритм histogram:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global diff.algorithm histogram
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;При включённой опции &lt;code&gt;colorMoved&lt;/code&gt; перемещение кода будет отображаться разными цветами, в зависимости от того, были какие-то строки добавлены или удалены.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global diff.colorMoved plain
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Опция &lt;code&gt;diff.renames&lt;/code&gt; позволяет выявить, был ли файл переименован
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global diff.renames &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Опция &lt;code&gt;diff.mnemonicPrefix&lt;/code&gt; заменяет префиксы (обычно &lt;code&gt;a/&lt;/code&gt; и &lt;code&gt;b/&lt;/code&gt;) на информацию о том, откуда пришло различие: &lt;code&gt;i/&lt;/code&gt; (индекс), &lt;code&gt;w/&lt;/code&gt; (рабочий каталог), или &lt;code&gt;c/&lt;/code&gt; (коммит).
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global diff.mnemonicPrefix &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="настройка-git-push"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Настройка git push&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Опция &lt;code&gt;push.default simple&lt;/code&gt; установлена по умолчанию, начиная с &lt;em&gt;git&lt;/em&gt; 2.0.&lt;/li&gt;
&lt;li&gt;Умолчание &lt;code&gt;simple&lt;/code&gt; осуществляет отправку в текущую ветку и в одноимённую ветку на удалённой машине.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global push.default simple
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Если удалённая ветка не существует, а отслеживание веток не настроено, то вы получите ошибку.&lt;/li&gt;
&lt;li&gt;Опция &lt;code&gt;push.autoSetupRemote&lt;/code&gt; служит для автоматического задания удалённой ветки:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global push.autoSetupRemote &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Настройка &lt;code&gt;push.followTags&lt;/code&gt; запушит все теги, имеющиеся у вас на локальной машине, но отсутствующие на сервере.&lt;/li&gt;
&lt;li&gt;Если вы создаёте теги на локальной машине, то активируйте эту настройку:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global push.followTags &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="улучшенная-выборка"&gt;&lt;span class="section-num"&gt;8&lt;/span&gt; Улучшенная выборка&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Не стоит держать на локальной машине историю копий веток и тегов, которые когда-то были на сервере, а теперь там отсутствуют:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global fetch.prune &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global fetch.pruneTags &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global fetch.all &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="предложения-автозамены"&gt;&lt;span class="section-num"&gt;9&lt;/span&gt; Предложения автозамены&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;После ввода команды, которой не существует, следует запрос, что пользователь имел в виду.&lt;/li&gt;
&lt;li&gt;Это поведение можно изменять с помощью параметра &lt;code&gt;help.autocorrect&lt;/code&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;0&lt;/code&gt; (по умолчанию): показать предложенную команду.&lt;/li&gt;
&lt;li&gt;положительное число: выполнить предложенную команду через указанное количество децисекунд (0,1 секунды);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;immediate&lt;/code&gt;: выполнить предложенную команду немедленно;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;prompt&lt;/code&gt;: показать предложение и запросить подтверждение на выполнение команды;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;never&lt;/code&gt;: не выполнять и не показывать предложенную команду.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Вариант &lt;code&gt;prompt&lt;/code&gt; представляется вполне разумным:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global help.autocorrect prompt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="коммиты-с-указанием-разности"&gt;&lt;span class="section-num"&gt;10&lt;/span&gt; Коммиты с указанием разности&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;По умолчанию &lt;code&gt;git commit&lt;/code&gt; выдаёт только список изменившихся файлов.&lt;/li&gt;
&lt;li&gt;Если установить &lt;code&gt;commit.verbose&lt;/code&gt; в значение &lt;code&gt;true&lt;/code&gt;, то будет представлен весь вывод &lt;code&gt;diff&lt;/code&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global commit.verbose &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="повторное-использование-ранее-записанных-разрешений-конфликтов"&gt;&lt;span class="section-num"&gt;11&lt;/span&gt; Повторное использование ранее записанных разрешений конфликтов&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Настройка работает только при применении &lt;code&gt;rebase&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Пригодится, когда регулярно возникают конфликты.&lt;/li&gt;
&lt;li&gt;Опция &lt;code&gt;enabled&lt;/code&gt; гарантирует, что система будет записывать состояния «до» и «после» конфликтов при перебазировании.&lt;/li&gt;
&lt;li&gt;После этого &lt;code&gt;autoupdate&lt;/code&gt; будет автоматически раз за разом применять проверенные способы разрешения конфликтов.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global rerere.enabled &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global rerere.autoupdate &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="глобальный-файл-ignore"&gt;&lt;span class="section-num"&gt;12&lt;/span&gt; Глобальный файл ignore&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Вы можете создать локальный файл &lt;code&gt;.gitignore&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Настройка &lt;code&gt;core.excludesfile&lt;/code&gt; позволяет задать собственный глобальный файл для игнорирования:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;touch ~/.config/git/ignore
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global core.excludesfile ~/.config/git/ignore
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Примеры файлов игнорирования можно взять в
.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="аккуратное-перебазирование"&gt;&lt;span class="section-num"&gt;13&lt;/span&gt; Аккуратное перебазирование&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Опция организует в виде ветки стопку ссылок и гарантирует, что при перебазировании ветки эти ссылки также будут правильно перемещены:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global rebase.autoSquash &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global rebase.autoStash &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global rebase.updateRefs &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="улучшенная-обработка-конфликтов-при-слиянии"&gt;&lt;span class="section-num"&gt;14&lt;/span&gt; Улучшенная обработка конфликтов при слиянии&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Для обработки конфликтов будем использовать алгоритм &lt;code&gt;zdiff3&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global merge.conflictstyle zdiff3
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="настройки-git-pull"&gt;&lt;span class="section-num"&gt;15&lt;/span&gt; Настройки git pull&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Можно установить &lt;code&gt;rebase&lt;/code&gt; по умолчаниию:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global pull.rebase &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="использование-fsmonitor"&gt;&lt;span class="section-num"&gt;16&lt;/span&gt; ИСпользование fsmonitor&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Можно запускаться процесс для мониторинга файловой системы (по одному на каждый репозиторий), который будет отслеживать изменения в файлах и обновлять кэш.&lt;/li&gt;
&lt;li&gt;На больших репозиториях можно ускорить операции (например, &lt;code&gt;git status&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global core.fsmonitor &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git config --global core.untrackedCache &lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Расширение git lfs</title><link>http://localhost:1313/ru/post/2023/11/13/git-lfs/</link><pubDate>Mon, 13 Nov 2023 11:52:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2023/11/13/git-lfs/</guid><description>&lt;p&gt;Расширение для хранения больших бинарных файлов на git.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#linux"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Linux&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#использование"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Использование&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#инициализация"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Инициализация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#подготовка-нового-репозитория"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Подготовка нового репозитория&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#миграция-старых-репозиториев"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Миграция старых репозиториев&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#обратная-миграция"&gt;&lt;span class="section-num"&gt;3.4&lt;/span&gt; Обратная миграция&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#мониторинг"&gt;&lt;span class="section-num"&gt;3.5&lt;/span&gt; Мониторинг&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#клонировании-репозитория"&gt;&lt;span class="section-num"&gt;3.6&lt;/span&gt; Клонировании репозитория&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#перенос-на-другой-хостинг"&gt;&lt;span class="section-num"&gt;3.7&lt;/span&gt; Перенос на другой хостинг&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Сайт:
&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/h2&gt;
&lt;h3 id="linux"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Linux&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Gentoo:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge dev-vcs/git-lfs
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="использование"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Использование&lt;/h2&gt;
&lt;h3 id="инициализация"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Инициализация&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Запускается однократно:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git lfs install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Прописывает хуки и переменные в файл конфигурации.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="подготовка-нового-репозитория"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Подготовка нового репозитория&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;После создания нового репозитория запустите в нём:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git lfs install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;При этом в репозитории появится специальный хук &lt;em&gt;git&lt;/em&gt; &lt;code&gt;pre-push&lt;/code&gt;, который будет передавать файлы &lt;em&gt;git lfs&lt;/em&gt; на сервер при выполнении команды &lt;code&gt;git push&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;После инициализации хранилища &lt;em&gt;git lfs&lt;/em&gt; для репозитория нужно указать, какие файлы нужно отслеживать, например:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git lfs track &lt;span class="s2"&gt;&amp;#34;*.pdf&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Информация будет занесена в файл &lt;code&gt;.gitattributes&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;После любого вызова &lt;code&gt;git-lfs-track&lt;/code&gt; или &lt;code&gt;git-lfs-untrack&lt;/code&gt; необходимо зафиксировать изменения в файле &lt;code&gt;.gitattributes&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git add .gitattributes
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git commit -m &lt;span class="s2"&gt;&amp;#34;track *.pdf files using Git LFS&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Git lfs&lt;/em&gt; поддерживает те же шаблоны, что и &lt;code&gt;.gitignore&lt;/code&gt;, например:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# track all .ogg files in any directory&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ git lfs track &lt;span class="s2"&gt;&amp;#34;*.ogg&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# track files named music.ogg in any directory&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ git lfs track &lt;span class="s2"&gt;&amp;#34;music.ogg&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# track all files in the Assets directory and all subdirectories&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ git lfs track &lt;span class="s2"&gt;&amp;#34;Assets/&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# track all files in the Assets directory but *not* subdirectories&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ git lfs track &lt;span class="s2"&gt;&amp;#34;Assets/*&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# track all ogg files in Assets/Audio&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ git lfs track &lt;span class="s2"&gt;&amp;#34;Assets/Audio/*.ogg&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# track all ogg files in any directory named Music&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ git lfs track &lt;span class="s2"&gt;&amp;#34;**/Music/*.ogg&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# track png files containing &amp;#34;xxhdpi&amp;#34; in their name, in any directory&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ git lfs track &lt;span class="s2"&gt;&amp;#34;*xxhdpi*.png&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Шаблоны задаются относительно каталога, из которого выполняется команда &lt;code&gt;git lfs track&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;В отличие от &lt;code&gt;.gitignore&lt;/code&gt;, &lt;em&gt;git lfs&lt;/em&gt; не поддерживает отрицательные шаблоны.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="миграция-старых-репозиториев"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Миграция старых репозиториев&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Если в истории вашего репозитория уже есть большие файлы, они не будут отслеживаться &lt;em&gt;git lfs&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Чтобы перенести существующие большие файлы в вашей истории на использование &lt;em&gt;git lfs&lt;/em&gt;, нужно провести миграцию:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git lfs migrate import --include&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;*.pdf&amp;#34;&lt;/span&gt; --everything
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Это перезапишет историю и изменит все идентификаторы объектов &lt;em&gt;git&lt;/em&gt; в репозитории.&lt;/li&gt;
&lt;li&gt;После этого придётся склонировать репозиторий повторно.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="обратная-миграция"&gt;&lt;span class="section-num"&gt;3.4&lt;/span&gt; Обратная миграция&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий с &lt;em&gt;git lfs&lt;/em&gt; можно преобразовать обратно в простой репозиторий &lt;em&gt;git&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Следите за файлами, которые находятся в lfs:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git lfs ls-files
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Перенесите ссылки из &lt;em&gt;git lfs&lt;/em&gt; в &lt;em&gt;git&lt;/em&gt; (например, для pdf-файлов):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git lfs migrate &lt;span class="nb"&gt;export&lt;/span&gt; --include&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;*.pdf&amp;#34;&lt;/span&gt; --everything
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Это перезапишет историю и изменит все идентификаторы объектов &lt;em&gt;git&lt;/em&gt; в вашем репозитории.&lt;/li&gt;
&lt;li&gt;После этого придётся склонировать репозиторий повторно.&lt;/li&gt;
&lt;li&gt;Удалите хуки:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git lfs uninstall --worktree
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Удалить атрибут &lt;code&gt;lfs&lt;/code&gt; из &lt;code&gt;.gitattributes&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sed -i -e &lt;span class="s2"&gt;&amp;#34;s/filter=lfs diff=lfs merge=lfs -text/binary/g&amp;#34;&lt;/span&gt; .gitattributes
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="мониторинг"&gt;&lt;span class="section-num"&gt;3.5&lt;/span&gt; Мониторинг&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Отображение полезной информацию о репозитории:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git lfs env
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Просмотр файлов под управлением &lt;em&gt;git lfs&lt;/em&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git lfs ls-files
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="клонировании-репозитория"&gt;&lt;span class="section-num"&gt;3.6&lt;/span&gt; Клонировании репозитория&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Команда клонирования репозитория скачивает только файлы размером до 100MB.&lt;/li&gt;
&lt;li&gt;Для получения больших файлов следует использовать команду:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git lfs pull
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="перенос-на-другой-хостинг"&gt;&lt;span class="section-num"&gt;3.7&lt;/span&gt; Перенос на другой хостинг&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для переноса репозитория &lt;em&gt;git lfs&lt;/em&gt; на другой хостинг можно использовать комбинацию команд &lt;code&gt;git lfs fetch&lt;/code&gt; и &lt;code&gt;git lfs push&lt;/code&gt; с параметром &lt;code&gt;--all&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Например, перенесём репозиторий с сервера github на сервер bitbucket:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# create a bare clone of the GitHub repository&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ git clone --bare git@github.com:kannonboy/atlasteroids.git
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; atlasteroids
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# set up named remotes for Bitbucket and GitHub&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ git remote add bitbucket git@bitbucket.org:tpettersen/atlasteroids.git
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ git remote add github git@github.com:kannonboy/atlasteroids.git
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# fetch all Git LFS content from GitHub&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ git lfs fetch --all github
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# push all Git and Git LFS content to Bitbucket&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ git push --mirror bitbucket
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ git lfs push --all bitbucket
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Взаимодействие с gitea из командной строки</title><link>http://localhost:1313/ru/post/2023/11/11/interacting-gitea-command-line/</link><pubDate>Sat, 11 Nov 2023 20:31:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2023/11/11/interacting-gitea-command-line/</guid><description>&lt;ul&gt;
&lt;li&gt;Взаимодействие с gitea из командной строки.&lt;/li&gt;
&lt;li&gt;На данный момент рекомендуется использовать утилиту &lt;code&gt;tea&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#примеры-использования"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Примеры использования&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#подключение-к-серверу"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Подключение к серверу&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#репозитории"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Репозитории&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#issues"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Issues&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="примеры-использования"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Примеры использования&lt;/h2&gt;
&lt;h3 id="подключение-к-серверу"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Подключение к серверу&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Вначале необходимо подключиться к серверу Gitea.&lt;/li&gt;
&lt;li&gt;Войти на сервер Gitea:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tea login add --name &lt;span class="s2"&gt;&amp;#34;Условное имя подключения&amp;#34;&lt;/span&gt; --url &lt;span class="s2"&gt;&amp;#34;Server url&amp;#34;&lt;/span&gt; --token &lt;span class="s2"&gt;&amp;#34;token&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Можно установить подключение как подключение по умолчанию:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tea login default &lt;span class="s2"&gt;&amp;#34;Условное имя подключения&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="репозитории"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Репозитории&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Показать все репозитории:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tea repos ls
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Создать репозиторий:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tea repo create --name &lt;span class="s2"&gt;&amp;#34;Название репозитория&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Создать частный репозиторий:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tea repo create --name &lt;span class="s2"&gt;&amp;#34;Название репозитория&amp;#34;&lt;/span&gt; --private
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Создать репозиторий для организации:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; tea repo create --name &lt;span class="s2"&gt;&amp;#34;Название репозитория&amp;#34;&lt;/span&gt; --private --owner имя_организации
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;#+end_src--name &amp;#34;Название репозитория&amp;#34; --private --owner имя_организации&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;​- Создать репозиторий из шаблона:
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;#+begin_src shell&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; tea repos create-from-template --name &lt;span class="s2"&gt;&amp;#34;Название репозитория&amp;#34;&lt;/span&gt; --private --owner имя_организации --template &amp;lt;template_name&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="issues"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Issues&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Отображение списка issues:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tea issues ls
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Отобразить список issues для конкретного репозитория:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tea issues ls --repo &lt;span class="s2"&gt;&amp;#34;repository&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Создать новую задачу:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tea issues create --title &lt;span class="s2"&gt;&amp;#34;title&amp;#34;&lt;/span&gt; --body &lt;span class="s2"&gt;&amp;#34;body&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Отобразить список открытых pull-запросов:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tea pulls ls
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Открыть текущий репозиторий в броузере:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tea open
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Миграция с bitbucket на gitea</title><link>http://localhost:1313/ru/post/2023/10/31/migration-bitbucket-gitea/</link><pubDate>Tue, 31 Oct 2023 11:23:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2023/10/31/migration-bitbucket-gitea/</guid><description>&lt;p&gt;Миграция с bitbucket на gitea.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#пролегомены"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Пролегомены&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#необходимая-информация-для-миграции"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Необходимая информация для миграции&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#gitea"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Gitea&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#bitbucket"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Bitbucket&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#варианты-миграции"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Варианты миграции&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#gickup"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; gickup&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#проблемы"&gt;&lt;span class="section-num"&gt;3.1.1&lt;/span&gt; Проблемы&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#bitbuckettogitea"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; BitbucketToGitea&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#проблема"&gt;&lt;span class="section-num"&gt;3.2.1&lt;/span&gt; Проблема&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#реализация-миграции"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Реализация миграции&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#репозитории-у-пользователей"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Репозитории у пользователей&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="пролегомены"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Пролегомены&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;В связи с тем, что Bitbucket начал блокировать учётные записи, было принято решение перейти на другой хостинг.&lt;/li&gt;
&lt;li&gt;Поскольку однозначный выбор хостинга не удалось сделать, было решено:
&lt;ul&gt;
&lt;li&gt;поднять свой хостинг git (см.
);&lt;/li&gt;
&lt;li&gt;перенести все репозитории;&lt;/li&gt;
&lt;li&gt;перенести или пересоздать команды.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="необходимая-информация-для-миграции"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Необходимая информация для миграции&lt;/h2&gt;
&lt;h3 id="gitea"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Gitea&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Адрес экземпляра Gitea
&lt;ul&gt;
&lt;li&gt;Например:
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Токен аутентификации
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="bitbucket"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Bitbucket&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Имя пользователя BitBucket:
&lt;ul&gt;
&lt;li&gt;это не почтовый адрес, по которому вы подключаетесь к BitBucket, а заданное в настройках имя;&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Пароль BitBucket:
&lt;ul&gt;
&lt;li&gt;лучше использовать не пароль подключения к BitBucket, а создать для этого токен:&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Название группы, если вы переносите команду.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="варианты-миграции"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Варианты миграции&lt;/h2&gt;
&lt;h3 id="gickup"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; gickup&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Универсальный фреймворк по переносу git-репозиториев.&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Документация:
&lt;/li&gt;
&lt;li&gt;Пример файла конфигурации:
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="проблемы"&gt;&lt;span class="section-num"&gt;3.1.1&lt;/span&gt; Проблемы&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Репозитории просто не скачивались.&lt;/li&gt;
&lt;li&gt;Хотя программы писала, что всё сделано.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="bitbuckettogitea"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; BitbucketToGitea&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Скрипт по переносу репозиториев BitBucket в Gitea.&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="проблема"&gt;&lt;span class="section-num"&gt;3.2.1&lt;/span&gt; Проблема&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Никак не удалось устранить проблемы при авторизации в BitBucket.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="реализация-миграции"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Реализация миграции&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Использовал набор скриптов.&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Скачайте репозиторий на свой компьютер:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git clone https://github.com/dprandzioch/bitbucket-to-gitea-migrator.git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Создайте конфигурационный файл:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; bitbucket-to-gogs-migrator
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;cp config.json.example config.json
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;ul&gt;
&lt;li&gt;Отредактируйте файл &lt;code&gt;config.json&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-js" data-lang="js"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;base&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;check_exists&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;gogs&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;url&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;URL-адрес экземпляра Gitea в формате hub.example.com&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;protocol&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;http&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;token&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;токен аутентификации Gitea&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;owner_id&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;bitbucket&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;user&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;Имя пользователя BitBucket&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;password&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;Пароль BitBucket&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;team&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;null&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установите необходимые пакеты:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;npm install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Проведите миграцию:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;npm start
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="репозитории-у-пользователей"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Репозитории у пользователей&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Для того, чтобы переключить репозитории пользователей (из команды) на новый хостинг, добавил в репозитории скрипт:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;change_remote&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nv"&gt;remote_orig&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;git remote get-url --all origin&lt;span class="k"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="nv"&gt;$remote_orig&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; grep bitbucket.org &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&amp;gt; /dev/null
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[[&lt;/span&gt; &lt;span class="nv"&gt;$?&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="o"&gt;]]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;Replace origin&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; git remote add bitbucket &lt;span class="nv"&gt;$remote_orig&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; git remote set-url origin &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;remote_orig&lt;/span&gt;&lt;span class="p"&gt;/bitbucket.org/hub.example.com&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;change_remote
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git remote get-url --all bitbucket &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&amp;gt; /dev/null
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[[&lt;/span&gt; &lt;span class="nv"&gt;$?&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="o"&gt;]]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nv"&gt;is_bitbucket&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;[[&lt;/span&gt; &lt;span class="nv"&gt;$is_bitbucket&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="o"&gt;]]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; git pull bitbucket master
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git pull
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git add .
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git commit -am &lt;span class="s2"&gt;&amp;#34;chore(main): &lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;date&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git push --all
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;[[&lt;/span&gt; &lt;span class="nv"&gt;$is_bitbucket&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="o"&gt;]]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; git push bitbucket
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Сжатие git&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[[&lt;/span&gt; &lt;span class="nv"&gt;$1&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;compress&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;]]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[[&lt;/span&gt; -d .git &lt;span class="o"&gt;]]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; find . -type f -name &lt;span class="s2"&gt;&amp;#34;*Конфликтующая*&amp;#34;&lt;/span&gt; -delete
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; find . -type f -name &lt;span class="s2"&gt;&amp;#34;*conflicted*&amp;#34;&lt;/span&gt; -delete
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; find . -depth -path ./.stversions -prune -o -name &lt;span class="s2"&gt;&amp;#34;.syncthing.*.tmp&amp;#34;&lt;/span&gt; -delete
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; git fsck
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; git gc --prune&lt;span class="o"&gt;=&lt;/span&gt;now
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; git gc --aggressive --prune&lt;span class="o"&gt;=&lt;/span&gt;now
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Установка gitea</title><link>http://localhost:1313/ru/post/2023/10/29/install-gitea/</link><pubDate>Sun, 29 Oct 2023 20:10:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2023/10/29/install-gitea/</guid><description>&lt;p&gt;Установка gitea.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Информация&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#поддерживаемые-базы-данных"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Поддерживаемые базы данных&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#пререквизиты"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Пререквизиты&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#пользователь"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Пользователь&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#база-данных"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; База данных&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#sqlite"&gt;&lt;span class="section-num"&gt;2.2.1&lt;/span&gt; SqLite&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#postgresql"&gt;&lt;span class="section-num"&gt;2.2.2&lt;/span&gt; PostgreSQL&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#брандмауэр"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Брандмауэр&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Установка&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#установка-бинарного-пакета"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Установка бинарного пакета&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#структура-папок"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Структура папок&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#сервис-systemd"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Сервис systemd&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#запуск-gitea"&gt;&lt;span class="section-num"&gt;3.4&lt;/span&gt; Запуск gitea&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#проксирование"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Проксирование&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#установка-nginx"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Установка nginx&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#брандмауэр"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Брандмауэр&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#selinux"&gt;&lt;span class="section-num"&gt;4.3&lt;/span&gt; SELinux&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#конфигурация-nginx"&gt;&lt;span class="section-num"&gt;4.4&lt;/span&gt; Конфигурация nginx&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#конфигурационный-файл-app-dot-ini"&gt;&lt;span class="section-num"&gt;4.5&lt;/span&gt; Конфигурационный файл app.ini&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-ssl"&gt;&lt;span class="section-num"&gt;4.6&lt;/span&gt; Настройка SSL&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#начальная-конфигурация"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Начальная конфигурация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#дополнительные-настройки"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Дополнительные настройки&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#fail2ban"&gt;&lt;span class="section-num"&gt;6.1&lt;/span&gt; fail2ban&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#имя-ветки-по-умолчанию"&gt;&lt;span class="section-num"&gt;6.2&lt;/span&gt; Имя ветки по умолчанию&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Информация&lt;/h2&gt;
&lt;h3 id="поддерживаемые-базы-данных"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Поддерживаемые базы данных&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;MySQL (&amp;gt;=5.7)&lt;/li&gt;
&lt;li&gt;PostgreSQL (&amp;gt;=10)&lt;/li&gt;
&lt;li&gt;SQLite3&lt;/li&gt;
&lt;li&gt;MSSQL (&amp;gt;=2008R2 SP3)&lt;/li&gt;
&lt;li&gt;TiDB (MySQL protocol)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="пререквизиты"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Пререквизиты&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Установите базовый сервер (см.
).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="пользователь"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Пользователь&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Создадим пользователя для работы с gitea.
&lt;ul&gt;
&lt;li&gt;Ubuntu/Debian:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;adduser &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --system &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --shell /bin/bash &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --gecos &lt;span class="s1"&gt;&amp;#39;Git Version Control&amp;#39;&lt;/span&gt; &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --group &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --disabled-password &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --home /home/git &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Fedora/RHEL/CentOS:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;groupadd --system git
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;adduser &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --system &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --shell /bin/bash &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --comment &lt;span class="s1"&gt;&amp;#39;Git Version Control&amp;#39;&lt;/span&gt; &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --gid git &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --home-dir /home/git &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; --create-home &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;&lt;/span&gt; git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="база-данных"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; База данных&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Установите нужную базу данных.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="sqlite"&gt;&lt;span class="section-num"&gt;2.2.1&lt;/span&gt; SqLite&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установите sqlite:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install sqlite
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Настроек не требуется.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="postgresql"&gt;&lt;span class="section-num"&gt;2.2.2&lt;/span&gt; PostgreSQL&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Установите postgresql:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install postgresql-server postgresql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Создайте начальную базу данных:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/usr/bin/postgresql-setup --initdb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Запустите PostgreSQL:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now postgresql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Если требуется удалённая настройка PostgreSQL, добавьте адрес для прослушивания вашего IP-адреса, отредактировав &lt;code&gt;listen_addresses&lt;/code&gt; в &lt;code&gt;/var/lib/pgsql/data/postgresql.conf&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;listen_addresses = &amp;#39;localhost, 203.0.113.3&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;PostgreSQL по умолчанию использует схему запрос-ответ &lt;code&gt;md5&lt;/code&gt; для аутентификации.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В настоящее время эта схема не считается безопасной.&lt;/li&gt;
&lt;li&gt;Вместо этого используйте схему &lt;code&gt;SCRAM-SHA-256&lt;/code&gt;, отредактировав &lt;code&gt;postgresql.conf&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;password_encryption = scram-sha-256
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;На сервере базы данных войдите в консоль базы данных как суперпользователь:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;su -c psql - postgres
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Создайте пользователя базы данных с правами входа и паролем:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CREATE ROLE gitea WITH LOGIN PASSWORD &lt;span class="s1"&gt;&amp;#39;gitea&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Замените имя пользователя и пароль соответствующим образом.&lt;/li&gt;
&lt;li&gt;Сменить пароль потом можно будет следующим образом:
&lt;ul&gt;
&lt;li&gt;На сервере базы данных войдите в консоль базы данных как суперпользователь:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;su -c psql - postgres
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Смените пароль пользователю &lt;code&gt;gitea&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="se"&gt;\p&lt;/span&gt;assword gitea
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Создайте базу данных с кодировкой UTF-8, принадлежащую пользователю базы данных, созданному ранее:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CREATE DATABASE gitea WITH OWNER gitea TEMPLATE template0 ENCODING UTF8 LC_COLLATE &lt;span class="s1"&gt;&amp;#39;ru_RU.UTF-8&amp;#39;&lt;/span&gt; LC_CTYPE &lt;span class="s1"&gt;&amp;#39;ru_RU.UTF-8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Замените имя базы данных соответствующим образом.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Разрешите пользователю базы данных доступ к базе данных, созданной выше, добавив следующее правило аутентификации в файл &lt;code&gt;/var/lib/pgsql/data/pg_hba.conf&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Для локальной базы данных:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;local gitea gitea scram-sha-256
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;host gitea gitea 127.0.0.1/32 scram-sha-256
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Для удаленной базы данных:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;host gitea gitea 192.0.2.10/32 scram-sha-256
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Замените имя базы данных, пользователя и IP-адрес экземпляра Gitea на свои собственные.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Перезапустите PostgreSQL, чтобы применить новые правила аутентификации:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl restart postgresql.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;На вашем сервере Gitea проверьте соединение с базой данных.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Для локальной базы данных:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;psql -U gitea -d giteadb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Для удаленной базы данных:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;psql &lt;span class="s2"&gt;&amp;#34;postgres://gitea@203.0.113.3/giteadb&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gitea&lt;/code&gt; : пользователь базы данных,&lt;/li&gt;
&lt;li&gt;&lt;code&gt;giteadb&lt;/code&gt; : имя базы данных;&lt;/li&gt;
&lt;li&gt;203.0.113.3 : IP-адрес экземпляра вашей базы данных.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Вам будет предложено ввести пароль для пользователя базы данных и подключиться к базе данных.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="брандмауэр"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Брандмауэр&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Если не будете включать проксирование через web-сервер, то разрешите работать по порту 3000:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;firewall-cmd --permanent --zone&lt;span class="o"&gt;=&lt;/span&gt;public --add-port&lt;span class="o"&gt;=&lt;/span&gt;3000/tcp
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;firewall-cmd --reload
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Установка&lt;/h2&gt;
&lt;h3 id="установка-бинарного-пакета"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Установка бинарного пакета&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Пакета &lt;code&gt;gitea&lt;/code&gt; в Rocky Linux нет.&lt;/li&gt;
&lt;li&gt;Устанавливать будем в локальную иерархию:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /usr/local/bin
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Скачаем последнюю версию &lt;code&gt;gitea&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;curl -s https://api.github.com/repos/go-gitea/gitea/releases/latest &lt;span class="p"&gt;|&lt;/span&gt;grep browser_download_url &lt;span class="p"&gt;|&lt;/span&gt; cut -d &lt;span class="s1"&gt;&amp;#39;&amp;#34;&amp;#39;&lt;/span&gt; -f &lt;span class="m"&gt;4&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="s1"&gt;&amp;#39;\linux-amd64$&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; wget -i - -O /usr/local/bin/gitea
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установим права на выполнение файла:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chmod +x /usr/local/bin/gitea
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Восстановим метки безопасности:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;restorecon -rv /usr/local/bin/gitea
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="структура-папок"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Структура папок&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Создадим рабочую структур папок:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir -p /etc/gitea /var/lib/gitea/&lt;span class="o"&gt;{&lt;/span&gt;custom,data,indexers,public,log&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chown git:git /var/lib/gitea/&lt;span class="o"&gt;{&lt;/span&gt;data,indexers,log&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chmod &lt;span class="m"&gt;750&lt;/span&gt; /var/lib/gitea/&lt;span class="o"&gt;{&lt;/span&gt;data,indexers,log&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chown root:git /etc/gitea
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chmod &lt;span class="m"&gt;770&lt;/span&gt; /etc/gitea
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="сервис-systemd"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Сервис systemd&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Скачает файл сервиса:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;wget https://raw.githubusercontent.com/go-gitea/gitea/master/contrib/systemd/gitea.service -P /etc/systemd/system/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Перечитает файлы сервисов:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl daemon-reload
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="запуск-gitea"&gt;&lt;span class="section-num"&gt;3.4&lt;/span&gt; Запуск gitea&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Запустим gitea:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now gitea
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="проксирование"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Проксирование&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Можно настроить проксирование gitea через nginx.&lt;/li&gt;
&lt;li&gt;Это не обязательно.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="установка-nginx"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Установка nginx&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Установим nginx:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dnf install nginx
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="брандмауэр"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Брандмауэр&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Настроим брандмауэр:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;firewall-cmd --add-servic&lt;span class="o"&gt;={&lt;/span&gt;http,https&lt;span class="o"&gt;}&lt;/span&gt; --permanent
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;firewall-cmd --reload
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="selinux"&gt;&lt;span class="section-num"&gt;4.3&lt;/span&gt; SELinux&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Разрешите nginx перенаправление:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;setsebool -P httpd_can_network_connect &lt;span class="m"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;setsebool httpd_can_network_connect &lt;span class="m"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="конфигурация-nginx"&gt;&lt;span class="section-num"&gt;4.4&lt;/span&gt; Конфигурация nginx&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;В файле &lt;code&gt;/etc/nginx/conf.d/gitea.conf&lt;/code&gt; опишем конфигурацию для перенаправления:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;server {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; server_name hub.example.com;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; location / {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; client_max_body_size 512M;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; proxy_pass http://localhost:3000;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; proxy_set_header Host $host;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; proxy_set_header X-Real-IP $remote_addr;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; proxy_set_header X-Forwarded-Proto $scheme;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="конфигурационный-файл-app-dot-ini"&gt;&lt;span class="section-num"&gt;4.5&lt;/span&gt; Конфигурационный файл app.ini&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Добавьте в &lt;code&gt;/etc/gitea/app.ini&lt;/code&gt; в секцию &lt;code&gt;[security]&lt;/code&gt; чтобы задать доверенные прокси-серверы:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;[security]
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;REVERSE_PROXY_LIMIT = 1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;REVERSE_PROXY_TRUSTED_PROXIES = 127.0.0.1/8
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="настройка-ssl"&gt;&lt;span class="section-num"&gt;4.6&lt;/span&gt; Настройка SSL&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Установите &lt;em&gt;certbot&lt;/em&gt; (см.
)&lt;/li&gt;
&lt;li&gt;Создайте сертификат.&lt;/li&gt;
&lt;li&gt;Конфигурационный файл &lt;em&gt;Nginx&lt;/em&gt; будет иметь вид:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;server {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; listen 443 ssl http2;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; listen [::]:443 ssl http2;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; server_name hub.example.com;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ssl_certificate /etc/letsencrypt/live/hub.example.com/fullchain.pem;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ssl_certificate_key /etc/letsencrypt/live/hub.example.com/privkey.pem;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; include /etc/letsencrypt/options-ssl-nginx.conf;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; charset utf-8;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; gzip on;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; gzip_types text/css application/javascript text/javascript application/x-javascript image/svg+xml text/plain text/xsd text/xsl text/xml image/x-icon;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; proxy_read_timeout 300;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; proxy_connect_timeout 300;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; proxy_send_timeout 300;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; location / {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; client_max_body_size 512M;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; proxy_pass http://localhost:3000;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; proxy_set_header Connection $http_connection;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; proxy_set_header Upgrade $http_upgrade;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; proxy_set_header Host $host;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; proxy_set_header X-Real-IP $remote_addr;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; proxy_set_header X-Forwarded-Proto $scheme;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;server {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; # Redirect HTTP traffic to HTTPS
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; listen 80;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; listen [::]:80;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; server_name hub.example.com;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; return 301 https://$server_name$request_uri;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="начальная-конфигурация"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Начальная конфигурация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Без проксирования: подключитесь к хосту с gitea по порту 3000 (&lt;code&gt;http://yourserver-ip-address:3000&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;C проксированием: подключитесь к хосту с gitea (&lt;code&gt;http://yourserver-ip-address&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Заполните настройки gitea:
&lt;ul&gt;
&lt;li&gt;Тип базы данных: PostgreSQL.&lt;/li&gt;
&lt;li&gt;Имя пользователя: gitea&lt;/li&gt;
&lt;li&gt;Пароль: пароль, который Вы задали.&lt;/li&gt;
&lt;li&gt;Имя базы данных: gitea&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="дополнительные-настройки"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Дополнительные настройки&lt;/h2&gt;
&lt;h3 id="fail2ban"&gt;&lt;span class="section-num"&gt;6.1&lt;/span&gt; fail2ban&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Настроим fail2ban (см.
)&lt;/li&gt;
&lt;li&gt;Документация:
&lt;/li&gt;
&lt;li&gt;Добавьте фильтр &lt;code&gt;/etc/fail2ban/filter.d/gitea.conf&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# gitea.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;[Definition]
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;failregex = .*(Failed authentication attempt|invalid credentials|Attempted access of unknown user).* from &amp;lt;HOST&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;ignoreregex =
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Добавьте ограничение &lt;code&gt;/etc/fail2ban/jail.d/80-gitea.conf&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;gitea&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;enabled&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;filter&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;gitea&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;logpath&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;var&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nb"&gt;log&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gitea&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gitea&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;log&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;maxretry&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;findtime&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;3600&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;bantime&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;900&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;action&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;iptables&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;allports&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Поправьте секцию &lt;code&gt;[log]&lt;/code&gt; в &lt;code&gt;/etc/gitea/app.ini&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;log&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;MODE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;file&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;LEVEL&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;info&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;ROOT_PATH&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;var&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nb"&gt;log&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gitea&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Создайте нужный каталог:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir -p /var/log/gitea
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chown git:git /var/log/gitea
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="имя-ветки-по-умолчанию"&gt;&lt;span class="section-num"&gt;6.2&lt;/span&gt; Имя ветки по умолчанию&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Gitea устанавливает имя главной ветки по умолчанию на &lt;code&gt;main&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Имя ветка по умолчанию можно установить в файле &lt;code&gt;/etc/gitea/app.ini&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;[repository]
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;DEFAULT_BRANCH = master
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Хостинг git. gitea</title><link>http://localhost:1313/ru/post/2023/10/29/git-hosting-gitea/</link><pubDate>Sun, 29 Oct 2023 18:54:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2023/10/29/git-hosting-gitea/</guid><description>&lt;p&gt;Хостинг git. gitea.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ресурсы"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Ресурсы&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка-и-настройка"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Установка и настройка&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#миграция"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Миграция&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#использование"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Использование&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#утилиты"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Утилиты&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Документация:
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="ресурсы"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Ресурсы&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Awesome Gitea
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка-и-настройка"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Установка и настройка&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="миграция"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Миграция&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="использование"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Использование&lt;/h2&gt;
&lt;h2 id="утилиты"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Утилиты&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Система контроля версий git</title><link>http://localhost:1313/ru/post/2020/12/07/git-cvs/</link><pubDate>Mon, 07 Dec 2020 15:47:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2020/12/07/git-cvs/</guid><description>&lt;p&gt;Использование системы контроля версий &lt;em&gt;git&lt;/em&gt;.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#использование-git"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Использование git&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#взаимодествие-с-репозиториями"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Взаимодествие с репозиториями&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#хостинги-git"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Хостинги git&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#расширения-git"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Расширения git&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#преподавание-git"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Преподавание git&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="использование-git"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Использование git&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="взаимодествие-с-репозиториями"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Взаимодествие с репозиториями&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="хостинги-git"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Хостинги git&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="расширения-git"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Расширения git&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="преподавание-git"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Преподавание git&lt;/h2&gt;
&lt;p&gt;Предполагается вводить git в лабораторные работы начиная с 1 курса.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1 курс
&lt;ul&gt;
&lt;li&gt;Операционные системы (Архитектура ЭВМ)
&lt;ul&gt;
&lt;li&gt;Работа с git даётся в стиле &lt;em&gt;monkey see, monkey do&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Основы работы в git.&lt;/li&gt;
&lt;li&gt;Создание учётной записи на Github.&lt;/li&gt;
&lt;li&gt;Выкладывание лабораторных работ на Git.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Операционные системы
&lt;ul&gt;
&lt;li&gt;Основы работы с git
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;Основы работы в git.&lt;/li&gt;
&lt;li&gt;Создание учётной записи на Github.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Сценарии работы с git
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;Формат коммитов и версий. Даётся as is, без особых пояснений.&lt;/li&gt;
&lt;li&gt;Выкладывание лабораторных работ на Git.&lt;/li&gt;
&lt;li&gt;Использование git-flow.&lt;/li&gt;
&lt;li&gt;Семантическое версионирование.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Для всех курсов
&lt;ul&gt;
&lt;li&gt;Рабочее пространство курса располагается в git (см.
).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item></channel></rss>