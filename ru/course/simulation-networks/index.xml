<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Моделирование сетей передачи данных | Д. С. Кулябов</title>
    <link>https://yamadharma.github.io/ru/course/simulation-networks/</link>
      <atom:link href="https://yamadharma.github.io/ru/course/simulation-networks/index.xml" rel="self" type="application/rss+xml" />
    <description>Моделирование сетей передачи данных</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>ru-ru</language><copyright>© 2022 Dmitry S. Kulyabov</copyright><lastBuildDate>Thu, 13 Oct 2022 14:27:00 +0300</lastBuildDate>
    <image>
      <url>https://yamadharma.github.io/media/icon_hu0a661dd90139895e92e2f18ae9404407_611148_512x512_fill_lanczos_center_3.png</url>
      <title>Моделирование сетей передачи данных</title>
      <link>https://yamadharma.github.io/ru/course/simulation-networks/</link>
    </image>
    
    <item>
      <title>Mininet. Лабораторные работы</title>
      <link>https://yamadharma.github.io/ru/course/simulation-networks/mininet-lab/</link>
      <pubDate>Thu, 29 Sep 2022 21:19:00 +0300</pubDate>
      <guid>https://yamadharma.github.io/ru/course/simulation-networks/mininet-lab/</guid>
      <description>&lt;p&gt;Лабораторные работы.&lt;/p&gt;
&lt;h2 id=&#34;введение-в-mininet&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1&lt;/span&gt; Введение в Mininet&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://yamadharma.github.io/ru/course/simulation-networks/mininet-intro/&#34;&gt;Введение в Mininet&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;генератор-трафика-iperf&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2&lt;/span&gt; Генератор трафика Iperf&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://yamadharma.github.io/ru/course/simulation-networks/mininet-iperf-intro/&#34;&gt;Mininet. Введение в Iperf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;использование-netem-dot-часть-1&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3&lt;/span&gt; Использование netem. Часть 1&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://yamadharma.github.io/ru/course/simulation-networks/mininet-netem-i/&#34;&gt;Mininet. Использование netem (latency, jitter)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;использование-netem-dot-часть-2&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4&lt;/span&gt; Использование netem. Часть 2&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://yamadharma.github.io/ru/course/simulation-networks/mininet-netem-ii/&#34;&gt;Mininet. Использование netem (потери пакетов)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    
    <item>
      <title>Введение в Mininet</title>
      <link>https://yamadharma.github.io/ru/course/simulation-networks/mininet-intro/</link>
      <pubDate>Thu, 31 Mar 2022 16:10:00 +0300</pubDate>
      <guid>https://yamadharma.github.io/ru/course/simulation-networks/mininet-intro/</guid>
      <description>&lt;p&gt;Введение в средство натурного моделирования &lt;em&gt;Mininet&lt;/em&gt;.&lt;/p&gt;
&lt;h2 id=&#34;настройка-стенда-виртуальной-машины-mininet&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1&lt;/span&gt; Настройка стенда виртуальной машины &lt;em&gt;Mininet&lt;/em&gt;&lt;/h2&gt;
&lt;h3 id=&#34;общая-информация&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.1&lt;/span&gt; Общая информация&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий &lt;em&gt;Mininet&lt;/em&gt;: &lt;a href=&#34;https://github.com/mininet/mininet&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://github.com/mininet/mininet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Образ виртуальной машины: &lt;a href=&#34;https://github.com/mininet/mininet/releases/download/2.3.0/mininet-2.3.0-210211-ubuntu-20.04.1-legacy-server-amd64-ovf.zip&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;mininet-2.3.0-210211-ubuntu-20.04.1-legacy-server-amd64-ovf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;настройка-образа&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.2&lt;/span&gt; Настройка образа&lt;/h3&gt;
&lt;h4 id=&#34;virtualbox&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.2.1&lt;/span&gt; VirtualBox&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Распакуйте скачанный образ.&lt;/li&gt;
&lt;li&gt;Импортируйте файл &lt;code&gt;.ovf&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Перейдите в настройки.&lt;/li&gt;
&lt;li&gt;Добавьте дополнительный сетевой адаптер &lt;em&gt;host-only network adapter&lt;/em&gt;, который вы можете использовать для входа в образ виртуальной машины.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;подключение-к-виртуальной-машине&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.3&lt;/span&gt; Подключение к виртуальной машине&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Залогиньтесь в виртуальной машине:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;login: mininet&lt;/li&gt;
&lt;li&gt;password: mininet&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Посмотрите адрес машины:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ifconfig
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Внутренний адрес машины будет иметь вид 192.168.x.y.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Подключитесь к виртуальной машине (из терминала хостовой машины):&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ssh -Y mininet@192.168.x.y
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Настройте вход по ключу (см. &lt;a href=&#34;https://yamadharma.github.io/ru/post/2022/02/17/ssh-keys/&#34;&gt;Ключи ssh&lt;/a&gt;):&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ssh-copy-id mininet@192.168.x.y
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;настройка-параметров-xterm&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.4&lt;/span&gt; Настройка параметров &lt;em&gt;XTerm&lt;/em&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;По умолчанию &lt;em&gt;XTerm&lt;/em&gt; использует растровые шрифты, малого кегля.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Предлагается использовать векторные шрифты, кегль увеличить до 12&amp;ndash;16 пунктов.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Для этого добавим в файл конфигурации &lt;code&gt;/etc/X11/app-defaults/XTerm&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-conf-unix&#34;&gt;xterm*faceName: Monospace
xterm*faceSize: 14
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Здесь выбран системный моноширинный шрифт, кегль шрифта &amp;mdash; 14 пунктов.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;настройка-соединения-x11-для-суперпользователя&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.5&lt;/span&gt; Настройка соединения X11 для суперпользователя&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;При попытке запуска приложения из-под суперпользователя возникает ошибка:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;X11 connection rejected because of wrong authentication.
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ошибка возникает из-за того, что X-соединение выполняется от имени пользователя &lt;code&gt;mininet&lt;/code&gt;, а приложение запускается от имени пользователя &lt;code&gt;root&lt;/code&gt; с использованием &lt;code&gt;sudo&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Для исправления этой ситуации заполним файл полномочий &lt;code&gt;/root/.Xauthority&lt;/code&gt;, используя утилиту &lt;code&gt;xauth&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Для этого скопируем значение куки (MIT magic cookie) пользователя &lt;code&gt;mininet&lt;/code&gt; в файл для пользователя &lt;code&gt;root&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mininet@mininet-vm:~$ xauth list $DISPLAY
mininet-vm/unix:10  MIT-MAGIC-COOKIE-1  295acad8e35d17636924c5ab80e8462d

mininet@mininet-vm:~$ sudo -i
mininet@mininet-vm:~$ xauth list
xauth:  file /root/.Xauthority does not exist
root@mininet-vm:~# xauth add mininet-vm/unix:10  MIT-MAGIC-COOKIE-1  24fa6c77c26e2073d5b0d95e574e2456
root@mininet-vm:~# xauth list $DISPLAY
mininet-vm/unix:10  MIT-MAGIC-COOKIE-1  295acad8e35d17636924c5ab80e8462d
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Значение для &lt;em&gt;MIT-MAGIC-COOKIE&lt;/em&gt; приведено условно.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;После этого должны запускаться графические приложения.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;работа-с-mininet-из-под-windows&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.6&lt;/span&gt; Работа с Mininet из-под Windows&lt;/h3&gt;
&lt;h4 id=&#34;варианты-xserver&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.6.1&lt;/span&gt; Варианты Xserver&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Использовать можно любой вариант Xserver.&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;VcXsrv Windows X Server&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Сайт: &lt;a href=&#34;https://sourceforge.net/projects/vcxsrv/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://sourceforge.net/projects/vcxsrv/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Лицензия: GPLv3.&lt;/li&gt;
&lt;li&gt;Компиляция: Visual C++ 2012 Express Edition&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;
&lt;p&gt;Xming X Server&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Сайт: &lt;a href=&#34;http://www.straightrunning.com/XmingNotes/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;http://www.straightrunning.com/XmingNotes/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Лицензия:
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Public Domain Release&lt;/em&gt;: MIT&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Website Release&lt;/em&gt;: за загрузку новых выпусков необходимо вносить плату; приобретение лицензии дает пользователю доступ к новым загрузкам в течение одного года.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Компиляция: MinGW, Pthreads-Win32.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;установка-программного-обеспечения&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.6.2&lt;/span&gt; Установка программного обеспечения&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установите &lt;code&gt;putty&lt;/code&gt;:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;choco install putty
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Установите VcXsrv Windows X Server
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;choco install vcxsrv
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;запуск-xserver&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.6.3&lt;/span&gt; Запуск Xserver&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Запустите &lt;code&gt;XLaunch&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Выберите опции:
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Multiple windows&lt;/em&gt;;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Display number&lt;/em&gt;: -1;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Start no client&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Можно сохранить параметры, тогда при следующем запуске не нужно будет отмечать эти опции.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;запуск-putty&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.6.4&lt;/span&gt; Запуск putty&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;При подключении добавьте опцию перенаправления X11:
&lt;ul&gt;
&lt;li&gt;Connection, SSH, X11 : &lt;em&gt;Enable X11 forwarding&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;обновление-версии-mininet&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2&lt;/span&gt; Обновление версии &lt;em&gt;Mininet&lt;/em&gt;&lt;/h2&gt;
&lt;h3 id=&#34;настройка-доступа-к-интернету&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2.1&lt;/span&gt; Настройка доступа к интернету&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Добавьте в настройках Virualbox интерфейс &lt;em&gt;NAT&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Загрузите виртуальную машину.&lt;/li&gt;
&lt;li&gt;Залогиньтесь в виртуальной машине:
&lt;ul&gt;
&lt;li&gt;login: mininet&lt;/li&gt;
&lt;li&gt;password: mininet&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Посмотрите адрес машины:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ifconfig
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Должен быть активным адрес NAT: &lt;code&gt;10.0.0.x&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Если вместо этого активен внутренний адрес машины вида &lt;code&gt;192.168.x.y&lt;/code&gt;, то активируйте второй интерфейс наберите:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo dhclient eth1
ifconfig
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;обновление-версии-mininet&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2.2&lt;/span&gt; Обновление версии &lt;em&gt;Mininet&lt;/em&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Переименуйте предыдущую установку &lt;em&gt;Mininet&lt;/em&gt;:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mv ~/mininet ~/mininet.orig
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Скачайте новую версию &lt;em&gt;Mininet&lt;/em&gt;:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cd ~
git clone https://github.com/mininet/mininet.git
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Обновите исполняемые файлы:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cd ~/mininet
sudo make install
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;основы-работы-в-mininet&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3&lt;/span&gt; Основы работы в &lt;em&gt;Mininet&lt;/em&gt;&lt;/h2&gt;
&lt;h3 id=&#34;работа-с-mininet-с-помощью-командной-строки&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.1&lt;/span&gt; Работа с Mininet с помощью командной строки&lt;/h3&gt;
&lt;h4 id=&#34;вызов-mininet-с-использованием-топологии-по-умолчанию&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.1.1&lt;/span&gt; Вызов Mininet с использованием топологии по умолчанию&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Чтобы запустить минимальную топологию, введите команду:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo mn
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Эта команда запускает Mininet с минимальной топологией, состоящей из коммутатора, подключенного к двум хостам.&lt;/li&gt;
&lt;li&gt;Чтобы отобразить список команд интерфейса командной строки Mininet и примеры их использования, введите команду в интерфейсе командной строки Mininet:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;help
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Чтобы отобразить доступные узлы, введите команду:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;nodes
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Вывод этой команды показывает, что есть два хоста (хост &lt;code&gt;h1&lt;/code&gt; и хост &lt;code&gt;h2&lt;/code&gt;) и коммутатор (&lt;code&gt;s1&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Иногда бывает полезно отобразить связи между устройствами в Mininet, чтобы понять топологию. Введите команду &lt;code&gt;net&lt;/code&gt; в интерфейсе командной строки Mininet, чтобы просмотреть доступные линки:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;net
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Вывод этой команды показывает:
&lt;ul&gt;
&lt;li&gt;Хост &lt;code&gt;h1&lt;/code&gt; подключён через свой сетевой интерфейс &lt;code&gt;h1-eth0&lt;/code&gt; к коммутатору на интерфейсе &lt;code&gt;s1-eth1&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Хост &lt;code&gt;h2&lt;/code&gt; подключён через свой сетевой интерфейс &lt;code&gt;h2-eth0&lt;/code&gt; к коммутатору на интерфейсе &lt;code&gt;s1-eth2&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Коммутатор &lt;code&gt;s1&lt;/code&gt;:
&lt;ul&gt;
&lt;li&gt;имеет петлевой интерфейс &lt;code&gt;lo&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;подключается к &lt;code&gt;h1-eth0&lt;/code&gt; через интерфейс &lt;code&gt;s1-eth1&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;подключается к &lt;code&gt;h2-eth0&lt;/code&gt; через интерфейс &lt;code&gt;s1-eth2&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Mininet позволяет выполнять команды на конкретном устройстве. Чтобы выполнить команду для определенного узла, необходимо сначала указать устройство, а затем команду, например:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;h1 ifconfig
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Эта команда выполняет команду &lt;code&gt;ifconfig&lt;/code&gt; на хосте &lt;code&gt;h1&lt;/code&gt;. Команда показывает интерфейсы хоста &lt;code&gt;h1&lt;/code&gt;. Показано, что хост &lt;code&gt;h1&lt;/code&gt; имеет интерфейс &lt;code&gt;h1-eth0&lt;/code&gt;, настроенный с IP-адресом &lt;code&gt;10.0.0.1&lt;/code&gt;, и другой интерфейс &lt;code&gt;lo&lt;/code&gt;, настроенный с IP-адресом &lt;code&gt;127.0.0.1&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Посмотрите конфигурацию всех узлов.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;проверка-связности&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.1.2&lt;/span&gt; Проверка связности&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;По умолчанию назначаются IP-адреса &lt;code&gt;10.0.0.1/8&lt;/code&gt; и &lt;code&gt;10.0.0.2/8&lt;/code&gt; узлам &lt;code&gt;h1&lt;/code&gt; и &lt;code&gt;h2&lt;/code&gt; соответственно. Чтобы проверить связь между ними, вы можете использовать команду &lt;code&gt;ping&lt;/code&gt;. Команда &lt;code&gt;ping&lt;/code&gt; работает, отправляя сообщения эхо-запроса протокола управляющих сообщений Интернета (ICMP) на удаленный компьютер и ожидая ответа.&lt;/li&gt;
&lt;li&gt;Введите
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;h1 ping 10.0.0.2
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Эта команда проверяет соединение между хостами &lt;code&gt;h1&lt;/code&gt; и &lt;code&gt;h2&lt;/code&gt;. Чтобы остановить тест, нажмите &lt;code&gt;Ctrl+c&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Остановите эмуляцию, набрав:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;exit
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Заметим, что команда &lt;code&gt;sudo mn -c&lt;/code&gt; часто используется в терминале для очистки предыдущего экземпляра Mininet (например, после сбоя).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;построение-и-эмуляция-сети-в-mininet-с-использованием-графического-интерфейса&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.2&lt;/span&gt; Построение и эмуляция сети в Mininet с использованием графического интерфейса&lt;/h3&gt;
&lt;h4 id=&#34;построение-топологии-сети&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.2.1&lt;/span&gt; Построение топологии сети&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Запустите &lt;em&gt;MiniEdit&lt;/em&gt;:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo ~/mininet/mininet/examples/miniedit.py
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Основные кнопки:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Select&lt;/code&gt;: позволяет выбирать/перемещать устройства. Нажатие &lt;code&gt;Del&lt;/code&gt; на клавиатуре после выбора устройства удаляет его из топологии.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Host&lt;/code&gt;: позволяет добавить новый хост в топологию. После нажатия этой кнопки щелкните в любом месте пустого холста, чтобы вставить новый хост.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Switch&lt;/code&gt;: позволяет добавить в топологию новый коммутатор. После нажатия этой кнопки щелкните в любом месте пустого холста, чтобы вставить переключатель.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Link&lt;/code&gt;: соединяет устройства в топологии. После нажатия этой кнопки щелкните устройство и перетащите его на второе устройство, с которым необходимо установить связь.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Run&lt;/code&gt;: запускает эмуляцию. После проектирования и настройки топологии нажмите кнопку запуска.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Stop&lt;/code&gt;: останавливает эмуляцию.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Добавьте два хоста и один коммутатор.&lt;/li&gt;
&lt;li&gt;Настройте IP-адреса на хостах &lt;code&gt;h1&lt;/code&gt; и &lt;code&gt;h2&lt;/code&gt;. IP-адрес хоста &lt;code&gt;h1&lt;/code&gt; &amp;mdash; &lt;code&gt;10.0.0.1/8&lt;/code&gt;, а IP-адрес хоста &lt;code&gt;h2&lt;/code&gt; &amp;mdash; &lt;code&gt;10.0.0.2/8&lt;/code&gt;. Хост можно настроить, удерживая правую кнопку мыши и выбирая свойства на устройстве.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;проверка-связности&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.2.2&lt;/span&gt; Проверка связности&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Перед проверкой соединения между хостом &lt;code&gt;h1&lt;/code&gt; и хостом &lt;code&gt;h2&lt;/code&gt; необходимо запустить эмуляцию.&lt;/li&gt;
&lt;li&gt;Нажмите кнопку &lt;em&gt;Run&lt;/em&gt;, чтобы запустить эмуляцию. Начнётся эмуляция, и кнопки панели MiniEdit станут серыми, указывая на то, что в настоящее время они отключены.&lt;/li&gt;
&lt;li&gt;Откройте терминал на хосте &lt;code&gt;h1&lt;/code&gt;, удерживая правую кнопку мыши на хосте &lt;code&gt;h1&lt;/code&gt; и выбрав &lt;em&gt;Terminal&lt;/em&gt;. Это открывает терминал на хосте &lt;code&gt;h1&lt;/code&gt; и позволяет выполнять команды на хосте &lt;code&gt;h1&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Повторите процедуру на хосте &lt;code&gt;h2&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;На терминале хоста &lt;code&gt;h1&lt;/code&gt; введите команду &lt;code&gt;ifconfig&lt;/code&gt;, чтобы отобразить назначенные ему IP-адреса. Интерфейс &lt;code&gt;h1-eth0&lt;/code&gt; на хосте &lt;code&gt;h1&lt;/code&gt; должен быть настроен с IP-адресом &lt;code&gt;10.0.0.1&lt;/code&gt; и маской подсети &lt;code&gt;255.0.0.0&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Повторите эти действия на хосте &lt;code&gt;h2&lt;/code&gt;. Его интерфейс &lt;code&gt;h2-eth0&lt;/code&gt; должен быть настроен с IP-адресом &lt;code&gt;10.0.0.2&lt;/code&gt; и маской подсети &lt;code&gt;255.0.0.0&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;На терминале хоста &lt;code&gt;h1&lt;/code&gt; введите команду &lt;code&gt;ping 10.0.0.2&lt;/code&gt;. Эта команда проверяет соединение между хостом &lt;code&gt;h1&lt;/code&gt; и хостом &lt;code&gt;h2&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Чтобы остановить тест, нажмите &lt;code&gt;Ctrl+c&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Остановите эмуляцию, нажав кнопку &lt;em&gt;Stop&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;автоматическое-назначение-ip-адресов&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.2.3&lt;/span&gt; Автоматическое назначение IP-адресов&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Ранее мы вручную назначили IP-адреса узлам &lt;code&gt;h1&lt;/code&gt; и &lt;code&gt;h2&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;В качестве альтернативы можно полагаться на Mininet для автоматического назначения IP-адресов.&lt;/li&gt;
&lt;li&gt;Удалите назначенный вручную IP-адрес с хостов &lt;code&gt;h1&lt;/code&gt; и &lt;code&gt;h2&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Нажмите кнопку Edit &amp;gt; Preferences. Базовые значения IP-адресов по умолчанию &amp;mdash; &lt;code&gt;10.0.0.0/8&lt;/code&gt;. Измените это значение на &lt;code&gt;15.0.0.0/8&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Запустите эмуляцию ещё раз, нажав кнопку &lt;em&gt;Run&lt;/em&gt;. Начнётся эмуляция, и кнопки панели MiniEdit будут отключены.&lt;/li&gt;
&lt;li&gt;Откройте терминал на хосте &lt;code&gt;h1&lt;/code&gt;, удерживая правую кнопку мыши на хосте &lt;code&gt;h1&lt;/code&gt; и выбрав &lt;em&gt;Terminal&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Введите команду (чтобы отобразить IP-адреса, назначенные хосту &lt;code&gt;h1&lt;/code&gt;):
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ifconfig
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Интерфейс &lt;code&gt;h1-eth0&lt;/code&gt; на узле &lt;code&gt;h1&lt;/code&gt; теперь имеет IP-адрес &lt;code&gt;15.0.0.1&lt;/code&gt; и маску подсети &lt;code&gt;255.0.0.0&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Вы также можете проверить IP-адрес, назначенный хосту &lt;code&gt;h2&lt;/code&gt;. Соответствующий интерфейс &lt;code&gt;h2-eth0&lt;/code&gt; на хосте &lt;code&gt;h2&lt;/code&gt; должен иметь IP-адрес &lt;code&gt;15.0.0.2&lt;/code&gt; и маску подсети &lt;code&gt;255.0.0.0&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Остановите эмуляцию, нажав кнопку &lt;em&gt;Stop&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;сохранение-и-загрузка-топологии-mininet&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.2.4&lt;/span&gt; Сохранение и загрузка топологии Mininet&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Часто бывает полезно сохранить топологию сети, особенно когда ее сложность возрастает. MiniEdit позволяет сохранить топологию в файл.&lt;/li&gt;
&lt;li&gt;Чтобы сохранить топологию, нажмите &lt;em&gt;File&lt;/em&gt;, затем &lt;em&gt;Save&lt;/em&gt;. Укажите имя для топологии и сохраните на своем компьютере.&lt;/li&gt;
&lt;li&gt;Сохраняйте в папку &lt;code&gt;~/work&lt;/code&gt;. Для это предварительно создайте её:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mkdir ~/work
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;После сохранения поменяйте права доступа к файлам в этой папке:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo chown -R mininet:mininet ~/work
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Для загрузки топологии нажмите &lt;em&gt;File&lt;/em&gt;, затем &lt;em&gt;Open&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;видео&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4&lt;/span&gt; Видео&lt;/h2&gt;
&lt;h3 id=&#34;youtube&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.1&lt;/span&gt; Youtube&lt;/h3&gt;
&lt;h4 id=&#34;виртуальная-машина-mininet&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.1.1&lt;/span&gt; Виртуальная машина &lt;em&gt;Mininet&lt;/em&gt;&lt;/h4&gt;

&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/ZjA4bjiO_DM&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;h4 id=&#34;работа-с-mininet-из-под-windows&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.1.2&lt;/span&gt; Работа с &lt;em&gt;Mininet&lt;/em&gt; из-под Windows&lt;/h4&gt;

&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/KPQMokxQ4Gw&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;h4 id=&#34;основы-работы-в-mininet&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.1.3&lt;/span&gt; Основы работы в &lt;em&gt;Mininet&lt;/em&gt;&lt;/h4&gt;

&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/0CT45dLWwJg&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;h4 id=&#34;сохранение-топологии-mininet&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.1.4&lt;/span&gt; Сохранение топологии &lt;em&gt;Mininet&lt;/em&gt;&lt;/h4&gt;

&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/nllxRRUbWhg&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;h4 id=&#34;обновление-версии-mininet&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.1.5&lt;/span&gt; Обновление версии &lt;em&gt;Mininet&lt;/em&gt;&lt;/h4&gt;

&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/Au193oRjZhI&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;h3 id=&#34;rutube&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.2&lt;/span&gt; Rutube&lt;/h3&gt;
&lt;h4 id=&#34;виртуальная-машина-mininet&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.2.1&lt;/span&gt; Виртуальная машина &lt;em&gt;Mininet&lt;/em&gt;&lt;/h4&gt;
&lt;div class=&#34;embed video-player&#34;&gt;
  &lt;iframe class=&#34;rutube-player&#34; type=&#34;text/html&#34;
	  width=&#34;720&#34; height=&#34;405&#34;
	  src=&#34;https://rutube.ru/play/embed/3afa7009a47f1f5d44d53e282d0d5fe4&#34;
	  webkitAllowFullScreen mozallowfullscreen allowFullScreen
	  allow=&#34;clipboard-write&#34; frameborder=&#34;0&#34;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;

&lt;h4 id=&#34;работа-с-mininet-из-под-windows&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.2.2&lt;/span&gt; Работа с &lt;em&gt;Mininet&lt;/em&gt; из-под Windows&lt;/h4&gt;
&lt;div class=&#34;embed video-player&#34;&gt;
  &lt;iframe class=&#34;rutube-player&#34; type=&#34;text/html&#34;
	  width=&#34;720&#34; height=&#34;405&#34;
	  src=&#34;https://rutube.ru/play/embed/c98ef1bb6b01c1e463854464e20cd1f3&#34;
	  webkitAllowFullScreen mozallowfullscreen allowFullScreen
	  allow=&#34;clipboard-write&#34; frameborder=&#34;0&#34;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;

&lt;h4 id=&#34;основы-работы-в-mininet&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.2.3&lt;/span&gt; Основы работы в &lt;em&gt;Mininet&lt;/em&gt;&lt;/h4&gt;
&lt;div class=&#34;embed video-player&#34;&gt;
  &lt;iframe class=&#34;rutube-player&#34; type=&#34;text/html&#34;
	  width=&#34;720&#34; height=&#34;405&#34;
	  src=&#34;https://rutube.ru/play/embed/562ef53b91af0f61bc9de32986589d40&#34;
	  webkitAllowFullScreen mozallowfullscreen allowFullScreen
	  allow=&#34;clipboard-write&#34; frameborder=&#34;0&#34;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;

&lt;h4 id=&#34;сохранение-топологии-mininet&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.2.4&lt;/span&gt; Сохранение топологии &lt;em&gt;Mininet&lt;/em&gt;&lt;/h4&gt;
&lt;div class=&#34;embed video-player&#34;&gt;
  &lt;iframe class=&#34;rutube-player&#34; type=&#34;text/html&#34;
	  width=&#34;720&#34; height=&#34;405&#34;
	  src=&#34;https://rutube.ru/play/embed/dc30dc91ca8a64bb41cea98ad6902037&#34;
	  webkitAllowFullScreen mozallowfullscreen allowFullScreen
	  allow=&#34;clipboard-write&#34; frameborder=&#34;0&#34;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;

&lt;h4 id=&#34;обновление-версии-mininet&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.2.5&lt;/span&gt; Обновление версии &lt;em&gt;Mininet&lt;/em&gt;&lt;/h4&gt;
&lt;div class=&#34;embed video-player&#34;&gt;
  &lt;iframe class=&#34;rutube-player&#34; type=&#34;text/html&#34;
	  width=&#34;720&#34; height=&#34;405&#34;
	  src=&#34;https://rutube.ru/play/embed/9e94e56ff5967c0bce0952a738b9761c&#34;
	  webkitAllowFullScreen mozallowfullscreen allowFullScreen
	  allow=&#34;clipboard-write&#34; frameborder=&#34;0&#34;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Mininet. Введение в Iperf</title>
      <link>https://yamadharma.github.io/ru/course/simulation-networks/mininet-iperf-intro/</link>
      <pubDate>Thu, 29 Sep 2022 21:11:00 +0300</pubDate>
      <guid>https://yamadharma.github.io/ru/course/simulation-networks/mininet-iperf-intro/</guid>
      <description>&lt;p&gt;Введение в Iperf.&lt;/p&gt;
&lt;h2 id=&#34;общая-информация&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;h3 id=&#34;цели&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.1&lt;/span&gt; Цели&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Освоить основные приёмы работы с генератором трафика &lt;code&gt;iperf3&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;задачи&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.2&lt;/span&gt; Задачи&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Подготовить лабораторный стенд.&lt;/li&gt;
&lt;li&gt;В процессе интерактивного эксперимента изучить основные опции и шаблоны использования генератора трафика &lt;code&gt;iperf3&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Построить графики по данным интерактивного эксперимента.&lt;/li&gt;
&lt;li&gt;В процессе воспроизводимого эксперимента получить представление о создании скриптов эксперимента.&lt;/li&gt;
&lt;li&gt;Построить графики по данным воспроизводимого эксперимента.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;основные-термины&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.3&lt;/span&gt; Основные термины&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Полоса пропускания (Bandwidth) &amp;mdash; это физическое свойство среды передачи, которое зависит от таких факторов, как конструкция и длина провода или волокна.
&lt;ul&gt;
&lt;li&gt;Для сетевых инженеров пропускная способность &amp;mdash; это максимальная скорость передачи данных канала, величина, измеряемая в битах в секунду (бит/с)&lt;/li&gt;
&lt;li&gt;На производительность могут влиять несколько факторов, таких как задержка, потеря пакетов, джиттер и другие.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Пропускная способность (throughput) &amp;mdash; это скорость в битах в секунду, с которой процесс-отправитель может доставлять биты процессу-получателю (при связи между двумя конечными устройствами).
&lt;ul&gt;
&lt;li&gt;Поскольку другие сеансы будут совместно использовать полосу пропускания по сетевому пути и поскольку эти другие сеансы будут повторяться, доступная пропускная способность может колебаться со временем&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Иногда термины &lt;em&gt;пропускная способность&lt;/em&gt; (throughput) и &lt;em&gt;полоса пропускания&lt;/em&gt; (bandwidth) используются взаимозаменяемо.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;iperf3&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.4&lt;/span&gt; Iperf3&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;iPerf3&lt;/em&gt; &amp;mdash; это инструмент для измерения пропускной способности сети в режиме реального времени.&lt;/li&gt;
&lt;li&gt;Сайт: &lt;a href=&#34;https://iperf.fr/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://iperf.fr/&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Репозиторий: &lt;a href=&#34;https://github.com/esnet/iperf&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://github.com/esnet/iperf&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Лицензия: 3-пунктовая лицензия BSD.&lt;/li&gt;
&lt;li&gt;iPerf3 может работать с протоколами TCP, UDP и SCTP:
&lt;ul&gt;
&lt;li&gt;TCP и SCTP:
&lt;ul&gt;
&lt;li&gt;измерение пропускной способности;&lt;/li&gt;
&lt;li&gt;размер MSS/MTU;&lt;/li&gt;
&lt;li&gt;поддержка размера окна TCP.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;UDP:
&lt;ul&gt;
&lt;li&gt;клиент может создавать потоки UDP с заданной пропускной способностью;&lt;/li&gt;
&lt;li&gt;измерение потери пакетов;&lt;/li&gt;
&lt;li&gt;измерение джиттера задержки;&lt;/li&gt;
&lt;li&gt;поддержка групповой рассылки (multicast).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;графики-по-iperf3&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.5&lt;/span&gt; Графики по iperf3&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для построения графиков по iperf3 будем использовать пакет &lt;code&gt;iperf3_plotter&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Репозиторий: &lt;a href=&#34;https://github.com/ekfoury/iperf3_plotter&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://github.com/ekfoury/iperf3_plotter&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Скрипты:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;preprocessor.sh&lt;/code&gt;: преобразует файл JSON iPerf3 в файл значений, разделённых запятыми (CSV). Использует AWK для форматирования полей.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;plot_iperf.sh&lt;/code&gt;: принимает JSON-файл iPerf3, вызывает препроцессор и вызывает gnuplot для создания выходных PDF-файлов.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;видео-введение-в-iperf-dot-введение&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.6&lt;/span&gt; Видео: Введение в Iperf. Введение&lt;/h3&gt;
&lt;nav&gt;
	&lt;div class=&#34;nav nav-tabs&#34; id=&#34;nav-tab&#34; role=&#34;tablist&#34;&gt;

		
		
		
		

		

		&lt;a class=&#34;nav-item nav-link  active &#34;
		   id=&#34;nav-edfcab&#34; data-toggle=&#34;tab&#34; href=&#34;#edfcab&#34;
		   role=&#34;tab&#34; aria-controls=&#34;nav-home&#34; aria-selected=&#34;true&#34;&gt;RuTube&lt;/a&gt;

		

		&lt;a class=&#34;nav-item nav-link &#34;
		   id=&#34;nav-ecdfab&#34; data-toggle=&#34;tab&#34; href=&#34;#ecdfab&#34;
		   role=&#34;tab&#34; aria-controls=&#34;nav-home&#34; aria-selected=&#34;true&#34;&gt;Youtube&lt;/a&gt;

		

	&lt;/div&gt;
&lt;/nav&gt;

&lt;div class=&#34;tab-content&#34; id=&#34;nav-tab-content&#34;&gt;

	





&lt;div class=&#34;tab-pane fade show active &#34; id=&#34;edfcab&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;nav-1&#34;&gt;

	

&lt;div class=&#34;embed video-player&#34;&gt;
  &lt;iframe class=&#34;rutube-player&#34; type=&#34;text/html&#34;
	  width=&#34;720&#34; height=&#34;405&#34;
	  src=&#34;https://rutube.ru/play/embed/123f83616546c2612cc7acb9a123efae&#34;
	  webkitAllowFullScreen mozallowfullscreen allowFullScreen
	  allow=&#34;clipboard-write&#34; frameborder=&#34;0&#34;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;




&lt;/div&gt;






&lt;div class=&#34;tab-pane fade show &#34; id=&#34;ecdfab&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;nav-1&#34;&gt;

	


&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/wXVasAqXlZU&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;




&lt;/div&gt;



&lt;/div&gt;
&lt;h2 id=&#34;подготовка-стенда&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2&lt;/span&gt; Подготовка стенда&lt;/h2&gt;
&lt;h3 id=&#34;лабораторная-топология&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2.1&lt;/span&gt; Лабораторная топология&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;В топологии используется сеть 10.0.0.0/8, назначенная Mininet по умолчанию.&lt;/li&gt;
&lt;li&gt;Топология представляет собой коммутатор с двумя подключёнными к нему хостами.&lt;/li&gt;
&lt;li&gt;Для запуска топологии используем параметры командной строки:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo mn --topo=single,2 -x
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Посмотрите топологию:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mininet&amp;gt; net
mininet&amp;gt; links
mininet&amp;gt; dump
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;рабочие-файлы&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2.2&lt;/span&gt; Рабочие файлы&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Подключимся к виртуальной машине:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ssh -Y mininet@192.168.x.y
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Для рабочих файлов будем использовать каталог &lt;code&gt;~/work/lab_iperf3&lt;/code&gt;:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mkdir -p ~/work/lab_iperf3
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;установка-необходимого-программного-обеспечения&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2.3&lt;/span&gt; Установка необходимого программного обеспечения&lt;/h3&gt;
&lt;h4 id=&#34;конфигурация-интерфейсов-виртуальной-машины&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2.3.1&lt;/span&gt; Конфигурация интерфейсов виртуальной машины&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Добавьте к виртуальной машине интерфейс NAT.&lt;/li&gt;
&lt;li&gt;Загрузите виртуальную машину и войдите в учётную запись &lt;code&gt;mininet&lt;/code&gt; (пароль &lt;code&gt;mininet&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Добавьте в файл &lt;code&gt;/etc/netplan/01-netcfg.yaml&lt;/code&gt; второй интерфейс.&lt;/li&gt;
&lt;li&gt;В результате файл примет следующий вид:
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;network:
  version: 2
  renderer: networkd
  ethernets:
    eth0:
      dhcp4: yes
    eth1:
      dhcp4: yes
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Перезагрузите виртуальную машину.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;установка-iperf3&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2.3.2&lt;/span&gt; Установка iperf3&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;По умолчанию стоит генератор трафика &lt;em&gt;iperf2&lt;/em&gt; (команда &lt;code&gt;iperf&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Установим &lt;em&gt;iperf3&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Загрузите виртуальную машину и войдите в учётную запись &lt;code&gt;mininet&lt;/code&gt;:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ssh -Y mininet@192.168.x.y
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Обновим список пакетов:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo apt-get update
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Установите iperf3:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo apt-get install iperf3
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;установка-скриптов-для-визуализации-результатов&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2.3.3&lt;/span&gt; Установка скриптов для визуализации результатов&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Для функционирования скриптов необходимы следующие пакеты:
&lt;ul&gt;
&lt;li&gt;gnuplot;&lt;/li&gt;
&lt;li&gt;jq;&lt;/li&gt;
&lt;li&gt;awk.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;установка-iperf3-plotter-на-виртуальную-машину&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2.3.4&lt;/span&gt; Установка &lt;code&gt;iperf3_plotter&lt;/code&gt; на виртуальную машину&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Зайдём на виртуальную машину:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ssh -Y mininet@192.168.x.y
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Обновим репозитории программного обеспечения на виртуальной машине:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo apt-get update
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установим необходимое программное обеспечение на виртуальную машину:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo apt-get install git jq gnuplot-nox mc
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Скачаем &lt;code&gt;iperf3_plotter&lt;/code&gt;. Для этого перейдём во временную рабочую папку и скачаем репозиторий:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cd /tmp
git clone https://github.com/ekfoury/iperf3_plotter.git
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установим &lt;code&gt;iperf3_plotter&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cd /tmp/iperf3_plotter
sudo cp plot_* /usr/bin
sudo cp *.sh /usr/bin
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Скрипты написаны плохо, не работают с путями, имеющими в названии пробелы.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;установка-iperf3-plotter-на-локальный-компьютер&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2.3.5&lt;/span&gt; Установка &lt;code&gt;iperf3_plotter&lt;/code&gt; на локальный компьютер&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установим &lt;code&gt;iperf3_plotter&lt;/code&gt; (на своём компьютере). Для этого перейдём во временную рабочую папку и скачаем репозиторий:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;git clone https://github.com/ekfoury/iperf3_plotter.git
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Заменим жёстко закодированные пути в файлах:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cd iperf3_plotter
sed -i -e &amp;quot;s:/usr/bin:~/.local/bin:g&amp;quot; plot_iperf.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Скопируем нужные файлы в каталог с локальными исполняемыми файлами:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cp plot_* ~/.local/bin
cp *.sh ~/.local/bin
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Скрипты написаны плохо, не работают с путями, имеющими в названии пробелы.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;видео-введение-в-iperf-dot-подготовка-стенда&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2.4&lt;/span&gt; Видео: Введение в Iperf. Подготовка стенда&lt;/h3&gt;
&lt;nav&gt;
	&lt;div class=&#34;nav nav-tabs&#34; id=&#34;nav-tab&#34; role=&#34;tablist&#34;&gt;

		
		
		
		

		

		&lt;a class=&#34;nav-item nav-link  active &#34;
		   id=&#34;nav-febdac&#34; data-toggle=&#34;tab&#34; href=&#34;#febdac&#34;
		   role=&#34;tab&#34; aria-controls=&#34;nav-home&#34; aria-selected=&#34;true&#34;&gt;RuTube&lt;/a&gt;

		

		&lt;a class=&#34;nav-item nav-link &#34;
		   id=&#34;nav-dabcfe&#34; data-toggle=&#34;tab&#34; href=&#34;#dabcfe&#34;
		   role=&#34;tab&#34; aria-controls=&#34;nav-home&#34; aria-selected=&#34;true&#34;&gt;Youtube&lt;/a&gt;

		

	&lt;/div&gt;
&lt;/nav&gt;

&lt;div class=&#34;tab-content&#34; id=&#34;nav-tab-content&#34;&gt;

	





&lt;div class=&#34;tab-pane fade show active &#34; id=&#34;febdac&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;nav-1&#34;&gt;

	

&lt;div class=&#34;embed video-player&#34;&gt;
  &lt;iframe class=&#34;rutube-player&#34; type=&#34;text/html&#34;
	  width=&#34;720&#34; height=&#34;405&#34;
	  src=&#34;https://rutube.ru/play/embed/78670543a6ed84d93571031fb2a5c247&#34;
	  webkitAllowFullScreen mozallowfullscreen allowFullScreen
	  allow=&#34;clipboard-write&#34; frameborder=&#34;0&#34;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;




&lt;/div&gt;






&lt;div class=&#34;tab-pane fade show &#34; id=&#34;dabcfe&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;nav-1&#34;&gt;

	


&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/HkBk44OZv3c&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;




&lt;/div&gt;



&lt;/div&gt;
&lt;h2 id=&#34;интерактивный-эксперимент&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3&lt;/span&gt; Интерактивный эксперимент&lt;/h2&gt;
&lt;h3 id=&#34;параметры-команды-iperf3&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.1&lt;/span&gt; Параметры команды iperf3&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Пользователь взаимодействует с iPerf3 с помощью команды &lt;code&gt;iperf3&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Основной синтаксис &lt;code&gt;iperf3&lt;/code&gt;, используемый как на клиенте, так и на сервере, выглядит следующим образом:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;iperf3 [-s|-c] [ options ]
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-s&lt;/code&gt;: запуск сервера;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-c&lt;/code&gt;: запуск клиента.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;запуск-клиента-и-сервера&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.2&lt;/span&gt; Запуск клиента и сервера&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Запустим &lt;code&gt;mininet&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo mn --topo=single,2 -x
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;В терминале &lt;code&gt;h2&lt;/code&gt; запустите сервер:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;iperf3 -s
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Теперь сервер прослушивает порт 5201 в ожидании входящих подключений.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;В терминале &lt;code&gt;h1&lt;/code&gt; запустите клиента:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;iperf3 -c 10.0.0.2
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Параметр &lt;code&gt;-c&lt;/code&gt; указывает, что хост &lt;code&gt;h1&lt;/code&gt; настроен как клиент.&lt;/li&gt;
&lt;li&gt;Параметр &lt;code&gt;10.0.0.2&lt;/code&gt; &amp;mdash; это IP-адрес сервера (хост &lt;code&gt;h2&lt;/code&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;После завершения теста отображается сводный отчет как на клиенте, так и на сервере, содержащий следующие данные:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ID&lt;/code&gt;: идентификационный номер соединения.&lt;/li&gt;
&lt;li&gt;Интервал (Interval): временной интервал для периодических отчетов о пропускной способности. По умолчанию временной интервал равен 1 секунде.&lt;/li&gt;
&lt;li&gt;Передача (Transfer): сколько данных было передано за каждый интервал времени.&lt;/li&gt;
&lt;li&gt;Пропускная способность (Bitrate): измеренная пропускная способность в каждом временном интервале.&lt;/li&gt;
&lt;li&gt;Retr: количество повторно переданных TCP-сегментов за каждый временной интервал. Это поле увеличивается, когда TCP-сегменты теряются в сети из-за перегрузки или повреждения.&lt;/li&gt;
&lt;li&gt;Cwnd: указывает размер окна перегрузки в каждом временном интервале. TCP использует эту переменную для ограничения объема данных, которые клиент TCP может отправить до получения подтверждения отправленных данных.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Чтобы остановить сервер, нажмите &lt;code&gt;Ctrl+c&lt;/code&gt; в терминале хоста &lt;code&gt;h2&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Пользователь также может видеть результаты пропускной способности на стороне сервера.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Суммарные данные на сервере аналогичны данным на стороне клиента и должны интерпретироваться таким же образом.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;запуск-клиента-и-сервера-в-интерфейсе-mininet&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.3&lt;/span&gt; Запуск клиента и сервера в интерфейсе mininet&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Тоже самое можно выполнить и интерфейсе &lt;em&gt;mininet&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Запустите сервер на хосте &lt;code&gt;h2&lt;/code&gt;:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mininet&amp;gt; h2 iperf3 -s &amp;amp;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Запустите клиента на хосте &lt;code&gt;h1&lt;/code&gt;:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mininet&amp;gt; h1 iperf3 -c h2
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Остановите серверный процесс:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mininet&amp;gt; h2 killall iperf3
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;установка-периода-времени-передачи&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.4&lt;/span&gt; Установка периода времени передачи&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;В терминале &lt;code&gt;h2&lt;/code&gt; запустите сервер:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;iperf3 -s
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;В терминале &lt;code&gt;h1&lt;/code&gt; запустите клиента с параметром &lt;code&gt;-t&lt;/code&gt;, за которым следует количество секунд:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;iperf3 -c 10.0.0.2 -t 5
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Чтобы остановить сервер, нажмите &lt;code&gt;Ctrl+c&lt;/code&gt; в терминале хоста &lt;code&gt;h2&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;установка-временного-интервала&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.5&lt;/span&gt; Установка временного интервала&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Настроим клиент для выполнения теста пропускной способности с 2-секундным интервалом времени отсчёта как на клиенте, так и на сервере.&lt;/li&gt;
&lt;li&gt;Опция &lt;code&gt;-i&lt;/code&gt; позволяет установить интервал между отсчётами в секундах.&lt;/li&gt;
&lt;li&gt;В этом случае значение должно быть установлено на 2 секунды как на клиенте, так и на сервере.&lt;/li&gt;
&lt;li&gt;Параметр &lt;code&gt;-i&lt;/code&gt; может быть указан по-разному на клиенте и сервере.&lt;/li&gt;
&lt;li&gt;В терминале &lt;code&gt;h2&lt;/code&gt; запустите сервер:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;iperf3 -s -i 2
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;В терминале &lt;code&gt;h1&lt;/code&gt; запустите клиента с параметром &lt;code&gt;-i&lt;/code&gt;, за которым следует количество секунд:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;iperf3 -c 10.0.0.2 -i 2
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Чтобы остановить сервер, нажмите &lt;code&gt;Ctrl+c&lt;/code&gt; в терминале хоста &lt;code&gt;h2&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;изменение-количества-байтов-для-передачи&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.6&lt;/span&gt; Изменение количества байтов для передачи&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Зададим на клиенте отправку определённого объёма данных путём установки количества байтов для передачи.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;По умолчанию &lt;em&gt;iPerf3&lt;/em&gt; выполняет измерение пропускной способности в течение 10 секунд.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Однако при задании количества данных клиент будет продолжать отправлять пакеты до тех пор, пока не будут отправлены все байты, указанные пользователем.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;В терминале &lt;code&gt;h2&lt;/code&gt; запустите сервер:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;iperf3 -s
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;В терминале &lt;code&gt;h1&lt;/code&gt; запустите клиента, задав объём данных:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;iperf3 -c 10.0.0.2 -n 16G
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Параметр &lt;code&gt;-n&lt;/code&gt; указывает объем данных для передачи: 16 Гбайт.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Чтобы остановить сервер, нажмите &lt;code&gt;Ctrl+c&lt;/code&gt; в терминале хоста &lt;code&gt;h2&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;определение-протокола-транспортного-уровня&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.7&lt;/span&gt; Определение протокола транспортного уровня&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;По умолчанию измерения пропускной способности проводятся по протоколу TCP, который является протоколом конфигурации по умолчанию.&lt;/li&gt;
&lt;li&gt;Чтобы изменить протокол на UDP, нужно задать опцию &lt;code&gt;-u&lt;/code&gt; на стороне клиента.&lt;/li&gt;
&lt;li&gt;Для протокола SCTP используется опция &lt;code&gt;--sctp&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;iPerf3 автоматически определяет протокол транспортного уровня на стороне сервера.&lt;/li&gt;
&lt;li&gt;В терминале &lt;code&gt;h2&lt;/code&gt; запустите сервер:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;iperf3 -s
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;В терминале &lt;code&gt;h1&lt;/code&gt; запустите клиента, задав протокол UDP:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;iperf3 -c 10.0.0.2 -u
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Чтобы остановить сервер, нажмите &lt;code&gt;Ctrl+c&lt;/code&gt; в терминале хоста &lt;code&gt;h2&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;После завершения теста он покажет следующие сводные данные:
&lt;ul&gt;
&lt;li&gt;ID, интервал, передача, битрейт: то же, что и у TCP.&lt;/li&gt;
&lt;li&gt;Джиттер (Jitter): разница в задержке пакетов.&lt;/li&gt;
&lt;li&gt;Lost/Total: указывает количество потерянных дейтаграмм по сравнению с общим количеством отправленных на сервер (и процентное соотношение).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;изменение-номера-порта&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.8&lt;/span&gt; Изменение номера порта&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Если нужно измерить пропускную способность определённого порта, используется параметр &lt;code&gt;-p&lt;/code&gt; для настройки клиента и сервера для отправки/получения пакетов или датаграмм через указанный порт.&lt;/li&gt;
&lt;li&gt;В терминале &lt;code&gt;h2&lt;/code&gt; запустите сервер, используя параметр &lt;code&gt;-p&lt;/code&gt;, чтобы указать порт прослушивания:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;iperf3 -s -p 3250
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;В терминале &lt;code&gt;h1&lt;/code&gt; запустите клиента, указав порт:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;iperf3 -c 10.0.0.2 -p 3250
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Чтобы остановить сервер, нажмите &lt;code&gt;Ctrl+c&lt;/code&gt; в терминале хоста &lt;code&gt;h2&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;работа-с-одним-клиентом&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.9&lt;/span&gt; Работа с одним клиентом&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;По умолчанию сервер iPerf3 продолжает прослушивать входящие соединения.&lt;/li&gt;
&lt;li&gt;Чтобы сервер мог обрабатывать одного клиента, а затем останавливаться, к серверу добавляется параметр &lt;code&gt;-1&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;В терминале &lt;code&gt;h2&lt;/code&gt; запустите сервер, используя параметр &lt;code&gt;-1&lt;/code&gt;, чтобы принять только одного клиента:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;iperf3 -s -1
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;В терминале &lt;code&gt;h1&lt;/code&gt; запустите клиента, указав порт:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;iperf3 -c 10.0.0.2
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;После завершения этого теста сервер немедленно останавливается.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;экспорт-результатов-в-файл-json&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.10&lt;/span&gt; Экспорт результатов в файл JSON&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;JSON (JavaScript Object Notation, нотация объектов JavaScript) &amp;mdash; это облегченный формат обмена данными.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;iPerf3&lt;/em&gt; позволяет экспортировать результаты теста в файл JSON, что позволяет другим приложениям легко анализировать файл и интерпретировать результаты.&lt;/li&gt;
&lt;li&gt;В терминале &lt;code&gt;h2&lt;/code&gt; запустите сервер:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;iperf3 -s
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;В терминале &lt;code&gt;h1&lt;/code&gt; запустите клиента, указав параметр &lt;code&gt;-J&lt;/code&gt; для отображения вывода в формате JSON:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;iperf3 -c 10.0.0.2 -J
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Параметр &lt;code&gt;-J&lt;/code&gt; выводит текст JSON на экран через стандартный вывод (&lt;code&gt;stdout&lt;/code&gt;) после завершения теста.&lt;/li&gt;
&lt;li&gt;Чтобы экспортировать вывод в файл нужно перенаправить стандартный вывод в файл:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;iperf3 -c 10.0.0.2 -J &amp;gt; /home/mininet/work/lab_iperf3/iperf_results.json
chown mininet:mininet /home/mininet/work/lab_iperf3/iperf_results.json
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;После создания файла JSON команда &lt;code&gt;ls&lt;/code&gt; используется для проверки того, что файл создан.&lt;/li&gt;
&lt;li&gt;Команда &lt;code&gt;cat&lt;/code&gt; может использоваться для отображения содержимого файла.&lt;/li&gt;
&lt;li&gt;Чтобы остановить сервер, нажмите &lt;code&gt;Ctrl+c&lt;/code&gt; в терминале хоста &lt;code&gt;h2&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;график-результатов-iperf3&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.11&lt;/span&gt; График результатов iPerf3&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Визуализируем результаты эксперимента.&lt;/li&gt;
&lt;li&gt;Скопируйте файл &lt;code&gt;iperf3_results.json&lt;/code&gt; с виртуальной машины к себе, в рабочий каталог.&lt;/li&gt;
&lt;li&gt;Обращайте внимание, чтобы путь к файлу не содержал пробелов.&lt;/li&gt;
&lt;li&gt;Чтобы сгенерировать выходные данные для файла JSON iPerf3, выполните следующую команду:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;plot_iperf.sh iperf3_results.json
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Этот сценарий создаёт графики для следующих полей:
&lt;ul&gt;
&lt;li&gt;окно перегрузки (&lt;code&gt;cwnd.pdf&lt;/code&gt;),&lt;/li&gt;
&lt;li&gt;повторная передача (&lt;code&gt;retransmits.pdf&lt;/code&gt;),&lt;/li&gt;
&lt;li&gt;время приема-передачи (&lt;code&gt;RTT.pdf&lt;/code&gt;),&lt;/li&gt;
&lt;li&gt;отклонение времени приема-передачи (&lt;code&gt;RTT_Var.pdf&lt;/code&gt;),&lt;/li&gt;
&lt;li&gt;пропускная способность (&lt;code&gt;throughput.pdf&lt;/code&gt;),&lt;/li&gt;
&lt;li&gt;максимальная единица передачи (&lt;code&gt;MTU.pdf&lt;/code&gt;),&lt;/li&gt;
&lt;li&gt;количество переданных байтов (&lt;code&gt;bytes.pdf&lt;/code&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Сценарий построения также создаёт файл CSV (&lt;code&gt;1.dat&lt;/code&gt;), который может использоваться другими приложениями.&lt;/li&gt;
&lt;li&gt;Эти файлы хранятся в каталоге результатов, созданном в том же каталоге, где был выполнен скрипт.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;видео-введение-в-iperf-dot-интерактивный-эксперимент&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.12&lt;/span&gt; Видео: Введение в Iperf. Интерактивный эксперимент&lt;/h3&gt;
&lt;nav&gt;
	&lt;div class=&#34;nav nav-tabs&#34; id=&#34;nav-tab&#34; role=&#34;tablist&#34;&gt;

		
		
		
		

		

		&lt;a class=&#34;nav-item nav-link  active &#34;
		   id=&#34;nav-cbfaed&#34; data-toggle=&#34;tab&#34; href=&#34;#cbfaed&#34;
		   role=&#34;tab&#34; aria-controls=&#34;nav-home&#34; aria-selected=&#34;true&#34;&gt;RuTube&lt;/a&gt;

		

		&lt;a class=&#34;nav-item nav-link &#34;
		   id=&#34;nav-fcdbea&#34; data-toggle=&#34;tab&#34; href=&#34;#fcdbea&#34;
		   role=&#34;tab&#34; aria-controls=&#34;nav-home&#34; aria-selected=&#34;true&#34;&gt;Youtube&lt;/a&gt;

		

	&lt;/div&gt;
&lt;/nav&gt;

&lt;div class=&#34;tab-content&#34; id=&#34;nav-tab-content&#34;&gt;

	





&lt;div class=&#34;tab-pane fade show active &#34; id=&#34;cbfaed&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;nav-1&#34;&gt;

	

&lt;div class=&#34;embed video-player&#34;&gt;
  &lt;iframe class=&#34;rutube-player&#34; type=&#34;text/html&#34;
	  width=&#34;720&#34; height=&#34;405&#34;
	  src=&#34;https://rutube.ru/play/embed/70f04b82548c7ba4a03a38fce65fbcb4&#34;
	  webkitAllowFullScreen mozallowfullscreen allowFullScreen
	  allow=&#34;clipboard-write&#34; frameborder=&#34;0&#34;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;




&lt;/div&gt;






&lt;div class=&#34;tab-pane fade show &#34; id=&#34;fcdbea&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;nav-1&#34;&gt;

	


&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/REcUWuT8g8E&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;




&lt;/div&gt;



&lt;/div&gt;
&lt;h2 id=&#34;воспроизводимый-эксперимент&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4&lt;/span&gt; Воспроизводимый эксперимент&lt;/h2&gt;
&lt;h3 id=&#34;api-mininet&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.1&lt;/span&gt; API Mininet&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;API Mininet построен на трех основных уровнях:
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Низкоуровневый API&lt;/em&gt;. Низкоуровневый API состоит из базовых узлов и классов ссылок (таких как &lt;code&gt;Host&lt;/code&gt;, &lt;code&gt;Switch&lt;/code&gt;, &lt;code&gt;Link&lt;/code&gt; и их подклассы), которые на самом деле могут быть созданы по отдельности и использоваться для создания сети, но это немного громоздко.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;API среднего уровня&lt;/em&gt;.  API среднего уровня добавляет объект Mininet, который служит контейнером для узлов и ссылок. Он предоставляет ряд методов (&lt;code&gt;addHost()&lt;/code&gt;, &lt;code&gt;addSwitch()&lt;/code&gt;, &lt;code&gt;addLink()&lt;/code&gt;) для добавления узлов и ссылок в сеть, а также настройки сети, запуска и завершения работы (&lt;code&gt;start()&lt;/code&gt;, &lt;code&gt;stop()&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Высокоуровневый API&lt;/em&gt;. Высокоуровневый API добавляет абстракцию шаблона топологии (класс &lt;code&gt;Topo&lt;/code&gt;), который предоставляет возможность создавать повторно используемые параметризованные шаблоны топологии. Эти шаблоны можно передать команде mn (через параметр &amp;ndash;custom) и использовать из командной строки.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Когда напрямую управляют узлами и коммутаторами, используется низкоуровневый API.&lt;/li&gt;
&lt;li&gt;Когда запускают или останавливают сеть, используют API среднего уровня (в частности, класс &lt;code&gt;Mininet&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Полные сети могут быть созданы с использованием любого из уровней API, но обычно выбирают либо API среднего уровня (например, &lt;code&gt;Mininet.add*()&lt;/code&gt;), либо API высокого уровня (&lt;code&gt;Topo. add*()&lt;/code&gt;) для создания сетей.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;примеры-создания-сетей-с-использованием-уровней-api-mininet&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.2&lt;/span&gt; Примеры создания сетей с использованием уровней API Mininet&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Низкоуровневый API. Узлы и ссылки:
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;h1 = Host( &#39;h1&#39; )
h2 = Host( &#39;h2&#39; )
s1 = OVSSwitch( &#39;s1&#39;, inNamespace=False )
c0 = Controller( &#39;c0&#39;, inNamespace=False )
Link( h1, s1 )
Link( h2, s1 )
h1.setIP( &#39;10.1/8&#39; )
h2.setIP( &#39;10.2/8&#39; )
c0.start()
s1.start( [ c0 ] )
print( h1.cmd( &#39;ping -c1&#39;, h2.IP() ) )
s1.stop()
c0.stop()
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;API среднего уровня. Сетевой объект:
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;net = Mininet()
h1 = net.addHost( &#39;h1&#39; )
h2 = net.addHost( &#39;h2&#39; )
s1 = net.addSwitch( &#39;s1&#39; )
c0 = net.addController( &#39;c0&#39; )
net.addLink( h1, s1 )
net.addLink( h2, s1 )
net.start()
print( h1.cmd( &#39;ping -c1&#39;, h2.IP() ) )
CLI( net )
net.stop()
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;API высокого уровня. Шаблоны топологии:
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;class SingleSwitchTopo( Topo ):
    &amp;quot;Single Switch Topology&amp;quot;
    def build( self, count=1 ):
	hosts = [ self.addHost( &#39;h%d&#39; % i )
		  for i in range( 1, count + 1 ) ]
	s1 = self.addSwitch( &#39;s1&#39; )
	for h in hosts:
	    self.addLink( h, s1 )

net = Mininet( topo=SingleSwitchTopo( 3 ) )
net.start()
CLI( net )
net.stop()
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;API среднего уровня на самом деле является самым простым и лаконичным для этого примера, поскольку не требует создания класса топологии.&lt;/li&gt;
&lt;li&gt;API низкого и среднего уровня являются гибкими и мощными, но могут быть менее удобными для повторного использования по сравнению с высокоуровневым API &lt;code&gt;Topo&lt;/code&gt; и шаблонами топологии.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;простейшая-топология&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.3&lt;/span&gt; Простейшая топология&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;На основе скрипта &lt;code&gt;mininet/examples/emptynet.py&lt;/code&gt; создадим простейшую топологию &lt;code&gt;lab_iperf3_topo&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#!/usr/bin/env python

&amp;quot;&amp;quot;&amp;quot;
Simple topology
&amp;quot;&amp;quot;&amp;quot;

from mininet.net import Mininet
from mininet.node import Controller
from mininet.cli import CLI
from mininet.log import setLogLevel, info

def emptyNet():

    &amp;quot;Create an empty network and add nodes to it.&amp;quot;

    net = Mininet( controller=Controller, waitConnected=True )

    info( &#39;*** Adding controller\n&#39; )
    net.addController( &#39;c0&#39; )

    info( &#39;*** Adding hosts\n&#39; )
    h1 = net.addHost( &#39;h1&#39;, ip=&#39;10.0.0.1&#39; )
    h2 = net.addHost( &#39;h2&#39;, ip=&#39;10.0.0.2&#39; )

    info( &#39;*** Adding switch\n&#39; )
    s1 = net.addSwitch( &#39;s1&#39; )

    info( &#39;*** Creating links\n&#39; )
    net.addLink( h1, s1 )
    net.addLink( h2, s1 )

    info( &#39;*** Starting network\n&#39;)
    net.start()

    info( &#39;*** Running CLI\n&#39; )
    CLI( net )

    info( &#39;*** Stopping network&#39; )
    net.stop()


if __name__ == &#39;__main__&#39;:
    setLogLevel( &#39;info&#39; )
    emptyNet()
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Основные элементы:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;addSwitch()&lt;/code&gt;: добавляет коммутатор в топологию и возвращает имя коммутатора;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ddHost()&lt;/code&gt;: добавляет хост в топологию и возвращает имя хоста;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;addLink()&lt;/code&gt;: добавляет двунаправленную ссылку в топологию (и возвращает ключ ссылки, но это не важно). Ссылки в Mininet являются двунаправленными, если не указано иное.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mininet&lt;/code&gt;: основной класс для создания и управления сетью;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;start()&lt;/code&gt;: запускает вашу сеть;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pingAll()&lt;/code&gt;: проверяет подключение, пытаясь заставить все узлы пинговать друг друга;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;stop()&lt;/code&gt;: останавливает вашу сеть;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;net.hosts&lt;/code&gt;: все хосты в сети;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dumpNodeConnections()&lt;/code&gt;: сбрасывает подключения к/от набора узлов;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;setLogLevel( &#39;info&#39; | &#39;debug&#39; | &#39;output&#39; )&lt;/code&gt;: установить уровень вывода Mininet по умолчанию; рекомендуется &lt;code&gt;info&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Создадим в лабораторной работе подкаталог для данного эксперимента:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mkdir -p ~/work/lab_iperf3/iperf3_topo
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Скопируем скрипт на виртуальную машину в каталог лабораторной и запустим:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo python lab_iperf3_topo.py
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;После запуска можно посмотреть элементы топологии:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mininet&amp;gt; net
mininet&amp;gt; links
mininet&amp;gt; dump
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;методы-настройки-хоста&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.4&lt;/span&gt; Методы настройки хоста&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Хосты Mininet предоставляют ряд удобных методов настройки сети:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;IP()&lt;/code&gt;: возвращает IP-адрес хоста или определенного интерфейса;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;MAC()&lt;/code&gt;: возвращает MAC-адрес хоста или определенного интерфейса;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;setARP()&lt;/code&gt;: добавить статическую запись ARP в кэш ARP хоста;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;setIP()&lt;/code&gt;: установить IP-адрес для хоста или определенного интерфейса;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;setMAC()&lt;/code&gt;: установить MAC-адрес для хоста или определенного интерфейса.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Пример использования в скрипте:
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;print( &amp;quot;Host&amp;quot;, h1.name, &amp;quot;has IP address&amp;quot;, h1.IP(), &amp;quot;and MAC address&amp;quot;, h1.MAC() )
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Задание: Попробуйте изменить приведённый выше код, чтобы он печатал IP-адрес и MAC-адрес каждого хоста.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;настройка-параметров-производительности&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.5&lt;/span&gt; Настройка параметров производительности&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Mininet предоставляет функции ограничения производительности и изоляции с помощью классов &lt;code&gt;CPULimitedHost&lt;/code&gt; и &lt;code&gt;TCLink&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;from mininet.node import CPULimitedHost
from mininet.link import TCLink
...
net = Mininet( controller=Controller, host = CPULimitedHost, link = TCLink )
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Основные функции:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;self.addHost(name, cpu=f)&lt;/code&gt;: позволяет указать долю общих ресурсов процессора системы, которая будет выделена виртуальному хосту;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;self.addLink(node1, node2, bw=10, delay=&#39;5ms&#39;, max_queue_size=1000, loss=10, use_htb=True)&lt;/code&gt;: добавляет двунаправленный канал с характеристиками пропускной способности, задержки и потерь:
&lt;ul&gt;
&lt;li&gt;максимальный размер очереди 1000 пакетов;&lt;/li&gt;
&lt;li&gt;использование ограничителя скорости &lt;em&gt;Hierarchical Token Bucket&lt;/em&gt;;&lt;/li&gt;
&lt;li&gt;эмулятор задержки/потери &lt;code&gt;netem&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;параметр &lt;code&gt;bw&lt;/code&gt; выражается числом в Мбит;&lt;/li&gt;
&lt;li&gt;задержка выражается в виде строки с заданными единицами измерения (например, &lt;code&gt;5ms&lt;/code&gt;, &lt;code&gt;100us&lt;/code&gt;, &lt;code&gt;1s&lt;/code&gt;);&lt;/li&gt;
&lt;li&gt;потери выражаются в процентах (от 0 до 100);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;max_queue_size&lt;/code&gt; выражается в пакетах.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Задание: Измените приведённый выше код, чтобы каналы были 100 Мбит/с с задержкой 75 мс. Рассчитать производительность связи между &lt;code&gt;h1&lt;/code&gt; и &lt;code&gt;h2&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;полный-эксперимент&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.6&lt;/span&gt; Полный эксперимент&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Сгенерируем трафик и сохраним результат в файл json.&lt;/li&gt;
&lt;li&gt;Зададим скрипт &lt;code&gt;lab_iperf3.py&lt;/code&gt; для полного эксперимента:
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#!/usr/bin/env python

&amp;quot;&amp;quot;&amp;quot;
Simple experiment.
Output: iperf_result.json
&amp;quot;&amp;quot;&amp;quot;

from mininet.net import Mininet
from mininet.node import Controller
from mininet.cli import CLI
from mininet.log import setLogLevel, info
from mininet.link import TCLink
import time

def emptyNet():

    &amp;quot;Create an empty network and add nodes to it.&amp;quot;

    net = Mininet( controller=Controller, waitConnected=True, link = TCLink )

    info( &#39;*** Adding controller\n&#39; )
    net.addController( &#39;c0&#39; )

    info( &#39;*** Adding hosts\n&#39; )
    h1 = net.addHost( &#39;h1&#39;, ip=&#39;10.0.0.1&#39; )
    h2 = net.addHost( &#39;h2&#39;, ip=&#39;10.0.0.2&#39; )

    info( &#39;*** Adding switch\n&#39; )
    s1 = net.addSwitch( &#39;s1&#39; )

    info( &#39;*** Creating links\n&#39; )
    net.addLink( h1, s1, cls=TCLink, bw=100, delay=&#39;75ms&#39; )
    net.addLink( h2, s1, cls=TCLink, bw=100, delay=&#39;75ms&#39; )

    info( &#39;*** Starting network\n&#39;)
    net.start()

    info( &#39;*** Traffic generation\n&#39;)
    h2.cmdPrint( &#39;iperf3 -s -D -1&#39; )
    time.sleep(10)  # Wait 10 seconds for servers to start
    h1.cmdPrint( &#39;iperf3 -c&#39;, h2.IP(), &#39;-J &amp;gt; iperf_result.json&#39; )

    info( &#39;*** Stopping network&#39; )
    net.stop()

if __name__ == &#39;__main__&#39;:
    setLogLevel( &#39;info&#39; )
    emptyNet()
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Создадим в лабораторной работе подкаталог для данного эксперимента:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mkdir -p ~/work/lab_iperf3/iperf3
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Запустите скрипт на виртуальной машине:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo python lab_iperf3.py
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Постройм графики из получившегося файла json:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;plot_iperf.sh iperf_result.json
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Создадим &lt;code&gt;Makefile&lt;/code&gt; для проведения всего эксперимента:
&lt;pre&gt;&lt;code class=&#34;language-makefile&#34;&gt;all: iperf_result.json plot

iperf_result.json:
	sudo python lab_iperf3.py

plot: iperf_result.json
	plot_iperf.sh iperf_result.json

clean:
	-rm -f *.json *.csv
	-rm -rf results
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;видео-введение-в-iperf-dot-воспроизводимый-эксперимент&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.7&lt;/span&gt; Видео: Введение в Iperf. Воспроизводимый эксперимент&lt;/h3&gt;
&lt;nav&gt;
	&lt;div class=&#34;nav nav-tabs&#34; id=&#34;nav-tab&#34; role=&#34;tablist&#34;&gt;

		
		
		
		

		

		&lt;a class=&#34;nav-item nav-link  active &#34;
		   id=&#34;nav-fbedca&#34; data-toggle=&#34;tab&#34; href=&#34;#fbedca&#34;
		   role=&#34;tab&#34; aria-controls=&#34;nav-home&#34; aria-selected=&#34;true&#34;&gt;RuTube&lt;/a&gt;

		

		&lt;a class=&#34;nav-item nav-link &#34;
		   id=&#34;nav-befadc&#34; data-toggle=&#34;tab&#34; href=&#34;#befadc&#34;
		   role=&#34;tab&#34; aria-controls=&#34;nav-home&#34; aria-selected=&#34;true&#34;&gt;Youtube&lt;/a&gt;

		

	&lt;/div&gt;
&lt;/nav&gt;

&lt;div class=&#34;tab-content&#34; id=&#34;nav-tab-content&#34;&gt;

	





&lt;div class=&#34;tab-pane fade show active &#34; id=&#34;fbedca&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;nav-1&#34;&gt;

	

&lt;div class=&#34;embed video-player&#34;&gt;
  &lt;iframe class=&#34;rutube-player&#34; type=&#34;text/html&#34;
	  width=&#34;720&#34; height=&#34;405&#34;
	  src=&#34;https://rutube.ru/play/embed/c54df490dcdaba3f0e78ab078148a519&#34;
	  webkitAllowFullScreen mozallowfullscreen allowFullScreen
	  allow=&#34;clipboard-write&#34; frameborder=&#34;0&#34;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;




&lt;/div&gt;






&lt;div class=&#34;tab-pane fade show &#34; id=&#34;befadc&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;nav-1&#34;&gt;

	


&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/wpPDMyZbcGU&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;




&lt;/div&gt;



&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Mininet. Использование netem (latency, jitter)</title>
      <link>https://yamadharma.github.io/ru/course/simulation-networks/mininet-netem-i/</link>
      <pubDate>Sat, 08 Oct 2022 21:33:00 +0300</pubDate>
      <guid>https://yamadharma.github.io/ru/course/simulation-networks/mininet-netem-i/</guid>
      <description>&lt;p&gt;Mininet. Использование netem. Задержки, джтиттер.&lt;/p&gt;
&lt;details class=&#34;toc-inpage d-print-none  &#34; open&gt;
  &lt;summary class=&#34;font-weight-bold&#34;&gt;Содержание&lt;/summary&gt;
  &lt;nav id=&#34;TableOfContents&#34;&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a href=&#34;#общая-информация&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#цели&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.1&lt;/span&gt; Цели&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#задачи&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.2&lt;/span&gt; Задачи&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#видео-использование-netem-i-dot-введение&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.3&lt;/span&gt; Видео: Использование netem I. Введение&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#теоретические-сведения&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2&lt;/span&gt; Теоретические сведения&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#дисциплины-организации-очередей-в-linux&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2.1&lt;/span&gt; Дисциплины организации очередей в Linux&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#глобальные-сети-и-задержка&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2.2&lt;/span&gt; Глобальные сети и задержка&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#подготовка-стенда&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3&lt;/span&gt; Подготовка стенда&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#лабораторная-топология&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.1&lt;/span&gt; Лабораторная топология&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#рабочие-файлы&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.2&lt;/span&gt; Рабочие файлы&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#интерактивный-эксперимент&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4&lt;/span&gt; Интерактивный эксперимент&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#добавление-изменение-задержки-для-эмуляции-wan&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.1&lt;/span&gt; Добавление/изменение задержки для эмуляции WAN&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#определение-интерфейсов-хостов-h1-и-h2&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.2&lt;/span&gt; Определение интерфейсов хостов &lt;code&gt;h1&lt;/code&gt; и &lt;code&gt;h2&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#добавка-задержки-для-интерфейса-подключающегося-к-wan&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.3&lt;/span&gt; Добавка задержки для интерфейса, подключающегося к WAN&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#изменение-задержки-в-эмулируемой-глобальной-сети&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.4&lt;/span&gt; Изменение задержки в эмулируемой глобальной сети&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#восстановление-исходных-значений--удаление-правил&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.5&lt;/span&gt; Восстановление исходных значений (удаление правил)&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#добавление-джиттера-в-интерфейс-подключения-к-wan&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.6&lt;/span&gt; Добавление джиттера в интерфейс подключения к WAN&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#добавление-значения-корреляции-для-джиттера-и-задержки&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.7&lt;/span&gt; Добавление значения корреляции для джиттера и задержки&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#распределение-задержки&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.8&lt;/span&gt; Распределение задержки&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#видео-использование-netem-i-dot-интерактивный-эксперимент&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.9&lt;/span&gt; Видео: Использование netem I. Интерактивный эксперимент&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#воспроизводимый-эксперимент&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;5&lt;/span&gt; Воспроизводимый эксперимент&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#постановка-задания&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;5.1&lt;/span&gt; Постановка задания&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#добавка-задержки-для-интерфейса-подключающегося-к-wan&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;5.2&lt;/span&gt; Добавка задержки для интерфейса, подключающегося к WAN&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#видео-использование-netem-i-dot-воспроизводимый-эксперимент&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;5.3&lt;/span&gt; Видео: Использование netem I. Воспроизводимый эксперимент&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;
&lt;/details&gt;

&lt;h2 id=&#34;общая-информация&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;В этом лабораторном занятии вы познакомитесь с NETEM и объясните, как его можно использовать для имитации сценариев реального мира, при этом контролируя параметры, влияющие на производительность сетей.&lt;/li&gt;
&lt;li&gt;Сетевые параметры включают задержку, дрожание, потерю пакетов, изменение порядка и повреждение (latency, jitter, packet loss, reordering, and corruption).&lt;/li&gt;
&lt;li&gt;Значения корреляции между сетевыми параметрами также будут установлены для обеспечения большей реалистичности сетевой среды.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;цели&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.1&lt;/span&gt; Цели&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Освоить моделирование задержек и джиттера в сетях.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;задачи&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.2&lt;/span&gt; Задачи&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;В ходе работы требуется освоить следующие понятия:
&lt;ul&gt;
&lt;li&gt;что есть задержка в сетях и как ее измерить;&lt;/li&gt;
&lt;li&gt;что есть архитектура дисциплин очередей Linux (qdisc);&lt;/li&gt;
&lt;li&gt;освоить эмуляцию глобальных сети (характеризующихся большими задержками) с использованием netem и mininet;&lt;/li&gt;
&lt;li&gt;выполнить измерения после внесения задержек в эмулируемую глобальную сеть;&lt;/li&gt;
&lt;li&gt;развернуть эмулированные глобальные сети, характеризующиеся разными значениями задержки, джиттера и соответствующими значениями корреляции;&lt;/li&gt;
&lt;li&gt;задать разные распределения задержки эмулируемой глобальной сети.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;видео-использование-netem-i-dot-введение&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.3&lt;/span&gt; Видео: Использование netem I. Введение&lt;/h3&gt;
&lt;nav&gt;
	&lt;div class=&#34;nav nav-tabs&#34; id=&#34;nav-tab&#34; role=&#34;tablist&#34;&gt;

		
		
		
		

		

		&lt;a class=&#34;nav-item nav-link  active &#34;
		   id=&#34;nav-eabfdc&#34; data-toggle=&#34;tab&#34; href=&#34;#eabfdc&#34;
		   role=&#34;tab&#34; aria-controls=&#34;nav-home&#34; aria-selected=&#34;true&#34;&gt;RuTube&lt;/a&gt;

		

		&lt;a class=&#34;nav-item nav-link &#34;
		   id=&#34;nav-ebdacf&#34; data-toggle=&#34;tab&#34; href=&#34;#ebdacf&#34;
		   role=&#34;tab&#34; aria-controls=&#34;nav-home&#34; aria-selected=&#34;true&#34;&gt;Youtube&lt;/a&gt;

		

	&lt;/div&gt;
&lt;/nav&gt;

&lt;div class=&#34;tab-content&#34; id=&#34;nav-tab-content&#34;&gt;

	





&lt;div class=&#34;tab-pane fade show active &#34; id=&#34;eabfdc&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;nav-1&#34;&gt;

	

&lt;div class=&#34;embed video-player&#34;&gt;
  &lt;iframe class=&#34;rutube-player&#34; type=&#34;text/html&#34;
	  width=&#34;720&#34; height=&#34;405&#34;
	  src=&#34;https://rutube.ru/play/embed/f252186b156e3f19ea7a982411bfbd62&#34;
	  webkitAllowFullScreen mozallowfullscreen allowFullScreen
	  allow=&#34;clipboard-write&#34; frameborder=&#34;0&#34;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;




&lt;/div&gt;






&lt;div class=&#34;tab-pane fade show &#34; id=&#34;ebdacf&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;nav-1&#34;&gt;

	


&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/aeiuFANn5oY&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;




&lt;/div&gt;



&lt;/div&gt;
&lt;h2 id=&#34;теоретические-сведения&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2&lt;/span&gt; Теоретические сведения&lt;/h2&gt;
&lt;h3 id=&#34;дисциплины-организации-очередей-в-linux&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2.1&lt;/span&gt; Дисциплины организации очередей в Linux&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;NETEM &amp;mdash; сетевой эмулятор Linux для тестирования производительности реальных приложений в виртуальной сети.&lt;/li&gt;
&lt;li&gt;Виртуальная сеть может воспроизводить глобальные сети в лабораторной среде.&lt;/li&gt;
&lt;li&gt;NETEM позволяет пользователю изменять такие параметры, как задержка, джиттер, потеря пакетов, дублирование и изменение порядка пакетов.&lt;/li&gt;
&lt;li&gt;NETEM реализован в Linux и состоит из двух частей: модуля ядра для организации очередей и утилиты командной строки для его настройки.&lt;/li&gt;
&lt;li&gt;Между протоколом IP и сетевым устройством создаётся очередь с дисциплиной обслуживания.&lt;/li&gt;
&lt;li&gt;Дисциплина обслуживания очередей по умолчанию есть простая очередь пакетов FIFO (первым пришел &amp;mdash; первым обслужен).&lt;/li&gt;
&lt;li&gt;Дисциплина реализуется как объект с двумя интерфейсами.&lt;/li&gt;
&lt;li&gt;Один интерфейс ставит пакеты в очередь для отправки, а другой интерфейс отправляет пакеты на сетевое устройство.&lt;/li&gt;
&lt;li&gt;На основе дисциплины обслуживания очередей принимается решение о том, какие пакеты отправлять, какие пакеты задерживать и какие пакеты отбрасывать.&lt;/li&gt;
&lt;li&gt;Классовая дисциплина организации очередей, такая как NETEM, имеет настраиваемые внутренние модули.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;глобальные-сети-и-задержка&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2.2&lt;/span&gt; Глобальные сети и задержка&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;В сетях есть несколько процессов и устройств, которые способствуют сквозной задержке между узлом-отправителем и узлом-получателем.&lt;/li&gt;
&lt;li&gt;Во многих случаях сквозная задержка определяется задержкой распространения в глобальной сети.&lt;/li&gt;
&lt;li&gt;Рассмотрим два соседних коммутатора A и B, соединённых глобальной сетью.
&lt;ul&gt;
&lt;li&gt;Как только бит передается в глобальную сеть коммутатором А, он должен пройти к коммутатору В.&lt;/li&gt;
&lt;li&gt;Время, необходимое для распространения от начала глобальной сети до коммутатора В, является задержкой распространения.&lt;/li&gt;
&lt;li&gt;Биты распространяются со скоростью канала.&lt;/li&gt;
&lt;li&gt;Скорость распространения зависит от физической среды (оптоволокно, медная витая пара и т. д.) и равно или немного меньше скорости света.&lt;/li&gt;
&lt;li&gt;Задержка распространения есть расстояние между двумя коммутатора, делённое на скорость распространения.&lt;/li&gt;
&lt;li&gt;Как только последний бит пакета передается на коммутатор B, он и все предыдущие биты пакета сохраняются на коммутаторе B.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Сетевые инструменты обычно оценивают задержку для устранения неполадок и измерения производительности.&lt;/li&gt;
&lt;li&gt;Например, оценкой сквозной задержки является время двойного оборота (RTT), которое представляет собой время, необходимое пакету для прохождения от отправителя к получателю, а затем обратно к отправителю.&lt;/li&gt;
&lt;li&gt;RTT включает задержки распространения пакетов, задержки в очереди пакетов в промежуточных маршрутизаторах и коммутаторах и обработку пакетов.&lt;/li&gt;
&lt;li&gt;Если задержка распространения преобладает над другими компонентами задержки (как в случае глобальных сетей), то RTT является хорошей оценкой задержки распространения.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;подготовка-стенда&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3&lt;/span&gt; Подготовка стенда&lt;/h2&gt;
&lt;h3 id=&#34;лабораторная-топология&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.1&lt;/span&gt; Лабораторная топология&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;В топологии используется сеть 10.0.0.0/8, назначенная Mininet по умолчанию.&lt;/li&gt;
&lt;li&gt;Топология представляет собой коммутатор с двумя подключёнными к нему хостами.&lt;/li&gt;
&lt;li&gt;Для запуска топологии используем параметры командной строки:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo mn --topo=single,2 -x
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;рабочие-файлы&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.2&lt;/span&gt; Рабочие файлы&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Подключимся к виртуальной машине:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ssh -Y mininet@192.168.x.y
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Для рабочих файлов будем использовать каталог &lt;code&gt;~/work/lab_netem_i&lt;/code&gt;:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mkdir -p ~/work/lab_netem_i
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;интерактивный-эксперимент&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4&lt;/span&gt; Интерактивный эксперимент&lt;/h2&gt;
&lt;h3 id=&#34;добавление-изменение-задержки-для-эмуляции-wan&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.1&lt;/span&gt; Добавление/изменение задержки для эмуляции WAN&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Работа с NETEM осуществляется с помощью утилиты командной строки &lt;code&gt;tc&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Без дополнительных параметров NETEM ведёт себя как базовая очередь FIFO без задержек, потерь, дублирования или переупорядочения пакетов.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Основной синтаксис &lt;code&gt;tc&lt;/code&gt;, используемый с NETEM, следующий:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc [add|del|replace|change|show] dev dev_id root netem opts
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sudo&lt;/code&gt;: выполнить команду с более высокими привилегиями;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tc&lt;/code&gt;: команда, используемая для взаимодействия с NETEM;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;qdisc&lt;/code&gt;: дисциплина очереди (&lt;code&gt;qdisc&lt;/code&gt;) представляет собой набор правил, определяющих порядок, в котором обслуживаются пакеты, поступающие по  протоколу IP.
&lt;ul&gt;
&lt;li&gt;Дисциплина очереди применяется к очереди пакетов, чтобы решить, когда отправлять каждый пакет.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[add|del|replace|change|show]&lt;/code&gt; (добавить, удалить, заменить, изменить, показать): операция над &lt;code&gt;qdisc&lt;/code&gt;:
&lt;ul&gt;
&lt;li&gt;чтобы добавить задержку на определённом интерфейсе, применяется операция &lt;code&gt;add&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;чтобы изменить или удалить задержку на определённом интерфейсе, применяется операция &lt;code&gt;change&lt;/code&gt; или &lt;code&gt;del&lt;/code&gt;;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dev_id&lt;/code&gt;: параметр указывает интерфейс, подлежащий эмуляции;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;opts&lt;/code&gt;: параметр указывает величину задержки, потери пакетов, дублирования, повреждения и другие.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;определение-интерфейсов-хостов-h1-и-h2&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.2&lt;/span&gt; Определение интерфейсов хостов &lt;code&gt;h1&lt;/code&gt; и &lt;code&gt;h2&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Необходимо идентифицировать интерфейсы на подключенных хостах.&lt;/li&gt;
&lt;li&gt;На хосте &lt;code&gt;h1&lt;/code&gt; введите команду &lt;code&gt;ifconfig&lt;/code&gt;, чтобы отобразить информацию, относящуюся к его сетевым интерфейсам и назначенным им IP-адресам.
&lt;ul&gt;
&lt;li&gt;Вывод команды &lt;code&gt;ifconfig&lt;/code&gt; показывает, что хост &lt;code&gt;h1&lt;/code&gt; имеет два интерфейса: &lt;code&gt;h1-eth0&lt;/code&gt; и &lt;code&gt;lo&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Интерфейс &lt;code&gt;h1-eth0&lt;/code&gt; необходимо использовать в &lt;code&gt;tc&lt;/code&gt; при эмуляции WAN.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;На хосте &lt;code&gt;h2&lt;/code&gt; введите команду &lt;code&gt;ifconfig&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Вывод команды &lt;code&gt;ifconfig&lt;/code&gt; показывает, что хост &lt;code&gt;h2&lt;/code&gt; имеет два интерфейса: &lt;code&gt;h2-eth0&lt;/code&gt; и &lt;code&gt;lo&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Интерфейс &lt;code&gt;h2-eth0&lt;/code&gt; необходимо использовать в &lt;code&gt;tc&lt;/code&gt; при эмуляции WAN.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;добавка-задержки-для-интерфейса-подключающегося-к-wan&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.3&lt;/span&gt; Добавка задержки для интерфейса, подключающегося к WAN&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Сетевые эмуляторы задают задержки на интерфейсе.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Например, задержка, вносимая в интерфейс коммутатора A, который подключён к интерфейсу коммутатора B, может представлять собой задержку распространения WAN, соединяющей оба коммутатора.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;На хосте &lt;code&gt;h1&lt;/code&gt; введите следующую команду:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc add dev h1-eth0 root netem delay 100ms
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sudo&lt;/code&gt;: выполнить команду с более высокими привилегиями;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tc&lt;/code&gt;: вызвать управление трафиком Linux;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;qdisc&lt;/code&gt;: изменить дисциплину очередей сетевого планировщика;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;add&lt;/code&gt;: создать новое правило;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dev h1-eth0&lt;/code&gt;: указать интерфейс, на котором будет применяться правило;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;netem&lt;/code&gt;: использовать эмулятор сети;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;delay 100ms&lt;/code&gt;: задержка ввода 100 мс.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Эта команда добавляет задержку в 100 миллисекунд (мс) только к выходному интерфейсу.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Теперь пользователь может проверить, что соединение от хоста h1 к хосту h2 имеет задержку 100 миллисекунд, используя команду &lt;code&gt;ping&lt;/code&gt; с хоста &lt;code&gt;h1&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ping 10.0.0.2
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Все пакеты были получены успешно (0% потерь пакетов).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Задание: Запишите минимальное, среднее, максимальное и стандартное отклонение времени приёма-передачи (RTT).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Этот сценарий эмулирует задержку в 100 миллисекунд на интерфейсе узла &lt;code&gt;h1&lt;/code&gt;, подключающегося к коммутатору.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Чтобы эмулировать глобальную сеть с двунаправленной задержкой, к соответствующему интерфейсу на хосте &lt;code&gt;h2&lt;/code&gt; также необходимо добавить задержку в 100 миллисекунд.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;В терминале хоста &lt;code&gt;h2&lt;/code&gt; введите следующую команду:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc add dev h2-eth0 root netem delay 100ms
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Проверим, что соединение между хостом &lt;code&gt;h1&lt;/code&gt; и хостом &lt;code&gt;h2&lt;/code&gt; имеет &lt;code&gt;RTT&lt;/code&gt; 200 миллисекунд (100 мс от хоста &lt;code&gt;h1&lt;/code&gt; к хосту &lt;code&gt;h2&lt;/code&gt; плюс 100 мс от хоста &lt;code&gt;h2&lt;/code&gt; к хосту &lt;code&gt;h1&lt;/code&gt;), повторив команду &lt;code&gt;ping&lt;/code&gt; на терминале хоста &lt;code&gt;h1&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ping 10.0.0.2
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Все пакеты были получены успешно (0% потерь пакетов).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Задание: Запишите минимальное, среднее, максимальное и стандартное отклонение времени приёма-передачи (RTT).&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;изменение-задержки-в-эмулируемой-глобальной-сети&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.4&lt;/span&gt; Изменение задержки в эмулируемой глобальной сети&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Изменим задержку со 100 миллисекунд до 50 миллисекунд как для отправителя, так и для получателя. RTT теперь будет 100 миллисекунд.&lt;/li&gt;
&lt;li&gt;В терминале хоста &lt;code&gt;h1&lt;/code&gt; введите следующую команду:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc change dev h1-eth0 root netem delay 50ms
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Здесь добавлен новый параметр &lt;code&gt;change&lt;/code&gt;, который изменяет ранее установленную задержку на 50 миллисекунд.&lt;/li&gt;
&lt;li&gt;Применим также описанный выше шаг к терминалу хоста &lt;code&gt;h2&lt;/code&gt;, чтобы изменить задержку на 50 мс:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc change dev h2-eth0 root netem delay 50ms
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Теперь можно проверить, что соединение от хоста &lt;code&gt;h1&lt;/code&gt; к хосту &lt;code&gt;h2&lt;/code&gt; имеет задержку 100 миллисекунд, используя команду &lt;code&gt;ping&lt;/code&gt; с терминала хоста &lt;code&gt;h1&lt;/code&gt;:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ping 10.0.0.2
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Все пакеты были получены успешно (0% потерь пакетов).&lt;/li&gt;
&lt;li&gt;Задание: Запишите минимальное, среднее, максимальное и стандартное отклонение времени приёма-передачи (RTT).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;восстановление-исходных-значений--удаление-правил&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.5&lt;/span&gt; Восстановление исходных значений (удаление правил)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Восстановим конфигурацию по умолчанию как для отправителя, так и для получателя, удалив все правила, применённые к сетевому планировщику интерфейса.&lt;/li&gt;
&lt;li&gt;В терминале хоста &lt;code&gt;h1&lt;/code&gt; введите следующую команду:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc del dev h1-eth0 root netem
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Добавлена новая опция &lt;code&gt;del&lt;/code&gt;, которая удаляет ранее установленные правила для данного интерфейса.&lt;/li&gt;
&lt;li&gt;В результате &lt;code&gt;tc qdisc&lt;/code&gt; восстановит значения по умолчанию для устройства &lt;code&gt;h1-eth0&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Применим те же действия для удаления правил на хосте &lt;code&gt;h2&lt;/code&gt;. В терминале хоста &lt;code&gt;h2&lt;/code&gt; введите следующую команду:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc del dev h2-eth0 root netem
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;В результате дисциплина организации очереди &lt;code&gt;tc&lt;/code&gt; восстановит свои значения по умолчанию для устройства &lt;code&gt;h2-eth0&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Проверим, что соединение между хостом &lt;code&gt;h1&lt;/code&gt; и хостом &lt;code&gt;h2&lt;/code&gt; не имеет явно установленной задержки, используя команду &lt;code&gt;ping&lt;/code&gt; с терминала хоста &lt;code&gt;h1&lt;/code&gt;:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ping 10.0.0.2
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Все пакеты были получены успешно (0% потерь пакетов).&lt;/li&gt;
&lt;li&gt;Задание: Запишите минимальное, среднее, максимальное и стандартное отклонение времени приёма-передачи (RTT).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;добавление-джиттера-в-интерфейс-подключения-к-wan&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.6&lt;/span&gt; Добавление джиттера в интерфейс подключения к WAN&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;В сетях нет постоянной задержки. Задержка может варьироваться в зависимости от других потоков трафика, конкурирующих за тот же путь.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Джиттер &amp;mdash; это изменение времени задержки.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Параметры задержки описываются средним значением (\(\mu\)), стандартным отклонением (\(\sigma\)) и корреляцией.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;По умолчанию NETEM использует &lt;em&gt;равномерное распределение&lt;/em&gt;, так что задержка находится в пределах \(\mu \pm \sigma\).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Добавим задержку в 100 миллисекунд со случайным отклонением 10 миллисекунд.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;Прежде чем сделать это, необходимо восстановите конфигурацию интерфейсов по умолчанию на узлах &lt;code&gt;h1&lt;/code&gt; и &lt;code&gt;h2&lt;/code&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;В терминале хоста &lt;code&gt;h1&lt;/code&gt; введите команду:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc add dev h1-eth0 root netem delay 100ms 10ms
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Добавленное здесь новое значение представляет джиттер, который определяет вариацию задержки.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Все пакеты, покидающие хост &lt;code&gt;h1&lt;/code&gt; через интерфейс &lt;code&gt;h1-eth0&lt;/code&gt;, будут иметь задержку 100 мс со случайным отклонением ±10 мс.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Можно проверить, что соединение от хоста &lt;code&gt;h1&lt;/code&gt; к хосту &lt;code&gt;h2&lt;/code&gt; имеет задержку 100 мс со случайным отклонением ± 10 мс, с помощью команды &lt;code&gt;ping&lt;/code&gt; на терминале хоста &lt;code&gt;h1&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ping 10.0.0.2
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Все пакеты были получены успешно (0% потерь пакетов).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Задание: Запишите минимальное, среднее, максимальное и стандартное отклонение времени приёма-передачи (RTT).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;В терминале хоста &lt;code&gt;h1&lt;/code&gt; введите следующую команду, чтобы удалить предыдущие конфигурации:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc del dev h1-eth0 root netem
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;добавление-значения-корреляции-для-джиттера-и-задержки&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.7&lt;/span&gt; Добавление значения корреляции для джиттера и задержки&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Параметр корреляции управляет отношением между последовательными псевдослучайными значениями.&lt;/li&gt;
&lt;li&gt;Добавим задержку в 100 миллисекунд с вариацией ±10 миллисекунд при добавлении значения корреляции.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Прежде чем сделать это, необходимо восстановите конфигурацию интерфейсов по умолчанию на узлах &lt;code&gt;h1&lt;/code&gt; и &lt;code&gt;h2&lt;/code&gt;.&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;В терминале хоста &lt;code&gt;h1&lt;/code&gt; введите следующую команду:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc add dev h1-eth0 root netem delay 100ms 10ms 25%
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Добавленное здесь новое значение представляет собой значение корреляции для джиттера и задержки.&lt;/li&gt;
&lt;li&gt;Все пакеты, покидающие узел устройства &lt;code&gt;h1&lt;/code&gt; на интерфейсе &lt;code&gt;h1-eth0&lt;/code&gt;, будут иметь время задержки 100 мс со случайным отклонением ±10 мс, при этом следующий случайный пакет зависит от предыдущего на 25%.&lt;/li&gt;
&lt;li&gt;Можно проверить соединение между хостами &lt;code&gt;h1&lt;/code&gt; и &lt;code&gt;h2&lt;/code&gt; с помощью команды &lt;code&gt;ping&lt;/code&gt; на терминале хоста &lt;code&gt;h1&lt;/code&gt;:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ping 10.0.0.2
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Все пакеты были получены успешно (0% потерь пакетов).&lt;/li&gt;
&lt;li&gt;Задание: Запишите минимальное, среднее, максимальное и стандартное отклонение времени приёма-передачи (RTT).&lt;/li&gt;
&lt;li&gt;В терминале хоста &lt;code&gt;h1&lt;/code&gt; введите следующую команду, чтобы удалить предыдущие конфигурации:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc del dev h1-eth0 root netem
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;распределение-задержки&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.8&lt;/span&gt; Распределение задержки&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;NETEM позволяет пользователю указать распределение, которое описывает, как задержки изменяются в сети.&lt;/li&gt;
&lt;li&gt;Обычно задержки неравномерны, поэтому может быть удобно использовать неравномерное распределение, такое как нормальное, парето или парето-нормальное.&lt;/li&gt;
&lt;li&gt;Можно указать нормальное распределение задержки в эмулируемой сети.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Прежде чем сделать это, необходимо восстановите конфигурацию интерфейсов по умолчанию на узлах &lt;code&gt;h1&lt;/code&gt; и &lt;code&gt;h2&lt;/code&gt;.&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;В терминале хоста &lt;code&gt;h1&lt;/code&gt; введите следующую команду:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc add dev h1-eth0 root netem delay 100ms 20ms distribution normal
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Добавленная здесь новая опция (&lt;code&gt;distribution&lt;/code&gt;) задаёт тип распределения задержки.&lt;/li&gt;
&lt;li&gt;Определим задержку так, чтобы она имела нормальное распределение, что обеспечивает более реалистичную эмуляцию сетей WAN.&lt;/li&gt;
&lt;li&gt;Все пакеты, покидающие хост &lt;code&gt;h1&lt;/code&gt; на интерфейсе &lt;code&gt;h1-eth0&lt;/code&gt;, будут иметь время задержки, которое распределяется в диапазоне 100 мс ± 20 мс.&lt;/li&gt;
&lt;li&gt;Используем команду &lt;code&gt;ping&lt;/code&gt; на терминале хоста &lt;code&gt;h1&lt;/code&gt;:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ping 10.0.0.2
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Все пакеты были получены успешно (0% потерь пакетов).&lt;/li&gt;
&lt;li&gt;Задание: Запишите минимальное, среднее, максимальное и стандартное отклонение времени приёма-передачи (RTT).&lt;/li&gt;
&lt;li&gt;В терминале хоста &lt;code&gt;h1&lt;/code&gt; введите следующую команду, чтобы удалить предыдущие конфигурации:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc del dev h1-eth0 root netem
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;видео-использование-netem-i-dot-интерактивный-эксперимент&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.9&lt;/span&gt; Видео: Использование netem I. Интерактивный эксперимент&lt;/h3&gt;
&lt;nav&gt;
	&lt;div class=&#34;nav nav-tabs&#34; id=&#34;nav-tab&#34; role=&#34;tablist&#34;&gt;

		
		
		
		

		

		&lt;a class=&#34;nav-item nav-link  active &#34;
		   id=&#34;nav-ebfacd&#34; data-toggle=&#34;tab&#34; href=&#34;#ebfacd&#34;
		   role=&#34;tab&#34; aria-controls=&#34;nav-home&#34; aria-selected=&#34;true&#34;&gt;RuTube&lt;/a&gt;

		

		&lt;a class=&#34;nav-item nav-link &#34;
		   id=&#34;nav-adbcfe&#34; data-toggle=&#34;tab&#34; href=&#34;#adbcfe&#34;
		   role=&#34;tab&#34; aria-controls=&#34;nav-home&#34; aria-selected=&#34;true&#34;&gt;Youtube&lt;/a&gt;

		

	&lt;/div&gt;
&lt;/nav&gt;

&lt;div class=&#34;tab-content&#34; id=&#34;nav-tab-content&#34;&gt;

	





&lt;div class=&#34;tab-pane fade show active &#34; id=&#34;ebfacd&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;nav-1&#34;&gt;

	

&lt;div class=&#34;embed video-player&#34;&gt;
  &lt;iframe class=&#34;rutube-player&#34; type=&#34;text/html&#34;
	  width=&#34;720&#34; height=&#34;405&#34;
	  src=&#34;https://rutube.ru/play/embed/1ea73a09806a25ae20bd3d34ebfb5247&#34;
	  webkitAllowFullScreen mozallowfullscreen allowFullScreen
	  allow=&#34;clipboard-write&#34; frameborder=&#34;0&#34;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;




&lt;/div&gt;






&lt;div class=&#34;tab-pane fade show &#34; id=&#34;adbcfe&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;nav-1&#34;&gt;

	


&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/wEuHronSk8M&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;




&lt;/div&gt;



&lt;/div&gt;
&lt;h2 id=&#34;воспроизводимый-эксперимент&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;5&lt;/span&gt; Воспроизводимый эксперимент&lt;/h2&gt;
&lt;h3 id=&#34;постановка-задания&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;5.1&lt;/span&gt; Постановка задания&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Будем исследовать задержки и построим графики для них.&lt;/li&gt;
&lt;li&gt;Выполните все интерактивные эксперименты в виде воспроизводимых.&lt;/li&gt;
&lt;li&gt;Для каждого эксперимента &lt;code&gt;expname&lt;/code&gt; создайте свой каталог:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mkdir -p ~/work/lab_netem_i/expname
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;В него мы будем помещать файлы эксперимента.&lt;/li&gt;
&lt;li&gt;Для каждого эксперимента создайте скрипт для проведения эксперимента &lt;code&gt;lab_netem_i.py&lt;/code&gt; и скрипт для визуализации &lt;code&gt;ping_plot&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Кроме визуализации вычислите минимальное, среднее, максимальное и стандартное отклонение времени приёма-передачи.&lt;/li&gt;
&lt;li&gt;Для примера реализуем задание простейшей задержки.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;добавка-задержки-для-интерфейса-подключающегося-к-wan&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;5.2&lt;/span&gt; Добавка задержки для интерфейса, подключающегося к WAN&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Создадим каталог &lt;code&gt;simple-delay&lt;/code&gt;:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mkdir -p ~/work/lab_netem_i/simple-delay
cd ~/work/lab_netem_i/simple-delay
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Создадим скрипт для эксперимента &lt;code&gt;lab_netem_i.py&lt;/code&gt;:
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#!/usr/bin/env python

&amp;quot;&amp;quot;&amp;quot;
Simple experiment.
Output: ping.dat
&amp;quot;&amp;quot;&amp;quot;

from mininet.net import Mininet
from mininet.node import Controller
from mininet.cli import CLI
from mininet.log import setLogLevel, info
import time

def emptyNet():

    &amp;quot;Create an empty network and add nodes to it.&amp;quot;

    net = Mininet( controller=Controller, waitConnected=True )

    info( &#39;*** Adding controller\n&#39; )
    net.addController( &#39;c0&#39; )

    info( &#39;*** Adding hosts\n&#39; )
    h1 = net.addHost( &#39;h1&#39;, ip=&#39;10.0.0.1&#39; )
    h2 = net.addHost( &#39;h2&#39;, ip=&#39;10.0.0.2&#39; )

    info( &#39;*** Adding switch\n&#39; )
    s1 = net.addSwitch( &#39;s1&#39; )

    info( &#39;*** Creating links\n&#39; )
    net.addLink( h1, s1 )
    net.addLink( h2, s1 )

    info( &#39;*** Starting network\n&#39;)
    net.start()

    info( &#39;*** Set delay\n&#39;)
    h1.cmdPrint( &#39;tc qdisc add dev h1-eth0 root netem delay 100ms&#39; )
    h2.cmdPrint( &#39;tc qdisc add dev h2-eth0 root netem delay 100ms&#39; )

    time.sleep(10)  # Wait 10 seconds

    info( &#39;*** Ping\n&#39;)
    h1.cmdPrint( &#39;ping -c 100&#39;, h2.IP(), &#39;| grep &amp;quot;time=&amp;quot; | awk \&#39;{print $5, $7}\&#39; | sed -e \&#39;s/time=//g\&#39; -e \&#39;s/icmp_seq=//g\&#39; &amp;gt; ping.dat&#39; )

    info( &#39;*** Stopping network&#39; )
    net.stop()


if __name__ == &#39;__main__&#39;:
    setLogLevel( &#39;info&#39; )
    emptyNet()
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Создадим скрипт для визуализации &lt;code&gt;ping_plot&lt;/code&gt;:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#!/usr/bin/gnuplot --persist

set terminal png crop
set output &#39;ping.png&#39;
set xlabel &amp;quot;Sequence number&amp;quot;
set ylabel &amp;quot;Delay (ms)&amp;quot;
set grid
plot &amp;quot;ping.dat&amp;quot; with lines
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Зададим права доступа:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;chmod +x ping_plot
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Создадим &lt;code&gt;Makefile&lt;/code&gt;:
&lt;pre&gt;&lt;code class=&#34;language-makefile&#34;&gt;all: ping.dat ping.png

ping.dat:
	sudo python lab_netem_i.py
	sudo chown mininet:mininet ping.dat

ping.png: ping.dat
	./ping_plot

clean:
	-rm -f *.dat *.png
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Выполним эксперимент:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;make
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Посмотрите график.&lt;/li&gt;
&lt;li&gt;Вычислите минимальное, среднее, максимальное и стандартное отклонение времени приёма-передачи.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;видео-использование-netem-i-dot-воспроизводимый-эксперимент&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;5.3&lt;/span&gt; Видео: Использование netem I. Воспроизводимый эксперимент&lt;/h3&gt;
&lt;nav&gt;
	&lt;div class=&#34;nav nav-tabs&#34; id=&#34;nav-tab&#34; role=&#34;tablist&#34;&gt;

		
		
		
		

		

		&lt;a class=&#34;nav-item nav-link  active &#34;
		   id=&#34;nav-facdeb&#34; data-toggle=&#34;tab&#34; href=&#34;#facdeb&#34;
		   role=&#34;tab&#34; aria-controls=&#34;nav-home&#34; aria-selected=&#34;true&#34;&gt;RuTube&lt;/a&gt;

		

		&lt;a class=&#34;nav-item nav-link &#34;
		   id=&#34;nav-dfceba&#34; data-toggle=&#34;tab&#34; href=&#34;#dfceba&#34;
		   role=&#34;tab&#34; aria-controls=&#34;nav-home&#34; aria-selected=&#34;true&#34;&gt;Youtube&lt;/a&gt;

		

	&lt;/div&gt;
&lt;/nav&gt;

&lt;div class=&#34;tab-content&#34; id=&#34;nav-tab-content&#34;&gt;

	





&lt;div class=&#34;tab-pane fade show active &#34; id=&#34;facdeb&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;nav-1&#34;&gt;

	

&lt;div class=&#34;embed video-player&#34;&gt;
  &lt;iframe class=&#34;rutube-player&#34; type=&#34;text/html&#34;
	  width=&#34;720&#34; height=&#34;405&#34;
	  src=&#34;https://rutube.ru/play/embed/a202f653206b1c569bcfe44b5924558a&#34;
	  webkitAllowFullScreen mozallowfullscreen allowFullScreen
	  allow=&#34;clipboard-write&#34; frameborder=&#34;0&#34;&gt;
  &lt;/iframe&gt;
&lt;/div&gt;




&lt;/div&gt;






&lt;div class=&#34;tab-pane fade show &#34; id=&#34;dfceba&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;nav-1&#34;&gt;

	


&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/_EBurmbB9DY&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;




&lt;/div&gt;



&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Mininet. Использование netem (потери пакетов)</title>
      <link>https://yamadharma.github.io/ru/course/simulation-networks/mininet-netem-ii/</link>
      <pubDate>Thu, 13 Oct 2022 14:27:00 +0300</pubDate>
      <guid>https://yamadharma.github.io/ru/course/simulation-networks/mininet-netem-ii/</guid>
      <description>&lt;p&gt;Использование netem. Потери пакетов, дублирование пакетов, изменение порядка, повреждение пакетов.&lt;/p&gt;
&lt;details class=&#34;toc-inpage d-print-none  &#34; open&gt;
  &lt;summary class=&#34;font-weight-bold&#34;&gt;Содержание&lt;/summary&gt;
  &lt;nav id=&#34;TableOfContents&#34;&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a href=&#34;#общая-информация&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#цели&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.1&lt;/span&gt; Цели&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#задачи&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.2&lt;/span&gt; Задачи&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#теоретические-сведения&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2&lt;/span&gt; Теоретические сведения&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#проблемы-с-передачей-пакетов&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2.1&lt;/span&gt; Проблемы с передачей пакетов&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#подготовка-стенда&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3&lt;/span&gt; Подготовка стенда&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#лабораторная-топология&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.1&lt;/span&gt; Лабораторная топология&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#рабочие-файлы&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.2&lt;/span&gt; Рабочие файлы&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#интерактивный-эксперимент&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4&lt;/span&gt; Интерактивный эксперимент&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#добавление-изменение-потери-пакетов&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.1&lt;/span&gt; Добавление/изменение потери пакетов&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#определение-интерфейсов-хостов-h1-и-h2&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.2&lt;/span&gt; Определение интерфейсов хостов &lt;code&gt;h1&lt;/code&gt; и &lt;code&gt;h2&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#добавка-потери-пакетов-на-интерфейс-подключённый-к-глобальной-сети&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.3&lt;/span&gt; Добавка потери пакетов на интерфейс, подключённый к глобальной сети&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#добавка-значения-корреляции-для-потери-пакетов&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.4&lt;/span&gt; Добавка значения корреляции для потери пакетов&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#добавка-повреждения-пакетов&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.5&lt;/span&gt; Добавка повреждения пакетов&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#добавка-переупорядочивание-пакетов&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.6&lt;/span&gt; Добавка переупорядочивание пакетов&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#добавка-дублирования-пакетов&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.7&lt;/span&gt; Добавка дублирования пакетов&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;
&lt;/details&gt;

&lt;h2 id=&#34;общая-информация&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;h3 id=&#34;цели&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.1&lt;/span&gt; Цели&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Освоить моделирование следующих параметров сети: потеря пакетов, дублирование пакетов, изменение порядка и повреждение пакетов.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;задачи&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1.2&lt;/span&gt; Задачи&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;В ходе работы требуется освоить следующие умения:
&lt;ul&gt;
&lt;li&gt;эмуляция  сети, характеризующихся такими параметрами, как задержка, потеря пакетов, повреждение пакетов, переупорядочивание пакетов и дублирование пакетов;&lt;/li&gt;
&lt;li&gt;измерение производительности глобальных сетей, характеризующихся различными значениями параметров.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;теоретические-сведения&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2&lt;/span&gt; Теоретические сведения&lt;/h2&gt;
&lt;h3 id=&#34;проблемы-с-передачей-пакетов&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;2.1&lt;/span&gt; Проблемы с передачей пакетов&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Потеря пакета
&lt;ul&gt;
&lt;li&gt;Пакет, проходящий через сеть, не достигает пункта назначения.&lt;/li&gt;
&lt;li&gt;Распространённой причиной потери пакетов является неспособность маршрутизаторов удерживать пакеты, поступающие со скоростью, превышающей скорость отправления.&lt;/li&gt;
&lt;li&gt;Маршрутизатор ограничен объёмом буферной памяти, используемой для мгновенного хранения пакетов.&lt;/li&gt;
&lt;li&gt;Когда происходит потеря пакетов, TCP уменьшает окно перегрузки и, следовательно, пропускную способность вдвое.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Переупорядочивание пакетов
&lt;ul&gt;
&lt;li&gt;Пакеты принимаются в порядке, отличном от того, в котором они были отправлены.&lt;/li&gt;
&lt;li&gt;Переупорядочивание пакетов (неупорядоченная доставка пакетов) обычно является результатом того, что пакеты следуют по разным маршрутам для достижения пункта назначения.&lt;/li&gt;
&lt;li&gt;Переупорядочивание пакетов может ухудшить пропускную способность TCP-соединений в сетях с высокой пропускной способностью и высокой задержкой.&lt;/li&gt;
&lt;li&gt;Для каждого сегмента, полученного не по порядку, получатель TCP отправляет подтверждение (ACK) для последнего правильно принятого сегмента.&lt;/li&gt;
&lt;li&gt;Как только отправитель TCP получает три подтверждения для одного и того же сегмента (тройной дубликат ACK), отправитель считает, что получатель неправильно принял пакет, следующий за пакетом, который подтверждается три раза.&lt;/li&gt;
&lt;li&gt;Тогда отправитель уменьшает окно перегрузки и пропускную способность в два раза.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Повреждение пакета
&lt;ul&gt;
&lt;li&gt;Повреждение битов, составляющих пакет.&lt;/li&gt;
&lt;li&gt;Обычно происходит на физическом уровне.&lt;/li&gt;
&lt;li&gt;В случае повреждения некоторые биты могут иметь значения, отличные от первоначально отправленных узлом-отправителем.&lt;/li&gt;
&lt;li&gt;Узел получателя отбрасывает такие пакеты.&lt;/li&gt;
&lt;li&gt;Процесс-отправитель TCP не получит подтверждения для соответствующего сегмента и будет считать его потерянным сегментом.&lt;/li&gt;
&lt;li&gt;Отправитель уменьшает окно перегрузки и пропускную способность в два раза.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Дублирование пакетов
&lt;ul&gt;
&lt;li&gt;Несколько копий пакета присутствуют в сети и принимаются пунктом назначения.&lt;/li&gt;
&lt;li&gt;Дублирование пакетов является результатом повторных передач, когда узел-отправитель повторно передает неподтвержденные (NACK) пакеты.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;подготовка-стенда&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3&lt;/span&gt; Подготовка стенда&lt;/h2&gt;
&lt;h3 id=&#34;лабораторная-топология&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.1&lt;/span&gt; Лабораторная топология&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;В топологии используется сеть 10.0.0.0/8, назначенная Mininet по умолчанию.&lt;/li&gt;
&lt;li&gt;Топология представляет собой коммутатор с двумя подключёнными к нему хостами.&lt;/li&gt;
&lt;li&gt;Для запуска топологии используем параметры командной строки:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo mn --topo=single,2 -x
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;рабочие-файлы&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;3.2&lt;/span&gt; Рабочие файлы&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Подключимся к виртуальной машине:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ssh -Y mininet@192.168.x.y
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Для рабочих файлов будем использовать каталог &lt;code&gt;~/work/lab_netem_ii&lt;/code&gt;:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mkdir -p ~/work/lab_netem_i
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;интерактивный-эксперимент&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4&lt;/span&gt; Интерактивный эксперимент&lt;/h2&gt;
&lt;h3 id=&#34;добавление-изменение-потери-пакетов&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.1&lt;/span&gt; Добавление/изменение потери пакетов&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Работа с NETEM осуществляется с помощью утилиты командной строки &lt;code&gt;tc&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Без дополнительных параметров NETEM ведёт себя как базовая очередь FIFO без задержек, потерь, дублирования или переупорядочения пакетов.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Основной синтаксис &lt;code&gt;tc&lt;/code&gt;, используемый с NETEM, следующий:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc [add|del|replace|change|show] dev dev_id root netem opts
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sudo&lt;/code&gt;: выполнить команду с более высокими привилегиями;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tc&lt;/code&gt;: команда, используемая для взаимодействия с NETEM;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;qdisc&lt;/code&gt;: дисциплина очереди (&lt;code&gt;qdisc&lt;/code&gt;) представляет собой набор правил, определяющих порядок, в котором обслуживаются пакеты, поступающие по  протоколу IP.
&lt;ul&gt;
&lt;li&gt;Дисциплина очереди применяется к очереди пакетов, чтобы решить, когда отправлять каждый пакет.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[add|del|replace|change|show]&lt;/code&gt; (добавить, удалить, заменить, изменить, показать): операция над &lt;code&gt;qdisc&lt;/code&gt;:
&lt;ul&gt;
&lt;li&gt;чтобы добавить задержку на определённом интерфейсе, применяется операция &lt;code&gt;add&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;чтобы изменить или удалить задержку на определённом интерфейсе, применяется операция &lt;code&gt;change&lt;/code&gt; или &lt;code&gt;del&lt;/code&gt;;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dev_id&lt;/code&gt;: параметр указывает интерфейс, подлежащий эмуляции;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;opts&lt;/code&gt;: параметр указывает величину задержки, потери пакетов, дублирования, повреждения и другие.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;определение-интерфейсов-хостов-h1-и-h2&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.2&lt;/span&gt; Определение интерфейсов хостов &lt;code&gt;h1&lt;/code&gt; и &lt;code&gt;h2&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Необходимо идентифицировать интерфейсы на подключенных хостах.&lt;/li&gt;
&lt;li&gt;На хосте &lt;code&gt;h1&lt;/code&gt; введите команду &lt;code&gt;ifconfig&lt;/code&gt;, чтобы отобразить информацию, относящуюся к его сетевым интерфейсам и назначенным им IP-адресам.
&lt;ul&gt;
&lt;li&gt;Вывод команды &lt;code&gt;ifconfig&lt;/code&gt; показывает, что хост &lt;code&gt;h1&lt;/code&gt; имеет два интерфейса: &lt;code&gt;h1-eth0&lt;/code&gt; и &lt;code&gt;lo&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Интерфейс &lt;code&gt;h1-eth0&lt;/code&gt; необходимо использовать в &lt;code&gt;tc&lt;/code&gt; при эмуляции WAN.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;На хосте &lt;code&gt;h2&lt;/code&gt; введите команду &lt;code&gt;ifconfig&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Вывод команды &lt;code&gt;ifconfig&lt;/code&gt; показывает, что хост &lt;code&gt;h2&lt;/code&gt; имеет два интерфейса: &lt;code&gt;h2-eth0&lt;/code&gt; и &lt;code&gt;lo&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Интерфейс &lt;code&gt;h2-eth0&lt;/code&gt; необходимо использовать в &lt;code&gt;tc&lt;/code&gt; при эмуляции WAN.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;добавка-потери-пакетов-на-интерфейс-подключённый-к-глобальной-сети&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.3&lt;/span&gt; Добавка потери пакетов на интерфейс, подключённый к глобальной сети&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Пакеты могут быть потеряны во время передачи из-за таких факторов, как битовые ошибки и перегрузка сети.&lt;/li&gt;
&lt;li&gt;Скорость потерянных пакетов часто измеряется как процентная доля потерянных пакетов по отношению к количеству отправленных пакетов.&lt;/li&gt;
&lt;li&gt;В терминале хоста &lt;code&gt;h1&lt;/code&gt; введите следующую команду:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc add dev h1-eth0 root netem loss 10%
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Эта команда добавляет 10% потери пакетов к интерфейсу &lt;code&gt;h1-eth0&lt;/code&gt; хоста &lt;code&gt;h1&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Теперь можно проверить наличие потерь пакетов, используя команду &lt;code&gt;ping&lt;/code&gt; с терминала хоста &lt;code&gt;h1&lt;/code&gt;. Параметр &lt;code&gt;-c&lt;/code&gt; указывает общее количество пакетов для отправки:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ping 10.0.0.2 -c 200
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Обратите внимание на значения &lt;code&gt;icmp_seq&lt;/code&gt;. Некоторые номера последовательности отсутствуют из-за потери пакетов.&lt;/li&gt;
&lt;li&gt;В сводном отчёте &lt;code&gt;ping&lt;/code&gt; сообщает о проценте потерянных пакетов после завершения передачи.&lt;/li&gt;
&lt;li&gt;Данный сценарий эмулирует 10% потери пакетов в однонаправленном канале от хоста &lt;code&gt;h1&lt;/code&gt; к хосту &lt;code&gt;h2&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Если мы хотим эмулировать потерю пакетов в обоих направлениях, к хосту &lt;code&gt;h2&lt;/code&gt; также необходимо добавить потерю пакетов в размере 10%.&lt;/li&gt;
&lt;li&gt;В терминале хоста &lt;code&gt;h2&lt;/code&gt; введите следующую команду:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc add dev h2-eth0 root netem loss 10%
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Можно убедиться, что соединение между хостом &lt;code&gt;h1&lt;/code&gt; и хостом &lt;code&gt;h2&lt;/code&gt; имеет больше потерь пакетов (10% от хоста &lt;code&gt;h1&lt;/code&gt; + 10% от хоста &lt;code&gt;h2&lt;/code&gt;), повторив команду &lt;code&gt;ping&lt;/code&gt; на терминале хоста &lt;code&gt;h1&lt;/code&gt;:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ping 10.0.0.2 -c 200
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Обратите внимание на значения &lt;code&gt;icmp_seq&lt;/code&gt;. Некоторые номера последовательности отсутствуют из-за потери пакетов.&lt;/li&gt;
&lt;li&gt;В сводном отчёте &lt;code&gt;ping&lt;/code&gt; сообщает о проценте потерянных пакетов после завершения передачи.&lt;/li&gt;
&lt;li&gt;Чтобы удалить добавленную потерю пакетов и восстановить конфигурацию по умолчанию, необходимо удалить правила интерфейсов на хосте &lt;code&gt;h1&lt;/code&gt; и хосте &lt;code&gt;h2&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;В терминале хоста &lt;code&gt;h1&lt;/code&gt; введите следующую команду:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc del dev h1-eth0 root netem
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Примените те же действия для удаления правил на хосте &lt;code&gt;h2&lt;/code&gt;. В терминале хоста &lt;code&gt;h2&lt;/code&gt; введите следующую команду:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc del dev h2-eth0 root netem
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;В результате дисциплина организации очереди tc восстановит свои значения по умолчанию.&lt;/li&gt;
&lt;li&gt;Теперь можно убедиться, что соединение от хоста &lt;code&gt;h1&lt;/code&gt; к хосту &lt;code&gt;h2&lt;/code&gt; не имеет явной потери пакетов.&lt;/li&gt;
&lt;li&gt;Запустите команду &lt;code&gt;ping&lt;/code&gt; с терминала хоста &lt;code&gt;h1&lt;/code&gt;, нажмите &lt;code&gt;Ctrl+c&lt;/code&gt;, чтобы остановить тест:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ping 10.0.0.2
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;добавка-значения-корреляции-для-потери-пакетов&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.4&lt;/span&gt; Добавка значения корреляции для потери пакетов&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Можно добавить необязательную корреляцию.&lt;/li&gt;
&lt;li&gt;В терминале хоста &lt;code&gt;h1&lt;/code&gt; введите следующую команду:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc add dev h1-eth0 root netem loss 50% 50%
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Команда вводит коэффициент потери пакетов 50% (такой высокий уровень потери пакетов маловероятен), и каждая последующая вероятность зависит на 50% от последней.&lt;/li&gt;
&lt;li&gt;Теперь пользователь может проверить, что между хостом &lt;code&gt;h1&lt;/code&gt; и хостом &lt;code&gt;h2&lt;/code&gt; теряются пакеты, используя команду &lt;code&gt;ping&lt;/code&gt; с терминала хоста &lt;code&gt;h1&lt;/code&gt;:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ping 10.0.0.2 -c 50
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Обратите внимание на значения &lt;code&gt;icmp_seq&lt;/code&gt;. Некоторые номера последовательности отсутствуют из-за потери пакетов.&lt;/li&gt;
&lt;li&gt;В сводном отчёте &lt;code&gt;ping&lt;/code&gt; сообщает о проценте потерянных пакетов после завершения передачи.&lt;/li&gt;
&lt;li&gt;В терминале хоста &lt;code&gt;h1&lt;/code&gt; введите следующую команду, чтобы удалить предыдущие конфигурации:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc del dev h1-eth0 root netem
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;добавка-повреждения-пакетов&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.5&lt;/span&gt; Добавка повреждения пакетов&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Помимо потери пакетов, с помощью NETEM можно эмулировать повреждение пакетов.&lt;/li&gt;
&lt;li&gt;В терминале хоста &lt;code&gt;h1&lt;/code&gt; введите следующую команду:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc add dev h1-eth0 root netem corrupt 0.01%
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Добавленное здесь новое значение представляет собой процент повреждения пакетов (0,01%).&lt;/li&gt;
&lt;li&gt;Теперь пользователь может проверить предыдущую конфигурацию с помощью инструмента &lt;code&gt;iperf3&lt;/code&gt; для проверки повторных передач.&lt;/li&gt;
&lt;li&gt;Запустите iPerf3 в режиме сервера в терминале хоста &lt;code&gt;h2&lt;/code&gt;:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;iperf3 -s
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Запустите iPerf3 в клиентском режиме в терминале хоста &lt;code&gt;h1&lt;/code&gt;:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;iperf3 -c 10.0.0.2
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Посмотрите значения повторной передачи на каждом временном интервале и общее количество повторно переданных пакетов.&lt;/li&gt;
&lt;li&gt;В терминале хоста &lt;code&gt;h1&lt;/code&gt; введите следующую команду, чтобы удалить предыдущие конфигурации:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc del dev h1-eth0 root netem
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Чтобы остановить сервер, нажмите &lt;code&gt;Ctrl+c&lt;/code&gt; в терминале хоста &lt;code&gt;h2&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;добавка-переупорядочивание-пакетов&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.6&lt;/span&gt; Добавка переупорядочивание пакетов&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Иногда пакеты доставляются не в том порядке, в котором они были отправлены.&lt;/li&gt;
&lt;li&gt;Для эмуляции переупорядочивания в NETEM используется опция переупорядочивания.&lt;/li&gt;
&lt;li&gt;В терминале хоста &lt;code&gt;h1&lt;/code&gt; введите следующую команду:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc add dev h1-eth0 root netem delay 10ms reorder 25% 50%
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;В этой команде 25% пакетов (со значением корреляции 50%) будут отправлены немедленно, а остальные 75% будут задержаны на 10 мс.&lt;/li&gt;
&lt;li&gt;Пользователь может проверить эффект переупорядочивания пакетов с помощью команды &lt;code&gt;ping&lt;/code&gt; на терминале хоста &lt;code&gt;h1&lt;/code&gt; (нажмите &lt;code&gt;Ctrl+c&lt;/code&gt;, чтобы остановить тест):
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ping 10.0.0.2
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Первый и второй пакеты не будут иметь задержки (один из четырех, или 25%), а следующие три пакета будут иметь задержку около 10 миллисекунд (три из четырех, или 75%).&lt;/li&gt;
&lt;li&gt;В терминале хоста &lt;code&gt;h1&lt;/code&gt; введите следующую команду, чтобы удалить предыдущие конфигурации:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc del dev h1-eth0 root netem
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;добавка-дублирования-пакетов&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;4.7&lt;/span&gt; Добавка дублирования пакетов&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Дублированные пакеты могут присутствовать в сетях в результате повторных передач.&lt;/li&gt;
&lt;li&gt;NETEM предоставляет возможность эмуляции дублирования пакетов.&lt;/li&gt;
&lt;li&gt;В терминале хоста &lt;code&gt;h1&lt;/code&gt; введите следующую команду:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc change dev h1-eth0 root netem duplicate 50%
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Команда создаст дублирование 50% (т. е. 50% пакетов будут получены дважды).&lt;/li&gt;
&lt;li&gt;Пользователь может проверить эффект дублирования пакетов с помощью команды &lt;code&gt;ping&lt;/code&gt; на терминале хоста &lt;code&gt;h1&lt;/code&gt; (нажмите &lt;code&gt;Ctrl+c&lt;/code&gt;, чтобы остановить тест):
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ping 10.0.0.2
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Дубликаты пакетов помечаются как &lt;code&gt;DUP!&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Измеренная скорость дублирования пакетов будет приближаться к настроенной скорости по мере выполнения большего количества попыток.&lt;/li&gt;
&lt;li&gt;В терминале хоста &lt;code&gt;h1&lt;/code&gt; введите следующую команду, чтобы удалить предыдущие конфигурации:
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo tc qdisc del dev h1-eth0 root netem
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    
  </channel>
</rss>
