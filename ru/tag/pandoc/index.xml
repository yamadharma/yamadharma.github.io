<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Pandoc | Д. С. Кулябов</title><link>http://localhost:1313/ru/tag/pandoc/</link><atom:link href="http://localhost:1313/ru/tag/pandoc/index.xml" rel="self" type="application/rss+xml"/><description>Pandoc</description><generator>Hugo Blox Builder (https://hugoblox.com)</generator><language>ru-ru</language><copyright>© 2025 Dmitry S. Kulyabov</copyright><lastBuildDate>Sun, 05 Nov 2023 19:04:00 +0300</lastBuildDate><image><url>http://localhost:1313/media/icon_hu_3756dbc1adf0ae14.png</url><title>Pandoc</title><link>http://localhost:1313/ru/tag/pandoc/</link></image><item><title>Pandoc. Фильтры. Перекрёстные ссылки</title><link>http://localhost:1313/ru/post/2023/11/05/pandoc-filters-cross-referencing/</link><pubDate>Sun, 05 Nov 2023 19:04:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2023/11/05/pandoc-filters-cross-referencing/</guid><description>&lt;p&gt;Pandoc. Фильтры. Перекрёстные ссылки.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#pandoc-crossref"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; pandoc-crossref&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#pandoc-xnos"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; pandoc-xnos&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#pandoc-fignos"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; pandoc-fignos&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#pandoc-eqnos"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; pandoc-eqnos&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#pandoc-tablenos"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; pandoc-tablenos&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#pandoc-secnos"&gt;&lt;span class="section-num"&gt;2.4&lt;/span&gt; pandoc-secnos&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="pandoc-crossref"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; pandoc-crossref&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Документация:
&lt;/li&gt;
&lt;li&gt;Язык реализации: Haskell&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="pandoc-xnos"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; pandoc-xnos&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Исправления (сторонние):
&lt;/li&gt;
&lt;li&gt;Обновлялся в 2020 году.&lt;/li&gt;
&lt;li&gt;Проблемы с pandoc-3.&lt;/li&gt;
&lt;li&gt;Состоит из нескольких фильтров:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;pandoc-fignos&lt;/code&gt; : нумерация рисунков и ссылки на рисунки;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pandoc-eqnos&lt;/code&gt; : нумерация уравнении и ссылки на уравнения;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pandoc-tablenos&lt;/code&gt; : нумерация таблиц и ссылки на таблицы;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pandoc-secnos&lt;/code&gt; : нумерация ссылок на разделы (разделы нумеруются самим pandoc).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="pandoc-fignos"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; pandoc-fignos&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="pandoc-eqnos"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; pandoc-eqnos&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="pandoc-tablenos"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; pandoc-tablenos&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="pandoc-secnos"&gt;&lt;span class="section-num"&gt;2.4&lt;/span&gt; pandoc-secnos&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Pandoc. Фильтры. Включение файлов</title><link>http://localhost:1313/ru/post/2023/03/23/pandoc-filters-include/</link><pubDate>Thu, 23 Mar 2023 19:35:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2023/03/23/pandoc-filters-include/</guid><description>&lt;p&gt;Включение файлов в другие файлы.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#включения-других-файлов-в-документ"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Включения других файлов в документ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#include-files"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; include-files&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#особенности"&gt;&lt;span class="section-num"&gt;1.1.1&lt;/span&gt; Особенности&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#применение"&gt;&lt;span class="section-num"&gt;1.1.2&lt;/span&gt; Применение&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#смена-заголовков"&gt;&lt;span class="section-num"&gt;1.1.3&lt;/span&gt; Смена заголовков&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#форматы"&gt;&lt;span class="section-num"&gt;1.1.4&lt;/span&gt; Форматы&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#пример"&gt;&lt;span class="section-num"&gt;1.1.5&lt;/span&gt; Пример&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#panda"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; panda&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#особенности"&gt;&lt;span class="section-num"&gt;1.2.1&lt;/span&gt; Особенности&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#смена-заголовков"&gt;&lt;span class="section-num"&gt;1.2.2&lt;/span&gt; Смена заголовков&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#пример"&gt;&lt;span class="section-num"&gt;1.2.3&lt;/span&gt; Пример&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="включения-других-файлов-в-документ"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Включения других файлов в документ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Основные варианты:
&lt;ul&gt;
&lt;li&gt;рекурсивное включение;&lt;/li&gt;
&lt;li&gt;абсолютное включение.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Рекурсивное включение:
&lt;ul&gt;
&lt;li&gt;Пусть файл &lt;code&gt;a/b.md&lt;/code&gt; подключается из основного документа.&lt;/li&gt;
&lt;li&gt;Файл &lt;code&gt;a/b.md&lt;/code&gt; в свою очередь подключает файл &lt;code&gt;a/b/c.md&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;В этом случае используется относительный путь &lt;code&gt;b/c.md&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;То же самое касается путей к изображениям и путей к файлам кодовых блоков с использованием фильтра &lt;code&gt;include-code-files&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Абсолютное включение:
&lt;ul&gt;
&lt;li&gt;Как в LaTeX.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="include-files"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; include-files&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
.&lt;/li&gt;
&lt;li&gt;Язык реализации: Lua.&lt;/li&gt;
&lt;li&gt;Рекурсивное включение.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="особенности"&gt;&lt;span class="section-num"&gt;1.1.1&lt;/span&gt; Особенности&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Не запускайте другие фильтры перед выполнением &lt;code&gt;include-files&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Выполнение большинства фильтров без предварительного использования &lt;code&gt;include-files&lt;/code&gt; приведёт к тому, что другой фильтр увидит пустой блок кода.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="применение"&gt;&lt;span class="section-num"&gt;1.1.2&lt;/span&gt; Применение&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Используйте &lt;code&gt;include&lt;/code&gt; для включения файлов того же формата, что и входные данные.&lt;/li&gt;
&lt;li&gt;Использование оформляется в виде директивы класса.&lt;/li&gt;
&lt;li&gt;Каждая строка кода обрабатывается как имя файла, анализируется, и результат добавляется в документ.&lt;/li&gt;
&lt;li&gt;Метаданные из включенных файлов отбрасываются.&lt;/li&gt;
&lt;li&gt;Строки комментариев начинаются с символов &lt;code&gt;//&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="смена-заголовков"&gt;&lt;span class="section-num"&gt;1.1.3&lt;/span&gt; Смена заголовков&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;По умолчанию вложенные документы включаются без изменений.&lt;/li&gt;
&lt;li&gt;Иногда удобно изменить уровень заголовков.&lt;/li&gt;
&lt;li&gt;Ручное переключение: используйте атрибут &lt;code&gt;shift-heading-level-by&lt;/code&gt; для управления сдвигом заголовка.&lt;/li&gt;
&lt;li&gt;Автоматическое переключение: добавьте метаданные &lt;code&gt;-M include-auto&lt;/code&gt;, чтобы включить автоматическое смещение. Не указывайте &lt;code&gt;shift-heading-level-by&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Пример:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-markdown" data-lang="markdown"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="gh"&gt;# Title f
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="gh"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;This is &lt;span class="sb"&gt;`file-f.md`&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="gu"&gt;## Subtitle f
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="gu"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;``&lt;span class="sb"&gt;`{.include} &amp;gt;&amp;gt; equivalent to {.include shift-heading-level-by=2}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;file-a.md
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;`&lt;/span&gt;`&lt;span class="sb"&gt;`
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;`&lt;/span&gt;`&lt;span class="sb"&gt;`{.include shift-heading-level-by=1} &amp;gt;&amp;gt; force shift to be 1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;file-a.md
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;`&lt;/span&gt;``
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="форматы"&gt;&lt;span class="section-num"&gt;1.1.4&lt;/span&gt; Форматы&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;По умолчанию предполагается, что файлы написаны в формате Markdown.&lt;/li&gt;
&lt;li&gt;При необходимости включить файлы, написанные в другом формате, альтернативный формат может быть указан через атрибут &lt;code&gt;format&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Принимаются только текстовые форматы.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="пример"&gt;&lt;span class="section-num"&gt;1.1.5&lt;/span&gt; Пример&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Предположим, мы пишем длинный документ, например диссертацию.&lt;/li&gt;
&lt;li&gt;Каждая глава и раздел приложения находятся в отдельном файле.&lt;/li&gt;
&lt;li&gt;Основной файл &amp;mdash; &lt;code&gt;main.md&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-markdown" data-lang="markdown"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;author: me
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;title: Thesis
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="gh"&gt;# Frontmatter
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="gh"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Thanks everyone!
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&amp;lt;!-- actual chapters start here --&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;``&lt;span class="sb"&gt;` {.include}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;chapters/introduction.md
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;chapters/methods.md
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;chapters/results.md
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;chapters/discussion.md
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;`&lt;/span&gt;`&lt;span class="sb"&gt;`
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;# Appendix
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;More info goes here.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;`&lt;/span&gt;`&lt;span class="sb"&gt;` {.include shift-heading-level-by=1}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;// headings in included documents are shifted down a level,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;// a level 1 heading becomes level 2.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;appendix/questionaire.md
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;`&lt;/span&gt;``
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Например, html можно создать с помощью этой команды:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;pandoc --lua-filter&lt;span class="o"&gt;=&lt;/span&gt;include-files.lua main.md --output result.html
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="panda"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; panda&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
.&lt;/li&gt;
&lt;li&gt;Документация:
.&lt;/li&gt;
&lt;li&gt;Язык реализации: Lua.&lt;/li&gt;
&lt;li&gt;Абсолютное включение.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="особенности"&gt;&lt;span class="section-num"&gt;1.2.1&lt;/span&gt; Особенности&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Включение как блок &lt;code&gt;div&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Включаемый файл может быть в другом формате.&lt;/li&gt;
&lt;li&gt;Если блок задаёт входной формат как класс, файл анализируется в соответствии с этим форматом.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="смена-заголовков"&gt;&lt;span class="section-num"&gt;1.2.2&lt;/span&gt; Смена заголовков&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;По умолчанию вложенные документы включаются без изменений.&lt;/li&gt;
&lt;li&gt;Иногда удобно изменить уровень заголовков.&lt;/li&gt;
&lt;li&gt;Ручное переключение: используйте атрибут &lt;code&gt;shift=n&lt;/code&gt; для управления сдвигом заголовка.&lt;/li&gt;
&lt;li&gt;По умолчанию n = 0.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="пример"&gt;&lt;span class="section-num"&gt;1.2.3&lt;/span&gt; Пример&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Содержимое файла анализируется в соответствии с его форматом и заменяет содержимое блока &lt;code&gt;div&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-markdown" data-lang="markdown"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;:::{include=file.md shift=n}
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;This text is optional and will be replaced by the content of file.md.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Section title levels are shifted by n (0 if not specified).
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;:::
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Фильтры pandoc</title><link>http://localhost:1313/ru/post/2021/08/28/pandoc-filters/</link><pubDate>Sat, 28 Aug 2021 20:00:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2021/08/28/pandoc-filters/</guid><description>&lt;p&gt;Фильтры &lt;em&gt;pandoc&lt;/em&gt;.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#варианты-реализации-фильтров"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Варианты реализации фильтров&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#фильтры-на-языке-haskell"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Фильтры на языке Haskell&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#репозитории-с-фильтрами-haskell"&gt;&lt;span class="section-num"&gt;2.1.1&lt;/span&gt; Репозитории с фильтрами haskell&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#фильтры-на-языке-python"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Фильтры на языке Python&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#репозитории-с-фильтрами-python"&gt;&lt;span class="section-num"&gt;2.2.1&lt;/span&gt; Репозитории с фильтрами python&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#фильтры-на-языке-lua"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Фильтры на языке Lua&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#репозитории-с-фильтрами-lua"&gt;&lt;span class="section-num"&gt;2.3.1&lt;/span&gt; Репозитории с фильтрами lua&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#библиотеки-для-фильтров-lua"&gt;&lt;span class="section-num"&gt;2.3.2&lt;/span&gt; Библиотеки для фильтров lua&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#подключение-дополнительных-библиотек"&gt;&lt;span class="section-num"&gt;2.3.3&lt;/span&gt; Подключение дополнительных библиотек&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#фильтры-по-области-применения"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Фильтры по области применения&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#включения-других-файлов-в-документ"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Включения других файлов в документ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#перекрёстные-ссылки"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Перекрёстные ссылки&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#mustache"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Mustache&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#lustache"&gt;&lt;span class="section-num"&gt;3.3.1&lt;/span&gt; lustache&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Фильтры &amp;mdash; основное средство расширения функционала pandoc.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="варианты-реализации-фильтров"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Варианты реализации фильтров&lt;/h2&gt;
&lt;h3 id="фильтры-на-языке-haskell"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Фильтры на языке Haskell&lt;/h3&gt;
&lt;h4 id="репозитории-с-фильтрами-haskell"&gt;&lt;span class="section-num"&gt;2.1.1&lt;/span&gt; Репозитории с фильтрами haskell&lt;/h4&gt;
&lt;h3 id="фильтры-на-языке-python"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Фильтры на языке Python&lt;/h3&gt;
&lt;h4 id="репозитории-с-фильтрами-python"&gt;&lt;span class="section-num"&gt;2.2.1&lt;/span&gt; Репозитории с фильтрами python&lt;/h4&gt;
&lt;h3 id="фильтры-на-языке-lua"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Фильтры на языке Lua&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Начиная с версии 2.0 pandoc содержит интерпретатор &lt;em&gt;lua&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;На данный момент используется версия lua 5.3.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="репозитории-с-фильтрами-lua"&gt;&lt;span class="section-num"&gt;2.3.1&lt;/span&gt; Репозитории с фильтрами lua&lt;/h4&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Основной набор фильтров lua&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="библиотеки-для-фильтров-lua"&gt;&lt;span class="section-num"&gt;2.3.2&lt;/span&gt; Библиотеки для фильтров lua&lt;/h4&gt;
&lt;h4 id="подключение-дополнительных-библиотек"&gt;&lt;span class="section-num"&gt;2.3.3&lt;/span&gt; Подключение дополнительных библиотек&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Фильтры могут потребовать использование дополнительных библиотек.&lt;/li&gt;
&lt;li&gt;Для библиотек может понадобится задание пути расположения.
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Функция &lt;em&gt;lua&lt;/em&gt; &lt;code&gt;require&lt;/code&gt; использует &lt;code&gt;package.path&lt;/code&gt; для поиска модулей.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;При старте &lt;em&gt;lua&lt;/em&gt; инициализирует эту переменную значением переменной окружения &lt;code&gt;LUA_PATH&lt;/code&gt; или значением по умолчанию из &lt;code&gt;luaconf.h&lt;/code&gt;, если переменная окружения не определена.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;При поиске файла &lt;code&gt;require&lt;/code&gt; использует путь, который немного отличается от обычных путей.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Путь, используемый большинством программ, представляет собой список каталогов, в которых нужно искать данный файл.&lt;/li&gt;
&lt;li&gt;Однако ANSI C (абстрактная платформа, на которой работает Lua) не имеет концепции каталогов.&lt;/li&gt;
&lt;li&gt;Таким образом, путь, используемый &lt;code&gt;require&lt;/code&gt;, представляет собой список шаблонов, каждый из которых указывает альтернативный способ преобразования имени модуля в имя файла.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Путь &amp;mdash; это последовательность шаблонов, разделённых точкой с запятой.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Любое вхождение строки &lt;code&gt;;;&lt;/code&gt; в переменную среды окружения замещается значением по умолчанию.
&lt;ul&gt;
&lt;li&gt;Например, если установить для &lt;code&gt;LUA_PATH&lt;/code&gt; значение &lt;code&gt;mydir/?.lua;;&lt;/code&gt;, окончательным путём будет компонент &lt;code&gt;mydir/?.lua&lt;/code&gt;, за которым следует путь по умолчанию.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Для каждого шаблона &lt;code&gt;require&lt;/code&gt; будет заменять каждый вопросительный знак на имя файла &lt;code&gt;filename&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Пусть путь задан следующим образом:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;?&lt;span class="p"&gt;;&lt;/span&gt;?.lua&lt;span class="p"&gt;;&lt;/span&gt;c:&lt;span class="se"&gt;\w&lt;/span&gt;indows&lt;span class="se"&gt;\?&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;/usr/local/lua/?/?.lua
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;В модуле делается вызов:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-lua" data-lang="lua"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;require&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;sql&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Ищутся файлы:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sql
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sql.lua
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;c:&lt;span class="se"&gt;\w&lt;/span&gt;indows&lt;span class="se"&gt;\s&lt;/span&gt;ql
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/usr/local/lua/sql/sql.lua
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Я в проекте библиотеки размещаю в каталоге &lt;code&gt;pandoc/lua&lt;/code&gt;, поэтому задаю переменную среды:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;LUA_PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;pandoc/lua/?.lua;;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="фильтры-по-области-применения"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Фильтры по области применения&lt;/h2&gt;
&lt;h3 id="включения-других-файлов-в-документ"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Включения других файлов в документ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="перекрёстные-ссылки"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Перекрёстные ссылки&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="mustache"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Mustache&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="lustache"&gt;&lt;span class="section-num"&gt;3.3.1&lt;/span&gt; lustache&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Реализация на lua.&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Pandoc</title><link>http://localhost:1313/ru/post/2021/08/28/pandoc/</link><pubDate>Sat, 28 Aug 2021 19:55:00 +0300</pubDate><guid>http://localhost:1313/ru/post/2021/08/28/pandoc/</guid><description>&lt;p&gt;Средство конвертации текстовых форматов &lt;em&gt;Pandoc&lt;/em&gt;.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#разное"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Разное&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Универсальная утилита конвертирования текстовых форматов.&lt;/li&gt;
&lt;li&gt;Входные форматы:
&lt;ul&gt;
&lt;li&gt;markdown;&lt;/li&gt;
&lt;li&gt;reStructuredText;&lt;/li&gt;
&lt;li&gt;HTML;&lt;/li&gt;
&lt;li&gt;LaTeX;&lt;/li&gt;
&lt;li&gt;OPML;&lt;/li&gt;
&lt;li&gt;Org-mode;&lt;/li&gt;
&lt;li&gt;DocBook;&lt;/li&gt;
&lt;li&gt;Office Open XML (Microsoft Word .docx).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Выходные форматы:
&lt;ul&gt;
&lt;li&gt;форматы на основе HTML: XHTML, HTML5, HTML-слайды презентаций (S5, Slidy, Slideous, DZSlides);&lt;/li&gt;
&lt;li&gt;форматы текстовых процессоров: Microsoft Word docx, OpenOffice/LibreOffice ODT, OpenDocument XML;&lt;/li&gt;
&lt;li&gt;электронные книги: EPUB версии 2 или 3, FictionBook2;&lt;/li&gt;
&lt;li&gt;форматы технической документации: DocBook, GNU TexInfo, groff[en];&lt;/li&gt;
&lt;li&gt;форматы системы ΤΕΧ: LaTeX, ConTeXt, слайды LaTeX Beamer;&lt;/li&gt;
&lt;li&gt;PDF (с помощью LaTeX);&lt;/li&gt;
&lt;li&gt;текстовые форматы с облегчённой разметкой: Markdown, reStructuredText, AsciiDoc[en], MediaWiki, Emacs Org-Mode, Textile.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Основной формат: Markdown.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="разное"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Разное&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item></channel></rss>