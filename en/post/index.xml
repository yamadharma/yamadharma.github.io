<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts | Dmitry S. Kulyabov</title>
    <link>https://yamadharma.github.io/en/post/</link>
      <atom:link href="https://yamadharma.github.io/en/post/index.xml" rel="self" type="application/rss+xml" />
    <description>Posts</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>en-us</language><copyright>© 2021 Dmitry S. Kulyabov</copyright><lastBuildDate>Wed, 22 Apr 2020 19:54:00 +0300</lastBuildDate>
    <image>
      <url>https://yamadharma.github.io/media/icon_hu0a661dd90139895e92e2f18ae9404407_611148_512x512_fill_lanczos_center_3.png</url>
      <title>Posts</title>
      <link>https://yamadharma.github.io/en/post/</link>
    </image>
    
    <item>
      <title>Happy Birthday</title>
      <link>https://yamadharma.github.io/en/post/2020/04/22/50-let/</link>
      <pubDate>Wed, 22 Apr 2020 19:54:00 +0300</pubDate>
      <guid>https://yamadharma.github.io/en/post/2020/04/22/50-let/</guid>
      <description>&lt;h1 id=&#34;happy-birthday&#34;&gt;Happy Birthday&lt;/h1&gt;
&lt;p&gt;And you, my friend, happy birthday!&lt;/p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/WjoLeohyzSY&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;


&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/Sxek3xFtc48&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Vladimir Ilyich Lenin - 150 years</title>
      <link>https://yamadharma.github.io/en/post/2020/04/22/lenin-150/</link>
      <pubDate>Wed, 22 Apr 2020 19:40:17 +0300</pubDate>
      <guid>https://yamadharma.github.io/en/post/2020/04/22/lenin-150/</guid>
      <description>&lt;h1 id=&#34;vladimir-ilyich-lenin----150-years&#34;&gt;Vladimir Ilyich Lenin &amp;ndash; 150 years&lt;/h1&gt;
&lt;p&gt;Happy Birthday, Vladimir Ilyich!&lt;/p&gt;














&lt;figure  id=&#34;figure-vladimir-ilyich-lenin-in-his-office-in-the-kremlin-october-16-1918&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;Vladimir Ilyich Lenin in his office in the Kremlin. October 16, 1918&#34; srcset=&#34;
               /media/2020/04/lenin-kreml_hu8deb6f69a46d8e57d50c2b4620d25818_144919_9265a967938858cdeb76079ee906f502.webp 400w,
               /media/2020/04/lenin-kreml_hu8deb6f69a46d8e57d50c2b4620d25818_144919_77b2d79ae22b28490bffd19c1d153b97.webp 760w,
               /media/2020/04/lenin-kreml_hu8deb6f69a46d8e57d50c2b4620d25818_144919_1200x1200_fit_q90_h2_lanczos.webp 1200w&#34;
               src=&#34;https://yamadharma.github.io/media/2020/04/lenin-kreml_hu8deb6f69a46d8e57d50c2b4620d25818_144919_9265a967938858cdeb76079ee906f502.webp&#34;
               width=&#34;760&#34;
               height=&#34;532&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      Vladimir Ilyich Lenin in his office in the Kremlin. October 16, 1918
    &lt;/figcaption&gt;&lt;/figure&gt;</description>
    </item>
    
    <item>
      <title>Migrating from livejournal to hexo</title>
      <link>https://yamadharma.github.io/en/post/2018/04/21/from-lj-to-hexo/</link>
      <pubDate>Sat, 21 Apr 2018 15:37:34 +0000</pubDate>
      <guid>https://yamadharma.github.io/en/post/2018/04/21/from-lj-to-hexo/</guid>
      <description>&lt;h1 id=&#34;migrating-from-livejournal-to-hexo&#34;&gt;Migrating from livejournal to hexo&lt;/h1&gt;
&lt;p&gt;Migrating from &lt;a href=&#34;https://yamadharma.livejournal.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;livejornal&lt;/a&gt; posed some problems.&lt;/p&gt;
&lt;p&gt;I want to note that I did not transfer the comments.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/arty-name/livejournal-export&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;livejournal-export&lt;/a&gt; seemed to me the most suitable. It translates immediately to &lt;em&gt;markdown&lt;/em&gt;. However, tags are not imported.
It uses browser session parameters for identification.&lt;/p&gt;
&lt;p&gt;As the second option I considered &lt;a href=&#34;https://github.com/ghewgill/ljdump&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ljdump&lt;/a&gt;. It downloads the weblog in &lt;em&gt;html&lt;/em&gt;. For identification uses login and password.&lt;/p&gt;
&lt;p&gt;Then I had to convert to &lt;em&gt;markdown&lt;/em&gt;. To do this, I wrote the script &lt;em&gt;xml2md&lt;/em&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#!/usr/bin/python3
# -*- coding: utf-8 -*-

import os
import sys
from lxml import etree
import html2text
from datetime import datetime
from transliterate import translit, get_available_language_codes

outdir = &#39;markdown&#39;
os.makedirs(outdir, exist_ok=True)

infile = sys.argv[1]
print(infile)

tree = etree.parse(infile)
post = tree.getroot()

postTitle = &#39;&#39;
postTags = &#39;&#39;

for elem in post.getchildren():
    if not elem.text:
        text = &amp;quot;None&amp;quot;
    else:
        text = elem.text
    # print(elem.tag + &amp;quot; =&amp;gt; &amp;quot; + text)
    # book_dict[elem.tag] = text
    if elem.tag == &#39;subject&#39;:
        postTitle = text
    if elem.tag == &#39;eventtime&#39;:
        postDate = text
    if elem.tag == &#39;event&#39;:
        postContent = text
    if elem.tag == &#39;props&#39;:
        for propsElem in elem.getchildren():
            if not elem.text:
                text = &amp;quot;None&amp;quot;
            else:
                text = propsElem.text
            # print(propsElem.tag + &amp;quot; =&amp;gt; &amp;quot; + text)
            if propsElem.tag == &#39;taglist&#39;:
                postTags = text
            



postHeader = &#39;layout: post\n&#39;+&#39;title: &#39;+postTitle+&#39;\n&#39;+&#39;date: &#39;+str(postDate)
postHeader = postHeader+&#39;\ncategories: blog\nlang: ru&#39;
postHeader = postHeader+&#39;\ntags: [&#39;+postTags+&#39;]&#39;
postHeader = postHeader+&#39;\n&#39;+&#39;---&#39;

h = html2text.HTML2Text()
h.ignore_links = False
h.body_width = 0
h.unicode_snob = True
postContent = h.handle(postContent)

fullPost = postHeader+&#39;\n\n\n&#39;+postContent

date = datetime.strptime(postDate, &#39;%Y-%m-%d %H:%M:%S&#39;)
outFile = &#39;{0.year}-{0.month:02d}-{0.day:02d}&#39;.format(date)
if postTitle != &#39;&#39;:
    translitTitle = translit(postTitle, &#39;ru&#39;, reversed=True)
    translitTitle = translitTitle.replace(&amp;quot; &amp;quot;,&amp;quot;_&amp;quot;)
    translitTitle = translitTitle.replace(&amp;quot;:&amp;quot;,&amp;quot;&amp;quot;)
    translitTitle = translitTitle.replace(&amp;quot;&#39;&amp;quot;,&amp;quot;&amp;quot;)
    translitTitle = translitTitle.replace(&amp;quot;«&amp;quot;,&amp;quot;&amp;quot;)
    translitTitle = translitTitle.replace(&amp;quot;»&amp;quot;,&amp;quot;&amp;quot;)
    translitTitle = translitTitle.replace(&amp;quot;;&amp;quot;,&amp;quot;&amp;quot;)
else:
    translitTitle = &#39;{0.hour:02d}-{0.minute:02d}-{0.second:02d}&#39;.format(date)
outFile = outFile+&#39;-&#39;+translitTitle

f = open(outdir+&#39;/&#39;+str(outFile)+&#39;.md&#39;, &#39;w&#39;)
f.write(fullPost)
f.close()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Conversion can be performed using the command:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;./xml2md &amp;lt;file&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This creates the &lt;em&gt;markdown&lt;/em&gt; directory and the conversion result is placed in it.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Stalin departed for a short while</title>
      <link>https://yamadharma.github.io/en/post/2010/06/07/stalin-nenadolgo-otoshel/</link>
      <pubDate>Mon, 07 Jun 2010 17:28:00 +0000</pubDate>
      <guid>https://yamadharma.github.io/en/post/2010/06/07/stalin-nenadolgo-otoshel/</guid>
      <description>&lt;h1 id=&#34;stalin-departed-for-a-short-while&#34;&gt;Stalin departed for a short while&lt;/h1&gt;
&lt;p&gt;Roosevelt and Churchill are sitting.&lt;/p&gt;
&lt;p&gt;The monument is called &amp;ldquo;Allies&amp;rdquo;, but more appropriate, &amp;ldquo;Stalin departed for a short while.&amp;rdquo;&lt;/p&gt;














&lt;figure  id=&#34;figure-the-allies-sculpture-on-bond-street&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;The Allies sculpture on Bond Street&#34; srcset=&#34;
               /media/2010/06/stalin_hu4685abbf4c1fb08d2ec9851e9d285256_88276_4e3d5fff9c1fafac9fd6570561ce1b6a.webp 400w,
               /media/2010/06/stalin_hu4685abbf4c1fb08d2ec9851e9d285256_88276_f0af21f4cb84c0c948a722ff965f45ab.webp 760w,
               /media/2010/06/stalin_hu4685abbf4c1fb08d2ec9851e9d285256_88276_1200x1200_fit_q90_h2_lanczos.webp 1200w&#34;
               src=&#34;https://yamadharma.github.io/media/2010/06/stalin_hu4685abbf4c1fb08d2ec9851e9d285256_88276_4e3d5fff9c1fafac9fd6570561ce1b6a.webp&#34;
               width=&#34;760&#34;
               height=&#34;579&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      The Allies sculpture on Bond Street
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;This bronze, seated Churchill and Roosevelt statue called &amp;ldquo;Allies&amp;rdquo; was
sculpted by Lawrence Holofcener and unveiled in 1995 by Princess
Margaret. Located in downtown London in the pedestrian area in Old
Bond Street, visitors to the statue frequently have their photograph
taken seated between the two famous personages.&lt;/p&gt;</description>
    </item>
    
  </channel>
</rss>
