---
title: "Emacs. Пробелы"
author: ["Dmitry S. Kulyabov"]
date: 2025-04-11T19:35:00+03:00
lastmod: 2025-04-11T20:03:00+03:00
tags: ["emacs"]
categories: ["computer-science"]
draft: false
slug: "emacs-space"
---

Emacs. Работа с пробелами.

<!--more-->

{{< toc >}}


## <span class="section-num">1</span> Удаление пробелов {#удаление-пробелов}


### <span class="section-num">1.1</span> stripspace {#stripspace}


#### <span class="section-num">1.1.1</span> Общая информация {#общая-информация}

-   Репозиторий: <https://github.com/jamescherti/stripspace.el>
-   Реализуется `stripspace-local-mode`, которая обеспечивает удаление конечных пробелов перед сохранением буфера.


#### <span class="section-num">1.1.2</span> Функционирование {#функционирование}

-   Перед сохранением буфера: автоматически удаляет все конечные пробелы.
-   После сохранения буфера: восстанавливает позицию столбца курсора на текущей строке, включая любые пробелы перед курсором.
    -   Это обеспечивает единообразие редактирования и предотвращает непреднамеренное перемещение курсора при сохранении буфера и удалении конечных пробелов.
    -   Это поведение может контролироваться переменной `stripspace-restore-column` (по умолчанию: `t` ).
-   Даже если буфер сужен, _stripspace_ удаляет конечные пробелы из всего буфера.
    -   Это поведение, контролируется переменной `stripspace-ignore-restrictions` (по умолчанию: `t` ).
-   Дополнительная функция `stripspace-only-if-initially-clean` (по умолчанию: `nil` ) указывает _stripspace_ удалять пробелы только тогда, когда буфер изначально чист (если установлена в ненулевое значение).
    -   Проверка чистоты буфера оптимизируется с помощью одного поиска регулярного выражения для конечных пробелов и другого для пустых строк.
-   Переменная `stripspace-verbose` (если она не равна `nil`) показывает в минибуфере, были ли удалены конечные пробелы или, если нет, указывает причину их сохранения.
-   Функции удаления пробелов настраиваются, что позволяет пользователю указать собственную функцию для удаления конечных пробелов из текущего буфера.
-   Переменная `stripspace-clean-function` позволяет указать функцию для удаления конечных пробелов из текущего буфера.
    -   Эта функция вызывается для устранения любых лишних пробелов или табуляций в конце строк.
    -   Например, это может быть установлено для встроенной функции, такой как `delete-trailing-whitespace` (по умолчанию) или `whitespace-cleanup`.
