---
title: "Emacs. Пакет Tabspaces"
author: ["Dmitry S. Kulyabov"]
date: 2026-02-20T14:29:00+03:00
lastmod: 2026-02-20T14:46:00+03:00
draft: false
slug: "emacs-tabspaces"
---

Emacs. Пакет Tabspaces.

<!--more-->

{{< toc >}}


## <span class="section-num">1</span> Общая информация {#общая-информация}

-   Репозиторий: <https://github.com/mclear-tools/tabspaces>
-   Превращает обычные вкладки (tab-bar) в полноценные изолированные рабочие пространства (workspaces), тесно интегрированные с системой проектов (project.el).
-   Каждая вкладка становится независимым контейнером для набора буферов, связанных с определённым проектом или задачей.
-   Это позволяет организовать работу над несколькими проектами одновременно, не смешивая буферы и не теряя контекст.


## <span class="section-num">2</span> Основные концепции {#основные-концепции}

-   Рабочее пространство (workspace) --- это вкладка (`tab`), которая имеет:
    -   собственный список буферов;
    -   имя (обычно совпадает с именем проекта или задаётся пользователем);
    -   возможность изолировать буферы от других вкладок.
-   Проект --- используется встроенный механизм `project.el`.
    -   `tabspaces` позволяет открыть проект в отдельном рабочем пространстве, автоматически показывая его файлы и настраивая фильтрацию буферов.
-   Фильтрация буферов.
    -   Внутри рабочего пространства команды переключения буферов (например, `switch-to-buffer`) показывают только те буферы, которые принадлежат этому пространству.
    -   Остальные буферы «скрыты», хотя физически существуют.
-   Персистентность.
    -   Можно сохранять и восстанавливать набор рабочих пространств и их буферов между сессиями Emacs.


## <span class="section-num">3</span> Ключевые возможности {#ключевые-возможности}


### <span class="section-num">3.1</span> Изоляция буферов по рабочим пространствам {#изоляция-буферов-по-рабочим-пространствам}

-   Благодаря настройке `tabspaces-use-filtered-buffers-as-default`, команды типа `switch-to-buffer`, `list-buffers` и другие показывают только буферы текущего рабочего пространства.
-   Буферы других проектов не мешают и не загромождают список.
-   При этом буферы можно перемещать между пространствами или делать общими (например, `*scratch*`, `*Messages*`).


### <span class="section-num">3.2</span> Интеграция с проектами {#интеграция-с-проектами}

-   Команда `tabspaces-open-or-create-project-and-workspace` позволяет выбрать проект (известный `project.el`) и открыть его в новой вкладке.
-   Emacs переключается в корень проекта, показывает файлы (например, через `dired` или `project-find-file`), и все открытые из этого проекта буферы автоматически привязываются к созданному рабочему пространству.
-   При переключении на вкладку проекта буферы этого проекта становятся активными, а буферы других проектов --- скрытыми.


### <span class="section-num">3.3</span> Управление буферами {#управление-буферами}

-   `tabspaces-remove-current-buffer` --- удаляет текущий буфер из рабочего пространства (перемещает в «домашнее» пространство `Default` или убивает в зависимости от настроек).
-   `tabspaces-kill-buffers-close-workspace` --- закрывает рабочее пространство и убивает все его буферы.
-   Настройка `tabspaces-remove-to-default` определяет, куда отправлять буферы, удалённые из пространства: в `Default` или сразу убивать.


### <span class="section-num">3.4</span> Поддержка сохранения сессий {#поддержка-сохранения-сессий}

-   Включив `tabspaces-session`, можно сохранять состояние рабочих пространств между запусками Emacs.
-   При следующем запуске автоматически восстанавливаются вкладки и их буферы (с опцией `tabspaces-session-auto-restore`).
-   Это удобно, чтобы продолжить работу с того же места.


### <span class="section-num">3.5</span> Настройка фильтрации {#настройка-фильтрации}

-   Можно задать список буферов, которые должны быть видны во всех рабочих пространствах (`tabspaces-include-buffers`).
-   Можно настроить, как именно фильтровать буферы (например, через собственную функцию).


## <span class="section-num">4</span> Пример рабочего процесса {#пример-рабочего-процесса}

-   Пользователь запускает Emacs. Открывается вкладка `Default` с буферами `*scratch*` и `*Messages*`.
-   Он хочет начать работу над проектом `myapp`. Выполняет `M-x tabspaces-open-or-create-project-and-workspace`. Выбирает `myapp` из списка проектов. Emacs создаёт новую вкладку с именем `myapp` и переключается в неё.
-   В этой вкладке пользователь открывает несколько файлов проекта. Все они теперь принадлежат рабочему пространству `myapp`.
-   Далее пользователю нужно быстро проверить почту. Он переключается на вкладку `Default` (например, через `C-x t 0` или `tabspaces-switch-or-create-workspace`). Теперь команда `C-x b` показывает только буферы `Default` --- почтовые буферы (если они там открыты) и стандартные.
-   Вернувшись в проект `myapp`, пользователь снова видит только его файлы.
-   В конце дня можно сохранить сессию (если включено автоматически) и завтра продолжить с того же места.


## <span class="section-num">5</span> Основные клавиатурные сочетания tabspaces {#основные-клавиатурные-сочетания-tabspaces}

-   Команды собраны под префиксом `C-c TAB`.


### <span class="section-num">5.1</span> Главные команды (префикс `C-c TAB`) {#главные-команды--префикс-c-c-tab}

| Сочетание     | Команда                                          | Описание                                                                    |
|---------------|--------------------------------------------------|-----------------------------------------------------------------------------|
| `C-c TAB s`   | `tabspaces-switch-or-create-workspace`           | Переключиться на другое рабоче пространство (вкладку) или создать новое.    |
| `C-c TAB o`   | `tabspaces-open-or-create-project-and-workspace` | Выбрать существующий проект и открыть его в отдельном рабочем пространстве. |
| `C-c TAB b`   | `tabspaces-switch-to-buffer`                     | Переключиться между буферами только текущего рабочего пространства.         |
| `C-c TAB k`   | `tabspaces-kill-buffers-close-workspace`         | Закрыть текущее рабочее пространство и убить все его буферы.                |
| `C-c TAB r`   | `tabspaces-remove-current-buffer`                | Удалить текущий буфер из рабочего пространства (переместить в Default).     |
| `C-c TAB R`   | `tabspaces-rename-workspace`                     | Переименовать текущее рабочее пространство.                                 |
| `C-c TAB TAB` | `tabspaces-switch-or-create-workspace`           | Быстрое переключение (то же, что и `s`).                                    |


### <span class="section-num">5.2</span> Встроенные команды `tab-bar` {#встроенные-команды-tab-bar}

-   Поскольку `tabspaces` основан на встроенном `tab-bar-mode`, вам доступны и стандартные сочетания для работы с вкладками.
-   Если вы используете мышь, можно кликать по вкладкам для переключения, а на средней кнопке мыши --- закрывать.

| Сочетание | Команда        | Описание                      |
|-----------|----------------|-------------------------------|
| `C-x t 2` | `tab-new`      | Создать новую вкладку.        |
| `C-x t 0` | `tab-close`    | Закрыть текущую вкладку.      |
| `C-x t o` | `tab-next`     | Перейти к следующей вкладке.  |
| `C-x t O` | `tab-previous` | Перейти к предыдущей вкладке. |
| `C-x t r` | `tab-rename`   | Переименовать вкладку.        |
| `C-x t m` | `tab-move`     | Переместить вкладку.          |
