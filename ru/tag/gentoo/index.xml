<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Gentoo | Д. С. Кулябов</title><link>https://yamadharma.github.io/ru/tag/gentoo/</link><atom:link href="https://yamadharma.github.io/ru/tag/gentoo/index.xml" rel="self" type="application/rss+xml"/><description>Gentoo</description><generator>Hugo Blox Builder (https://hugoblox.com)</generator><language>ru-ru</language><copyright>© 2025 Dmitry S. Kulyabov</copyright><lastBuildDate>Thu, 21 Aug 2025 11:23:00 +0300</lastBuildDate><image><url>https://yamadharma.github.io/media/icon_hu_3756dbc1adf0ae14.png</url><title>Gentoo</title><link>https://yamadharma.github.io/ru/tag/gentoo/</link></image><item><title>Gentoo. Поддержка бинарных пакетов</title><link>https://yamadharma.github.io/ru/post/2025/08/21/gentoo-binary-package-support/</link><pubDate>Thu, 21 Aug 2025 11:23:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/08/21/gentoo-binary-package-support/</guid><description>&lt;p&gt;Gentoo. Поддержка бинарных пакетов.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-хоста-бинарных-пакетов"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Настройка хоста бинарных пакетов&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#хост-бинарных-пакетов-на-основе-веб"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Хост бинарных пакетов на основе веб&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#caddy"&gt;&lt;span class="section-num"&gt;2.1.1&lt;/span&gt; Caddy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#экспорт-из-nfs"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Экспорт из NFS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Документация:
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="настройка-хоста-бинарных-пакетов"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Настройка хоста бинарных пакетов&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Portage поддерживает несколько протоколов для загрузки бинарных пакетов: FTP, FTPS, HTTP, HTTPS и SSH/SFTP.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="хост-бинарных-пакетов-на-основе-веб"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Хост бинарных пакетов на основе веб&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Основной подход для распространения бинарных пакетов это создать хост бинарных пакетов на основе веб.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="caddy"&gt;&lt;span class="section-num"&gt;2.1.1&lt;/span&gt; Caddy&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установка:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge www-servers/caddy
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Конфигурация (файл &lt;code&gt;/etc/caddy/Caddyfile&lt;/code&gt;):&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;:80 {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; root * /com/lib/portage/packages
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; file_server browse
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Запустите для проверки:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;caddy run --config /etc/caddy/Caddyfile
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Запустите сервис:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; --now caddy.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;На клиентских системах настройте переменную &lt;code&gt;PORTAGE_BINHOST&lt;/code&gt; в файле &lt;code&gt;/etc/portage/make.conf&lt;/code&gt;:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;PORTAGE_BINHOST=&amp;#34;http://binhost.example.com/packages&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="экспорт-из-nfs"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Экспорт из NFS&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;В случае использования хоста бинарных пакетов во внутренней сети, может быть проще экспортировать пакеты с помощью NFS, а затем смонтировать их на клиенте.&lt;/li&gt;
&lt;li&gt;Файл &lt;code&gt;/etc/exports&lt;/code&gt; может выглядеть так:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;var&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cache&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;binpkgs&lt;/span&gt; &lt;span class="mi"&gt;2001&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;db8&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;81&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;48&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ro&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;no_subtree_check&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;root_squash&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="mf"&gt;192.168&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mf"&gt;100.0&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;24&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ro&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;no_subtree_check&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;root_squash&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;На клиентах можно смонтировать каталог.&lt;/li&gt;
&lt;li&gt;Пример записи в файле /etc/fstab:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;binhost&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;var&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cache&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;binpkgs&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;var&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cache&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;binpkgs&lt;/span&gt; &lt;span class="n"&gt;nfs&lt;/span&gt; &lt;span class="n"&gt;defaults&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;В файле &lt;code&gt;/etc/portage/make.conf&lt;/code&gt; установите:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;PKGDIR&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;/var/cache/binpkgs&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Если PKGDIR смонтирован в сети, может быть полезно включить &lt;code&gt;FEATURES=&amp;quot;pkgdir-index-trusted&amp;quot;&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Эта функция отключает проверку всего &lt;code&gt;PKGDIR&lt;/code&gt; на предмет добавленных или удалённых пакетов и вместо этого доверяет содержимому &lt;code&gt;Packages&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Gentoo. Пакет eclean-kernel</title><link>https://yamadharma.github.io/ru/post/2025/07/13/gentoo-eclean-kernel/</link><pubDate>Sun, 13 Jul 2025 20:38:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/07/13/gentoo-eclean-kernel/</guid><description>&lt;p&gt;Gentoo. Пакет eclean-kernel.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#основные-параметры"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Основные параметры&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#дополнительные-параметры"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Дополнительные параметры&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#примеры-использования"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Примеры использования&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#рекомендации"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Рекомендации&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ручное-удаление-ядра"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Ручное удаление ядра&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ошибки-и-решения"&gt;&lt;span class="section-num"&gt;8&lt;/span&gt; Ошибки и решения&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Служит для удаления старых ядер.&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;PyPi:
&lt;/li&gt;
&lt;li&gt;Описание использования:
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Установите пакет через &lt;code&gt;emerge&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge app-admin/eclean-kernel
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="основные-параметры"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Основные параметры&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;-l&lt;/code&gt; (&lt;code&gt;--list-kernels&lt;/code&gt;) : выводит список установленных ядер:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eclean-kernel -l
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;-a&lt;/code&gt; (&lt;code&gt;--all&lt;/code&gt;) : удаляет все ядра, кроме текущего:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eclean-kernel -a
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;-n X&lt;/code&gt; (&lt;code&gt;--num X&lt;/code&gt;) &amp;mdash; сохраняет последние &lt;code&gt;X&lt;/code&gt; ядер, удаляя остальные:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eclean-kernel -n &lt;span class="m"&gt;3&lt;/span&gt; &lt;span class="c1"&gt;# Сохраняет 3 последних ядра&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="дополнительные-параметры"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Дополнительные параметры&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-d&lt;/code&gt; (&lt;code&gt;--destructive&lt;/code&gt;) : принудительное удаление ядер, даже если они используются загрузчиком.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-b BOOTLOADER&lt;/code&gt; (&lt;code&gt;--bootloader BOOTLOADER&lt;/code&gt;) &amp;mdash; указывает тип загрузчика (&lt;code&gt;grub2&lt;/code&gt;, &lt;code&gt;lilo&lt;/code&gt;, &lt;code&gt;grub&lt;/code&gt;, &lt;code&gt;yaboot&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-L LAYOUT&lt;/code&gt; (&lt;code&gt;--layout LAYOUT&lt;/code&gt;) : задаёт схему расположения файлов (&lt;code&gt;auto&lt;/code&gt;, &lt;code&gt;std&lt;/code&gt;, &lt;code&gt;blspec&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-x EXCLUDE&lt;/code&gt; (&lt;code&gt;--exclude EXCLUDE&lt;/code&gt;) : исключает части ядра из удаления (например, &lt;code&gt;vmlinuz, initramfs&lt;/code&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="примеры-использования"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Примеры использования&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Сохранение 3 последних ядер:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eclean-kernel -n &lt;span class="m"&gt;3&lt;/span&gt; -l &lt;span class="c1"&gt;# Вывод списка перед очисткой&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eclean-kernel -n &lt;span class="m"&gt;3&lt;/span&gt; &lt;span class="c1"&gt;# Выполнение очистки&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Удаление всех ядер, кроме текущего:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eclean-kernel -a
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Проверка действий перед выполнением:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eclean-kernel -p -n &lt;span class="m"&gt;2&lt;/span&gt; &lt;span class="c1"&gt;# Имитация удаления&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="рекомендации"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Рекомендации&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Всегда сохраняйте минимум 2 предыдущих ядра для возможности отката в случае проблем.&lt;/li&gt;
&lt;li&gt;Проверяйте конфигурацию загрузчика после очистки, чтобы избежать ошибок при загрузке.&lt;/li&gt;
&lt;li&gt;Используйте &lt;code&gt;emerge --depclean&lt;/code&gt; для удаления исходных кодов ядер, если они больше не нужны.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="ручное-удаление-ядра"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Ручное удаление ядра&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Если eclean-kernel не удаляет все файлы, можно очистить каталоги вручную:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rm -r /usr/src/linux-X.Y.Z &lt;span class="c1"&gt;# Исходные коды&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rm -r /lib/modules/X.Y.Z &lt;span class="c1"&gt;# Модули ядра&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rm /boot/vmlinuz-X.Y.Z &lt;span class="c1"&gt;# Бинарные файлы в /boot&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="ошибки-и-решения"&gt;&lt;span class="section-num"&gt;8&lt;/span&gt; Ошибки и решения&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Если утилита не находит ядра, проверьте переменную &lt;code&gt;BOOT_ORDER&lt;/code&gt; в &lt;code&gt;/etc/portage/make.conf&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;При ошибках с загрузчиком обновите его конфигурацию вручную (например, &lt;code&gt;grub-mkconfig -o /boot/grub/grub.cfg&lt;/code&gt;).&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Gentoo. Пакет installkernel</title><link>https://yamadharma.github.io/ru/post/2025/05/22/gentoo-installkernel/</link><pubDate>Thu, 22 May 2025 11:58:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2025/05/22/gentoo-installkernel/</guid><description>&lt;p&gt;Gentoo. Пакет installkernel.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#основные-команды"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Основные команды&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#конфигурация"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Конфигурация&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#layout"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; layout&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#compat"&gt;&lt;span class="section-num"&gt;3.1.1&lt;/span&gt; compat&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#efistub"&gt;&lt;span class="section-num"&gt;3.1.2&lt;/span&gt; efistub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#grub"&gt;&lt;span class="section-num"&gt;3.1.3&lt;/span&gt; grub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#bls"&gt;&lt;span class="section-num"&gt;3.1.4&lt;/span&gt; bls&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#uki"&gt;&lt;span class="section-num"&gt;3.1.5&lt;/span&gt; uki&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#initrd-generator"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; initrd_generator&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#uki-generator"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; uki_generator&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#особенности"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Особенности&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#dracut"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; dracut&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#hostonly"&gt;&lt;span class="section-num"&gt;4.1.1&lt;/span&gt; hostonly&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#сравнение-ukify-и-dracut"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Сравнение ukify и dracut&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#основные-возможности"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; Основные возможности&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-и-конфигурация"&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; Настройка и конфигурация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#особенности-использования"&gt;&lt;span class="section-num"&gt;5.3&lt;/span&gt; Особенности использования&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#совместимость-и-интеграция"&gt;&lt;span class="section-num"&gt;5.4&lt;/span&gt; Совместимость и интеграция&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#рекомендации-по-выбору"&gt;&lt;span class="section-num"&gt;5.5&lt;/span&gt; Рекомендации по выбору&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Wiki:
&lt;/li&gt;
&lt;li&gt;Installkernel &amp;ndash;— это набор скриптов для автоматической установки новых ядер и обновления загрузчика конфигурации.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="основные-команды"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Основные команды&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Установка ядра:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;kernel-install add KERNEL-VERSION KERNEL-IMAGE &lt;span class="o"&gt;[&lt;/span&gt;INITRD-FILE...&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Удаление ядра:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;kernel-install remove KERNEL-VERSION
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Просмотр установленных ядер:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;kernel-install list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установка всех ядер:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;kernel-install add-all
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Дополнительно можно использовать &lt;code&gt;eclean-kernel&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="конфигурация"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Конфигурация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Файлы конфигурации:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/etc/kernel/install.conf&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/usr/lib/kernel/install.conf&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;первый имеет приоритет над вторым.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Параметра конфигурации:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;layout=
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;initrd_generator=
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;uki_generator=
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="layout"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; layout&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Поддерживается спецификации загрузчика:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;тип 1 ( &lt;code&gt;layout=bls&lt;/code&gt; );&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;используется с &lt;code&gt;systemd-boot&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;рекомендуется включить USE-флаг &lt;code&gt;systemd-boot&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;создает файлы в формате, совместимом с &lt;code&gt;systemd-boot&lt;/code&gt;;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;тип 2 ( &lt;code&gt;layout=uki&lt;/code&gt; );&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;предназначен для использования в унифицированных образах ядра и поддерживается grub, systemd-boot, refind;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;для использования с GRUB ( &lt;code&gt;layout=grub&lt;/code&gt; );&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;чтобы использовать GRUB в сочетании с &lt;em&gt;Unified Kernel Images&lt;/em&gt;, используйте раскладку &lt;code&gt;uki&lt;/code&gt;;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;если USE-флаги grub , systemd-boot , efistub и uki отключены, используется макет, который обратно совместим с installkernel Debian (&lt;code&gt;layout=compat&lt;/code&gt;);&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;используется по умолчанию при отсутствии других USE-флагов;&lt;/li&gt;
&lt;li&gt;совместим с традиционным installkernel;&lt;/li&gt;
&lt;li&gt;обеспечивает обратную совместимость;&lt;/li&gt;
&lt;li&gt;рекомендуется для систем с нестандартными загрузчиками.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Макет &lt;code&gt;uki&lt;/code&gt; (включенный USE-флагом &lt;code&gt;uki&lt;/code&gt;) имеет приоритет над макетом &lt;code&gt;bls&lt;/code&gt; (включенным USE-флагом &lt;code&gt;systemd-boot&lt;/code&gt;), который, в свою очередь, имеет приоритет над макетом &lt;code&gt;grub&lt;/code&gt; (включенным USE-флагом &lt;code&gt;grub&lt;/code&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="compat"&gt;&lt;span class="section-num"&gt;3.1.1&lt;/span&gt; compat&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Макет compat очень похож на макет в традиционном installkernel Debian:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/boot/initramfs-xyz-gentoo-dist.img &lt;span class="c1"&gt;# Если USE=dracut (или другой генератор initramfs)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/boot/kernel-xyz-gentoo-dist
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="efistub"&gt;&lt;span class="section-num"&gt;3.1.2&lt;/span&gt; efistub&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Макет &lt;code&gt;efistub&lt;/code&gt; идентичен макету &lt;code&gt;compat&lt;/code&gt;, но перемещен в системный раздел EFI для загрузки EFI stub.&lt;/li&gt;
&lt;li&gt;Образ ядра имеет суффикс &lt;code&gt;.efi&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;ESP&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/EFI/Gentoo/initramfs-xyz-gentoo-dist.img &lt;span class="c1"&gt;# Если USE=dracut (или другой генератор initramfs)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;ESP&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/EFI/Gentoo/kernel-xyz-gentoo-dist.efi
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="grub"&gt;&lt;span class="section-num"&gt;3.1.3&lt;/span&gt; grub&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Макет grub идентичен макету compat с добавлением grub.cfg:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/boot/grub/grub.cfg
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/boot/initramfs-xyz-gentoo-dist.img &lt;span class="c1"&gt;# Если USE=dracut (или другой генератор initramfs)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/boot/kernel-xyz-gentoo-dist
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="bls"&gt;&lt;span class="section-num"&gt;3.1.4&lt;/span&gt; bls&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;The Bootloader Specification Type 1&lt;/li&gt;
&lt;li&gt;Используется в &lt;code&gt;systemd-boot&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;ESP&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/gentoo/xyz-gentoo-dist/initrd &lt;span class="c1"&gt;# Если USE=dracut (или другой генератор initramfs)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;ESP&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/gentoo/xyz-gentoo-dist/linux
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;ESP&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/loader/entries/gentoo-xyz-gentoo-dist.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="uki"&gt;&lt;span class="section-num"&gt;3.1.5&lt;/span&gt; uki&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;The Bootloader Specification Type 2:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/boot/grub/grub.cfg &lt;span class="c1"&gt;# Если USE=grub&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;ESP&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/EFI/Linux/gentoo-xyz-gentoo-dist.efi
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="initrd-generator"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; initrd_generator&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Параметр определяет, какой плагин должен использоваться для генерации &lt;code&gt;initramfs&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;В настоящее время единственным пакетом, который устанавливает такой плагин, является Dracut из &lt;code&gt;sys-kernel/dracut&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Если флаг &lt;code&gt;USE=dracut&lt;/code&gt; включён, этот параметр автоматически устанавливается в значение &lt;code&gt;dracut&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;В противном случае для этого параметра автоматически устанавливается значение &lt;code&gt;none&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="uki-generator"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; uki_generator&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Параметр управляет тем, какой плагин следует использовать для генерации унифицированного образа ядра.&lt;/li&gt;
&lt;li&gt;Пакеты предоставляют такой плагин:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sys-kernel/dracut&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;systemd&lt;/code&gt; (через флаг &lt;code&gt;ukify&lt;/code&gt; в &lt;code&gt;sys-apps/systemd&lt;/code&gt; и &lt;code&gt;sys-apps/systemd-utils&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Когда включен флаг &lt;code&gt;USE=ukify&lt;/code&gt;, этот параметр автоматически устанавливается в &lt;code&gt;ukify&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Когда флаг &lt;code&gt;USE=ukify&lt;/code&gt; отключен, но включены флаги &lt;code&gt;USE&lt;/code&gt; &lt;code&gt;dracut&lt;/code&gt; и &lt;code&gt;uki&lt;/code&gt;, этот параметр автоматически устанавливается в &lt;code&gt;dracut&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;В противном случае этот параметр автоматически устанавливается в &lt;code&gt;none&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="особенности"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Особенности&lt;/h2&gt;
&lt;h3 id="dracut"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; dracut&lt;/h3&gt;
&lt;h4 id="hostonly"&gt;&lt;span class="section-num"&gt;4.1.1&lt;/span&gt; hostonly&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Начиная с версии &lt;code&gt;sys-kernel/dracut-106&lt;/code&gt; значение по умолчанию для параметра &lt;code&gt;hostonly&lt;/code&gt; изменилось с отключенного на включенное.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;hostonly&lt;/code&gt; :настройка для Dracut, которая управляет тем, сколько данных будет включено в создаваемый образ initramfs.&lt;/li&gt;
&lt;li&gt;Когда она отключена, Dracut стремится сгенерировать образ initramfs, загружаемый на любом оборудовании.&lt;/li&gt;
&lt;li&gt;Когда этот параметр включен, Dracut стремится сгенерировать образ initramfs, содержащий только то, что необходимо для загрузки текущей системы.&lt;/li&gt;
&lt;li&gt;Настройка &lt;code&gt;hostonly&lt;/code&gt; может быть отключена с помощью в &lt;code&gt;/etc/dracut.conf.d/&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir -p /etc/dracut.conf.d
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;hostonly=no&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; /etc/dracut.conf.d/95-no-hostonly.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="сравнение-ukify-и-dracut"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Сравнение ukify и dracut&lt;/h2&gt;
&lt;h3 id="основные-возможности"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; Основные возможности&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Dracut
&lt;ul&gt;
&lt;li&gt;Создает как UKI (Unified Kernel Image), так и initramfs самостоятельно&lt;/li&gt;
&lt;li&gt;Имеет встроенный механизм создания initramfs&lt;/li&gt;
&lt;li&gt;Автоматически генерирует UKI при включении соответствующих флагов&lt;/li&gt;
&lt;li&gt;Поддерживает автоматическую установку в EFI System Partition&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Ukify
&lt;ul&gt;
&lt;li&gt;Создает только UKI, требует отдельный initramfs генератор&lt;/li&gt;
&lt;li&gt;Работает с любым initramfs, созданным сторонними инструментами&lt;/li&gt;
&lt;li&gt;Требует отдельной настройки initramfs через UgRD или Dracut&lt;/li&gt;
&lt;li&gt;Более гибкая интеграция с существующими initramfs&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="настройка-и-конфигурация"&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; Настройка и конфигурация&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Dracut
&lt;ul&gt;
&lt;li&gt;Конфигурация в файле &lt;code&gt;/etc/dracut.conf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Параметры командной строки ядра задаются в &lt;code&gt;/etc/dracut.conf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Для Secure Boot требуются настройки в &lt;code&gt;/etc/dracut.conf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Автоматическая генерация UKI при установке ядра&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Ukify
&lt;ul&gt;
&lt;li&gt;Конфигурация в файле &lt;code&gt;/etc/kernel/uki.conf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Параметры командной строки ядра задаются в &lt;code&gt;/etc/kernel/cmdline&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Для Secure Boot требуются настройки в &lt;code&gt;/etc/kernel/uki.conf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Необходимость отдельной настройки initramfs генератора&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="особенности-использования"&gt;&lt;span class="section-num"&gt;5.3&lt;/span&gt; Особенности использования&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Dracut
&lt;ul&gt;
&lt;li&gt;Однофайловая система &amp;mdash; все в одном инструменте&lt;/li&gt;
&lt;li&gt;Автоматическая генерация и установка UKI&lt;/li&gt;
&lt;li&gt;Встроенная поддержка Secure Boot&lt;/li&gt;
&lt;li&gt;Простота настройки через единый конфигурационный файл&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Ukify
&lt;ul&gt;
&lt;li&gt;Модульная система - можно комбинировать с разными initramfs генераторами&lt;/li&gt;
&lt;li&gt;Более гибкая настройка параметров UKI&lt;/li&gt;
&lt;li&gt;Интеграция с systemd-specific функциями&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="совместимость-и-интеграция"&gt;&lt;span class="section-num"&gt;5.4&lt;/span&gt; Совместимость и интеграция&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Dracut
&lt;ul&gt;
&lt;li&gt;Лучше интегрирован с традиционными системами&lt;/li&gt;
&lt;li&gt;Поддерживает большинство загрузчиков без дополнительной настройки&lt;/li&gt;
&lt;li&gt;Автоматически определяет и использует существующую конфигурацию&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Ukify
&lt;ul&gt;
&lt;li&gt;Лучше работает с systemd-based системами&lt;/li&gt;
&lt;li&gt;Оптимизирован для современных UEFI систем&lt;/li&gt;
&lt;li&gt;Требует дополнительной настройки при использовании нестандартных initramfs&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="рекомендации-по-выбору"&gt;&lt;span class="section-num"&gt;5.5&lt;/span&gt; Рекомендации по выбору&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Используйте Dracut, если:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Нужна простая и единая система управления UKI и initramfs&lt;/li&gt;
&lt;li&gt;Важна автоматическая генерация и установка&lt;/li&gt;
&lt;li&gt;Используется традиционный подход к настройке системы&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Используйте Ukify, если:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Нужна максимальная гибкость в выборе initramfs генератора&lt;/li&gt;
&lt;li&gt;Важна поддержка Measured Boot&lt;/li&gt;
&lt;li&gt;Используется современная systemd-based система&lt;/li&gt;
&lt;li&gt;Требуется интеграция с дополнительными функциями systemd&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Gentoo. Создание ebuild для Rust</title><link>https://yamadharma.github.io/ru/post/2024/11/02/gentoo-ebuild-rust/</link><pubDate>Sat, 02 Nov 2024 19:06:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/11/02/gentoo-ebuild-rust/</guid><description>&lt;p&gt;Gentoo. Создание ebuild для программ на Rust.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#pycargoebuild"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; pycargoebuild&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#использование"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Использование&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="pycargoebuild"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; pycargoebuild&lt;/h2&gt;
&lt;h3 id="общая-информация"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Общая информация&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Генератор ebuild с использованием инфраструктуры Cargo.&lt;/li&gt;
&lt;li&gt;Установка:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge app-portage/pycargoebuild
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="использование"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Использование&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Создать новый ebuild:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;pycargoebuild &amp;lt;package-directory&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;em&gt;package-directory&lt;/em&gt; : каталог, содержащий &lt;code&gt;Cargo.toml&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Создаётся файл ebuild в текущем каталоге.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Обновить существующий ebuild:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;pycargoebuild -i &amp;lt;current-file&amp;gt;.ebuild &amp;lt;package-directory&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Gentoo. Постустановка</title><link>https://yamadharma.github.io/ru/post/2024/07/06/gentoo-post-installation/</link><pubDate>Sat, 06 Jul 2024 16:06:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/07/06/gentoo-post-installation/</guid><description>&lt;p&gt;Постустановка Gentoo.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-репозиториев"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Настройка репозиториев&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#репозиторий-gentoo"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Репозиторий gentoo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#репозитории-karma"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Репозитории karma&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#синхронизация-репозиториев"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Синхронизация репозиториев&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#дополнительные-оверлеи"&gt;&lt;span class="section-num"&gt;2.4&lt;/span&gt; Дополнительные оверлеи&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#guru"&gt;&lt;span class="section-num"&gt;2.4.1&lt;/span&gt; guru&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#gentoo-zh"&gt;&lt;span class="section-num"&gt;2.4.2&lt;/span&gt; gentoo-zh&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#science"&gt;&lt;span class="section-num"&gt;2.4.3&lt;/span&gt; science&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка-программного-обеспечения"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Установка программного обеспечения&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-конфигурация"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Общая конфигурация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#работа-в-консоли"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Работа в консоли&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#файловый-менеджер-mc"&gt;&lt;span class="section-num"&gt;3.2.1&lt;/span&gt; Файловый менеджер mc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#монтирование-в-терминале"&gt;&lt;span class="section-num"&gt;3.2.2&lt;/span&gt; Монтирование в терминале&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#графическое-окружение"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Графическое окружение&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#kde"&gt;&lt;span class="section-num"&gt;3.3.1&lt;/span&gt; KDE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#gnome"&gt;&lt;span class="section-num"&gt;3.3.2&lt;/span&gt; Gnome&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#sway"&gt;&lt;span class="section-num"&gt;3.3.3&lt;/span&gt; Sway&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#средства-разработки"&gt;&lt;span class="section-num"&gt;3.4&lt;/span&gt; Средства разработки&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#git"&gt;&lt;span class="section-num"&gt;3.4.1&lt;/span&gt; git&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#python"&gt;&lt;span class="section-num"&gt;3.4.2&lt;/span&gt; python&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#node-dot-js"&gt;&lt;span class="section-num"&gt;3.4.3&lt;/span&gt; Node.js&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#редакторы"&gt;&lt;span class="section-num"&gt;3.5&lt;/span&gt; Редакторы&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#zed"&gt;&lt;span class="section-num"&gt;3.5.1&lt;/span&gt; Zed&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#vscode"&gt;&lt;span class="section-num"&gt;3.5.2&lt;/span&gt; VScode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#emacs"&gt;&lt;span class="section-num"&gt;3.5.3&lt;/span&gt; Emacs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#vim"&gt;&lt;span class="section-num"&gt;3.5.4&lt;/span&gt; Vim&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#обслуживание-системы"&gt;&lt;span class="section-num"&gt;3.6&lt;/span&gt; Обслуживание системы&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#дедупликация-файлов"&gt;&lt;span class="section-num"&gt;3.6.1&lt;/span&gt; Дедупликация файлов&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ядро"&gt;&lt;span class="section-num"&gt;3.6.2&lt;/span&gt; Ядро&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#утилиты-пользователя"&gt;&lt;span class="section-num"&gt;3.7&lt;/span&gt; Утилиты пользователя&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#менеджер-закладок-buku"&gt;&lt;span class="section-num"&gt;3.7.1&lt;/span&gt; Менеджер закладок buku&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#управление-ключами"&gt;&lt;span class="section-num"&gt;3.7.2&lt;/span&gt; Управление ключами&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#работа-с-текстом"&gt;&lt;span class="section-num"&gt;3.7.3&lt;/span&gt; Работа с текстом&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#чтение"&gt;&lt;span class="section-num"&gt;3.7.4&lt;/span&gt; Чтение&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Описание моей настройки Gentoo.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="настройка-репозиториев"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Настройка репозиториев&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Настройка репозиториев исходит из того, что я использую свой репозиторий с конфигурациями (см.
).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="репозиторий-gentoo"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Репозиторий gentoo&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Установите основной репозиторий (если это ещё не сделано):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emaint sync -r gentoo
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chown -R portage:portage /var/db/repos/gentoo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="репозитории-karma"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Репозитории karma&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Установите репозитории с настройками (см.
)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Добавьте репозиторий &lt;code&gt;karma&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository add karma git https://github.com/yamadharma/karma.git
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emaint sync -r karma
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chown -R portage:portage /var/db/repos/karma
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Добавьте репозиторий &lt;code&gt;karma-profiles&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository add karma-profiles git https://github.com/yamadharma/karma-profiles.git
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emaint sync -r karma-profiles
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chown -R portage:portage /var/db/repos/karma-profiles
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Сделайте ссылки на файлы конфигурации:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;. /var/db/repos/karma-profiles/scripts/portage
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="синхронизация-репозиториев"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Синхронизация репозиториев&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Синхронизуйте репозитории:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emaint sync
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="дополнительные-оверлеи"&gt;&lt;span class="section-num"&gt;2.4&lt;/span&gt; Дополнительные оверлеи&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="guru"&gt;&lt;span class="section-num"&gt;2.4.1&lt;/span&gt; guru&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Добавление репозитория guru:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository &lt;span class="nb"&gt;enable&lt;/span&gt; guru
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="gentoo-zh"&gt;&lt;span class="section-num"&gt;2.4.2&lt;/span&gt; gentoo-zh&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Добавление репозитория gentoo-zh:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository &lt;span class="nb"&gt;enable&lt;/span&gt; gentoo-zh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="science"&gt;&lt;span class="section-num"&gt;2.4.3&lt;/span&gt; science&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Добавление репозитория science:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository &lt;span class="nb"&gt;enable&lt;/span&gt; science
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка-программного-обеспечения"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Установка программного обеспечения&lt;/h2&gt;
&lt;h3 id="общая-конфигурация"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Общая конфигурация&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Зададим флаги emerge:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;### Emerge&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Зададим флаги emerge:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Verbose output&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;-v
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="работа-в-консоли"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Работа в консоли&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для установки всего необходимого для работы в консоли необходимо использовать файл &lt;code&gt;term.sh&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;. ./config.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;### Terminal&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="файловый-менеджер-mc"&gt;&lt;span class="section-num"&gt;3.2.1&lt;/span&gt; Файловый менеджер mc&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;Установка файлового менеджера mc:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Установка файлового менеджера mc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; app-misc/mc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="монтирование-в-терминале"&gt;&lt;span class="section-num"&gt;3.2.2&lt;/span&gt; Монтирование в терминале&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установим udisks2:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge sys-fs/udisks
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установим udiskie (
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge sys-fs/udiskie
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="графическое-окружение"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Графическое окружение&lt;/h3&gt;
&lt;h4 id="kde"&gt;&lt;span class="section-num"&gt;3.3.1&lt;/span&gt; KDE&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Для установки KDE необходимо использовать файл &lt;code&gt;kde.sh&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;. ./config.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;### KDE&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установим все программы KDE:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Install all KDE programs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; kde-apps/kde-apps-meta
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="gnome"&gt;&lt;span class="section-num"&gt;3.3.2&lt;/span&gt; Gnome&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Для установки Gnome необходимо использовать файл &lt;code&gt;gnome.sh&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;. ./config.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;### Gnome&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="sway"&gt;&lt;span class="section-num"&gt;3.3.3&lt;/span&gt; Sway&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;Для установки Gnome необходимо использовать файл &lt;code&gt;sway.sh&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;. ./config.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;### Sway&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Sway&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Установим собственно Sway:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; gui-wm/sway
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;Работа с буфером обмена&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Общие программы для работы с буфером обмена:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Wayland clipboard&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; gui-apps/wl-clipboard
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установим &lt;code&gt;cliphist&lt;/code&gt; (репозиторий &lt;code&gt;guru&lt;/code&gt;):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; app-misc/cliphist
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="3"&gt;
&lt;li&gt;
&lt;p&gt;Пароли&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Работа с паролями (репозиторий &lt;code&gt;guru&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;;;;&lt;/span&gt; Pass
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; app-admin/gopass gui-apps/wtype gui-apps/wl-clipboard x11-misc/xdg-utils x11-libs/libnotify app-admin/pass app-admin/pass-otp
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; gui-apps/tessen
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="средства-разработки"&gt;&lt;span class="section-num"&gt;3.4&lt;/span&gt; Средства разработки&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для установки всего необходимого для работы в консоли необходимо использовать файл &lt;code&gt;dev.sh&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;. ./config.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;### Dev tools&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="git"&gt;&lt;span class="section-num"&gt;3.4.1&lt;/span&gt; git&lt;/h4&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;github&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;gitea&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Утилиты для работы с Gitea.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Gitea&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Утилита командной строки для работы с сервером Gitea (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; dev-util/tea
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="python"&gt;&lt;span class="section-num"&gt;3.4.2&lt;/span&gt; python&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Утилиты для работы с python.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Python&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;pipx&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Установка пакетов python:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; dev-python/pipx
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="node-dot-js"&gt;&lt;span class="section-num"&gt;3.4.3&lt;/span&gt; Node.js&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Утилиты для работы с Node.js.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Node.js&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;pnpm&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Управление пакетами Node.js (оверлей &lt;code&gt;karma&lt;/code&gt;, см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; sys-apps/pnpm
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;yarn&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Управление пакетами Node.js:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; sys-apps/yarn
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="редакторы"&gt;&lt;span class="section-num"&gt;3.5&lt;/span&gt; Редакторы&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для установки редакторов необходимо использовать файл &lt;code&gt;edit.sh&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;. ./config.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;### Edit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="zed"&gt;&lt;span class="section-num"&gt;3.5.1&lt;/span&gt; Zed&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установка редактора &lt;em&gt;Zed&lt;/em&gt; (оверлей &lt;code&gt;gentoo-zh&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Установка редактора Zed&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# emerge ${EMERGE_FLAGS} app-editors/zed&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="vscode"&gt;&lt;span class="section-num"&gt;3.5.2&lt;/span&gt; VScode&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Установка редактора &lt;em&gt;VSCode&lt;/em&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Установка редактора VSCode&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; app-editors/vscode
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установка редактора набора LSP-серверов для &lt;em&gt;VSCode&lt;/em&gt; (оверлей &lt;code&gt;guru&lt;/code&gt;):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; dev-util/vscode-langservers-extracted
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="emacs"&gt;&lt;span class="section-num"&gt;3.5.3&lt;/span&gt; Emacs&lt;/h4&gt;
&lt;h4 id="vim"&gt;&lt;span class="section-num"&gt;3.5.4&lt;/span&gt; Vim&lt;/h4&gt;
&lt;h3 id="обслуживание-системы"&gt;&lt;span class="section-num"&gt;3.6&lt;/span&gt; Обслуживание системы&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для установки системных утилит необходимо использовать файл &lt;code&gt;sys.sh&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;. ./config.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;### System tools&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="дедупликация-файлов"&gt;&lt;span class="section-num"&gt;3.6.1&lt;/span&gt; Дедупликация файлов&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установим &lt;em&gt;jdupes&lt;/em&gt; (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; jdupes
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ядро"&gt;&lt;span class="section-num"&gt;3.6.2&lt;/span&gt; Ядро&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установим ядро:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; gentoo-sources
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Создание установочного образа (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; installkernel
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Управление очисткой ядер (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; app-admin/eclean-kernel
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="утилиты-пользователя"&gt;&lt;span class="section-num"&gt;3.7&lt;/span&gt; Утилиты пользователя&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для установки пользовательских утилит необходимо использовать файл &lt;code&gt;user.sh&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;. ./config.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;### User utils&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="менеджер-закладок-buku"&gt;&lt;span class="section-num"&gt;3.7.1&lt;/span&gt; Менеджер закладок buku&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;Установим менеджер закладок:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Buku&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; www-misc/buku
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установим интерфейс к броузеру:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; www-misc/bukubrow-bin
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="управление-ключами"&gt;&lt;span class="section-num"&gt;3.7.2&lt;/span&gt; Управление ключами&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Установим демон управления ключами:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Keys&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# emerge ${EMERGE_FLAGS} net-misc/keychain&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="работа-с-текстом"&gt;&lt;span class="section-num"&gt;3.7.3&lt;/span&gt; Работа с текстом&lt;/h4&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Markdown&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pandoc (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; app-text/pandoc-bin
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Quarto (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; app-text/quarto
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="чтение"&gt;&lt;span class="section-num"&gt;3.7.4&lt;/span&gt; Чтение&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Calibre (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EMERGE_FLAGS&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; app-text/calibre
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Gentoo. Компиляция системы clang</title><link>https://yamadharma.github.io/ru/post/2024/05/16/gentoo-compiling-clang/</link><pubDate>Thu, 16 May 2024 15:18:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2024/05/16/gentoo-compiling-clang/</guid><description>&lt;p&gt;Переход на Clang для компиляции системы.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#обновление-системы"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Обновление системы&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#конфигурация"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Конфигурация&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#основная-системная-конфигурация"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Основная системная конфигурация&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общие-настройки"&gt;&lt;span class="section-num"&gt;4.1.1&lt;/span&gt; Общие настройки&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-portage"&gt;&lt;span class="section-num"&gt;4.1.2&lt;/span&gt; Настройка portage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-clang"&gt;&lt;span class="section-num"&gt;4.1.3&lt;/span&gt; Настройка clang&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#конфигурация-окружения-для-каждого-пакета"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Конфигурация окружения для каждого пакета&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#конфигурация-специальных-окружений"&gt;&lt;span class="section-num"&gt;4.3&lt;/span&gt; Конфигурация специальных окружений&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#gcc"&gt;&lt;span class="section-num"&gt;4.3.1&lt;/span&gt; gcc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#clang-без-lto"&gt;&lt;span class="section-num"&gt;4.3.2&lt;/span&gt; clang без LTO&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#clang"&gt;&lt;span class="section-num"&gt;4.3.3&lt;/span&gt; clang&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#clang-plus-mold"&gt;&lt;span class="section-num"&gt;4.3.4&lt;/span&gt; clang + mold&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#clang-18-plus-mold"&gt;&lt;span class="section-num"&gt;4.3.5&lt;/span&gt; clang-18 + mold&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#clang-19-plus-mold"&gt;&lt;span class="section-num"&gt;4.3.6&lt;/span&gt; clang-19 + mold&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#clang-plus-binutils"&gt;&lt;span class="section-num"&gt;4.3.7&lt;/span&gt; clang + binutils&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#компиляция-ядра"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Компиляция ядра&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#c-plus-plus-abi"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; C++ ABI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ресурсы"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Ресурсы&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Обязательно должен быть запасной вариант с &lt;em&gt;GCC&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;На данный момент система не сможет скомпилировать все, что использует &lt;em&gt;Clang&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Установите &lt;code&gt;llvm-libunwind&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge --deselect libunwind
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;FEATURES&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;-protect-owned&amp;#34;&lt;/span&gt; emerge -vO llvm-libunwind
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установите &lt;em&gt;Clang&lt;/em&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge sys-devel/clang-runtime sys-devel/clang sys-libs/compiler-rt sys-libs/compiler-rt-sanitizers sys-devel/lld-toolchain-symlinks sys-devel/lld
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установите библиотеку для C++:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge sys-libs/libcxxabi sys-libs/libcxx
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Вместо &lt;code&gt;lld&lt;/code&gt; можно использовать линкер &lt;code&gt;mold&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge mold
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="обновление-системы"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Обновление системы&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Перекомпилим пакеты с библиотекой &lt;code&gt;libunwind&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;revdep-rebuild --library libunwind -- --keep-going
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Удалите библиотеку &lt;code&gt;libunwind&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge -cv libunwind
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Необходимо перекомпилить программы, слинкованные со стандартной библиотекой &lt;code&gt;libstdc++&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Проверьте, какие программы надо перекомпилить:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;revdep-rebuild --library libstdc++ -p
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Перекомпилим эти пакеты:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;revdep-rebuild --library libstdc++ -- --keep-going
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="конфигурация"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Конфигурация&lt;/h2&gt;
&lt;h3 id="основная-системная-конфигурация"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Основная системная конфигурация&lt;/h3&gt;
&lt;h4 id="общие-настройки"&gt;&lt;span class="section-num"&gt;4.1.1&lt;/span&gt; Общие настройки&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Файл &lt;code&gt;/etc/portage/make.conf&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# this sources the PORTDIR_OVERLAY variable defined by layman. however, the variable expanded by layman was empty&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# source /var/db/repos/gentoo/local/layman/make.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 1:&lt;/span&gt;
/etc/portage/make.conf
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;Подключение настроек конкретного хоста:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;source /etc/portage/make.profile/make.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 2:&lt;/span&gt;
/etc/portage/make.conf
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="настройка-portage"&gt;&lt;span class="section-num"&gt;4.1.2&lt;/span&gt; Настройка portage&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Выбор формата бинарных пакетов:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## binpkg
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;BINPKG_FORMAT=&amp;#34;gpkg&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 3:&lt;/span&gt;
/etc/portage/make.conf
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;Выбор формата сжатия бинарных пакетов:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;BINPKG_COMPRESS=&amp;#34;zstd&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 4:&lt;/span&gt;
/etc/portage/make.conf
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;Формат каталога пакетов:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;FEATURES=binpkg-multi-instance
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 5:&lt;/span&gt;
/etc/portage/make.conf
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;Управление приоритетом:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## https://wiki.gentoo.org/wiki/Portage_niceness
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Extremely low priority (per above)
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;PORTAGE_SCHEDULING_POLICY=&amp;#34;idle&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Lowest priority
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;PORTAGE_NICENESS=&amp;#34;19&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;PORTAGE_IONICE_COMMAND=&amp;#34;ionice -c 3 -p \${PID}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 6:&lt;/span&gt;
/etc/portage/make.conf
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="настройка-clang"&gt;&lt;span class="section-num"&gt;4.1.3&lt;/span&gt; Настройка clang&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Опции для ядерных модулей:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## This is added to make options by linux-mod.eclass
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;BUILD_FIXES=&amp;#34;LLVM=1 LLVM_IAS=1&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CLANG_NO_DEFAULT_CONFIG=1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;COMMON_FLAGS=&amp;#34;-O2 -march=native&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXXFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# CFLAGS=&amp;#34;${CFLAGS} -flto=thin&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXXFLAGS=&amp;#34;${CFLAGS} ${CXXFLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;#CFLAGS=&amp;#34;${CFLAGS} -mllvm -extra-vectorizer-passes -mllvm -enable-cond-stores-vec -mllvm -slp-vectorize-hor-store -mllvm -enable-loopinterchange -mllvm -enable-loop-distribute -mllvm -enable-unroll-and-jam -mllvm -enable-loop-flatten -mllvm -interleave-small-loop-scalar-reduction -mllvm -unroll-runtime-multi-exit -mllvm -aggressive-ext-opt -fno-math-errno -fno-trapping-math -falign-functions=32 -funroll-loops -fno-semantic-interposition -fcf-protection=none -mharden-sls=none -fomit-frame-pointer -mprefer-vector-width=256 -flto&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CC=&amp;#34;clang&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CPP=&amp;#34;clang-cpp&amp;#34; # necessary for xorg-server and possibly other packages
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXX=&amp;#34;clang++&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;AR=&amp;#34;llvm-ar&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;NM=&amp;#34;llvm-nm&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;RANLIB=&amp;#34;llvm-ranlib&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;OBJCOPY=&amp;#34;llvm-objcopy&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LD=&amp;#34;mold&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## No need to set this, clang-common can handle this based on chosen USE flags
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# LDFLAGS=&amp;#34;${LDFLAGS} -fuse-ld=lld&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# LDFLAGS=&amp;#34;${LDFLAGS} -fuse-ld=mold&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# LDFLAGS=&amp;#34;${LDFLAGS} -Wl,-O2 -Wl,--as-needed -Wl,--undefined-version&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# LDFLAGS=&amp;#34;${LDFLAGS} -rtlib=compiler-rt -unwindlib=libunwind&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# LDFLAGS=&amp;#34;${LDFLAGS} -flto&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 7:&lt;/span&gt;
/etc/portage/make.conf
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="конфигурация-окружения-для-каждого-пакета"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Конфигурация окружения для каждого пакета&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Можно задать компилятор для каждого пакета в отдельности в файле &lt;code&gt;/etc/portage/package.env&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;emulation&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;virtualbox&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.0&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# ld.lld error&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;emulation&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;virtualbox&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.1&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# ld.lld error&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;emulation&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;virtualbox&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# ld.lld error&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;emulation&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;virtualbox&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;kvm&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.0&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# ld.lld error&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;emulation&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;virtualbox&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;kvm&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.1&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# ld.lld error&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;emulation&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;virtualbox&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;kvm&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# ld.lld error&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;util&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gengetopt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;2.23&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;coinor&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;osi&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.108&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# bug: #919825&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mathematics&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;octave&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;accessibility&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;brltty&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;arch&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;arj&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;arch&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;lha&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;cdr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cdrtools&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;editors&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;emacs&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# gcc-jit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;editors&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;wily&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;editors&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;wily&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;emulation&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dosemu&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;i18n&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;scim&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;misc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ddcutil&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;office&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dia&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;fbreader&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;paper&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clip&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tesseract&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;texlive&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;core&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;zathura&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;pdf&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mupdf&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cdb&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libiodbc&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mariadb&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sqlite&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;debug&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ddd&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;debug&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gdb&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# gcc itself&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;debug&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;systemtap&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;games&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openscenegraph&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;haskell&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;network&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;haskell&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;old&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;haskell&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;resolv&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;commons&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;daemon&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openjdk&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openjdk&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;17&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openjdk&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;21&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openjdk&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;snappy&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gprolog&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;harbour&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;rust&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;zig&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cereal&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;efl&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ffcall&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;intel&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;vc&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;intrinsics&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libayatana&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;appindicator&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libbpf&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libcdio&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libdnet&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libgamin&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libgudev&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;liblouis&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;liboil&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libphonenumber&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libpqxx&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;log4cpp&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;olm&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;opencl&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;opencl&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;totem&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;parser&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;xmlrpc&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;lisp&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ecl&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;perl&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;OpenGL&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;perl&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;OpenGL&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;GLUT&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;perl&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;PDL&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;perl&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;PGPLOT&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cysignals&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;pygame&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;scipy&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;zstandard&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;qt&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;qtwebengine&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;qt&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;qtwebengine&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;tex&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tectonic&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;util&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;android&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;tools&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;util&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;kdevelop&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;util&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mingw64&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;toolchain&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# gcc itself&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;util&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;yacc&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;vcs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cvs&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;vcs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;darcs&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;gui&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gtk&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;kde&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;apps&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;step&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;llvm&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;core&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;lldb&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;mail&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;thunderbird&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gfx&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;autopano&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;sift&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gfx&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;blender&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;4.0&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gfx&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;exact&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gfx&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;graphicsmagick&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gfx&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;inkscape&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gfx&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openvdb&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gfx&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;povray&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gfx&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sane&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;backends&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;avidemux&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;core&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;avidemux&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;plugins&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;exempi&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;intel&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mediasdk&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libdc1394&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libdv&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libfpx&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libgphoto2&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libopenraw&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libquvi&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libsidplay&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openglide&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tg_owt&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;urt&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;sound&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;audacity&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;sound&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sox&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;video&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;avidemux&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;video&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ffmpeg&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;video&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gpac&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;media&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;video&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mpv&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;analyzer&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;rrdtool&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;dns&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bind&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;tools&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;firewall&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ipset&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;fs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;autofs&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;fs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openafs&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;fs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;samba&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gtk&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;vnc&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libnftnl&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;serf&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;webkit&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gtk&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;misc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;netkit&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;telnetd&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;misc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;omniORB&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;misc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openssh&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;contrib&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;misc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;remmina&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;nds&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openldap&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gutenprint&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;proxy&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dante&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;net&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;vpn&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;networkmanager&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;vpnc&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;djbfft&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;pdal&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;vtk&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mathematics&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;giac&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mathematics&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;pari&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# needs fix makefiles&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mathematics&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;singular&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;physics&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;openmodelica&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;visualization&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gnuplot&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sci&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;visualization&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;paraview&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;apps&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;flashrom&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;apps&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;fwupd&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;efi&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;apps&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;keyutils&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;apps&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;memtest86&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;apps&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;systemd&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;auth&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sssd&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gnu&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;efi&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;cluster&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;glusterfs&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;devel&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bin86&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# error: ISO C99&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;devel&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;binutils&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# gcc itself # configure: error: AR&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;devel&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# gcc itself&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;fs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;duperemove&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;binutils&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt; &lt;span class="c1"&gt;# gcc itself&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ldb&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;talloc&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tdb&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tevent&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;www&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;chromium&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;x11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;agg&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;x11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;fox&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;x11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;misc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;redshift&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;x11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;misc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;virtualgl&lt;/span&gt; &lt;span class="n"&gt;compiler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clang&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="конфигурация-специальных-окружений"&gt;&lt;span class="section-num"&gt;4.3&lt;/span&gt; Конфигурация специальных окружений&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Нужно задать конфигурации для разных компиляторов.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="gcc"&gt;&lt;span class="section-num"&gt;4.3.1&lt;/span&gt; gcc&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Конфигурация для компилятора &lt;em&gt;gcc&lt;/em&gt; в файле &lt;code&gt;/etc/portage/env/compiler-gcc&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;COMMON_FLAGS=&amp;#34;-O2 -march=native&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXXFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LDFLAGS=&amp;#34;-Wl,--as-needed&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CC=&amp;#34;gcc&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXX=&amp;#34;g++&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CPP=&amp;#34;gcc -E&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;AR=&amp;#34;ar&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;NM=&amp;#34;nm&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;RANLIB=&amp;#34;ranlib&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;OBJCOPY=&amp;#34;objcopy&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;STRIP=&amp;#34;strip&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LD=&amp;#34;ld&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 8:&lt;/span&gt;
/etc/portage/env/compiler-gcc
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="clang-без-lto"&gt;&lt;span class="section-num"&gt;4.3.2&lt;/span&gt; clang без LTO&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Конфигурация для компилятора &lt;em&gt;clang&lt;/em&gt; без &lt;em&gt;LTO&lt;/em&gt; в файле &lt;code&gt;/etc/portage/env/compiler-clang-no-lto&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CC=&amp;#34;clang&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CPP=&amp;#34;clang-cpp&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXX=&amp;#34;clang++&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;AR=&amp;#34;llvm-ar&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;NM=&amp;#34;llvm-nm&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;RANLIB=&amp;#34;llvm-ranlib&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;OBJCOPY=&amp;#34;llvm-objcopy&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LD=&amp;#34;lld&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 9:&lt;/span&gt;
/etc/portage/env/compiler-clang-no-lto
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="clang"&gt;&lt;span class="section-num"&gt;4.3.3&lt;/span&gt; clang&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Конфигурация для компилятора /clang/в файле &lt;code&gt;/etc/portage/env/compiler-clang&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CC=&amp;#34;clang&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CPP=&amp;#34;clang-cpp&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXX=&amp;#34;clang++&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;AR=&amp;#34;llvm-ar&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;NM=&amp;#34;llvm-nm&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;RANLIB=&amp;#34;llvm-ranlib&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;OBJCOPY=&amp;#34;llvm-objcopy&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LD=&amp;#34;lld&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 10:&lt;/span&gt;
/etc/portage/env/compiler-clang
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="clang-plus-mold"&gt;&lt;span class="section-num"&gt;4.3.4&lt;/span&gt; clang + mold&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# Normal settings here
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;COMMON_FLAGS=&amp;#34;-O2 -march=native&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXXFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CLANG_NO_DEFAULT_CONFIG=1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CC=&amp;#34;clang&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CPP=&amp;#34;clang-cpp&amp;#34; # necessary for xorg-server and possibly other packages
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXX=&amp;#34;clang++&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;AR=&amp;#34;llvm-ar&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;NM=&amp;#34;llvm-nm&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;RANLIB=&amp;#34;llvm-ranlib&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;OBJCOPY=&amp;#34;llvm-objcopy&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LD=&amp;#34;mold&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LDFLAGS=&amp;#34;${LDFLAGS} -fuse-ld=mold&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 11:&lt;/span&gt;
/etc/portage/env/compiler-clang-mold
&lt;/div&gt;
&lt;h4 id="clang-18-plus-mold"&gt;&lt;span class="section-num"&gt;4.3.5&lt;/span&gt; clang-18 + mold&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# Normal settings here
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;COMMON_FLAGS=&amp;#34;-O2 -march=native&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXXFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CLANG_NO_DEFAULT_CONFIG=1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CC=&amp;#34;clang-18&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CPP=&amp;#34;clang-cpp-18&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXX=&amp;#34;clang++-18&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;AR=&amp;#34;llvm-ar&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;NM=&amp;#34;llvm-nm&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;RANLIB=&amp;#34;llvm-ranlib&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;OBJCOPY=&amp;#34;llvm-objcopy&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LD=&amp;#34;mold&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LDFLAGS=&amp;#34;${LDFLAGS} -fuse-ld=mold&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 12:&lt;/span&gt;
/etc/portage/env/compiler-clang-mold-18
&lt;/div&gt;
&lt;h4 id="clang-19-plus-mold"&gt;&lt;span class="section-num"&gt;4.3.6&lt;/span&gt; clang-19 + mold&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# Normal settings here
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;COMMON_FLAGS=&amp;#34;-O2 -march=native&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXXFLAGS=&amp;#34;${COMMON_FLAGS}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CLANG_NO_DEFAULT_CONFIG=1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CC=&amp;#34;clang-19&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CPP=&amp;#34;clang-cpp-19&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXX=&amp;#34;clang++-19&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;AR=&amp;#34;llvm-ar&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;NM=&amp;#34;llvm-nm&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;RANLIB=&amp;#34;llvm-ranlib&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;OBJCOPY=&amp;#34;llvm-objcopy&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LD=&amp;#34;mold&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LDFLAGS=&amp;#34;${LDFLAGS} -fuse-ld=mold&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 13:&lt;/span&gt;
/etc/portage/env/compiler-clang-mold-19
&lt;/div&gt;
&lt;h4 id="clang-plus-binutils"&gt;&lt;span class="section-num"&gt;4.3.7&lt;/span&gt; clang + binutils&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Конфигурация для компилятора /clang/в файле &lt;code&gt;/etc/portage/env/compiler-clang-binutils&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CC=&amp;#34;clang&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CPP=&amp;#34;clang-cpp&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;CXX=&amp;#34;clang++&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;AR=&amp;#34;ar&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;NM=&amp;#34;nm&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;RANLIB=&amp;#34;ranlib&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;OBJCOPY=&amp;#34;objcopy&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;STRIP=&amp;#34;strip&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;LD=&amp;#34;ld&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="src-block-caption"&gt;
&lt;span class="src-block-number"&gt;&amp;#1056;&amp;#1072;&amp;#1089;&amp;#1087;&amp;#1077;&amp;#1095;&amp;#1072;&amp;#1090;&amp;#1082;&amp;#1072; 14:&lt;/span&gt;
/etc/portage/env/compiler-clang-binutils
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="компиляция-ядра"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Компиляция ядра&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Ядро Linux можно скомпилировать с помощью &lt;em&gt;Clang&lt;/em&gt; и набора инструментов &lt;em&gt;LLVM&lt;/em&gt;, определив переменную среды:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;LLVM&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Чтобы настроить специальные параметры ядра &lt;em&gt;Clang&lt;/em&gt;, такие как оптимизация времени компоновки или целостность потока управления, выполните следующую команду:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;LLVM&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; make menuconfig
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Далее скомпилируйте ядро ​​как обычно:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;LLVM&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; make
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Раньше необходимо было объявить &lt;code&gt;LLVM_IAS=1&lt;/code&gt; для использования внутреннего ассемблера Clang для ядра.&lt;/li&gt;
&lt;li&gt;Это больше не требуется, поскольку &lt;code&gt;LLVM=1&lt;/code&gt; теперь включён по умолчанию.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="c-plus-plus-abi"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; C++ ABI&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Для Clang по умолчанию устанавливается библиотека C++ &lt;code&gt;libcxx&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;При компиляции с помощью &lt;em&gt;gcc&lt;/em&gt; используется библиотека &lt;code&gt;libstdc++&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Необходимо, как минимум, перекомпилить приложения, использующие библиотеку &lt;code&gt;libstdc++&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;revdep-rebuild --library libstdc++ -- -v --keep-going
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="ресурсы"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Ресурсы&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Gentoo. Дополнительные репозитории</title><link>https://yamadharma.github.io/ru/post/2023/10/01/gentoo-additional-repositories/</link><pubDate>Sun, 01 Oct 2023 13:41:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2023/10/01/gentoo-additional-repositories/</guid><description>&lt;p&gt;Gentoo. Дополнительные репозитории.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#конфигурация"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Конфигурация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#использование"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Использование&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#синхронизация-репозитория"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Синхронизация репозитория&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#просмотр-репозиториев"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Просмотр репозиториев&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#добавление-репозиториев"&gt;&lt;span class="section-num"&gt;4.3&lt;/span&gt; Добавление репозиториев&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#отключение-репозиториев"&gt;&lt;span class="section-num"&gt;4.4&lt;/span&gt; Отключение репозиториев&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#создание-нового-репозитория"&gt;&lt;span class="section-num"&gt;4.5&lt;/span&gt; Создание нового репозитория&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройки-репозиториев"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Настройки репозиториев&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#приоритет-репозиториев"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; Приоритет репозиториев&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#списки-полезных-репозиториев"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Списки полезных репозиториев&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#karma"&gt;&lt;span class="section-num"&gt;6.1&lt;/span&gt; Karma&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#guru"&gt;&lt;span class="section-num"&gt;6.2&lt;/span&gt; guru&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#haskell"&gt;&lt;span class="section-num"&gt;6.3&lt;/span&gt; haskell&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Ранее использовалась утилита &lt;code&gt;layman&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Сейчас рекомендуется использовать модуль &lt;em&gt;eselect&lt;/em&gt; &lt;code&gt;eselect-repository&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Документация:
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Установка:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge app-eselect/eselect-repository
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="конфигурация"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Конфигурация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Для работы модуля должен существовать каталог или файл &lt;code&gt;repos.conf&lt;/code&gt;, путь к которому задаётся переменной &lt;code&gt;REPOS_CONF&lt;/code&gt; в &lt;code&gt;/etc/eselect/repository.conf&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Будем использовать каталог конфигурации:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir -p /etc/portage/repos.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Файл настройки &lt;code&gt;/etc/eselect/repository.conf&lt;/code&gt; изначально имеет следующий вид:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# конфигурация для eselect-repo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# (читается как bash сценарий, поэтому значения должны оставаться совместимыми&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# с bash)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Следующие переменные указывают на пути,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# настроенные во время сборки:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# CACHEDIR -- системный каталог кэша (напр. /var/cache)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# SYSCONFDIR -- системный каталог конфигурации (напр. /etc)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# SHAREDSTATEDIR -- системный каталог с разделяемыми состояниями&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# (shared state) (напр. /var)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Расположение файла или каталога с конфигурацией репозиториев.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Если это каталог, используются правила Portage для дочерних файлов.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;REPOS_CONF&lt;/span&gt;&lt;span class="o"&gt;=$&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;SYSCONFDIR&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;portage&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;repos&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Файл, в который будут добавляться конфигурации новых репозиториев,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# если REPOS_CONF является каталогом. Вы можете использовать&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# переменную &amp;#34;${repository}&amp;#34;, которая указывает на&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# название вновь добавленного репозитория.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;REPOS_CONF_SUBFILE&lt;/span&gt;&lt;span class="o"&gt;=$&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;REPOS_CONF&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;eselect&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;repo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Родительский каталог, куда будут добавлены сами репозитории.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Новые репозитории добавляются как дочерние каталоги&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# с названием самого репозитория.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;REPOS_BASE&lt;/span&gt;&lt;span class="o"&gt;=$&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;SHAREDSTATEDIR&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;repos&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Расположение списка удалённых репозиториев (remote repositories list).&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# По умолчанию использует список gentoo-mirror, который содержит,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# прегенерированный кэш метаданных&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# (pregenerated metadata cache).&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;REMOTE_LIST_URI&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;https&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;qa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;reports&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gentoo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;repos&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;repositories&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xml&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Альтернатива: изначальный список Gentoo без прегенерации.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;#REMOTE_LIST_URI=https://api.gentoo.org/overlays/repositories.xml&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Каталог, где будет храниться кэш repositories.xml. Файл всегда называется&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# &amp;#34;repositories.xml&amp;#34; из-за технических ограничений wget.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;REMOTE_LIST_CACHEDIR&lt;/span&gt;&lt;span class="o"&gt;=~/.&lt;/span&gt;&lt;span class="n"&gt;cache&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;eselect&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;repo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Интервал (в секундах) проверки списка удалённых репозиториев на изменения.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# По умолчанию равен 2 часам.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;REMOTE_LIST_REFRESH&lt;/span&gt;&lt;span class="o"&gt;=$&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;3600&lt;/span&gt; &lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="использование"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Использование&lt;/h2&gt;
&lt;h3 id="синхронизация-репозитория"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Синхронизация репозитория&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Репозитории могут быть синхронизированы утилитой &lt;code&gt;emaint&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emaint sync -r foo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="просмотр-репозиториев"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Просмотр репозиториев&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Gentoo позволяет пользователям и разработчикам регистрировать репозитории на
для публичного использования.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Просмотр списка репозиториев:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;суффикс &lt;code&gt;*&lt;/code&gt; указывает, что этот репозиторий установлен и подключён;&lt;/li&gt;
&lt;li&gt;суффикс &lt;code&gt;#&lt;/code&gt; указывает, что для этого репозитория необходимо обновить их информацию о синхронизации (путём выключения и включения), или они были настроены пользователем;&lt;/li&gt;
&lt;li&gt;суффикс &lt;code&gt;@&lt;/code&gt; указывает, что такой репозиторий не указан по имени в официальном, опубликованном списке.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Перечислить только сконфигурированные репозитории:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository list -i
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="добавление-репозиториев"&gt;&lt;span class="section-num"&gt;4.3&lt;/span&gt; Добавление репозиториев&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Добавление репозиториев с
:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository &lt;span class="nb"&gt;enable&lt;/span&gt; foo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Добавление произвольных репозиториев&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository add &lt;span class="nb"&gt;test&lt;/span&gt; git https://github.com/test/test.git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Синтаксис:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository add &amp;lt;название&amp;gt; &amp;lt;метод-синхронизации&amp;gt; &amp;lt;адрес-синхронизации&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="отключение-репозиториев"&gt;&lt;span class="section-num"&gt;4.4&lt;/span&gt; Отключение репозиториев&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Отключение репозиториев без удаления содержимого:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository remove foo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Синтаксис:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;remove &lt;span class="o"&gt;[&lt;/span&gt;-f&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&amp;lt;название&amp;gt;&lt;span class="p"&gt;|&lt;/span&gt;&amp;lt;индекс&amp;gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Опция &lt;code&gt;-f&lt;/code&gt; требуется для репозиториев, не зарегистрированных на repos.gentoo.org, или без информации о синхронизации.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Отключение репозиториев с удалением содержимого:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository remove foo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Синтаксис:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;remove &lt;span class="o"&gt;[&lt;/span&gt;-f&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&amp;lt;название&amp;gt;&lt;span class="p"&gt;|&lt;/span&gt;&amp;lt;индекс&amp;gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Опция &lt;code&gt;-f&lt;/code&gt; требуется для репозиториев, не зарегистрированных на repos.gentoo.org, или без информации о синхронизации.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="создание-нового-репозитория"&gt;&lt;span class="section-num"&gt;4.5&lt;/span&gt; Создание нового репозитория&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Создание каркаса репозитория:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository create foo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Синтаксис:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;create &amp;lt;название&amp;gt; &lt;span class="o"&gt;[&lt;/span&gt;&amp;lt;путь&amp;gt;&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="настройки-репозиториев"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Настройки репозиториев&lt;/h2&gt;
&lt;h3 id="приоритет-репозиториев"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; Приоритет репозиториев&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;По умолчанию пакеты в оверлейных репозиториях имеют преимущество перед пакетами в репозитории &lt;code&gt;gentoo&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Кроме того, можно управлять приоритетами дополнительных репозиториев.&lt;/li&gt;
&lt;li&gt;Добавьте параметр приоритета в файл описания репозиториев &lt;code&gt;/etc/portage/repos.conf/eselect-repo.conf&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-toml" data-lang="toml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;local&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;location&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="err"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;var&lt;/span&gt;&lt;span class="err"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;db&lt;/span&gt;&lt;span class="err"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;repos&lt;/span&gt;&lt;span class="err"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;local&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;priority&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="списки-полезных-репозиториев"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Списки полезных репозиториев&lt;/h2&gt;
&lt;h3 id="karma"&gt;&lt;span class="section-num"&gt;6.1&lt;/span&gt; Karma&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="guru"&gt;&lt;span class="section-num"&gt;6.2&lt;/span&gt; guru&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Страница:
&lt;/li&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;li&gt;Добавление репозитория:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository &lt;span class="nb"&gt;enable&lt;/span&gt; guru
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Синхронизация репозитория:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emaint sync -r guru
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="haskell"&gt;&lt;span class="section-num"&gt;6.3&lt;/span&gt; haskell&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Добавление репозитория:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository &lt;span class="nb"&gt;enable&lt;/span&gt; haskell
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Синхронизация репозитория:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emaint sync -r haskell
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Стандартные каталоги Gentoo</title><link>https://yamadharma.github.io/ru/post/2022/09/17/gentoo-standard-directories/</link><pubDate>Sat, 17 Sep 2022 13:31:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2022/09/17/gentoo-standard-directories/</guid><description>&lt;p&gt;Стандартные каталоги Gentoo.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#конфигурация-portage"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Конфигурация portage&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#основные-файлы-настройки"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Основные файлы настройки&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#информация-из-определённого-профиля"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Информация из определённого профиля&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#пользовательская-конфигурация"&gt;&lt;span class="section-num"&gt;1.3&lt;/span&gt; Пользовательская конфигурация&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#каталоги-системы-portage"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Каталоги системы portage&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#изменение-расположения-каталогов"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Изменение расположения каталогов&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#миграция-каталогов"&gt;&lt;span class="section-num"&gt;2.1.1&lt;/span&gt; Миграция каталогов&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#репозитории-ebuild-файлов"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Репозитории ebuild-файлов&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#gentoo-репозиторий-ebuild-файлов"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Gentoo репозиторий ebuild-файлов&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#двоичные-пакеты"&gt;&lt;span class="section-num"&gt;2.4&lt;/span&gt; Двоичные пакеты&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#исходный-код"&gt;&lt;span class="section-num"&gt;2.5&lt;/span&gt; Исходный код&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#база-состояния-portage"&gt;&lt;span class="section-num"&gt;2.6&lt;/span&gt; База состояния Portage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#кеш-portage"&gt;&lt;span class="section-num"&gt;2.7&lt;/span&gt; Кеш Portage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#временные-файлы-portage"&gt;&lt;span class="section-num"&gt;2.8&lt;/span&gt; Временные файлы Portage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#каталог-компиляции"&gt;&lt;span class="section-num"&gt;2.9&lt;/span&gt; Каталог компиляции&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="конфигурация-portage"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Конфигурация portage&lt;/h2&gt;
&lt;h3 id="основные-файлы-настройки"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Основные файлы настройки&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Portage поставляется с настройками по умолчанию, которые хранятся в &lt;code&gt;/usr/share/portage/config/make.globals&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Все настройки Portage обрабатываются с помощью переменных.&lt;/li&gt;
&lt;li&gt;У portage есть конфигурационные файлы по умолчанию, которые является частью системного профиля.&lt;/li&gt;
&lt;li&gt;Системный профиль задаётся с помощью символьной ссылки &lt;code&gt;/etc/portage/make.profile&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Для замены конфигурационных переменных следует использовать файл &lt;code&gt;/etc/portage/make.conf&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Пример конфигурационного файла: &lt;code&gt;/usr/share/portage/config/make.conf.example&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="информация-из-определённого-профиля"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Информация из определённого профиля&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Каталог &lt;code&gt;/etc/portage/make.profile&lt;/code&gt; является символьной ссылкой на один из профилей.&lt;/li&gt;
&lt;li&gt;По умолчанию это &lt;code&gt;/var/db/repos/gentoo/profiles/&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Профиль, на который указывает символьная ссылка, и есть системный профиль.&lt;/li&gt;
&lt;li&gt;Профиль содержит информацию о конкретной архитектуре и настройках программного обеспечения.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="пользовательская-конфигурация"&gt;&lt;span class="section-num"&gt;1.3&lt;/span&gt; Пользовательская конфигурация&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для пользовательских настроек следует использовать файлы в &lt;code&gt;/etc/portage/&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Пользователи могут создать в &lt;code&gt;/etc/portage/&lt;/code&gt; следующие файлы:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;package.mask&lt;/code&gt;: список пакетов, которые Portage никогда не будет устанавливать;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;package.unmask&lt;/code&gt;: список пакетов, которые Portage будет устанавливать, даже если они заблокированы на системном уровне;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;package.accept_keywords&lt;/code&gt;: список пакетов, которые Portage будет устанавливать, даже если они не подходят для используемой системы или архитектуры;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;package.use&lt;/code&gt; список пакетов, для которых необходимо использовать специфичные USE-флаги, а не брать системные USE-флаги.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Они могут быть не файлами, а каталогами (содержимое разбито по отдельным файлам).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="каталоги-системы-portage"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Каталоги системы portage&lt;/h2&gt;
&lt;h3 id="изменение-расположения-каталогов"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Изменение расположения каталогов&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;На основании обсуждения
были внесены изменения в расположение каталогов portage.&lt;/p&gt;
&lt;div class="table-caption"&gt;
&lt;span class="table-number"&gt;&amp;#1058;&amp;#1072;&amp;#1073;&amp;#1083;&amp;#1080;&amp;#1094;&amp;#1072; 1:&lt;/span&gt;
Смена расположения каталогов системы portage
&lt;/div&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Назначение&lt;/th&gt;
&lt;th&gt;Старый путь&lt;/th&gt;
&lt;th&gt;Новый путь&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Дерево portage&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/usr/portage&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/var/db/repos/gentoo&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Исходный код пакетов&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/usr/portage/distfiles&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/var/cache/distfiles&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Бинарные пакеты&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/usr/portage/packages&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/var/cache/binpkgs&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="миграция-каталогов"&gt;&lt;span class="section-num"&gt;2.1.1&lt;/span&gt; Миграция каталогов&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Удалите (или закомментируйте) любые записи &lt;code&gt;PORTDIR&lt;/code&gt;, &lt;code&gt;DISTDIR&lt;/code&gt;, &lt;code&gt;PKGDIR&lt;/code&gt; в &lt;code&gt;/etc/portage/make.conf&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Значения переменных окружения можно посмотреть командой:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge --info -v
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge --info -v &lt;span class="p"&gt;|&lt;/span&gt; grep PORTDIR
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge --info -v &lt;span class="p"&gt;|&lt;/span&gt; grep DISTDIR
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge --info -v &lt;span class="p"&gt;|&lt;/span&gt; grep PKGDIR
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Если &lt;code&gt;/var/db/repos/&lt;/code&gt; не существует, создайте его.&lt;/li&gt;
&lt;li&gt;Переместите &lt;code&gt;/usr/portage/distfiles&lt;/code&gt; в &lt;code&gt;/var/cache/distfiles&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Переместите &lt;code&gt;/usr/portage/packages&lt;/code&gt; в &lt;code&gt;/var/cache/binpkgs&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Переместите &lt;code&gt;/usr/portage&lt;/code&gt; в &lt;code&gt;/var/db/repos/gentoo&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Измените переменную &lt;code&gt;location&lt;/code&gt; в файле &lt;code&gt;/etc/portage/repos.conf/gentoo.conf&lt;/code&gt; (или аналогичном) на &lt;code&gt;/var/db/repos/gentoo&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Переустановите &lt;code&gt;portage&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;DISTDIR&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/var/cache/distfiles &lt;span class="nv"&gt;PKGDIR&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/var/cache/binpkgs emerge --oneshot portage
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Если вы запускаете локальное зеркало rsync, отредактируйте запись пути в &lt;code&gt;/etc/rsyncd.conf&lt;/code&gt; так, чтобы она указывала на &lt;code&gt;/var/db/repos/gentoo&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Если вы делитесь своими дистрибутивами, не забудьте обновить любую символическую ссылку или файл конфигурации, которые вам нужны для этого.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="репозитории-ebuild-файлов"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Репозитории ebuild-файлов&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Репозитории ebuild-файлов по умолчанию находится в /var/db/repos/&amp;lt;reponame&amp;gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="gentoo-репозиторий-ebuild-файлов"&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; Gentoo репозиторий ebuild-файлов&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Gentoo репозиторий ebuild-файлов по умолчанию находится в &lt;code&gt;/var/db/repos/gentoo&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Месторасположение определяется файлом &lt;code&gt;repos.conf&lt;/code&gt;, пример которого можно найти в &lt;code&gt;/usr/share/portage/config/repos.conf&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Чтобы изменить значения по умолчанию, скопируйте этот файл в &lt;code&gt;/etc/portage/repos.conf/gentoo.conf&lt;/code&gt; и измените &lt;code&gt;location&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Не забудьте сменить символьную ссылку на &lt;code&gt;/etc/portage/make.profile&lt;/code&gt;, если хотите хранить (меняя переменную) Gentoo репозиторий ebuild-файлов в другом месте.&lt;/li&gt;
&lt;li&gt;После изменения настройки location в &lt;code&gt;/etc/portage/repos.conf/gentoo.conf&lt;/code&gt; рекомендуется изменить следующие переменные &lt;code&gt;/etc/portage/make.conf&lt;/code&gt;, так как они не заметят изменений в &lt;code&gt;location&lt;/code&gt;: &lt;code&gt;PKGDIR&lt;/code&gt;, &lt;code&gt;DISTDIR&lt;/code&gt;, &lt;code&gt;RPMDIR&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="двоичные-пакеты"&gt;&lt;span class="section-num"&gt;2.4&lt;/span&gt; Двоичные пакеты&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Бинарные пакеты находятся в каталоге &lt;code&gt;/var/cache/binpkgs&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Этот каталог определяется переменной &lt;code&gt;PKGDIR&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="исходный-код"&gt;&lt;span class="section-num"&gt;2.5&lt;/span&gt; Исходный код&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;По умолчанию исходный код для приложений хранится в каталоге &lt;code&gt;/var/cache/distfiles&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Этот каталог определяется переменной &lt;code&gt;DISTDIR&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="база-состояния-portage"&gt;&lt;span class="section-num"&gt;2.6&lt;/span&gt; База состояния Portage&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;База состояния системы (какие пакеты установлены, какие файлы какому пакету принадлежат и т.д.) находится в каталоге &lt;code&gt;/var/db/pkg&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="кеш-portage"&gt;&lt;span class="section-num"&gt;2.7&lt;/span&gt; Кеш Portage&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Кэш portage хранится в &lt;code&gt;/var/cache/edb&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Можно отчистить это каталог, если на данный момент не запущено никаких приложений Portage.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="временные-файлы-portage"&gt;&lt;span class="section-num"&gt;2.8&lt;/span&gt; Временные файлы Portage&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Временные файлы Portage по умолчанию хранятся в &lt;code&gt;/var/tmp/&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Этот каталог определяется с помощью переменной &lt;code&gt;PORTAGE_TMPDIR&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="каталог-компиляции"&gt;&lt;span class="section-num"&gt;2.9&lt;/span&gt; Каталог компиляции&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Portage создаёт специальные каталоги в &lt;code&gt;/var/tmp/portage/&lt;/code&gt; для всех компилируемых пакетов.&lt;/li&gt;
&lt;li&gt;Этот каталог определяется переменной &lt;code&gt;PORTAGE_TMPDIR&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Linux. Дистрибутив Gentoo</title><link>https://yamadharma.github.io/ru/post/2022/09/17/linux-gentoo-distribution/</link><pubDate>Sat, 17 Sep 2022 13:18:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2022/09/17/linux-gentoo-distribution/</guid><description>&lt;p&gt;Дистрибутив Gentoo.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#администрирование-gentoo"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Администрирование Gentoo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;h2 id="администрирование-gentoo"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Администрирование Gentoo&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Перенос Linux на btrfs</title><link>https://yamadharma.github.io/ru/post/2021/05/21/installing-linux-btrfs/</link><pubDate>Fri, 21 May 2021 20:38:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2021/05/21/installing-linux-btrfs/</guid><description>&lt;p&gt;Перенос Gentoo Linux с одного диска на другой. На новом диске делается система btrfs.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#исходное-состояние-системы"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Исходное состояние системы&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#система-на-lvm"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Система на LVM&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#система-на-btrfs"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Система на btrfs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#разбиение-диска"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Разбиение диска&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#выделенная-boot-партиция"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Выделенная boot-партиция&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#все-разделы-на-файловой-системе-btrfs"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Все разделы на файловой системе btrfs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#подготовка-раздела-с-btrfs"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Подготовка раздела с btrfs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#копирование-существующих-файловых-систем"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Копирование существующих файловых систем&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#система-на-lvm"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Система на LVM&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#система-на-btrfs"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Система на btrfs&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#подготовка-к-копированию"&gt;&lt;span class="section-num"&gt;4.2.1&lt;/span&gt; Подготовка к копированию&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#копирование-основных-файловых-систем"&gt;&lt;span class="section-num"&gt;4.2.2&lt;/span&gt; Копирование основных файловых систем&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#копируем-portage"&gt;&lt;span class="section-num"&gt;4.2.3&lt;/span&gt; Копируем portage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#копируем-системы-с-отключением-cow"&gt;&lt;span class="section-num"&gt;4.2.4&lt;/span&gt; Копируем системы с отключением CoW&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка-загрузчика"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Установка загрузчика&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#файл-монтирования-fstab"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Файл монтирования fstab&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#файл-подкачки-на-файловой-системе-btrfs"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Файл подкачки на файловой системе btrfs&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#подготовка-к-созданию-файла-подкачки"&gt;&lt;span class="section-num"&gt;7.1&lt;/span&gt; Подготовка к созданию файла подкачки&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#создание-файла-подкачки"&gt;&lt;span class="section-num"&gt;7.2&lt;/span&gt; Создание файла подкачки&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#старый-подход"&gt;&lt;span class="section-num"&gt;7.2.1&lt;/span&gt; Старый подход&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#новый-подход"&gt;&lt;span class="section-num"&gt;7.2.2&lt;/span&gt; Новый подход&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#активация-файла-подкачки"&gt;&lt;span class="section-num"&gt;7.3&lt;/span&gt; Активация файла подкачки&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="исходное-состояние-системы"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Исходное состояние системы&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Переносил несколько вариантов исходных систем.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="система-на-lvm"&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; Система на LVM&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Исходно система установлена на LVM:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/dev/sda1&lt;/code&gt;: &lt;code&gt;/boot/EFI&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/dev/sda2&lt;/code&gt;: &lt;code&gt;/boot&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/dev/vgs/root&lt;/code&gt;: &lt;code&gt;/&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/dev/vgs/var&lt;/code&gt;: &lt;code&gt;/var&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/dev/vgs/var_tmp&lt;/code&gt;: &lt;code&gt;/var/tmp&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/dev/vgs/vm&lt;/code&gt;: &lt;code&gt;/var/vm&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/dev/vgs/portage&lt;/code&gt;: &lt;code&gt;/usr/portage&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/dev/vgs/portage_local&lt;/code&gt;: &lt;code&gt;/usr/local/share/portage&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/dev/vgs/portage_com&lt;/code&gt;: &lt;code&gt;/com/lib/portage&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/dev/vgs/home&lt;/code&gt;: &lt;code&gt;/home&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="система-на-btrfs"&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; Система на btrfs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Система на btrfs:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/dev/sda1&lt;/code&gt;: &lt;code&gt;/boot/EFI&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/dev/sda2&lt;/code&gt;: &lt;code&gt;/boot&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/dev/sda3&lt;/code&gt;: &lt;code&gt;swap&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/dev/sda4&lt;/code&gt;: партиция с файловой системой btrfs.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="разбиение-диска"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Разбиение диска&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Установим тип разбиения в GPT.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="выделенная-boot-партиция"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Выделенная boot-партиция&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Разобьём на партиции:
&lt;ul&gt;
&lt;li&gt;p1 &amp;mdash; 512M, для &lt;code&gt;EFI&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;p2 &amp;mdash; 500&amp;ndash;1024M, для &lt;code&gt;/boot&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;p3 &amp;mdash; двойная оперативная память, для &lt;code&gt;swap&lt;/code&gt;.
&lt;ul&gt;
&lt;li&gt;Также можно разместить файл подкачки на &lt;code&gt;btrfs&lt;/code&gt; (см.
).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;p4 &amp;mdash; всё остальное для &lt;code&gt;btrfs&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Создадим файловые системы:
&lt;ul&gt;
&lt;li&gt;p1 (&lt;code&gt;EFI&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkfs.vfat -F32 -n EFI /dev/sdc1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;p2 (&lt;code&gt;/boot&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkfs.ext4 -L boot /dev/sdc2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;p3 (&lt;code&gt;swap&lt;/code&gt; в случае отдельной партиции):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkswap -L swap /dev/sdc3
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;p4 (&lt;code&gt;btrfs&lt;/code&gt;)
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkfs.btrfs /dev/sdc4
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="все-разделы-на-файловой-системе-btrfs"&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; Все разделы на файловой системе btrfs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Разобьём на партиции:
&lt;ul&gt;
&lt;li&gt;p1 &amp;mdash; 1024M, для &lt;code&gt;EFI&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Файл подкачки на &lt;code&gt;btrfs&lt;/code&gt; (см.
).&lt;/li&gt;
&lt;li&gt;p4 &amp;mdash; всё остальное для &lt;code&gt;btrfs&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Разобьём диск:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sgdisk -n 0:0:+1024M -t 0:ef00 -c 0:EFI /dev/sdc
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sgdisk -n 0:0:0 -t 0:8300 -c 0:gentoo /dev/sdc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Создадим файловые системы:
&lt;ul&gt;
&lt;li&gt;p1 (&lt;code&gt;EFI&lt;/code&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkfs.vfat -F32 -n EFI /dev/sdc1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;p2 (&lt;code&gt;btrfs&lt;/code&gt;) (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkfs.btrfs --checksum blake2 -L gentoo /dev/sdc2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="подготовка-раздела-с-btrfs"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Подготовка раздела с btrfs&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Подмонтируем раздел с btrfs:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir /mnt/to
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount -tbtrfs -orelatime,discard&lt;span class="o"&gt;=&lt;/span&gt;async,autodefrag,compress&lt;span class="o"&gt;=&lt;/span&gt;zstd:9 /dev/sdc2 /mnt/to/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Создадим подтома на btrfs (см.
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /mnt/to/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;btrfs subvol create @
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;btrfs subvol create @var
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;btrfs subvol create @var@tmp
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;btrfs subvol create @var@log
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;btrfs subvol create @vm
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;btrfs subvol create @home
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;btrfs subvol create @root
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;btrfs subvol create @boot
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;btrfs subvol create @libvirt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Подтома для &lt;em&gt;Gentoo Linux&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Используется, если &lt;em&gt;portage&lt;/em&gt; размещается локально:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /mnt/to/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;btrfs subvol create @portage
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;btrfs subvol create @portage@local
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;btrfs subvol create @portage@com
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Если используется файл подкачки на файловой системе, то создадим для него подтом:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /mnt/to/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;btrfs subvol create @swap
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="копирование-существующих-файловых-систем"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Копирование существующих файловых систем&lt;/h2&gt;
&lt;h3 id="система-на-lvm"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Система на LVM&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Создадим точку монтирования:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir /mnt/from
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Подмонтируем и скопируем root-партицию:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount /dev/vgs/root /mnt/from/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rsync -av -HS --delete /mnt/from/ /mnt/to/@
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;umount /mnt/from/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Подмонтируем и скопируем &lt;code&gt;/var&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount /dev/vgs/var /mnt/from/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rsync -av -HS --delete /mnt/from/ /mnt/to/@var
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;umount /mnt/from/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Подмонтируем и скопируем &lt;code&gt;/boot&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir /mnt/to/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount /dev/sdc2 /mnt/to
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount /dev/sdb2 /mnt/from/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rsync -av -HS --delete /mnt/from/ /mnt/to/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;umount /mnt/to
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;umount /mnt/from
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Подмонтируем и скопируем &lt;code&gt;portage&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount /dev/vgs/portage /mnt/from/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rsync -av -HS --delete /mnt/from/ /mnt/to/@portage
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;umount /mnt/from/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Подмонтируем и скопируем &lt;code&gt;portage_local&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount /dev/vgs/portage_local /mnt/from/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rsync -av -HS --delete /mnt/from/ /mnt/to/@portage_local
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;umount /mnt/from/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="система-на-btrfs"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Система на btrfs&lt;/h3&gt;
&lt;h4 id="подготовка-к-копированию"&gt;&lt;span class="section-num"&gt;4.2.1&lt;/span&gt; Подготовка к копированию&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Создадим точки монтирования:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir -p /mnt/from
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Подмонтируем исходную файловую систему btrfs:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount /dev/sda4 /mnt/from/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="копирование-основных-файловых-систем"&gt;&lt;span class="section-num"&gt;4.2.2&lt;/span&gt; Копирование основных файловых систем&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Скопируем root-партицию:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rsync -av -HS -AX --delete /mnt/from/@/* /mnt/to/@
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Скопируем &lt;code&gt;/var&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rsync -av -HS -AX --delete /mnt/from/@var/* /mnt/to/@var
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Подмонтируем и скопируем &lt;code&gt;/boot&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir /mnt/boot
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount /dev/sda2 /mnt/boot
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rsync -av -HS --delete /mnt/boot/* /mnt/to/@boot
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;umount /mnt/boot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="копируем-portage"&gt;&lt;span class="section-num"&gt;4.2.3&lt;/span&gt; Копируем portage&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Если &lt;code&gt;portage&lt;/code&gt; размещён локально, то его тоже надо скопировать.&lt;/li&gt;
&lt;li&gt;Скопируем &lt;code&gt;@portage&lt;/code&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rsync -av -HS --delete /mnt/from/@portage/* /mnt/to/@portage
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Скопируем &lt;code&gt;@portage@local&lt;/code&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rsync -av -HS --delete /mnt/from/@portage@local/* /mnt/to/@portage@local
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id="копируем-системы-с-отключением-cow"&gt;&lt;span class="section-num"&gt;4.2.4&lt;/span&gt; Копируем системы с отключением CoW&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Для файловых систем с образами виртуальных машин следует отключить CoW (copy-on-write) (см.
).&lt;/li&gt;
&lt;li&gt;Так же стоит отключить &lt;em&gt;CoW&lt;/em&gt; для часто изменяемых файлов (например, журналов).&lt;/li&gt;
&lt;li&gt;Подмонтируем файловую систему &lt;code&gt;btrfs&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir -p /mnt/gentoo
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount -tbtrfs -orelatime,discard&lt;span class="o"&gt;=&lt;/span&gt;async,autodefrag,compress&lt;span class="o"&gt;=&lt;/span&gt;zstd:9,subvol&lt;span class="o"&gt;=&lt;/span&gt;@ /dev/sdc2 /mnt/gentoo/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount -tbtrfs -orelatime,discard&lt;span class="o"&gt;=&lt;/span&gt;async,autodefrag,compress&lt;span class="o"&gt;=&lt;/span&gt;zstd:9,subvol&lt;span class="o"&gt;=&lt;/span&gt;@var /dev/sdc2 /mnt/gentoo/var
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount -tbtrfs -orelatime,discard&lt;span class="o"&gt;=&lt;/span&gt;async,autodefrag,compress&lt;span class="o"&gt;=&lt;/span&gt;zstd:9,subvol&lt;span class="o"&gt;=&lt;/span&gt;@var@tmp /dev/sdc2 /mnt/gentoo/var/tmp
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount -tbtrfs -orelatime,discard&lt;span class="o"&gt;=&lt;/span&gt;async,autodefrag,compress&lt;span class="o"&gt;=&lt;/span&gt;zstd:9,subvol&lt;span class="o"&gt;=&lt;/span&gt;@vm /dev/sdc2 /mnt/gentoo/var/vm
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount -tbtrfs -orelatime,discard&lt;span class="o"&gt;=&lt;/span&gt;async,autodefrag,compress&lt;span class="o"&gt;=&lt;/span&gt;zstd:9,subvol&lt;span class="o"&gt;=&lt;/span&gt;@libvirt /dev/sdc2 /mnt/gentoo/var/lib/libvirt/images
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount -tbtrfs -orelatime,discard&lt;span class="o"&gt;=&lt;/span&gt;async,autodefrag,compress&lt;span class="o"&gt;=&lt;/span&gt;zstd:9,subvol&lt;span class="o"&gt;=&lt;/span&gt;@var@log /dev/sdc2 /mnt/gentoo/var/log
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Копирование &lt;code&gt;/var/vm&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Отключим для этого подтома CoW:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /mnt/gentoo/var/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chattr +C vm
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Скопируем &lt;code&gt;/var/vm&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rsync -av -HS -AX --delete /mnt/from/@vm/* /mnt/to/@vm
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;Копирование &lt;code&gt;/var/lib/libvirt/images&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Отключим для подтома &lt;code&gt;/var/lib/libvirt/images&lt;/code&gt; CoW:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /mnt/gentoo/var/lib/libvirt/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chattr +C images
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Скопируем &lt;code&gt;/var/lib/libvirt/images&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rsync -av -HS -AX --delete /mnt/from/@libvirt/* /mnt/to/@libvirt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="3"&gt;
&lt;li&gt;
&lt;p&gt;Копирование &lt;code&gt;/var/log&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Для &lt;code&gt;/var/log&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Отключим для подтома &lt;code&gt;/var/log&lt;/code&gt; CoW:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /mnt/gentoo/var/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chattr +C log
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Скопируем &lt;code&gt;/var/log&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rsync -av -HS -AX --delete /mnt/from/@var@log/* /mnt/to/@var@log
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="4"&gt;
&lt;li&gt;
&lt;p&gt;Настройки &lt;code&gt;/var/tmp&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Для &lt;code&gt;/var/tmp&lt;/code&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /mnt/gentoo/var/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chattr +C tmp
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Посмотреть результат можно командой:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;lsattr -a /mnt/gentoo/var/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;lsattr -a /mnt/gentoo/var/lib/libvirt/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="установка-загрузчика"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Установка загрузчика&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Перемонтируем файловую систему &lt;code&gt;btrfs&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir -p /mnt/gentoo
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount -tbtrfs -orelatime,discard&lt;span class="o"&gt;=&lt;/span&gt;async,autodefrag,compress&lt;span class="o"&gt;=&lt;/span&gt;zstd:9,subvol&lt;span class="o"&gt;=&lt;/span&gt;@ /dev/sdc2 /mnt/gentoo/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount -tbtrfs -orelatime,discard&lt;span class="o"&gt;=&lt;/span&gt;async,autodefrag,compress&lt;span class="o"&gt;=&lt;/span&gt;zstd:9,subvol&lt;span class="o"&gt;=&lt;/span&gt;@var /dev/sdc2 /mnt/gentoo/var
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount -tbtrfs -orelatime,discard&lt;span class="o"&gt;=&lt;/span&gt;async,autodefrag,compress&lt;span class="o"&gt;=&lt;/span&gt;zstd:9,subvol&lt;span class="o"&gt;=&lt;/span&gt;@var@tmp /dev/sdc2 /mnt/gentoo/var/tmp
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount -tbtrfs -orelatime,discard&lt;span class="o"&gt;=&lt;/span&gt;async,autodefrag,compress&lt;span class="o"&gt;=&lt;/span&gt;zstd:9,subvol&lt;span class="o"&gt;=&lt;/span&gt;@boot /dev/sdc2 /mnt/gentoo/boot
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount /dev/sdc1 /mnt/gentoo/boot/efi
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Подмонтируем псевдо-файловые системы:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount -o &lt;span class="nb"&gt;bind&lt;/span&gt; /dev /mnt/gentoo/dev/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount -o &lt;span class="nb"&gt;bind&lt;/span&gt; /proc /mnt/gentoo/proc/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount -o &lt;span class="nb"&gt;bind&lt;/span&gt; /sys /mnt/gentoo/sys/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount -o &lt;span class="nb"&gt;bind&lt;/span&gt; /run /mnt/gentoo/run/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount -t efivarfs efivarfs /mnt/gentoo/sys/firmware/efi/efivars
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установим загрузчик:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /mnt/gentoo/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chroot /mnt/gentoo/ /bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;grub-install /boot
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;grub-mkconfig -o /boot/grub/grub.cfg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="файл-монтирования-fstab"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Файл монтирования fstab&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Создадим файл монтирования fstab.&lt;/li&gt;
&lt;li&gt;Узнаем идентификатор партиции с файловой системой btrfs:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;blkid /dev/sdc2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Получим строчку:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&amp;lt;uuid_number&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Создадим файл &lt;code&gt;/mnt/to/etc/fstab&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;LABEL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;boot&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;boot&lt;/span&gt; &lt;span class="n"&gt;ext4&lt;/span&gt; &lt;span class="n"&gt;relatime&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;discard&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;async&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;LABEL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;EFI&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;efi&lt;/span&gt; &lt;span class="n"&gt;vfat&lt;/span&gt; &lt;span class="n"&gt;defaults&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;discard&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;async&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;flush&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;tz&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;UTC&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;LABEL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;swap&amp;#34;&lt;/span&gt; &lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;swap&lt;/span&gt; &lt;span class="n"&gt;sw&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&amp;lt;uuid_number&amp;gt;&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;btrfs&lt;/span&gt; &lt;span class="n"&gt;relatime&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;discard&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;async&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;autodefrag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;compress&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;zstd&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;subvol&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="err"&gt;@&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&amp;lt;uuid_number&amp;gt;&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;var&lt;/span&gt; &lt;span class="n"&gt;btrfs&lt;/span&gt; &lt;span class="n"&gt;relatime&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;discard&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;async&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;autodefrag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;compress&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;zstd&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;subvol&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="err"&gt;@&lt;/span&gt;&lt;span class="k"&gt;var&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&amp;lt;uuid_number&amp;gt;&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;var&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tmp&lt;/span&gt; &lt;span class="n"&gt;btrfs&lt;/span&gt; &lt;span class="n"&gt;relatime&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;discard&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;async&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;autodefrag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;compress&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;zstd&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;subvol&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="err"&gt;@&lt;/span&gt;&lt;span class="n"&gt;var_tmp&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&amp;lt;uuid_number&amp;gt;&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;var&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;vm&lt;/span&gt; &lt;span class="n"&gt;btrfs&lt;/span&gt; &lt;span class="n"&gt;relatime&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;discard&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;async&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;autodefrag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;compress&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;zstd&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;subvol&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="err"&gt;@&lt;/span&gt;&lt;span class="n"&gt;vm&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&amp;lt;uuid_number&amp;gt;&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;home&lt;/span&gt; &lt;span class="n"&gt;btrfs&lt;/span&gt; &lt;span class="n"&gt;relatime&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;discard&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;async&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;autodefrag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;compress&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;zstd&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;subvol&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="err"&gt;@&lt;/span&gt;&lt;span class="n"&gt;home&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&amp;lt;uuid_number&amp;gt;&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;portage&lt;/span&gt; &lt;span class="n"&gt;btrfs&lt;/span&gt; &lt;span class="n"&gt;relatime&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;discard&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;async&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;autodefrag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;compress&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;zstd&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;subvol&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="err"&gt;@&lt;/span&gt;&lt;span class="n"&gt;portage&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&amp;lt;uuid_number&amp;gt;&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;local&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;share&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;portage&lt;/span&gt; &lt;span class="n"&gt;btrfs&lt;/span&gt; &lt;span class="n"&gt;relatime&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;discard&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;async&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;autodefrag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;compress&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;zstd&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;subvol&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="err"&gt;@&lt;/span&gt;&lt;span class="n"&gt;portage_local&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&amp;lt;uuid_number&amp;gt;&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;lib&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;portage&lt;/span&gt; &lt;span class="n"&gt;btrfs&lt;/span&gt; &lt;span class="n"&gt;relatime&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;discard&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;async&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;autodefrag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;compress&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;zstd&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;subvol&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="err"&gt;@&lt;/span&gt;&lt;span class="n"&gt;portage_com&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Если используется файл подкачки, то вместо отдельной партиции следует подключить этот файл в &lt;code&gt;/mnt/to/etc/fstab&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;UUID=&amp;#34;&amp;lt;uuid_number&amp;gt;&amp;#34; /swap btrfs relatime,discard=async,autodefrag,compress=zstd:9,subvol=@swap 0 0
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/swap/swapfile none swap sw 0 0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="файл-подкачки-на-файловой-системе-btrfs"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Файл подкачки на файловой системе btrfs&lt;/h2&gt;
&lt;h3 id="подготовка-к-созданию-файла-подкачки"&gt;&lt;span class="section-num"&gt;7.1&lt;/span&gt; Подготовка к созданию файла подкачки&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Для раздела файла подкачки следует отключить CoW (copy-on-write).&lt;/li&gt;
&lt;li&gt;Подмонтируем файловую систему &lt;code&gt;btrfs&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir -p /mnt/gentoo/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount -tbtrfs -orelatime,discard,autodefrag,compress&lt;span class="o"&gt;=&lt;/span&gt;zstd:9,subvol&lt;span class="o"&gt;=&lt;/span&gt;@ /dev/sdc2 /mnt/gentoo/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Создадим точку монтирования:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir /mnt/gentoo/swap
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Подмонтируем подтом &lt;code&gt;@swap&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mount -tbtrfs -orelatime,discard,autodefrag,compress&lt;span class="o"&gt;=&lt;/span&gt;zstd:9,subvol&lt;span class="o"&gt;=&lt;/span&gt;@swap /dev/sdc2 /mnt/gentoo/swap
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Отключим для этого подтома CoW:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chattr +C /mnt/gentoo/swap
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="создание-файла-подкачки"&gt;&lt;span class="section-num"&gt;7.2&lt;/span&gt; Создание файла подкачки&lt;/h3&gt;
&lt;h4 id="старый-подход"&gt;&lt;span class="section-num"&gt;7.2.1&lt;/span&gt; Старый подход&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Создадим файл подкачки:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;truncate -s &lt;span class="m"&gt;0&lt;/span&gt; /mnt/gentoo/swap/swapfile
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установим права доступа &lt;code&gt;600&lt;/code&gt; к файлу подкачки:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chmod &lt;span class="m"&gt;600&lt;/span&gt; /mnt/gentoo/swap/swapfile
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установим размер файла подкачки исходя из размера оперативной памяти:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;fallocate -l &lt;span class="k"&gt;$(&lt;/span&gt;free -h --si &lt;span class="p"&gt;|&lt;/span&gt; awk &lt;span class="s1"&gt;&amp;#39;NR == 2 {print $2}&amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt; /mnt/gentoo/swap/swapfile
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Отформатируем файл подкачки:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkswap /mnt/gentoo/swap/swapfile
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="новый-подход"&gt;&lt;span class="section-num"&gt;7.2.2&lt;/span&gt; Новый подход&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Работает начиная с версии утилит 6.1.&lt;/li&gt;
&lt;li&gt;Создадим файл подкачки размером 8ГБ:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;btrfs filesystem mkswapfile --size 4g --uuid clear /mnt/gentooswap/swapfile
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Создадим файл подкачки исходя из размера оперативной памяти:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;btrfs filesystem mkswapfile --size &lt;span class="k"&gt;$(&lt;/span&gt;free -h --si &lt;span class="p"&gt;|&lt;/span&gt; awk &lt;span class="s1"&gt;&amp;#39;NR == 2 {print $2}&amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt; --uuid clear /mnt/gentoo/swap/swapfile
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="активация-файла-подкачки"&gt;&lt;span class="section-num"&gt;7.3&lt;/span&gt; Активация файла подкачки&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Активируем файл подкачки:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;swapon /mnt/gentoo/swap/swapfile
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Window manager i3</title><link>https://yamadharma.github.io/ru/post/2021/05/14/window-manager-i3/</link><pubDate>Fri, 14 May 2021 11:32:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2021/05/14/window-manager-i3/</guid><description>&lt;p&gt;Менеджер окон &lt;em&gt;i3&lt;/em&gt;.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#репозиторий-конфигурации"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Репозиторий конфигурации&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#файл-конфигурации"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Файл конфигурации&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#навигация"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Навигация&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#клавиша-модификатор"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Клавиша-модификатор&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#основные-комбинации-клавиш"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Основные комбинации клавиш&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#перемещение-фокуса"&gt;&lt;span class="section-num"&gt;4.3&lt;/span&gt; Перемещение фокуса&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#перемещение-окон"&gt;&lt;span class="section-num"&gt;4.4&lt;/span&gt; Перемещение окон&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#modifying-windows"&gt;&lt;span class="section-num"&gt;4.5&lt;/span&gt; Modifying windows&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#структура-расположения-контейнеров"&gt;&lt;span class="section-num"&gt;4.6&lt;/span&gt; Структура расположения контейнеров&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#floating"&gt;&lt;span class="section-num"&gt;4.7&lt;/span&gt; Floating&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#рабочие-области--workspaces"&gt;&lt;span class="section-num"&gt;4.8&lt;/span&gt; Рабочие области (workspaces)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#opening-applications-closing-windows"&gt;&lt;span class="section-num"&gt;4.9&lt;/span&gt; Opening applications / Closing windows&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#выход-перезапуск"&gt;&lt;span class="section-num"&gt;4.10&lt;/span&gt; Выход/Перезапуск&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Настройка&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#терминал"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; Терминал&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#управление-окном-с-помощью-мышки"&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; Управление окном с помощью мышки&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#строка-статуса"&gt;&lt;span class="section-num"&gt;5.3&lt;/span&gt; Строка статуса&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#i3bar"&gt;&lt;span class="section-num"&gt;5.3.1&lt;/span&gt; i3bar&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#py3status"&gt;&lt;span class="section-num"&gt;5.3.2&lt;/span&gt; py3status&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#polybar"&gt;&lt;span class="section-num"&gt;5.3.3&lt;/span&gt; polybar&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#запуск-приложений"&gt;&lt;span class="section-num"&gt;5.4&lt;/span&gt; Запуск приложений&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#rofi"&gt;&lt;span class="section-num"&gt;5.4.1&lt;/span&gt; rofi&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#блокировка-экрана"&gt;&lt;span class="section-num"&gt;5.5&lt;/span&gt; Блокировка экрана&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#блокировщик-экрана-i3lock"&gt;&lt;span class="section-num"&gt;5.5.1&lt;/span&gt; Блокировщик экрана &lt;code&gt;i3lock&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#блокировщик-экрана-i3lock-color"&gt;&lt;span class="section-num"&gt;5.5.2&lt;/span&gt; Блокировщик экрана &lt;code&gt;i3lock-color&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#приложения"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Приложения&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#снимки-экрана"&gt;&lt;span class="section-num"&gt;6.1&lt;/span&gt; Снимки экрана&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#совместимость-приложений"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Совместимость приложений&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#java"&gt;&lt;span class="section-num"&gt;7.1&lt;/span&gt; Java&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#серое-окно-приложения-не-меняют-размер-с-помощью-wm-меню-сразу-закрываются"&gt;&lt;span class="section-num"&gt;7.1.1&lt;/span&gt; Серое окно, приложения не меняют размер с помощью WM, меню сразу закрываются&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#меню-в-приложениях-плавает-отдельно-им-невозможно-пользоваться"&gt;&lt;span class="section-num"&gt;7.1.2&lt;/span&gt; Меню в приложениях плавает отдельно, им невозможно пользоваться&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Тайловый менеджер окон.&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="репозиторий-конфигурации"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Репозиторий конфигурации&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Я сделал репозиторий со своей конфигурацией:
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="файл-конфигурации"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Файл конфигурации&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Файлы конфигурации просматриваются в следующем порядке:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;$XDG_CONFIG_HOME/i3/config&lt;/code&gt; (&lt;code&gt;~/.config/i3/config&lt;/code&gt;);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;~/.i3/config&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$XDG_CONFIG_DIRS/i3/config&lt;/code&gt; (&lt;code&gt;/etc/xdg/i3/config&lt;/code&gt;);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/i3/config&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Начиная с версии 4.20, можно подключать другие файлы конфигурации из основного файла конфигурации &lt;em&gt;i3&lt;/em&gt;.
&lt;ul&gt;
&lt;li&gt;Примеры использования директивы &lt;code&gt;include&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cfg" data-lang="cfg"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Тильда преобразуется в домашний каталог пользователя&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="na"&gt;include ~/.config/i3/assignments.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Переменные среды разыменовываются&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="na"&gt;include $HOME/.config/i3/assignments.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Символы подстановки раскрываются&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="na"&gt;include ~/.config/i3/config.d/*.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Можно выполнять команду&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="na"&gt;include ~/.config/i3/`hostname`.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Каждый путь загружается только один раз&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="na"&gt;include ~/.config/i3/config&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Относительные пути интерпретируются относительно каталога конфигурационного файла&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="na"&gt;include assignments.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="навигация"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Навигация&lt;/h2&gt;
&lt;h3 id="клавиша-модификатор"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Клавиша-модификатор&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;В качестве модификатора обычно используется:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Alt&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $mod Mod1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Super&lt;/code&gt; (Клавиша со значком &lt;em&gt;Windows&lt;/em&gt;):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $mod Mod4
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Предпочитаю &lt;code&gt;Super&lt;/code&gt;, чтобы не конфликтовать с Emacs.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="основные-комбинации-клавиш"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Основные комбинации клавиш&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;Enter&lt;/code&gt;: открыть терминал.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="перемещение-фокуса"&gt;&lt;span class="section-num"&gt;4.3&lt;/span&gt; Перемещение фокуса&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Фокус можно перемещать как с помощью стрелок, так и с помощью буквенных клавиш, как в редакторе &lt;em&gt;vi&lt;/em&gt;.
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;h&lt;/code&gt; или &lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;Left&lt;/code&gt;: сдвиг фокуса влево.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;j&lt;/code&gt; или &lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;Down&lt;/code&gt;: сдвиг фокуса вниз.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;k&lt;/code&gt; или &lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;Up&lt;/code&gt;: сдвиг фокуса вверх.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;l&lt;/code&gt; или &lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;Right&lt;/code&gt;: сдвиг фокуса вправо.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Конфигурация выглядит следующим образом:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Home row direction keys, like vim
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $left h
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $down j
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $up k
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $right l
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Move your focus around
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+$left focus left
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+$down focus down
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+$up focus up
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+$right focus right
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Or use $mod+[up|down|left|right]
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Left focus left
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Down focus down
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Up focus up
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Right focus right
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Впрочем, следует заметить, что также могут использоваться и другие соглашения:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;j&lt;/code&gt;: влево;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;k&lt;/code&gt;: вниз;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;l&lt;/code&gt;: вверх;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;;&lt;/code&gt;: вправо.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Поскольку в данном менеджере окон поддерживаются контейнеры, то можно переключить фокус на родительский контейнер:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;a&lt;/code&gt;: переключить фокус на родительский контейнер.&lt;/li&gt;
&lt;li&gt;Конфигурация:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Move focus to the parent container
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+a focus parent
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;Space&lt;/code&gt;: переключить режим фокуса.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="перемещение-окон"&gt;&lt;span class="section-num"&gt;4.4&lt;/span&gt; Перемещение окон&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Делается аналогично перемещению фокуса, но с добавлением модификатора &lt;code&gt;Shift&lt;/code&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;Shift&lt;/code&gt; + &lt;code&gt;h&lt;/code&gt; или &lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;Shift&lt;/code&gt; + &lt;code&gt;Left&lt;/code&gt;: перемещение влево;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;Shift&lt;/code&gt; + &lt;code&gt;j&lt;/code&gt; или &lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;Shift&lt;/code&gt; + &lt;code&gt;Down&lt;/code&gt;: перемещение вниз;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;Shift&lt;/code&gt; + &lt;code&gt;k&lt;/code&gt; или &lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;Shift&lt;/code&gt; + &lt;code&gt;Up&lt;/code&gt;: перемещение вверх;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;Shift&lt;/code&gt; + &lt;code&gt;l&lt;/code&gt; или &lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;Shift&lt;/code&gt; + &lt;code&gt;Right&lt;/code&gt;: перемещение вправо.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Конфигурация выглядит следующим образом:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Move the focused window with the same, but add Shift
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+$left move left
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+$down move down
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+$up move up
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+$right move right
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Ditto, with arrow keys
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+Left move left
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+Down move down
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+Up move up
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+Right move right
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="modifying-windows"&gt;&lt;span class="section-num"&gt;4.5&lt;/span&gt; Modifying windows&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + f toggle fullscreen&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + v split a window vertically&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + h split a window horizontally&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + r resize mode&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="структура-расположения-контейнеров"&gt;&lt;span class="section-num"&gt;4.6&lt;/span&gt; Структура расположения контейнеров&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Поддерживаются следующие расположения контейнеров:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;e&lt;/code&gt;: переключение разделённого расположения (split layout);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;s&lt;/code&gt;: стековое размещение (stacking layout);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;w&lt;/code&gt;: размещение с табами (tabbed layout).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Конфигурация:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Switch the current container between different layout styles
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+s layout stacking
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+w layout tabbed
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+e layout toggle split
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Для раскладки по умолчанию я использую табы:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;### Layout mode for new containers
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## default|stacking|tabbed
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;workspace_layout tabbed
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="floating"&gt;&lt;span class="section-num"&gt;4.7&lt;/span&gt; Floating&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + Shift + Space toggle floating&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + Left click drag floating&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="рабочие-области--workspaces"&gt;&lt;span class="section-num"&gt;4.8&lt;/span&gt; Рабочие области (workspaces)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Сконфигурим рабочие области:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Define names for workspaces
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $ws1 1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $ws2 2
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $ws3 3
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $ws4 4
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $ws5 5
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $ws6 6
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $ws7 7
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $ws8 8
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $ws9 9
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $ws10 10
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;0&lt;/code&gt; &amp;ndash; &lt;code&gt;9&lt;/code&gt;: переключиться на соответствующую рабочую область:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Switch to workspace
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+1 workspace $ws1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+2 workspace $ws2
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+3 workspace $ws3
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+4 workspace $ws4
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+5 workspace $ws5
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+6 workspace $ws6
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+7 workspace $ws7
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+8 workspace $ws8
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+9 workspace $ws9
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+0 workspace $ws10
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;Shift&lt;/code&gt; + &lt;code&gt;0&lt;/code&gt; &amp;ndash; &lt;code&gt;9&lt;/code&gt;: перенести окно на соответствующую рабочую область:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Move focused container to workspace
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+1 move container to workspace $ws1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+2 move container to workspace $ws2
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+3 move container to workspace $ws3
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+4 move container to workspace $ws4
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+5 move container to workspace $ws5
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+6 move container to workspace $ws6
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+7 move container to workspace $ws7
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+8 move container to workspace $ws8
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+9 move container to workspace $ws9
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+0 move container to workspace $ws10
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="opening-applications-closing-windows"&gt;&lt;span class="section-num"&gt;4.9&lt;/span&gt; Opening applications / Closing windows&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + d open application launcher (dmenu)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + Shift + q kill a window&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="выход-перезапуск"&gt;&lt;span class="section-num"&gt;4.10&lt;/span&gt; Выход/Перезапуск&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;Shift&lt;/code&gt; + &lt;code&gt;c&lt;/code&gt;: перечитать конфигурационный файл.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## ~/.config/i3/config&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## reload the configuration file&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;bindsym&lt;/span&gt; &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;mod&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;Shift&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="n"&gt;reload&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;Shift&lt;/code&gt; + &lt;code&gt;r&lt;/code&gt;: перестартовать &lt;em&gt;i3&lt;/em&gt;, сохранив сессию.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## ~/.config/i3/config
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+r restart
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;Shift&lt;/code&gt; + &lt;code&gt;e&lt;/code&gt;: выход из &lt;em&gt;i3&lt;/em&gt;.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## ~/.config/i3/config
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## exit i3 (logs you out of your X session)
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+e exec &amp;#34;i3-nagbar -t warning -m &amp;#39;You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.&amp;#39; -B &amp;#39;Yes, exit i3&amp;#39; &amp;#39;i3-msg exit&amp;#39;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="настройка"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Настройка&lt;/h2&gt;
&lt;h3 id="терминал"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; Терминал&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;В качестве терминала я использую kitty.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Конфигурация запуска терминала:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $term kitty
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Return exec $term
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;В этом случае запускается одно окно терминала.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Для работы я использую специальную настройку сессии терминала. Я её запускаю при входе в сессию. Для этого я приспособил комбинацию &lt;code&gt;Mod&lt;/code&gt; + &lt;code&gt;Shift&lt;/code&gt; + &lt;code&gt;Enter&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+Shift+Return exec kitty --session ~/.config/kitty/startup
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="управление-окном-с-помощью-мышки"&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; Управление окном с помощью мышки&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Можно управлять окнами с помощью мышки.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Привязка осуществляется следующей командой:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym [--release] [--border] [--whole-window] [--exclude-titlebar] [&amp;lt;Modifiers&amp;gt;+]button&amp;lt;n&amp;gt; command
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;По умолчанию привязка запускается только при нажатии на строку заголовка окна.&lt;/li&gt;
&lt;li&gt;Если указан флаг &lt;code&gt;--release&lt;/code&gt;, он запустится, когда кнопка мыши будет отпущена.&lt;/li&gt;
&lt;li&gt;Если указан флаг &lt;code&gt;--whole-window&lt;/code&gt;, то привязка также будет выполняться при щелчке по любой части окна, за исключением границы.&lt;/li&gt;
&lt;li&gt;Чтобы привязка выполнялась при щелчке границы, нужно указать флаг &lt;code&gt;--border&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Если задан флаг &lt;code&gt;--exclude-titlebar&lt;/code&gt;, заголовок не будет учитываться для привязки клавиш.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Примеры.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Средняя кнопка на заголовке закрывает окно:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym --release button2 kill
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Средняя кнопка и модификатор над любой частью окна закрывает окно:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym --whole-window $mod+button2 kill
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Правая кнопка мыши переключает плавающий режим:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym button3 floating toggle
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym $mod+button3 floating toggle
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Боковые кнопки мыши перемещают окно:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym button9 move left
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym button8 move right
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="строка-статуса"&gt;&lt;span class="section-num"&gt;5.3&lt;/span&gt; Строка статуса&lt;/h3&gt;
&lt;h4 id="i3bar"&gt;&lt;span class="section-num"&gt;5.3.1&lt;/span&gt; i3bar&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Отрисовку панели осуществляет утилита &lt;code&gt;i3bar&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Отображается вверху или внизу экрана.&lt;/li&gt;
&lt;li&gt;Содержит:
&lt;ul&gt;
&lt;li&gt;область с кнопками переключения рабочих областей &lt;em&gt;i3&lt;/em&gt;;&lt;/li&gt;
&lt;li&gt;системную строку, генерируемую при помощи &lt;code&gt;i3status&lt;/code&gt; или аналогов;&lt;/li&gt;
&lt;li&gt;системный трей с иконками программ.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;В конфигурационном файле задаётся следующим образом (
):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# ~/.config/i3/config -*- mode: conf-unix; -*-
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Start i3bar to display a workspace bar
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bar {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; status_command i3status
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; position top
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Поддержка иконок в i3bar&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;В &lt;code&gt;i3bar&lt;/code&gt; можно использовать шрифты иконок (см.
).&lt;/li&gt;
&lt;li&gt;Наиболее распространённым является шрифт
.&lt;/li&gt;
&lt;li&gt;Установка:
&lt;ul&gt;
&lt;li&gt;Gentoo
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge media-fonts/fontawesome
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Для вставки шрифта в файл можно использовать список кодов для иконок
.&lt;/li&gt;
&lt;li&gt;Шрифт лучше явно обозначить в конфигурации:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## ~/.config/i3/config
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bar {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; …
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; font pango:Source Sans Pro, FontAwesome 5 Free 10
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; …
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Для набора символа по его коду следует использовать конфигурации клавиш. Например, для набора символа с кодом &lt;code&gt;0xf004&lt;/code&gt;, требуется набрать:
&lt;ul&gt;
&lt;li&gt;приложения на основе GTK: &lt;code&gt;Ctrl&lt;/code&gt; + &lt;code&gt;Shift&lt;/code&gt; + &lt;code&gt;u&lt;/code&gt;, &lt;code&gt;f004&lt;/code&gt;, &lt;code&gt;Enter&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;emacs: &lt;code&gt;Ctrl&lt;/code&gt; + &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;8&lt;/code&gt;, &lt;code&gt;Enter&lt;/code&gt;, &lt;code&gt;f004&lt;/code&gt;, &lt;code&gt;Enter&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;vim: &lt;code&gt;Ctrl&lt;/code&gt; + &lt;code&gt;v&lt;/code&gt;, &lt;code&gt;uf004&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;urxvt: удерживая &lt;code&gt;Ctrl&lt;/code&gt; + &lt;code&gt;Shift&lt;/code&gt;, наберите &lt;code&gt;f004&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;i3status&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Использовано
.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;i3status&lt;/code&gt; генерирует строку состояния для &lt;code&gt;i3bar&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Содержит встроенные модули:
&lt;ul&gt;
&lt;li&gt;IPv6 &amp;mdash; получает и выводит IPv6 адрес.&lt;/li&gt;
&lt;li&gt;Disk &amp;mdash; отображает информацию о занятом и свободном месте в файловой системе.&lt;/li&gt;
&lt;li&gt;Run-watch &amp;mdash; мониторинг определённого процесса в системе.&lt;/li&gt;
&lt;li&gt;Path-exists &amp;mdash; проверяет на существование путь в файловой системе.&lt;/li&gt;
&lt;li&gt;Wireless &amp;mdash; позволяет выводить подключения к WIFI сети, уровень сигнала, имя точки доступа.&lt;/li&gt;
&lt;li&gt;Ethernet &amp;mdash; предоставляет IP адрес и скорость соединения сетевого интерфейса.&lt;/li&gt;
&lt;li&gt;Battery &amp;mdash; показ уровня заряда батареи.&lt;/li&gt;
&lt;li&gt;CPU-Temperature &amp;mdash; показ температуры процессора.&lt;/li&gt;
&lt;li&gt;CPU Usage &amp;mdash; использование процессора в процентах.&lt;/li&gt;
&lt;li&gt;Memory &amp;mdash; использование оперативной памяти.&lt;/li&gt;
&lt;li&gt;Load &amp;mdash; среднее значение загрузки системы за 1, 5 и 15 минут (Load Overage).&lt;/li&gt;
&lt;li&gt;Time &amp;mdash; время в текущей временной зоне.&lt;/li&gt;
&lt;li&gt;TzTime &amp;mdash; время в заданной временной зоне.&lt;/li&gt;
&lt;li&gt;DDate &amp;mdash; дата.&lt;/li&gt;
&lt;li&gt;Volume &amp;mdash; управление громкостью звука.&lt;/li&gt;
&lt;li&gt;File Contents &amp;mdash; вывод содержимого указанного файла.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Модули в строке можно переиспользовать по нескольку раз, управляя порядком вывода.&lt;/li&gt;
&lt;li&gt;Конфигурацию условно можно разделить на 3 части:
&lt;ul&gt;
&lt;li&gt;блок &lt;code&gt;general&lt;/code&gt; &amp;mdash; содержит общие параметры;&lt;/li&gt;
&lt;li&gt;переменная &lt;code&gt;order&lt;/code&gt; &amp;mdash; в неё записывается порядок вывода интересующих модулей;&lt;/li&gt;
&lt;li&gt;блоки конфигурации модулей &amp;mdash; непосредственно настройки самих блоков с метриками.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;В конфигурации i3bar задаётся конфигурационный файл для i3status:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# ~/.config/i3/config -*- mode: conf-unix; -*-
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Start i3bar to display a workspace bar
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bar {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; font pango:Source Sans Pro, FontAwesome 5 Free 10
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; status_command i3status --config ~/.config/i3/i3status/config
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; position top
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Структура информационной панели задаётся в конфигурационном файле:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;### -*- mode: conf-unix; -*-&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## ~/.config/i3/i3status/config&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;general&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;colors&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;true&lt;/span&gt; &lt;span class="c1"&gt;# включение/выключение поддержки цветов true/false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;interval&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="c1"&gt;# интервал обновления строки статуса, в секундах&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;output_format&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;i3bar&amp;#34;&lt;/span&gt; &lt;span class="c1"&gt;# формат вывода, устанавливаем i3bar (JSON)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# порядок вывода модулей&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;order&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;run_watch openvpn&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;order&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;run_watch openconnect&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;order&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;volume master&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;order&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;wireless _first_&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;order&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;battery all&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;order&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;disk /&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;order&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;memory&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;order&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;cpu_usage&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;order&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;cpu_temperature 0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;order&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;tztime local&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# отслеживание процесса openvpn&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# служит как индикатор работы openvpn клиента&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# при запуске openvpn необходимо&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# указывать параметр --writepid /var/run/openvpn.pid&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;run_watch&lt;/span&gt; &lt;span class="n"&gt;openvpn&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;pidfile&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;/var/run/openvpn.pid&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;format&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34; openvpn&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# если пареметр format_down оставить пустым,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# то при неактивном процессе блок будет отсутствовать&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;format_down&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# аналогичный блок индикатор openconnect vpn клиента&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# требуется запуск клиента с параметром --pid-file=/var/run/openconnect.pid&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;run_watch&lt;/span&gt; &lt;span class="n"&gt;openconnect&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;pidfile&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;/var/run/openconnect.pid&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;format&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34; openconnect vpn&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;format_down&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# управление громкостью звука&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;volume&lt;/span&gt; &lt;span class="n"&gt;master&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;format&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34; %volume&amp;#34;&lt;/span&gt; &lt;span class="c1"&gt;# шаблон громкости в активном состоянии&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;format_muted&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34; %volume&amp;#34;&lt;/span&gt; &lt;span class="c1"&gt;# шаблон громкости в состоянии muted (без звука)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;device&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;default&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;mixer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;Master&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;mixer_idx&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# индикатор WIFI&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;wireless&lt;/span&gt; &lt;span class="n"&gt;_first_&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# шаблон вывода, можно дополнить&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# наименованием подключения %essid&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# и ip адресом %ip&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;format_up&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;%quality &lt;/span&gt;&lt;span class="si"&gt;%f&lt;/span&gt;&lt;span class="s2"&gt;requency&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;format_down&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# состояние заряда батареи&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;battery&lt;/span&gt; &lt;span class="n"&gt;all&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# шаблон вывода, можно дополнить&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# оставшимся временем работы %emptytime&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# энергопотреблением %consumption в ваттах&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;format&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;tatus %percentage&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# true - показ процента заряда от 0 до 100&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# false - показ процента заряда от 0 до n, с учетом&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# изношенности аккумулятора&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;last_full_capacity&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;format_down&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;status_chr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&amp;#34;&lt;/span&gt; &lt;span class="c1"&gt;# статус подзарядки&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;status_bat&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&amp;#34;&lt;/span&gt; &lt;span class="c1"&gt;# статус в режиме работы от батареи&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;status_unk&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;? UNK&amp;#34;&lt;/span&gt; &lt;span class="c1"&gt;# неизвестный статус&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;status_full&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&amp;#34;&lt;/span&gt; &lt;span class="c1"&gt;# статус полного заряда&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;/sys/class/power_supply/BAT&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s2"&gt;/uevent&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# нижний порог заряда, после которого блок&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# будет окрашен в &amp;#34;color_bad&amp;#34; (по умолчанию красный)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# подробнее в man i3status&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;low_threshold&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# отслеживаемый накопитель&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;disk&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;/&amp;#34;&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# доступные переменные:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# %used, %percentage_used - занятое пространство&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# %free, %percentage_free - свободное пространство&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# %avail, %percentage_avail - доступное пространство&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# %total - всего&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;format&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34; %avail&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# будет окрашен в &amp;#34;color_bad&amp;#34; (по умолчанию красный)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# при достижении нижнего порога менее 10GB доступного пространства&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;low_threshold&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;10&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;threshold_type&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;gbytes_avail&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;format_below_threshold&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34; Warning: %avail&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# миниторинг оперативной памяти&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;memory&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# доступные переменные:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# %total, percentage_total&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# %used, percentage_used&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# %free, percentage_free&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# %available, percentage_available&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# %shared, percentage_shared&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;format&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34; &lt;/span&gt;&lt;span class="si"&gt;%u&lt;/span&gt;&lt;span class="s2"&gt;sed&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# порог, при котором вывод окрасится в&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# желтый (degraded) или красный (critical)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# а формат вывода изменится на format_degraded&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;threshold_degraded&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;1G&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;threshold_critical&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;200M&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;format_degraded&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;MEMORY &amp;lt; %available&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# температура процессора&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;cpu_temperature&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;format&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34; &lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s2"&gt;egrees&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# верхний порог температуры, при достижении которого&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# вывод окрасится красным,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# и формат изменится на format_above_threshold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;max_threshold&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;80&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;format_above_threshold&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34; &lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s2"&gt;egrees&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;/sys/class/thermal/thermal_zone0/temp&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# использование центрального процессора&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;cpu_usage&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# %usage - процентное использование ЦП&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# %cpu&amp;lt;N&amp;gt; - начиная с %cpu0 и далее показывает использование ядер&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;format&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34; &lt;/span&gt;&lt;span class="si"&gt;%u&lt;/span&gt;&lt;span class="s2"&gt;sage&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# доступны параметры:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# degraded_threshold, окрас в желтый, по умолчанию 90&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# max_threshold, окрас в красный, по умолчанию 95&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# и кастомные форматы для них&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# format_above_degraded_threshold и format_above_threshold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# вывод даты и времени по заданному формату&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;tztime&lt;/span&gt; &lt;span class="n"&gt;local&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;format&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34; &lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s2"&gt; %b %Y  %H:%M:%S&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="py3status"&gt;&lt;span class="section-num"&gt;5.3.2&lt;/span&gt; py3status&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;py3status&lt;/code&gt; &amp;mdash; это расширяемая оболочка для &lt;code&gt;i3status&lt;/code&gt;, написанная на python.&lt;/li&gt;
&lt;li&gt;Сайт:
.&lt;/li&gt;
&lt;li&gt;Репозиторий:
.&lt;/li&gt;
&lt;li&gt;Можно управлять &lt;code&gt;i3bar&lt;/code&gt;:
&lt;ul&gt;
&lt;li&gt;используя один из доступных модулей, поставляемых с &lt;code&gt;py3status&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;группировать несколько модулей и автоматически или вручную циклически отображать их отображение;&lt;/li&gt;
&lt;li&gt;писать свои собственные модули и отображать их вывод на панели;&lt;/li&gt;
&lt;li&gt;обрабатывать события кликов на &lt;code&gt;i3bar&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Отображается вверху или внизу экрана.&lt;/li&gt;
&lt;li&gt;Содержит:
&lt;ul&gt;
&lt;li&gt;область с кнопками переключения рабочих областей &lt;em&gt;i3&lt;/em&gt;;&lt;/li&gt;
&lt;li&gt;системную строку;&lt;/li&gt;
&lt;li&gt;системный трей с иконками программ.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Запуск py3status&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Запускается вместо &lt;code&gt;i3bar&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# ~/.config/i3/config -*- mode: conf-unix; -*-
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Start py3status to display a workspace bar
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bar {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; font pango:Iosevka Nerd Font 12
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; status_command py3status
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; position top
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Использует конфигурационный файл от &lt;code&gt;i3status&lt;/code&gt; или собственную конфигурацию.&lt;/li&gt;
&lt;li&gt;Порядок поиска конфигурационного файла:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;$XDG_CONFIG_HOME/py3status/config&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$XDG_CONFIG_HOME/i3status/config&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$XDG_CONFIG_HOME/i3/i3status.conf&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;~/.i3status.conf&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;~/.i3/i3status.conf&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$XDG_CONFIG_DIRS/i3status/config&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/i3status.conf&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="polybar"&gt;&lt;span class="section-num"&gt;5.3.3&lt;/span&gt; polybar&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Отдельное приложение для строки статуса.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Применяется для замены &lt;em&gt;i3bar&lt;/em&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;
&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;
&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Темы для &lt;em&gt;polybar&lt;/em&gt;:
&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Одним из побудительных мотивов установки &lt;em&gt;polybar&lt;/em&gt; может быть то, что здесь можно без проблем настроить индикатор раскладки клавиатуры.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установка&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Gentoo:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;USE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;i3wm&amp;#34;&lt;/span&gt; emerge x11-misc/polybar
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Конфигурационный файл:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;стандартное расположение: &lt;code&gt;~/.config/polybar/config&lt;/code&gt; (&lt;code&gt;$XDG_CONFIG_HOME/polybar/config&lt;/code&gt;);&lt;/li&gt;
&lt;li&gt;использую для локальных настроек только для &lt;em&gt;i3&lt;/em&gt;: &lt;code&gt;~/.config/i3/polybar/config&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Скрипт запуска&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Создадим скрипт запуска &lt;code&gt;polybar&lt;/code&gt;.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;&lt;/span&gt;&lt;span class="c1"&gt;# ~/.config/i3/polybar/launch.sh&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Terminate already running bar instances&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;killall -q polybar
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# If all your bars have ipc enabled, you can also use&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# polybar-msg cmd quit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Wait until the processes have been shut down&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;while&lt;/span&gt; pgrep -u &lt;span class="nv"&gt;$UID&lt;/span&gt; -x polybar &amp;gt;/dev/null&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; sleep 1&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Launch Polybar, using config location ~/.config/i3/polybar/config&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;polybar --config&lt;span class="o"&gt;=&lt;/span&gt;~/.config/i3/polybar/config i3 &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;Polybar launched...&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Установим права на исполнение:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;chmod +x ~/.config/i3/polybar/launch.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Добавим вызов &lt;code&gt;polybar&lt;/code&gt; в файл конфигурации &lt;em&gt;i3&lt;/em&gt;. Конфигурацию для &lt;em&gt;i3bar&lt;/em&gt; следует закомментировать.
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## ~/.config/i3/config
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Start i3bar to display a workspace bar
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# bar {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# font pango:Source Sans Pro, FontAwesome 5 Free 10
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# status_command i3status --config ~/.config/i3/i3status/config
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# position top
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# }
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Start polybar
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;exec_always --no-startup-id ~/.config/i3/polybar/launch.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="запуск-приложений"&gt;&lt;span class="section-num"&gt;5.4&lt;/span&gt; Запуск приложений&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;По умолчанию используется &lt;code&gt;dmenu&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Можно заменить на &lt;code&gt;rofi&lt;/code&gt; (см.
).&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="rofi"&gt;&lt;span class="section-num"&gt;5.4.1&lt;/span&gt; rofi&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Используется для запуска приложений, переключения окон.&lt;/li&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;Конфигурация по умолчанию находится в &lt;code&gt;~/.config/rofi/config&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Для выбора темы можно использовать команду:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rofi-theme-selector
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Для запуска программ используется несколько мод:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;run&lt;/code&gt;: запускать приложения из пути (&lt;code&gt;$PATH&lt;/code&gt;) с возможностью запуска в терминале.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;drun&lt;/code&gt;: запускать приложения на основе desctop-файлов (по стандарту XDG).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;window&lt;/code&gt;: переключение между окнами в оконном менеджере, совместимом со спецификацией EWMH.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ssh&lt;/code&gt;: подключение к удаленному хосту через &lt;code&gt;ssh&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;file-browser&lt;/code&gt;: базовый файловый броузер для открытия файлов.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;keys&lt;/code&gt;: список внутренних привязок клавиш.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;script&lt;/code&gt;: использование простых скриптов.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;combi&lt;/code&gt;: объединяет несколько мод в одну.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Использование запятых в файле настроек &lt;em&gt;i3&lt;/em&gt; может привести к проблемам. Лучше использовать файл настроек &lt;em&gt;rofi&lt;/em&gt; или замените запятые символом &lt;code&gt;#&lt;/code&gt;, например, заменить строку
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rofi -combi-modi window,drun,ssh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;на
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rofi -combi-modi window#drun#ssh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Возможная конфигурация в командной строке команды &lt;code&gt;rofi&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## ~/.config/i3/config
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;set $menu rofi -combi-modi window#drun -show combi -modi combi -show-icons
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Конфигурация с помощью конфигурационного файла (поместим его в &lt;code&gt;~/.config/i3/rofi/config&lt;/code&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="блокировка-экрана"&gt;&lt;span class="section-num"&gt;5.5&lt;/span&gt; Блокировка экрана&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Для отключения экрана можно использовать DPMS:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cfg" data-lang="cfg"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="na"&gt;exec --no-startup-id xset dpms 1800&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Отключается через 30 минут.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="блокировщик-экрана-i3lock"&gt;&lt;span class="section-num"&gt;5.5.1&lt;/span&gt; Блокировщик экрана &lt;code&gt;i3lock&lt;/code&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;В качестве блокировщика экрана используем &lt;code&gt;i3lock&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Установка
&lt;ul&gt;
&lt;li&gt;Gentoo
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge x11-misc/i3lock
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Использование в конфигурационном файле:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cfg" data-lang="cfg"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="na"&gt;set $Locker i3lock --color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;000000 &amp;amp;&amp;amp; sleep 1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sleep 1&lt;/code&gt; добавляет небольшую задержку, чтобы предотвратить возможное состояние гонки.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Для блокировки экрана после заданного периода времени можно использовать &lt;code&gt;xautolock&lt;/code&gt; или &lt;code&gt;xss-lock&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Использование &lt;code&gt;xautolock&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установка&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Gentoo
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge x11-misc/xautolock
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Использование в конфигурационном файле:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cfg" data-lang="cfg"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="na"&gt;exec --no-startup-id xautolock -time 10 -locker &amp;#34;$Locker&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Блокирует через 10 минут.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Использование &lt;code&gt;xss-lock&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установка&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Gentoo
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge x11-misc/xss-lock
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Использование в конфигурационном файле:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cfg" data-lang="cfg"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="na"&gt;exec --no-startup-id xss-lock -- &amp;#34;$Locker&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="блокировщик-экрана-i3lock-color"&gt;&lt;span class="section-num"&gt;5.5.2&lt;/span&gt; Блокировщик экрана &lt;code&gt;i3lock-color&lt;/code&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий:
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--list-separator--&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Дополнительные возможности в i3lock-color&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Дополнительное управление цветом элементов.&lt;/li&gt;
&lt;li&gt;Размытие текущего экрана и использование его в качестве фона блокировки.&lt;/li&gt;
&lt;li&gt;Отображение часов в индикаторе.&lt;/li&gt;
&lt;li&gt;Обновление по таймеру, а не при каждом нажатии клавиши.&lt;/li&gt;
&lt;li&gt;Отображение раскладки клавиатуры.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--list-separator--&gt;
&lt;ol start="2"&gt;
&lt;li&gt;
&lt;p&gt;Установка&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Gentoo
&lt;ul&gt;
&lt;li&gt;Порт находится в оверлее &lt;code&gt;guru&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge x11-misc/i3lock-color
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="приложения"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Приложения&lt;/h2&gt;
&lt;h3 id="снимки-экрана"&gt;&lt;span class="section-num"&gt;6.1&lt;/span&gt; Снимки экрана&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Для скриншотов можно использовать
.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Gentoo
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge media-gfx/scrot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Добавим в конфигурационный файл:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Screenshot
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Screenshot active display
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym --release Print exec --no-startup-id scrot &amp;#39;%Y-%m-%d_%H-%M-%S_$wx$h.png&amp;#39; -e &amp;#39;mv $f `xdg-user-dir PICTURES` 2&amp;gt;/dev/null&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Screenshot current window
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym --release $mod+Print exec --no-startup-id scrot -u &amp;#39;%Y-%m-%d_%H-%M-%S_$wx$h.png&amp;#39; -e &amp;#39;mv $f `xdg-user-dir PICTURES` 2&amp;gt;/dev/null&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;## Screenshot selected region
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;bindsym --release $mod+Shift+Print exec --no-startup-id scrot -s &amp;#39;%Y-%m-%d_%H-%M-%S_$wx$h.png&amp;#39; -e &amp;#39;mv $f `xdg-user-dir PICTURES` 2&amp;gt;/dev/null&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;По клавише &lt;code&gt;PrtScr&lt;/code&gt; делается скриншот.&lt;/li&gt;
&lt;li&gt;По клавише &lt;code&gt;mod&lt;/code&gt; + &lt;code&gt;PrtScr&lt;/code&gt; делается скриншот активного окна.&lt;/li&gt;
&lt;li&gt;По клавише &lt;code&gt;mod&lt;/code&gt; + &lt;code&gt;Shift&lt;/code&gt; + &lt;code&gt;PrtScr&lt;/code&gt; предлагается выделить область экрана, скриншот которой следует сделать.&lt;/li&gt;
&lt;li&gt;Скриншоты переносятся в каталог $XDG_PICTURES_DIR (обычно &lt;code&gt;~/Pictures&lt;/code&gt; или &lt;code&gt;~/Изображения&lt;/code&gt;) (см.
).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="совместимость-приложений"&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; Совместимость приложений&lt;/h2&gt;
&lt;h3 id="java"&gt;&lt;span class="section-num"&gt;7.1&lt;/span&gt; Java&lt;/h3&gt;
&lt;h4 id="серое-окно-приложения-не-меняют-размер-с-помощью-wm-меню-сразу-закрываются"&gt;&lt;span class="section-num"&gt;7.1.1&lt;/span&gt; Серое окно, приложения не меняют размер с помощью WM, меню сразу закрываются&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;В стандартных тулкитах для Java жестко зашит список оконных менеджеров.&lt;/li&gt;
&lt;li&gt;Следует установить переменную окружения:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;_JAVA_AWT_WM_NONREPARENTING&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="меню-в-приложениях-плавает-отдельно-им-невозможно-пользоваться"&gt;&lt;span class="section-num"&gt;7.1.2&lt;/span&gt; Меню в приложениях плавает отдельно, им невозможно пользоваться&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;В выпусках Java до версии 9 GTK интерфейс ориентирован на GTK2, в последующих версиях на GTK3.&lt;/li&gt;
&lt;li&gt;GTK LookAndFeel может работать с GTK версий 2, 2.2 и 3.&lt;/li&gt;
&lt;li&gt;По умолчанию используется GTK3.&lt;/li&gt;
&lt;li&gt;Следует явно задать более старую версию:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;JAVA_TOOL_OPTIONS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;-Djdk.gtk.version=2.2&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Мультимедиа сервер PipeWire</title><link>https://yamadharma.github.io/ru/post/2021/04/28/pipewire-multimedia-server/</link><pubDate>Wed, 28 Apr 2021 16:28:00 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2021/04/28/pipewire-multimedia-server/</guid><description>&lt;p&gt;PipeWire есть новый аудио и видео сервер. В основном для Wayland. Должен заменить другие видео-серверы.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#gentoo"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Gentoo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-пользовательской-сессии"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Настройка пользовательской сессии&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#права-пользователя"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Права пользователя&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-запуска-на-уровне-пользователя"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Настройка запуска на уровне пользователя&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#настройка-запуска-на-уровне-системы"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Настройка запуска на уровне системы&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#использование-с-другими-серверами"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Использование с другими серверами&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#замена-pulseaudio"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Замена PulseAudio&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#pulseaudio-с-поддержкой-запуска-как-демон"&gt;&lt;span class="section-num"&gt;4.1.1&lt;/span&gt; PulseAudio с поддержкой запуска как демон&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#pulseaudio-без-поддержки-запуска-кок-демон"&gt;&lt;span class="section-num"&gt;4.1.2&lt;/span&gt; PulseAudio без поддержки запуска кок демон&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#замена-jack"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Замена Jack&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#проверка-работы"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Проверка работы&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#конфигурация"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Конфигурация&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#конфигурационные-файлы"&gt;&lt;span class="section-num"&gt;6.1&lt;/span&gt; Конфигурационные файлы&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#профили-устройств"&gt;&lt;span class="section-num"&gt;6.2&lt;/span&gt; Профили устройств&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#изменение-частоты-дискретизации"&gt;&lt;span class="section-num"&gt;6.3&lt;/span&gt; Изменение частоты дискретизации&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Репозиторий проекта:
&lt;/li&gt;
&lt;li&gt;Wiki проекта:
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка&lt;/h2&gt;
&lt;h3 id="gentoo"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Gentoo&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Чтобы использовать PipeWire вместо PulseAudio для звукового сервера, включите USE-флаг &lt;code&gt;USE=sound-server&lt;/code&gt; для &lt;code&gt;media-video/pipewire&lt;/code&gt; и отключите USE-флаг &lt;code&gt;USE=daemon&lt;/code&gt; для &lt;code&gt;media-sound/pulseaudio&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Добавьте в файл &lt;code&gt;/etc/portage/package.use&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;media-video/pipewire sound-server
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;media-sound/pulseaudio -daemon
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Удалите &lt;code&gt;media-sound/pulseaudio-daemon&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge -Cv media-sound/pulseaudio-daemon
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge -Cv media-sound/paprefs
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Установить само приложение:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge media-video/pipewire
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge media-video/wireplumber
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="настройка-пользовательской-сессии"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Настройка пользовательской сессии&lt;/h2&gt;
&lt;h3 id="права-пользователя"&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; Права пользователя&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Желательно добавить пользователя в группу &lt;code&gt;audio&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;usermod -aG audio &amp;lt;user&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="настройка-запуска-на-уровне-пользователя"&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; Настройка запуска на уровне пользователя&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;По умолчанию &lt;em&gt;PipeWire&lt;/em&gt; настроен на использование &lt;em&gt;systemd&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Следует настроить его запуск для пользователя.&lt;/li&gt;
&lt;li&gt;Флаг &lt;code&gt;--now&lt;/code&gt; позволяет одновременно активировать и запускать сервис.&lt;/li&gt;
&lt;li&gt;Отключите &lt;code&gt;pulseaudio&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl --user disable --now pulseaudio.socket pulseaudio.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Для каждого пользователя можно установить активацию по обращению к сокету:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl --user &lt;span class="nb"&gt;enable&lt;/span&gt; --now pipewire.socket pipewire-pulse.socket
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;В качестве альтернативы можно сразу запускать необходимый процесс:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl --user &lt;span class="nb"&gt;enable&lt;/span&gt; --now pipewire.service pipewire-pulse.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Отключите демон сессии &lt;code&gt;pipewire-media-session.service&lt;/code&gt; и запустите &lt;code&gt;wireplumber&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl --user disable pipewire-media-session.service
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl --user --force &lt;span class="nb"&gt;enable&lt;/span&gt; --now wireplumber.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="настройка-запуска-на-уровне-системы"&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; Настройка запуска на уровне системы&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Под пользователем &lt;code&gt;root&lt;/code&gt; можно настроить запуск сервисов на уровне системы, заменив &lt;code&gt;--user&lt;/code&gt; на &lt;code&gt;--global&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl --global &lt;span class="nb"&gt;enable&lt;/span&gt; pipewire.socket pipewire-pulse.socket
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl --global --force &lt;span class="nb"&gt;enable&lt;/span&gt; wireplumber.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;При выборе этого варианта службы должны быть запущены вручную под пользователем пользователем.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="использование-с-другими-серверами"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Использование с другими серверами&lt;/h2&gt;
&lt;h3 id="замена-pulseaudio"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Замена PulseAudio&lt;/h3&gt;
&lt;h4 id="pulseaudio-с-поддержкой-запуска-как-демон"&gt;&lt;span class="section-num"&gt;4.1.1&lt;/span&gt; PulseAudio с поддержкой запуска как демон&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Ранее &lt;em&gt;PulseAudio&lt;/em&gt; собиралась только с поддержкой запуска как демон.&lt;/li&gt;
&lt;li&gt;Если &lt;em&gt;PulseAudio&lt;/em&gt; настроено с поддержкой запуска как демона&lt;sup id="fnref:1"&gt;&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;, то его необходимо отключить:
&lt;ul&gt;
&lt;li&gt;запретить запуск &lt;code&gt;pulseaudio&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;отключить запуск в файле конфигурации:
&lt;ul&gt;
&lt;li&gt;отредактируйте файл &lt;code&gt;/etc/pulse/daemon.conf&lt;/code&gt; и замените &lt;code&gt;daemonize&lt;/code&gt; на &lt;code&gt;daemonize = no&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Одновременно отключим &lt;em&gt;PulseAudio&lt;/em&gt; и включим &lt;em&gt;PipeWire&lt;/em&gt; для каждого пользователя:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl --user disable --now pulseaudio.socket pulseaudio.service
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl --user &lt;span class="nb"&gt;enable&lt;/span&gt; --now pipewire.socket pipewire-pulse.socket wireplumber.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Можно замаскировать PulseAudio (но он всё равно может стартовать автоматически):
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl --user mask pulseaudio.socket pulseaudio.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Кроме того, рекомендуется удалить файлы, оставшиеся от PulseAudio:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rm -r ~/.config/pulse/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="pulseaudio-без-поддержки-запуска-кок-демон"&gt;&lt;span class="section-num"&gt;4.1.2&lt;/span&gt; PulseAudio без поддержки запуска кок демон&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Теперь &lt;em&gt;PulseAudio&lt;/em&gt; рекомендуется собирать без поддержки демона.&lt;/li&gt;
&lt;li&gt;В этом случае всё работает сразу.&lt;/li&gt;
&lt;li&gt;Напомним, что на уровне пользователя следует подключить &lt;code&gt;pipewire-pulse.socket&lt;/code&gt;:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl --user disable --now pulseaudio.socket pulseaudio.service
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl --user &lt;span class="nb"&gt;enable&lt;/span&gt; --now pipewire.socket pipewire-pulse.socket wireplumber.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="замена-jack"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Замена Jack&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Для маршрутизации клиентов Jack через PipeWire в настоящее время
предпочтительно запускать их через &lt;code&gt;pw-jack&lt;/code&gt;, который использует
&lt;code&gt;LD_PRELOAD&lt;/code&gt; для использования библиотек PipeWire вместо Jack, например:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;pw-jack &amp;lt;application&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Можно задать собственный размер буфера, установив размер_буфера/частота_дискретизации:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;PIPEWIRE_LATENCY&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;128/48000&amp;#34;&lt;/span&gt; pw-jack &amp;lt;application&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="проверка-работы"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Проверка работы&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Для &lt;em&gt;PipeWire&lt;/em&gt; возможно посмотреть информацию по серверу &lt;code&gt;pipewire&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;LANG&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;C pactl info &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="s2"&gt;&amp;#34;Server Name&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;В результате должна присутствовать строчка типа такой:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Server Name: PulseAudio &lt;span class="o"&gt;(&lt;/span&gt;on PipeWire 0.3.56&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="конфигурация"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Конфигурация&lt;/h2&gt;
&lt;h3 id="конфигурационные-файлы"&gt;&lt;span class="section-num"&gt;6.1&lt;/span&gt; Конфигурационные файлы&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Конфигурация, идущая в комплекте с дистрибутивом, находится в &lt;code&gt;/usr/share/pipewire&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Для изменения параметров скопируйте файлы конфигурации в:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/etc/pipewire&lt;/code&gt;: уровень системы;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;~/.config/pipewire&lt;/code&gt;: уровень пользователя.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="профили-устройств"&gt;&lt;span class="section-num"&gt;6.2&lt;/span&gt; Профили устройств&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Профили устройств хранятся в каталоге &lt;code&gt;~/.local/state/pipewire/media-session.d/&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;При запуске в первый раз с подключёнными внешними устройствами (например, usb-устройствами), профили для них не создаются. Необходимо их переподключить в этом случае.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="изменение-частоты-дискретизации"&gt;&lt;span class="section-num"&gt;6.3&lt;/span&gt; Изменение частоты дискретизации&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;По умолчанию &lt;em&gt;PipeWire&lt;/em&gt; глобально устанавливает частоту дискретизации равную 48 КГц.&lt;/li&gt;
&lt;li&gt;Для изменения нужно отредактировать строку &lt;code&gt;default.clock.rate = 48000&lt;/code&gt; в файле конфигурации &lt;code&gt;/etc/pipewire/pipewire.conf&lt;/code&gt; или &lt;code&gt;~/.config/pipewire/pipewire.conf&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Например, если вы хотите частоту дискретизации в 192 КГц, раскомментируйте строку и поменяйте её на &lt;code&gt;default.clock.rate = 192000&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;В Gentoo это означает, что &lt;code&gt;pulseaudio&lt;/code&gt; скомпилирован с флагом &lt;code&gt;daemon&lt;/code&gt;.&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</description></item><item><title>Переход на Sway</title><link>https://yamadharma.github.io/ru/post/2020/09/10/migration-sway/</link><pubDate>Thu, 10 Sep 2020 10:33:15 +0300</pubDate><guid>https://yamadharma.github.io/ru/post/2020/09/10/migration-sway/</guid><description>&lt;p&gt;Решил попробовать
. По этой причине пришлось
с
на
.&lt;/p&gt;
&lt;details class="print:hidden xl:hidden" &gt;
&lt;summary&gt;Содержание&lt;/summary&gt;
&lt;div class="text-sm"&gt;
&lt;nav id="TableOfContents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#установка-sway"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка &lt;code&gt;sway&lt;/code&gt;&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#репозитории-gentoo"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Репозитории &lt;code&gt;gentoo&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#первоначальная-конфигурация"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Первоначальная конфигурация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#конфигурация-устройств-ввода"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Конфигурация устройств ввода&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#общая-информация"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Общая информация&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#раскладка-клавиатуры"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Раскладка клавиатуры&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#примеры-модификации"&gt;&lt;span class="section-num"&gt;4.2.1&lt;/span&gt; Примеры модификации&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#комбинации-клавиш"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Комбинации клавиш&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#режимы-и-управление-окнами"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; Режимы и управление окнами&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#разное"&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; Разное&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#совместимость-приложений"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Совместимость приложений&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/div&gt;
&lt;/details&gt;
&lt;h2 id="общая-информация"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; Общая информация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;Создавался для замены i3 (см.
) под Wayland.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="установка-sway"&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; Установка &lt;code&gt;sway&lt;/code&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emerge -v gui-wm/sway
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="репозитории-gentoo"&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; Репозитории &lt;code&gt;gentoo&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Программы для Wayland есть как в основном репозитории, так и дополнительных.&lt;/li&gt;
&lt;li&gt;Хочу порекомендовать для просмотра следующие репозитории (см.
):
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository &lt;span class="nb"&gt;enable&lt;/span&gt; wayland-desktop
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emaint sync --repo wayland-desktop
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!--listend--&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eselect repository &lt;span class="nb"&gt;enable&lt;/span&gt; guru
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;emaint sync --repo guru
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="первоначальная-конфигурация"&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; Первоначальная конфигурация&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Файл конфигурации ищется в следующем порядке:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;~/.sway/config&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$XDG_CONFIG_HOME/sway/config&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;~/.i3/config&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$XDG_CONFIG_HOME/i3/config&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/sway/config&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/i3/config&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Переменная окружения &lt;code&gt;$XDG_CONFIG_HOME&lt;/code&gt; по умолчанию установлена в &lt;code&gt;~/.config/&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Пакет устанавливает глобальную конфигурацию в &lt;code&gt;/etc/sway/config&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;При желании внести изменение в конфигурацию можно скопировать файл глобальной конфигурации в локальную:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir -p ~/.config/sway
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;cp /etc/sway/config ~/.config/sway/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="конфигурация-устройств-ввода"&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; Конфигурация устройств ввода&lt;/h2&gt;
&lt;h3 id="общая-информация"&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; Общая информация&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Сводка доступных опций:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;man &lt;span class="m"&gt;5&lt;/span&gt; sway-input
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Список устройств ввода можно получить, запустив:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;swaymsg -t get_inputs
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Идентификатор устройства используется в файле конфигурации:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;input &amp;lt;identifier&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; # ...config options...
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Можно иметь несколько конфигураций для разных устройств:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# default layout
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;input &amp;#34;1:1:AT_Translated_Set_2_keyboard&amp;#34; {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; xkb_layout us
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;# custom layout for an external keyboard
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;input &amp;#34;1452:591:Custom_Keyboard&amp;#34; {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; xkb_layout YourCustomLayout
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="раскладка-клавиатуры"&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; Раскладка клавиатуры&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Информация по параметрам:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;man &lt;span class="m"&gt;7&lt;/span&gt; xkeyboard-config
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Конфигурация раскладки:
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# or input &amp;lt;identifier&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;input&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;type:keyboard&amp;#34;&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;xkb_layout&lt;/span&gt; &lt;span class="n"&gt;us&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;de&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;xkb_variant&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;nodeadkeys&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;xkb_options&lt;/span&gt; &lt;span class="n"&gt;grp&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;alt_shift_toggle&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Настройка модификаций доступна через &lt;code&gt;xkb_options&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Варианты можно найти в &lt;code&gt;/usr/share/X11/xkb/symbols/{altwin,capslock,compose,ctrl}&lt;/code&gt;, соответствующее имя параметра находится в &lt;code&gt;/usr/share/X11/xkb/rules/base&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Для команд &lt;code&gt;xkb_layout&lt;/code&gt;, &lt;code&gt;xkb_model&lt;/code&gt;, &lt;code&gt;xkb_options&lt;/code&gt;, &lt;code&gt;xkb_rules&lt;/code&gt;, &lt;code&gt;xkb_variant&lt;/code&gt; несколько вариантов разделяются запятыми.&lt;/li&gt;
&lt;li&gt;Чтобы активировать несколько опций, необходимо перечислить их через запятую, например &lt;code&gt;xkb_options caps:escape,altwin:swap_lalt_lwin;&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Если записать опции в несколько строк, будет действовать только последняя.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="примеры-модификации"&gt;&lt;span class="section-num"&gt;4.2.1&lt;/span&gt; Примеры модификации&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Caps Lock&lt;/em&gt; работает как &lt;em&gt;Escape&lt;/em&gt;: &lt;code&gt;xkb_options caps:escape&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Поменять местами &lt;em&gt;Escape&lt;/em&gt; и &lt;em&gt;Caps Lock&lt;/em&gt;: &lt;code&gt;xkb_options caps:swapescape&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Caps Lock&lt;/em&gt; меняется с &lt;em&gt;Control&lt;/em&gt;: &lt;code&gt;xkb_options ctrl:nocaps&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Caps Lock&lt;/em&gt; становится дополнительным &lt;em&gt;Control&lt;/em&gt;: &lt;code&gt;xkb_options caps:ctrl_modifier&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Поменять местами &lt;em&gt;левый Alt&lt;/em&gt; и &lt;em&gt;Super&lt;/em&gt;, установить &lt;em&gt;Caps Lock&lt;/em&gt; как &lt;em&gt;Escape&lt;/em&gt;: &lt;code&gt;xkb_options altwin:swap_lalt_lwin,caps:escape&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Menu&lt;/em&gt; становится дополнительным &lt;em&gt;Super&lt;/em&gt;: &lt;code&gt;xkb_options altwin:menu_win&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="комбинации-клавиш"&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; Комбинации клавиш&lt;/h2&gt;
&lt;h3 id="режимы-и-управление-окнами"&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; Режимы и управление окнами&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Клавиатурная комбинация&lt;/th&gt;
&lt;th&gt;Описание&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Mod + Shift + Space&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Переключение окна в плавающий режим и обратно&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Mod + Shift + minus&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Отправка окна в блокнот (scratchpad)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Mod + minus&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Сворачивание, вызов окна в блокноте (scratchpad)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Mod + b&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Горизонтальное разделение&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Mod + v&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Вертикальное разделение&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Mod + e&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Переключить разделение&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Mod + s&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Стековое размещение (stacking layout)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Mod + w&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Размещение с табами (tabbed layout)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Mod + r&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;И изменение размеров, используем &lt;code&gt;h&lt;/code&gt;, &lt;code&gt;j&lt;/code&gt;, &lt;code&gt;k&lt;/code&gt; , &lt;code&gt;l&lt;/code&gt; или ←,→,↑,↓, выход из режима &amp;mdash; &lt;code&gt;Esc&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Mod + {←,→,↑,↓}&lt;/code&gt; или &lt;code&gt;Mod + {h,j,k,l}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Перемещение по окнам&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Mod + Shift + {←,→,↑,↓}&lt;/code&gt; или &lt;code&gt;Mod + Shift + {h,j,k,l}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Меняет позицию окна&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Mod + {0..9}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Переключение между workspace&amp;rsquo;ами&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Mod + Shift + {0..9}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Перемещение окна на заданный workspace&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Mod + =Shift + =q&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Закрыть текущее окно&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Mod + =f&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Раскрыть окно во весь экран или свернуть его обратно&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id="разное"&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; Разное&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Клавиатурная комбинация&lt;/th&gt;
&lt;th&gt;Описание&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Mod + Enter&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;открыть новый терминал&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Mod + d&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;запустить программу&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Mod + =Shift + =c&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;перечитать конфигурацию &lt;code&gt;sway&lt;/code&gt; (перестартовать)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Mod + Shift + e&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Выйти из &lt;code&gt;sway&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="совместимость-приложений"&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; Совместимость приложений&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>amd64 и flash</title><link>https://yamadharma.github.io/ru/post/2006/09/24/amd64-i-flash/</link><pubDate>Sun, 24 Sep 2006 15:19:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2006/09/24/amd64-i-flash/</guid><description>&lt;p&gt;Попробовал использовать сначала &lt;code&gt;nspluginwrapper&lt;/code&gt;. Работает хорошо. Через &lt;code&gt;qemu&lt;/code&gt;. Но &lt;code&gt;qemu&lt;/code&gt;, откомпилированный &lt;code&gt;gcc-4&lt;/code&gt;, не работает. Поэтому пришлось перейти на &lt;code&gt;gnash&lt;/code&gt;. Snapshot августовский не откомпилировался. Июньский нормально, но нет звука. Поставил из cvs &amp;mdash; проблемы с прозрачностью. Звука тоже нет.&lt;/p&gt;</description></item><item><title>Monit и gentoo rc-scripts</title><link>https://yamadharma.github.io/ru/post/2006/09/17/monit-i-gentoo-rc-scripts/</link><pubDate>Sun, 17 Sep 2006 20:55:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2006/09/17/monit-i-gentoo-rc-scripts/</guid><description>&lt;p&gt;При использовании monit для перезапуска rc-скриптов в gentoo использовал killall и опцию zap.&lt;br&gt;
Нашёл это-же решение, но оформленное красивее.&lt;/p&gt;
&lt;p&gt;Это файл /etc/monit.d/bin/kickservice&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;##!/bin/sh &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## kickservice by Eric Radman &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## Script used by monit to kill off and restart daemons &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## /etc/monit.d/bin/kickservice &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;function&lt;/span&gt; stop &lt;span class="o"&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;     /etc/init.d/&lt;span class="nv"&gt;$1&lt;/span&gt; pause
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;     /etc/init.d/&lt;span class="nv"&gt;$1&lt;/span&gt; zap
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;     &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="nv"&gt;$2&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;kill&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;         &lt;span class="k"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;         /bin/killall &lt;span class="nv"&gt;$3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;     &lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;function&lt;/span&gt; start &lt;span class="o"&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;     /etc/init.d/&lt;span class="nv"&gt;$1&lt;/span&gt; zap
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;     /etc/init.d/&lt;span class="nv"&gt;$1&lt;/span&gt; start
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; in
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; start&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;     start &lt;span class="nv"&gt;$2&lt;/span&gt; &lt;span class="nv"&gt;$3&lt;/span&gt; &lt;span class="nv"&gt;$4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;     &lt;span class="p"&gt;;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; stop&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;     stop &lt;span class="nv"&gt;$2&lt;/span&gt; &lt;span class="nv"&gt;$3&lt;/span&gt; &lt;span class="nv"&gt;$4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;     &lt;span class="p"&gt;;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; *&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;     &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;Usage: kickservice [start|stop] [service] kill [daemon]&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;     &lt;span class="p"&gt;;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;esac&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Проблема возникла из-за того, что при установке baselayout-1.12.x перестал нормально работать pppd (при подключении через pptp к VPN-серверу провайдера). Очень часто соединение не устанавливается (вина, думаю, провайдерского сервера). По идее после этого он должен перезапускаться, а он просто ничего не делал. Решил снять проблему с помощью monit.&lt;br&gt;
Убрал net.ppp0 из загрузки, и заставил monit мониторить ppp0.&lt;/p&gt;
&lt;p&gt;Вот скрипт /etc/monit.d/ppp0&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;check process pppd with pidfile /var/run/ppp0.pid
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;   start &lt;span class="nv"&gt;program&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;/etc/monit.d/bin/kickservice start net.ppp0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;   stop &lt;span class="nv"&gt;program&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;/etc/monit.d/bin/kickservice stop net.ppp0 kill pppd&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;   &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="m"&gt;5&lt;/span&gt; restarts within &lt;span class="m"&gt;5&lt;/span&gt; cycles &lt;span class="k"&gt;then&lt;/span&gt; timeout
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;P. S. Хотел запостить скрипты, но не знаю как :(&lt;/p&gt;</description></item><item><title>Openoffice on amd64</title><link>https://yamadharma.github.io/ru/post/2006/09/04/openoffice-on-amd64/</link><pubDate>Mon, 04 Sep 2006 09:16:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2006/09/04/openoffice-on-amd64/</guid><description>&lt;p&gt;Вчера откомпилил openoffice-2.0.4_rc1-r1 под amd64.&lt;/p&gt;</description></item><item><title>Gentoo: конвертация из x86 в x86_64 (2)</title><link>https://yamadharma.github.io/ru/post/2006/08/21/gentoo-konvertatsija-iz-x86-v-x86-64-2/</link><pubDate>Mon, 21 Aug 2006 12:19:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2006/08/21/gentoo-konvertatsija-iz-x86-v-x86-64-2/</guid><description>&lt;ol&gt;
&lt;li&gt;Провозившись с данной проблемой выходные (и частично неделю),
провёл конвертацию.&lt;/li&gt;
&lt;li&gt;Оказалось, что всё очень просто.&lt;/li&gt;
&lt;li&gt;Однако, после начала обновления системы (&lt;code&gt;emerge -e system&lt;/code&gt;), стали
отваливаться приложения (не могут подгрузить библиотеки).&lt;/li&gt;
&lt;li&gt;К сожалению, в новом профайле не поддерживается построение
библиотек под несколько архитектур (может, просто я не знаю).&lt;/li&gt;
&lt;li&gt;Хотя в консоли всё функционирует нормально.&lt;/li&gt;
&lt;li&gt;Скоро, надеюсь, всё конвертну.&lt;/li&gt;
&lt;/ol&gt;</description></item><item><title>Gentoo: конвертация из x86 в x86_64</title><link>https://yamadharma.github.io/ru/post/2006/08/18/gentoo-konvertatsija-iz-x86-v-x86-64/</link><pubDate>Fri, 18 Aug 2006 09:21:00 +0000</pubDate><guid>https://yamadharma.github.io/ru/post/2006/08/18/gentoo-konvertatsija-iz-x86-v-x86-64/</guid><description>&lt;ol&gt;
&lt;li&gt;На недавно обновлённом компьютере (до этого был Pentium III)
крутится 32-битная ОС (Gentoo Linux) (Hurd и Plan9 не учитываю).&lt;/li&gt;
&lt;li&gt;Решил конвертнуть в 64-битную. Однако документации по этому вопросу
не нашёл.&lt;/li&gt;
&lt;li&gt;Так-что решил заняться самодеятельностью. Как получится, напишу об этом (с приложением скриптов).&lt;/li&gt;
&lt;/ol&gt;</description></item></channel></rss>